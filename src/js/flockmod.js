class BrushStub {
  constructor(_0x5c0279) {
    this.surface = _0x5c0279, this["showPen"] = true, this["drawingTool"] = true, this["options"] = {}, this["contextSlate"] = this["surface"]["slate"]["getContext"]();
  }
  ["brushStart"]() { }
  ["brushStop"]() { }
  ["drawStart"](_0x4110b5, _0x3ed15b, _0x79102) { }
  ["drawStep"](_0x487df1, _0xd56fac, _0x620d7c) { }
  ["drawEnd"](_0x120854, _0x411968, _0x4acf7c) { }
  ["onKeyPress"](_0x4b86ae) { }
  ["onModifierDown"](_0x353608) { }
  ["onModifierUp"](_0x1d1ab2) { }
  ["onBrushParameter"](_0x4b4ff7) { }
  ["colorChange"](_0x2625d0) { }
  ["colorChanged"](_0x180237) { }
  ["blendModeChange"](_0x305075) { }
  ["cursorMove"](_0xa5c555, _0x3fe4e3) { }
  ["optionChange"](_0x15bfc7, _0x236789) { }
  ["optionChanged"](_0x51fa30, _0x39e138) { }
  ["cancel"]() { }
  ["isUsingSlate"]() {
    return false;
  }
  ["getDistance"](_0x5c80a2, _0x181b41, _0x5bb4d9, _0x1aef5b) {
    return Math["sqrt"](Math.pow(_0x5bb4d9 - _0x5c80a2, 2) + Math["pow"](_0x1aef5b - _0x181b41, 2));
  }
  ["calculateLine"](_0x313d92, _0x2237b6, _0x111712, _0x325bb0) {
    _0x313d92 = parseInt(_0x313d92), _0x111712 = parseInt(_0x111712), _0x2237b6 = parseInt(_0x2237b6), _0x325bb0 = parseInt(_0x325bb0);
    var _0x50a359 = new Array(),
      _0xf5e150 = Math["abs"](_0x111712 - _0x313d92),
      _0x47e65d = Math["abs"](_0x325bb0 - _0x2237b6),
      _0x5777f8 = _0x313d92 < _0x111712 ? 1 : -1,
      _0x2ec28c = _0x2237b6 < _0x325bb0 ? 1 : -1,
      _0x3e4b21 = _0xf5e150 - _0x47e65d;
    while (true) {
      _0x50a359.push(new Point(_0x313d92, _0x2237b6));
      if (_0x313d92 === _0x111712 && _0x2237b6 === _0x325bb0) break;
      var _0x2cbd2a = 2 * _0x3e4b21;
      _0x2cbd2a > -_0x47e65d && (_0x3e4b21 -= _0x47e65d, _0x313d92 += _0x5777f8), _0x2cbd2a < _0xf5e150 && (_0x3e4b21 += _0xf5e150, _0x2237b6 += _0x2ec28c);
    }
    return _0x50a359;
  }
  ["getSync"]() {
    return null;
  }
  ["setSync"]() { }
  ["hasOption"](_0x45b0ef) {
    return _0x45b0ef in this["options"];
  }
  ["isOptionReadOnly"](_0x244d67) {
    if (_0x244d67 in this.options) return this["options"][_0x244d67].readOnly;
    return false;
  }
  ["setOptionReadOnly"](_0x5ce088, _0x490da5) {
    if (_0x5ce088 in this["options"]) return this["options"][_0x5ce088].readOnly = _0x490da5, true;
    return false;
  }
  ["getOptionObject"](_0x2b9ffe) {
    if (_0x2b9ffe in this["options"]) return this["options"][_0x2b9ffe];
    return null;
  }
  ["getOption"](_0x5a8089) {
    if (_0x5a8089 in this["options"]) return this["options"][_0x5a8089]["value"];
    return null;
  }
  ["setOption"](_0x42422, _0x499f33) {
    if (_0x42422 in this["options"]) return this.optionChange(_0x42422, _0x499f33), this["options"][_0x42422]["value"] = _0x499f33, this["optionChanged"](_0x42422, _0x499f33), true;
    return false;
  }
  ["getOptions"]() {
    var _0x31fd01 = {};
    return $["each"](this["options"], function (_0xcf30f9, _0x4fdef0) {
      _0x31fd01[_0xcf30f9] = _0x4fdef0["value"];
    }), _0x31fd01;
  }
  ["setOptions"](_0xad2cd0) {
    var _0xbf8ef7 = this;
    $["each"](_0xad2cd0, function (_0x481cd5, _0x396b58) {
      _0xbf8ef7["options"][_0x481cd5].value = _0x396b58;
    });
  }
}
class BrushDrag extends BrushStub {
  constructor(_0x4c409f) {
    super(_0x4c409f), this.showPen = false, this["drawingTool"] = false, this["options"] = {}, this["options"]["size"] = new SizeOption(1, true), this.options["rightclick"] = new RightClickOption("drag");
  }
  ["brushStart"]() {
    this["surface"]["cursor"]["changePointer"]("invisible");
  }
}
class BrushRotate extends BrushStub {
  constructor(_0x1b0370) {
    super(_0x1b0370), this.showPen = false, this["drawingTool"] = false, this.options = {}, this["options"]["size"] = new SizeOption(1, true), this["options"]["rightclick"] = new RightClickOption("rotate");
  }
  ["brushStart"]() {
    this.surface["cursor"]["changePointer"]("invisible");
  }
}
class BrushPicker extends BrushStub {
  constructor(_0xdc303f) {
    super(_0xdc303f), this["drawingTool"] = false, this["options"] = {}, this.options["size"] = new SizeOption(33), this["options"].areaaverage = new AreaAverageOption(), this["options"]["rightclick"] = new RightClickOption("picker"), this["options"]["cursor"] = new CursorOption("crosshair");
  }
  ["brushStart"]() {
    this["surface"]["cursor"]["changePointer"](this["getOption"]("cursor"));
  }
  ["optionChanged"](_0xb2ae1, _0xb76d19) {
    _0xb2ae1 == "cursor" && this.surface["cursor"]["changePointer"](_0xb76d19);
  }
}
class BrushSelection extends BrushStub {
  constructor(_0x4fe584) {
    super(_0x4fe584), this["clickX"] = new Array(), this["clickY"] = new Array(), this["start"], this["end"], this["offset"] = 0, this.tInt = null, this["marchingAnts"] = false, this["lastPosition"], this.moved = false, this["options"] = {}, this["options"].size = new SizeOption(4, true), this["options"]["selectiontype"] = new SelectionTypeOption(), this["options"]["multilayer"] = new MultilayerOption(), this.options["rightclick"] = new RightClickOption("selection"), this["options"]["allowedlayers"] = new AllowedLayersOption([]), this["options"]["cursor"] = new CursorOption("dot");
  }
  ["brushStart"]() {
    this["surface"].cursor["changePointer"](this["getOption"]("cursor")), this["updateZIndex"](this.getOption("multilayer"));
  }
  ["brushStop"]() {
    this["cancel"](), this["updateZIndex"](false), clearInterval(this["tInt"]);
  }
  ["optionChanged"](_0x4e2143, _0x1f9e32) {
    _0x4e2143 == "cursor" && this["surface"]["cursor"]["changePointer"](_0x1f9e32);
  }
  ["drawStart"](_0x3c655f, _0x4075dc, _0x5323d9) {
    this["moved"] = false, this["setupSlate"](), this["clearSlate"](), this["removeClicks"]();
    this["getOption"]("selectiontype") ? (this["addClick"](_0x3c655f, _0x4075dc), this["lastPosition"] = new Point(_0x3c655f, _0x4075dc)) : this.start = new Point(_0x3c655f, _0x4075dc);
    this["contextSlate"]["beginPath"]();
    if (this["marchingAnts"] && this.tInt == null) {
      var _0x3a8cda = this;
      this.tInt = setInterval(function () {
        _0x3a8cda["offset"]++, _0x3a8cda["offset"] > 24 && (_0x3a8cda["offset"] = 0), _0x3a8cda["redraw"]();
      }, 20);
    }
  }
  ["drawStep"](_0x16b4ad, _0x36ae29, _0x52395c) {
    this.moved = true, _0x16b4ad.x = Math["min"](Math["max"](_0x16b4ad.x, 0), room["board"]["canvasWidth"]), _0x16b4ad.y = Math["min"](Math["max"](_0x16b4ad.y, 0), room["board"].canvasHeight), _0x36ae29.x = Math["min"](Math["max"](_0x36ae29.x, 0), room["board"].canvasWidth), _0x36ae29.y = Math["min"](Math["max"](_0x36ae29.y, 0), room["board"]["canvasHeight"]), this["getOption"]("selectiontype") ? (this["addClick"](_0x36ae29.x, _0x36ae29.y), this["surface"]["isMyself"] && UI["userPreferences"].getProperty("strokequality", "high") == "high" ? this.redraw() : this["getDistance"](this["lastPosition"].x, this["lastPosition"].y, _0x36ae29.x, _0x36ae29.y) >= 12 && (this.contextSlate["moveTo"](_0x16b4ad.x, _0x16b4ad.y), this.contextSlate["lineTo"](_0x36ae29.x, _0x36ae29.y), this["contextSlate"]["stroke"](), this["lastPosition"] = new Point(_0x36ae29.x, _0x36ae29.y))) : (!this.start && (this["start"] = _0x16b4ad), this["drawRect"](this["start"], _0x36ae29), this["end"] = _0x36ae29);
  }
  ["drawEnd"](_0x3ceec8, _0x5aea26, _0x37c06e) {
    this.getOption("selectiontype") ? (this["addClick"](_0x3ceec8, _0x5aea26), this.addClick(this.clickX[0], this.clickY[0]), this["redraw"]()) : (_0x3ceec8 = Math.min(Math.max(_0x3ceec8, 0), this["contextSlate"]["canvas"].width), _0x5aea26 = Math["min"](Math.max(_0x5aea26, 0), this.contextSlate["canvas"]["height"]), this["end"] = new Point(_0x3ceec8, _0x5aea26)), !this.moved && this["cancel"]();
  }
  ["clipSave"](_0x164d9d) {
    var _0x5a5c1f = room["board"]["getContext"](_0x164d9d);
    _0x5a5c1f["save"](), _0x5a5c1f["beginPath"]();
    if (this.getOption("selectiontype")) {
      _0x5a5c1f["moveTo"](this.clickX[0], this["clickY"][0]);
      for (var _0x2d8255 = 0; _0x2d8255 < this.clickX["length"]; _0x2d8255++) {
        _0x5a5c1f["lineTo"](this["clickX"][_0x2d8255], this["clickY"][_0x2d8255]);
      }
    } else _0x5a5c1f.moveTo(this["start"].x, this["start"].y), _0x5a5c1f["lineTo"](this["end"].x, this["start"].y), _0x5a5c1f["lineTo"](this.end.x, this.end.y), _0x5a5c1f["lineTo"](this["start"].x, this["end"].y);
    _0x5a5c1f["closePath"](), _0x5a5c1f["clip"]();
  }
  ["clipClear"](_0x142722) {
    room.board.layers[_0x142722]["advCanvas"]["setCanvasProperties"]({
      fillstyle: room.board["backgroundColor"],
      alpha: 1,
      blendmode: "normal",
      blur: 0
    });
    var _0x516e6e = room["board"]["getContext"](_0x142722);
    _0x516e6e["clearRect"](0, 0, _0x516e6e.canvas["width"], _0x516e6e["canvas"]["height"]);
  }
  ["clipFill"](_0x5dff78, _0x43b65a = null) {
    _0x43b65a == null && (_0x43b65a = this["surface"]["drawColor"]);
    room["board"]["layers"][_0x5dff78].advCanvas.setCanvasProperties({
      fillstyle: _0x43b65a,
      alpha: 1,
      blendmode: "normal",
      blur: 0
    });
    var _0x22b19c = room["board"]["getContext"](_0x5dff78);
    _0x22b19c["fillRect"](0, 0, _0x22b19c["canvas"]["width"], _0x22b19c["canvas"]["height"]);
  }
  ["clipRestore"](_0x1a550a) {
    var _0x569aff = room["board"]["getContext"](_0x1a550a);
    _0x569aff["restore"](), room.board["layers"][_0x1a550a]["advCanvas"]["clearCanvasProperties"]();
  }
  ["addClick"](_0x3bed8e, _0x527fd9) {
    this["clickX"].push(_0x3bed8e), this["clickY"]["push"](_0x527fd9);
  }
  ["removeClicks"]() {
    this["clickX"] = new Array(), this.clickY = new Array(), this["end"] = null;
  }
  ["clearSlate"]() {
    this.contextSlate["clearRect"](0, 0, this.contextSlate["canvas"].width, this["contextSlate"]["canvas"]["height"]);
  }
  ["getSync"]() {
    var _0x1e23ab = {};
    return _0x1e23ab["start"] = this["start"], _0x1e23ab["end"] = this["end"], _0x1e23ab.clickX = this["clickX"], _0x1e23ab.clickY = this["clickY"], _0x1e23ab["moved"] = this.moved, _0x1e23ab;
  }
  ["setSync"](_0x2b27d8) {
    this.moved = _0x2b27d8["moved"];
    if (this["getOption"]("selectiontype")) {
      if (this["surface"]["penPressed"]) {
        if (_0x2b27d8["clickX"]["length"] > 0) {
          this["drawStart"](_0x2b27d8["clickX"][0], _0x2b27d8.clickY[0], this["surface"]["drawColor"]);
          for (var _0x57b8b6 = 1; _0x57b8b6 < _0x2b27d8.clickX["length"]; _0x57b8b6++) {
            this["drawStep"](new Point(_0x2b27d8["clickX"][_0x57b8b6 - 1], _0x2b27d8.clickY[_0x57b8b6 - 1]), new Point(_0x2b27d8.clickX[_0x57b8b6], _0x2b27d8["clickY"][_0x57b8b6]), this["surface"]["drawColor"]);
          }
        }
      } else this["setupSlate"](), this["clickX"] = _0x2b27d8["clickX"], this.clickY = _0x2b27d8["clickY"], this["redraw"]();
    } else this["surface"]["penPressed"] ? this["drawStart"](_0x2b27d8.start.x, _0x2b27d8["start"].y, this["surface"]["drawColor"]) : (this["setupSlate"](), this["start"] = _0x2b27d8.start, this.end = _0x2b27d8.end, this["start"] && this.end && this["drawRect"](this["start"], this.end));
  }
  ["cancel"]() {
    this["clearSlate"](), this["removeClicks"]();
  }
  ["redraw"](_0x45056d = true) {
    this["clearSlate"](), this["surface"]["slate"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: _0x45056d ? 2 : 1,
      strokeStyle: "#808080",
      alpha: 1,
      blendmode: "normal",
      blur: 0,
      linedash: _0x45056d ? [5, 7] : [],
      linedashoffset: -this.offset
    }), this["contextSlate"]["beginPath"]();
    if (this["getOption"]("selectiontype")) {
      this["contextSlate"]["moveTo"](this["clickX"][0], this["clickY"][0]);
      for (var _0x529607 = 0; _0x529607 < this.clickX["length"]; _0x529607++) {
        this["contextSlate"]["lineTo"](this["clickX"][_0x529607], this["clickY"][_0x529607]);
      }
    } else this["contextSlate"]["moveTo"](this["start"].x, this["start"].y), this["contextSlate"]["lineTo"](this.end.x, this["start"].y), this["contextSlate"]["lineTo"](this["end"].x, this["end"].y), this.contextSlate["lineTo"](this["start"].x, this["end"].y), this["contextSlate"].lineTo(this["start"].x, this["start"].y);
    _0x45056d && this["contextSlate"]["stroke"]();
  }
  ["setupSlate"]() {
    this["surface"].slate.setCanvasProperties({
      linejoin: "round",
      linecap: "round",
      linewidth: 2,
      strokestyle: "#808080",
      alpha: 0.6,
      blendmode: "normal",
      blur: 0,
      linedash: [5, 7]
    }), this.surface["slate"]["setCSSProperties"]({
      alpha: 0.6,
      blendmode: "normal",
      blur: 0
    });
  }
  ["drawRect"](_0x403668, _0xb0a97b) {
    this["clearSlate"]();
    if (this["keepRatio"]) {
      var _0x3341d5 = this["getMinDistance"](_0xb0a97b.x - _0x403668.x, _0xb0a97b.y - _0x403668.y),
        _0x22be5a = _0xb0a97b.x - _0x403668.x > 0 ? 1 : -1,
        _0x2dcb72 = _0xb0a97b.y - _0x403668.y > 0 ? 1 : -1;
      this["contextSlate"]["strokeRect"](_0x403668.x, _0x403668.y, _0x3341d5 * _0x22be5a, _0x3341d5 * _0x2dcb72);
    } else this["contextSlate"]["strokeRect"](_0x403668.x, _0x403668.y, _0xb0a97b.x - _0x403668.x, _0xb0a97b.y - _0x403668.y);
  }
  ["optionChange"](_0x2ea29d, _0x48fc8c) {
    if (_0x2ea29d == "multilayer") this.updateZIndex(_0x48fc8c); else _0x2ea29d == "selectiontype" && (this.clearSlate(), this["removeClicks"](), this["contextSlate"]["beginPath"]());
  }
  ["updateZIndex"](_0xc9bfa8) {
    _0xc9bfa8 ? this.surface["setSlatePriority"](room.board["getLayerZIndex"](room.board["nLayers"] - 1) + 1) : this.surface["setSlatePriority"](room["board"]["getLayerZIndex"](this.surface["currentLayer"]) + 1);
  }
  ["onBrushParameter"](_0x4c0f6d) {
    var _0xb29536 = _0x4c0f6d["action"],
      _0x1e7e90 = new Array();
    if (this.getOption("multilayer")) {
      let _0x4caa01 = this["getOption"]("allowedlayers");
      for (var _0x181fa1 = 0; _0x181fa1 < _0x4caa01["length"] || 0; _0x181fa1++) {
        _0x1e7e90["push"](_0x4caa01[_0x181fa1]);
      }
    } else _0x1e7e90["push"](this["surface"].currentLayer);
    var _0x18cff3 = this;
    $.each(_0x1e7e90, function (_0x5b701d, _0x50ae6f) {
      if (_0xb29536 == "clear" || _0xb29536 == "move") _0x18cff3["clipSave"](_0x50ae6f), _0x50ae6f == 0 && !room["bottomTransparency"] ? _0x18cff3["clipFill"](_0x50ae6f, room["board"].backgroundColor) : _0x18cff3.clipClear(_0x50ae6f), _0x18cff3["clipRestore"](_0x50ae6f); else _0xb29536 == "fill" && (_0x18cff3["clipSave"](_0x50ae6f), _0x18cff3.clipFill(_0x50ae6f), _0x18cff3["clipRestore"](_0x50ae6f));
      room.board["layerChanged"](_0x50ae6f);
    }), this["cancel"]();
  }
  ["getSelectedImage"](_0x5527b1) {
    var _0xdb1e31 = new Array(),
      _0x29c8da = this;
    return new Promise(function (_0x2d2c50, _0x248883) {
      var _0x3fa371 = _0x29c8da["getBounds"](),
        _0xc62483 = new Image();
      _0xc62483["onload"] = function () {
        _0x29c8da["contextSlate"]["save"](), _0x29c8da["redraw"](false), _0x29c8da["contextSlate"]["closePath"](), _0x29c8da["contextSlate"]["clip"](), _0x29c8da["contextSlate"]["drawImage"](_0xc62483, 0, 0), _0x29c8da["contextSlate"]["restore"](), _0x29c8da["surface"].slate["clearCanvasProperties"]();
        var _0x5ca4fb = new Image();
        _0x5ca4fb.onload = function (_0x53d468) {
          var _0x39e12c = new Image();
          _0x39e12c["onload"] = function (_0x210ac7) {
            var _0x54d12a = {};
            _0x54d12a["position"] = _0x3fa371, _0x54d12a["img"] = this, _0x54d12a["layer"] = _0x5527b1, _0x2d2c50(_0x54d12a);
          }, _0x39e12c.src = cropImage(this, _0x3fa371.x, _0x3fa371.y, _0x3fa371["width"] - _0x3fa371.x, _0x3fa371.height - _0x3fa371.y);
        }, _0x5ca4fb["src"] = _0x29c8da["surface"]["slate"]["getData"]();
      }, _0xc62483["src"] = room["board"].layers[_0x5527b1]["getData"]();
    });
  }
  ["setClicks"](_0x237bcc) {
    this.removeClicks();
    for (var _0x5afd41 = 0; _0x5afd41 < _0x237bcc["length"]; _0x5afd41++) {
      this["clickX"]["push"](_0x237bcc[_0x5afd41].x), this["clickY"]["push"](_0x237bcc[_0x5afd41].y);
    }
  }
  ["getClicks"](_0x3e3010 = null) {
    var _0x7cdd8f = new Array();
    for (var _0x844e5e = 0; _0x844e5e < this["clickX"]["length"]; _0x844e5e++) {
      _0x7cdd8f.push(new Point(this["clickX"][_0x844e5e], this["clickY"][_0x844e5e]));
    }
    return _0x7cdd8f;
  }
  ["getCoords"](_0x38b819 = null) {
    if (this["getOption"]("selectiontype")) return this["getClicks"](); else {
      var _0x3d9829 = new Array();
      return _0x3d9829.push(new Point(this["start"].x, this["start"].y)), _0x3d9829["push"](new Point(this.end.x, this["start"].y)), _0x3d9829["push"](new Point(this["end"].x, this["end"].y)), _0x3d9829["push"](new Point(this.start.x, this["end"].y)), _0x3d9829;
    }
  }
  ["getBounds"]() {
    var _0x6b1a0e, _0x4eff99;
    return this["getOption"]("selectiontype") ? (_0x6b1a0e = getLimits(this.clickX), _0x4eff99 = getLimits(this["clickY"])) : (_0x6b1a0e = getLimits(new Array(this["start"].x, this["end"].x)), _0x4eff99 = getLimits(new Array(this.start.y, this["end"].y))), new Rect(_0x6b1a0e.x, _0x4eff99.x, _0x6b1a0e.y, _0x4eff99.y);
  }
  ["isUsingSlate"]() {
    return this["getOption"]("selectiontype") ? this["clickX"]["length"] > 0 : this["end"];
  }
}
class BrushEraser extends BrushStub {
  constructor(_0x2dca3e) {
    super(_0x2dca3e), this.clickX = new Array(), this.clickY = new Array(), this.options = {}, this.options.size = new SizeOption(), this["options"]["alpha"] = new AlphaOption(), this.options["blur"] = new BlurOption(), this.options["multilayer"] = new MultilayerOption(), this["options"]["pressure"] = new PressureOption([true, 1]), this.options["rightclick"] = new RightClickOption("eraser"), this["options"]["allowedlayers"] = new AllowedLayersOption([]), this["options"]["cursor"] = new CursorOption("circle");
  }
  ["brushStart"]() {
    this["surface"].cursor["changePointer"](this["getOption"]("cursor")), this.updateZIndex(this["getOption"]("multilayer"));
  }
  ["brushStop"]() {
    this["updateZIndex"](false);
  }
  ["optionChanged"](_0x1d83fc, _0x5f1a61) {
    _0x1d83fc == "cursor" && this.surface.cursor["changePointer"](_0x5f1a61);
  }
  ["drawStart"](_0x4dd777, _0x255523, _0x59f64c) {
    this["surface"]["slate"]["setCSSProperties"]({
      alpha: this["getOption"]("alpha"),
      blendmode: "normal",
      blur: this["getOption"]("blur")
    }), this["addClick"](_0x4dd777, _0x255523);
  }
  ["drawStep"](_0x260fac, _0xd5add1, _0x1685f9) {
    let _0x1c18d1 = this["getOption"]("allowedlayers");
    if (this["surface"].currentLayer == 0 && !this["getOption"]("multilayer") || this["getOption"]("multilayer") && _0x1c18d1 == room["board"]["nLayers"]) this["addClick"](_0xd5add1.x, _0xd5add1.y), this.redraw(); else {
      if (this["getOption"]("multilayer")) for (var _0x5a5e29 = 0; _0x5a5e29 < _0x1c18d1["length"]; _0x5a5e29++) {
        this["compositeLine"](_0x260fac, _0xd5add1, _0x1c18d1[_0x5a5e29], _0x1c18d1[_0x5a5e29] == 0 && !room.bottomTransparency ? "opaque" : "transparent");
      } else this["compositeLine"](_0x260fac, _0xd5add1, this["surface"]["currentLayer"], "transparent");
    }
  }
  ["drawEnd"](_0x5adb14, _0x143131, _0x248834) {
    let _0x49a929 = this["getOption"]("allowedlayers");
    if (this["surface"]["currentLayer"] == 0 && !this["getOption"]("multilayer") || this["getOption"]("multilayer") && _0x49a929 == room.board["nLayers"]) this["addClick"](_0x5adb14, _0x143131), this["endStroke"](); else {
      var _0x291356 = new Point(_0x5adb14, _0x143131);
      if (this.getOption("multilayer")) for (var _0x57e123 = 0; _0x57e123 < _0x49a929["length"]; _0x57e123++) {
        this.compositeLine(_0x291356, _0x291356, _0x49a929[_0x57e123], _0x49a929[_0x57e123] == 0 && !room["bottomTransparency"] ? "opaque" : "transparent");
      } else this["compositeLine"](_0x291356, _0x291356, this["surface"]["currentLayer"], "transparent");
    }
    this["clearSlate"](), this["removeClicks"](), this["updatePreviews"]();
  }
  ["endStroke"]() {
    if (this["getOption"]("multilayer")) {
      let _0x3f99aa = this["getOption"]("allowedlayers");
      for (var _0x217097 = 0; _0x217097 < _0x3f99aa["length"]; _0x217097++) {
        this["compositeBuffer"](_0x3f99aa[_0x217097], _0x3f99aa[_0x217097] == 0 && !room.bottomTransparency ? "opaque" : "transparent");
      }
    } else this["compositeBuffer"](this["surface"]["currentLayer"], this["surface"]["currentLayer"] == 0 && !room.bottomTransparency ? "opaque" : "transparent");
  }
  ["updatePreviews"]() {
    if (this["getOption"]("multilayer")) for (var _0x272477 = 0; _0x272477 < this["getOption"]("allowedlayers").length; _0x272477++) {
      this.getOption("allowedlayers")[_0x272477] != this.surface.currentLayer && room.board["layerChanged"](this["getOption"]("allowedlayers")[_0x272477]);
    }
  }
  ["clearSlate"]() {
    this["contextSlate"]["clearRect"](0, 0, this.contextSlate.canvas.width, this.contextSlate.canvas.height);
  }
  ["addClick"](_0x32559f, _0x457d4f) {
    this["clickX"]["push"](_0x32559f), this["clickY"]["push"](_0x457d4f);
  }
  ["removeClicks"]() {
    this["clickX"] = new Array(), this["clickY"] = new Array();
  }
  ["cancel"]() {
    this["clearSlate"](), this["removeClicks"]();
  }
  ["getSync"]() {
    var _0xff3031 = {};
    return _0xff3031["clickX"] = this["clickX"], _0xff3031["clickY"] = this["clickY"], _0xff3031;
  }
  ["setSync"](_0x44970c) {
    if (_0x44970c.clickX.length > 0) {
      this.drawStart(_0x44970c["clickX"][0], _0x44970c["clickY"][0], this.surface.drawColor);
      for (var _0x265477 = 1; _0x265477 < _0x44970c["clickX"].length; _0x265477++) {
        this["drawStep"](new Point(_0x44970c.clickX[_0x265477 - 1], _0x44970c["clickY"][_0x265477 - 1]), new Point(_0x44970c.clickX[_0x265477], _0x44970c["clickY"][_0x265477]), this["surface"]["drawColor"]);
      }
    }
  }
  ["redraw"]() {
    var _0x161a1a = this.getOption("pressure")[0] ? this["getOption"]("pressure")[1] : 1;
    this["surface"].slate.setCanvasProperties({
      linejoin: "round",
      linecap: "round",
      linewidth: Math["max"](this["getOption"]("size") * _0x161a1a, 1),
      strokestyle: room["board"].backgroundColor,
      alpha: 1,
      blendmode: "normal",
      blur: 0,
      linedash: []
    }), this["contextSlate"].clearRect(0, 0, this["contextSlate"]["canvas"]["width"], this["contextSlate"].canvas["height"]), this.contextSlate.beginPath(), this["contextSlate"]["moveTo"](this["clickX"][0], this["clickY"][0]);
    for (var _0x4f8c1d = 0; _0x4f8c1d < this.clickX["length"]; _0x4f8c1d++) {
      this.contextSlate["lineTo"](this.clickX[_0x4f8c1d], this["clickY"][_0x4f8c1d]);
    }
    this["contextSlate"].stroke();
  }
  ["updateZIndex"](_0x29dece) {
    _0x29dece ? this.surface.setSlatePriority(room.board["getLayerZIndex"](room.board.nLayers - 1) + 1) : this["surface"]["setSlatePriority"](room["board"]["getLayerZIndex"](this["surface"]["currentLayer"]) + 1);
  }
  ["optionChange"](_0x319a6b, _0xd6924f) {
    var _0x4e1405 = this["clickX"]["length"];
    _0x4e1405 > 0 && (this.endStroke(), this["clearSlate"](), this["removeClicks"](), this["updatePreviews"]()), _0x319a6b == "multilayer" && this.updateZIndex(_0xd6924f);
  }
  ["compositeLine"](_0x5abf8f, _0x2e94e9, _0x158376, _0x39da14 = "transparent") {
    var _0x21c71f = this["getOption"]("pressure")[0] ? this.getOption("pressure")[1] : 1;
    room["board"]["layers"][_0x158376]["advCanvas"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: Math.max(this["getOption"]("size") * _0x21c71f, 1),
      strokestyle: room["board"].backgroundColor,
      alpha: this["getOption"]("alpha"),
      blendmode: _0x39da14 == "transparent" ? "destination-out" : "normal",
      blur: this["getOption"]("blur"),
      linedash: []
    });
    var _0x412e12 = room["board"]["getContext"](_0x158376);
    _0x412e12["beginPath"](), _0x412e12["moveTo"](_0x5abf8f.x, _0x5abf8f.y), _0x412e12["lineTo"](_0x2e94e9.x, _0x2e94e9.y), _0x412e12["stroke"]();
  }
  ["compositeBuffer"](_0x1c3d75, _0x55e954 = "transparent") {
    var _0x40b57f = this["getOption"]("pressure")[0] ? this.getOption("pressure")[1] : 1;
    room["board"].layers[_0x1c3d75]["advCanvas"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: Math["max"](this["getOption"]("size") * _0x40b57f, 1),
      strokestyle: room["board"]["backgroundColor"],
      alpha: this.getOption("alpha"),
      blendmode: _0x55e954 == "transparent" ? "destination-out" : "normal",
      blur: this["getOption"]("blur"),
      linedash: []
    });
    var _0x39b0e5 = room["board"]["getContext"](_0x1c3d75);
    _0x39b0e5["beginPath"](), _0x39b0e5["moveTo"](this["clickX"][0], this["clickY"][0]);
    for (var _0x2c1b44 = 0; _0x2c1b44 < this.clickX["length"]; _0x2c1b44++) {
      _0x39b0e5["lineTo"](this["clickX"][_0x2c1b44], this.clickY[_0x2c1b44]);
    }
    _0x39b0e5["stroke"]();
  }
}
class BrushHandler {
  constructor(_0x18cc28) {
    this.surface = _0x18cc28, this["previousBrush"], this["currentBrush"], this["brush"] = null, this.brushes = {}, this["brushes"]["drag"] = new BrushDrag(_0x18cc28), this.brushes["rotate"] = new BrushRotate(_0x18cc28), this.brushes.picker = new BrushPicker(_0x18cc28), this["brushes"].selection = new BrushSelection(_0x18cc28), this["brushes"]["pen"] = new BrushPen(_0x18cc28), this["brushes"]["eraser"] = new BrushEraser(_0x18cc28), this["brushes"]["text"] = new BrushText(_0x18cc28), this.brushes["rect"] = new BrushRect(_0x18cc28), this.brushes.line = new BrushLine(_0x18cc28), this["brushes"]["ellipse"] = new BrushEllipse(_0x18cc28), this.brushes.fill = new BrushFill(_0x18cc28), this["brushes"]["blend"] = new BrushBlend(_0x18cc28), this["brushes"]["custom"] = new BrushCustom(_0x18cc28), this.brushes.blur = new BrushBlur(_0x18cc28), this.brushes["pixel"] = new BrushPixel(_0x18cc28), this.setBrush("pen");
  }
  ["setBrush"](_0x2cdb3f) {
    this["brush"] != null && this["brush"]["brushStop"](), _0x2cdb3f in this.brushes && this["currentBrush"] != _0x2cdb3f && (this["previousBrush"] = this["currentBrush"], this.currentBrush = _0x2cdb3f, this["brush"] = this["brushes"][_0x2cdb3f], this["brush"]["brushStart"]());
  }
  ["isOptionReadOnly"](_0x20212) {
    return this["brush"].isOptionReadOnly(_0x20212);
  }
  ["setOptionReadOnly"](_0x2cf6d6, _0x212410) {
    return this["brush"]["setOptionReadOnly"](_0x2cf6d6, _0x212410);
  }
  ["hasOption"](_0x39da4f) {
    return this["brush"]["hasOption"](_0x39da4f);
  }
  ["getOptionObject"](_0x33fb71) {
    return this["brush"]["getOptionObject"](_0x33fb71);
  }
  ["getOption"](_0x2533a7) {
    return this.brush.getOption(_0x2533a7);
  }
  ["setOption"](_0x225b7c, _0x4a392d) {
    this["brush"]["setOption"](_0x225b7c, _0x4a392d);
  }
  ["getOptions"]() {
    return this.brush.getOptions();
  }
  ["getBrushesOptions"]() {
    var _0x3e8871 = {};
    return $["each"](this.brushes, function (_0x507704, _0x31139b) {
      _0x3e8871[_0x507704] = _0x31139b.getOptions();
    }), _0x3e8871;
  }
  ["hasBrushOption"](_0x309b61, _0xe2c0f2) {
    if (_0x309b61 in this["brushes"]) return this["brushes"][_0x309b61]["hasOption"](_0xe2c0f2);
    return null;
  }
  ["getBrushOption"](_0x1ca96c, _0x457a89) {
    if (_0x1ca96c in this["brushes"]) return this["brushes"][_0x1ca96c]["getOption"](_0x457a89);
    return null;
  }
  ["setBrushOption"](_0x4a4633, _0x216012, _0x2c75b7) {
    _0x4a4633 in this["brushes"] && this["brushes"][_0x4a4633]["setOption"](_0x216012, _0x2c75b7);
  }
}
class BrushOption {
  constructor(_0x417158, _0x455370) {
    this.id = _0x417158, this.type = _0x455370, this["readOnly"] = false, this.list = new Array(), this["min"] = 0, this.max = 100, this["enabled"] = true, this.step = 0, this["defaultvalue"] = 1, this["hidden"] = false, this["incompatibleRoomTypes"] = new Array(), this["compatibleLayerCount"] = new Array(), this["callbackFunction"] = null, this["readOnlySubcomponents"] = null, this["value"];
  }
  ["isCompatible"](_0x2a7b94, _0x4a97db) {
    return (this.incompatibleRoomTypes.length == 0 || this["incompatibleRoomTypes"]["indexOf"](_0x2a7b94) == -1) && (this["compatibleLayerCount"]["length"] == 0 || this.compatibleLayerCount["indexOf"](_0x4a97db) > -1);
  }
  ["setList"](_0x31486a, _0x4096a2) {
    this["list"] = _0x31486a, this["defaultvalue"] = _0x4096a2, this.value = _0x4096a2;
  }
  ["setCheck"](_0x220a94, _0x23aeef) {
    this["enabled"] = _0x220a94, this["value"] = _0x23aeef;
  }
  ["setSlider"](_0x19331c, _0x191b2e, _0x46ed73, _0x64f397) {
    this["min"] = _0x19331c, this["max"] = _0x191b2e, this.step = _0x46ed73, this["defaultvalue"] = _0x64f397, this["value"] = _0x64f397;
  }
  ["setSliderCheck"](_0x2404a2, _0x2da08d, _0x17ef30, _0x4f877c, _0x13d55b) {
    this.enabled = _0x2404a2, this.min = _0x2da08d, this.max = _0x17ef30, this["step"] = _0x4f877c, this.defaultvalue = _0x13d55b, this["value"] = _0x13d55b;
  }
  ["setButton"](_0x5332a9) {
    this.callbackFunction = _0x5332a9;
  }
  ["setCustom"](_0x33657e) {
    this["value"] = _0x33657e;
  }
  ["setReadOnly"](_0x57270f) {
    this["readOnly"] = _0x57270f;
  }
}
class BlendModeOption extends BrushOption {
  constructor(_0x250668 = "normal", _0x2ac05a = false) {
    super("blendmode", "list");
    var _0x4e8761 = ["normal", "darken", "lighten", "difference", "exclusion", "hard-light", "soft-light", "multiply", "overlay", "screen", "saturation", "luminosity", "hue", "color", "color-dodge", "color-burn"],
      _0x1bf3df = {};
    $["each"](_0x4e8761, function (_0x5ad6b2, _0x5bafd1) {
      _0x1bf3df[_0x5bafd1] = textManager["getString"]("tooloption.blendmodes." + _0x5bafd1);
    }), this.setList(_0x1bf3df, _0x250668), this["setReadOnly"](_0x2ac05a), this.compatibleLayerCount = [1];
  }
}
class AlphaOption extends BrushOption {
  constructor(_0x52899b = 1, _0x58ae1a = false) {
    super("alpha", "slider"), this["setSlider"](0, 1, 0.01, _0x52899b), this["setReadOnly"](_0x58ae1a), this.callbackFunction = zeroToOnePercentage;
  }
}
class SizeOption extends BrushOption {
  constructor(_0xdc0fa7 = 8, _0x3cd8f8 = false) {
    super("size", "slider"), this["setSlider"](1, 140, 1, _0xdc0fa7), this["setReadOnly"](_0x3cd8f8);
  }
}
class BlurOption extends BrushOption {
  constructor(_0x5e6249 = 0, _0x22ea6a = false) {
    super("blur", "slider"), this["setSlider"](0, 10, 0.1, _0x5e6249), this["setReadOnly"](_0x22ea6a), this["callbackFunction"] = blurPercentage;
  }
}
class SmoothOption extends BrushOption {
  constructor(_0x43da84 = 0, _0x794e8f = false) {
    super("smooth", "slider"), this.setSlider(0, 5, 1, _0x43da84), this["setReadOnly"](_0x794e8f);
  }
}
class SpacingOption extends BrushOption {
  constructor(_0x18b9bd = 0, _0x4daedb = false) {
    super("spacing", "slider"), this["setSlider"](0, 50, 1, _0x18b9bd), this["setReadOnly"](_0x4daedb);
  }
}
class MultilayerOption extends BrushOption {
  constructor(_0x33d0fd = false, _0x4903a2 = false) {
    super("multilayer", "check"), this["setCheck"](false, _0x33d0fd), this.setReadOnly(_0x4903a2), this["callbackFunction"] = yesnoFunction;
  }
}
class SelectionTypeOption extends BrushOption {
  constructor(_0x2faa59 = true, _0x4d479d = false) {
    super("selectiontype", "check"), this["setCheck"](false, _0x2faa59), this["setReadOnly"](_0x4d479d), this["callbackFunction"] = lassoRectFunction;
  }
}
class GalleryOption extends BrushOption {
  constructor(_0x160434 = null, _0x4128e9 = false) {
    super("gallery", "button"), this["setButton"](_0x160434), this["setReadOnly"](_0x4128e9);
  }
}
class CustomizeOption extends BrushOption {
  constructor(_0x4cc800 = null, _0x47581a = false) {
    super("customize", "button"), this.setButton(_0x4cc800), this["setReadOnly"](_0x47581a);
  }
}
class PressureOption extends BrushOption {
  constructor(_0x38dec6 = [true, 1], _0x26e346 = false) {
    super("pressure", "slidercheck"), this["setSliderCheck"](true, 0, 1, 0.1, _0x38dec6), this["setReadOnly"](_0x26e346), this["readOnlySubcomponents"] = [false, true], this["callbackFunction"] = zeroToOnePercentage;
  }
}
class AreaAverageOption extends BrushOption {
  constructor(_0x1c8a50 = false, _0x3768eb = false) {
    super("areaaverage", "check"), this["setCheck"](false, _0x1c8a50), this["setReadOnly"](_0x3768eb), this["callbackFunction"] = yesnoFunction;
  }
}
class EraserModeOption extends BrushOption {
  constructor(_0x5d9cbe = false, _0x392050 = false) {
    super("erasermode", "check"), this["setCheck"](false, _0x5d9cbe), this["setReadOnly"](_0x392050), this["callbackFunction"] = yesnoFunction;
  }
}
class AspectRatioOption extends BrushOption {
  constructor(_0x236c2a = false, _0x17b150 = false) {
    super("aspectratio", "check"), this["setCheck"](false, _0x236c2a), this["setReadOnly"](_0x17b150), this["callbackFunction"] = yesnoFunction;
  }
}
class SnapOption extends BrushOption {
  constructor(_0x379496 = false, _0x1c4ca5 = false) {
    super("snap", "check"), this["setCheck"](false, _0x379496), this["setReadOnly"](_0x1c4ca5), this["callbackFunction"] = yesnoFunction;
  }
}
class DrawGridOption extends BrushOption {
  constructor(_0x409aae = false, _0x1f186f = false) {
    super("drawgrid", "check"), this["setCheck"](false, _0x409aae), this["setReadOnly"](_0x1f186f), this["callbackFunction"] = yesnoFunction;
  }
}
class FontOption extends BrushOption {
  constructor(_0x37d3cd = "Rubik", _0x11665d = false) {
    super("font", "list");
    var _0x5c5314 = {};
    _0x5c5314["Rubik"] = "Rubik", _0x5c5314["BeautifulBloom"] = "Beautiful Bloom", _0x5c5314["Quicksand"] = "Quicksand", _0x5c5314["Phenomena"] = "Phenomena", _0x5c5314["LeagueSpartan"] = "League Spartan", _0x5c5314.AbrilFatface = "Abril Fatface", _0x5c5314["Amaranth"] = "Amaranth", _0x5c5314["Bevan"] = "Bevan", _0x5c5314.Stalemate = "Stalemate", _0x5c5314["OstrichSansInline"] = "Ostrich Sans Inline", _0x5c5314["Monicacomic"] = "Monicacomic", _0x5c5314["VeteranTypewriter"] = "Veteran Typewriter", this.setList(_0x5c5314, _0x37d3cd), this["setReadOnly"](_0x11665d);
  }
}
class FillOption extends BrushOption {
  constructor(_0x30741e = false, _0x5999e6 = false) {
    super("fill", "check"), this["setCheck"](false, _0x30741e), this["setReadOnly"](_0x5999e6), this["hidden"] = true, this["callbackFunction"] = yesnoFunction;
  }
}
class AllowedLayersOption extends BrushOption {
  constructor(_0x16b9cf = null, _0x846524 = false) {
    super("allowedlayers", "custom"), this["setCustom"](_0x16b9cf), this["hidden"] = true;
  }
}
class ImageOption extends BrushOption {
  constructor(_0x274ce8 = null, _0x426437 = false) {
    super("image", "custom"), this["setCustom"](_0x274ce8), this["hidden"] = true;
  }
}
class CursorOption extends BrushOption {
  constructor(_0x11ff41 = "circle", _0x1c3234 = false) {
    super("cursor", "list");
    var _0x5989ce = ["circle", "square", "crosshair", "cross", "dot"],
      _0x1e320c = {};
    $["each"](_0x5989ce, function (_0x36e4b0, _0x4354b8) {
      _0x1e320c[_0x4354b8] = textManager["getString"]("tooloption.cursorList." + _0x4354b8);
    }), this["setList"](_0x1e320c, _0x11ff41), this["setReadOnly"](_0x1c3234);
  }
}
class TintOption extends BrushOption {
  constructor(_0x47d6c5 = true, _0x4d708b = false) {
    super("tint", "check"), this.setCheck(false, _0x47d6c5), this["setReadOnly"](_0x4d708b), this["callbackFunction"] = yesnoFunction;
  }
}
class RandomRotationOption extends BrushOption {
  constructor(_0x4b1ef2 = true, _0x97ed4d = false) {
    super("randomrotation", "check"), this["setCheck"](false, _0x4b1ef2), this["setReadOnly"](_0x97ed4d), this["callbackFunction"] = yesnoFunction;
  }
}
class RotationValueOption extends BrushOption {
  constructor(_0x13094d = 0, _0x15fae9 = false) {
    super("rotationvalue", "custom"), this["setCustom"](_0x13094d), this["hidden"] = true;
  }
}
class RightClickOption extends BrushOption {
  constructor(_0x277147 = null, _0x5bf185 = null, _0x398be0 = false) {
    super("rightclick", "list");
    var _0x567cff = ["donothing", "cancelstroke", "toggleselectiontype", "togglemultilayer", "swapcolors", "toggleareaaverage", "rotatereset", "rotate45right", "centerboard", "fittoscreen", "resetzoom", "togglesnap", "toggleaspectratio", "toggleerasermode", "toggledrawgrid", "nextfont", "cleartext", "switchprevtool", "selecteraser", "showmenu"],
      _0x3f3469 = {};
    $["each"](_0x567cff, function (_0x17a708, _0x872937) {
      _0x3f3469[_0x872937] = textManager.getString("tooloption.rightClickList." + _0x872937);
    });
    var _0x3dbdc0, _0x2a2bc4;
    if (_0x277147 == "pen") _0x3dbdc0 = ["donothing", "showmenu", "cancelstroke", "swapcolors", "selecteraser"], _0x2a2bc4 = "cancelstroke"; else {
      if (_0x277147 == "drag") _0x3dbdc0 = ["donothing", "showmenu", "centerboard", "fittoscreen", "resetzoom"], _0x2a2bc4 = "showmenu"; else {
        if (_0x277147 == "rotate") _0x3dbdc0 = ["donothing", "showmenu", "rotatereset", "rotate45right"], _0x2a2bc4 = "rotatereset"; else {
          if (_0x277147 == "picker") _0x3dbdc0 = ["donothing", "showmenu", "toggleareaaverage", "switchprevtool"], _0x2a2bc4 = "toggleareaaverage"; else {
            if (_0x277147 == "selection") _0x3dbdc0 = ["donothing", "showmenu", "toggleselectiontype", "togglemultilayer"], _0x2a2bc4 = "toggleselectiontype"; else {
              if (_0x277147 == "eraser") _0x3dbdc0 = ["donothing", "showmenu", "togglemultilayer", "switchprevtool"], _0x2a2bc4 = "togglemultilayer"; else {
                if (_0x277147 == "line") _0x3dbdc0 = ["donothing", "showmenu", "cancelstroke", "togglesnap", "swapcolors"], _0x2a2bc4 = "cancelstroke"; else {
                  if (_0x277147 == "rect") _0x3dbdc0 = ["showmenu", "cancelstroke", "toggleaspectratio", "swapcolors"], _0x2a2bc4 = "cancelstroke"; else {
                    if (_0x277147 == "ellipse") _0x3dbdc0 = ["donothing", "showmenu", "cancelstroke", "toggleaspectratio", "swapcolors"], _0x2a2bc4 = "cancelstroke"; else {
                      if (_0x277147 == "fill") _0x3dbdc0 = ["donothing", "showmenu", "swapcolors", "switchprevtool"], _0x2a2bc4 = "swapcolors"; else {
                        if (_0x277147 == "pixel") _0x3dbdc0 = ["donothing", "showmenu", "toggleerasermode", "toggledrawgrid"], _0x2a2bc4 = "toggleerasermode"; else {
                          if (_0x277147 == "text") _0x3dbdc0 = ["donothing", "showmenu", "nextfont", "cleartext"], _0x2a2bc4 = "nextfont"; else _0x277147 == "custom" && (_0x3dbdc0 = ["donothing", "showmenu", "cancelstroke"], _0x2a2bc4 = "cancelstroke");
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    var _0x33e195 = {};
    _0x277147 == null ? (_0x33e195 = _0x3f3469, _0x5bf185 = "cancelstroke") : (_0x5bf185 == null && (_0x5bf185 = _0x2a2bc4), $["each"](_0x3dbdc0, function (_0x3cd8b6, _0x178ac8) {
      _0x33e195[_0x178ac8] = _0x3f3469[_0x178ac8];
    })), this["setList"](_0x33e195, _0x5bf185), this["setReadOnly"](_0x398be0);
  }
}
class BrushPen extends BrushStub {
  constructor(_0x2222ae) {
    super(_0x2222ae), this.clickX = new Array(), this.clickY = new Array(), this.lastPosition, this["distance"], this["options"] = {}, this["options"]["size"] = new SizeOption(), this["options"]["alpha"] = new AlphaOption(), this.options["blur"] = new BlurOption(), this["options"]["smooth"] = new SmoothOption(), this["options"]["spacing"] = new SpacingOption(0), this.options["blendmode"] = new BlendModeOption(), this.options["pressure"] = new PressureOption([true, 1]), this["options"].rightclick = new RightClickOption("pen"), this["options"].cursor = new CursorOption("circle");
  }
  ["brushStart"]() {
    this.surface["cursor"]["changePointer"](this.getOption("cursor"));
  }
  ["drawStart"](_0x483e39, _0x205d89, _0x1b587b) {
    this.setupSlate(), this.removeClicks(), this["addClick"](_0x483e39, _0x205d89), this.contextSlate["beginPath"](), this["lastPosition"] = null, this["distance"] = 0, this["getOption"]("spacing") > 0 && (this["contextSlate"]["moveTo"](_0x483e39, _0x205d89), this["contextSlate"]["lineTo"](_0x483e39, _0x205d89), this["contextSlate"].stroke());
  }
  ["drawStep"](_0x684ce0, _0x5c5254, _0x1cb21d) {
    var _0x1869b1 = true;
    this.surface["isMyself"] && UI["userPreferences"]["getProperty"]("strokequality", "high") == "high" && (_0x1869b1 = false);
    if (this["getOption"]("spacing") > 0) this.distance += this["getDistance"](_0x684ce0.x, _0x684ce0.y, _0x5c5254.x, _0x5c5254.y), this.distance >= this["getOption"]("size") * (this["getOption"]("spacing") / 15) && (this["addClick"](_0x5c5254.x, _0x5c5254.y), _0x1869b1 && (this["contextSlate"]["moveTo"](_0x5c5254.x, _0x5c5254.y), this.contextSlate["lineTo"](_0x5c5254.x, _0x5c5254.y), this["contextSlate"]["stroke"]()), this["distance"] = 0);
     else {
      this["addClick"](_0x5c5254.x, _0x5c5254.y);
      var _0x3373e7 = (_0x5c5254.x + _0x684ce0.x) / 2,
        _0x66c8f1 = (_0x5c5254.y + _0x684ce0.y) / 2;
      _0x1869b1 && (this["contextSlate"].beginPath(), this["lastPosition"] ? this["contextSlate"].moveTo(this["lastPosition"].x, this.lastPosition.y) : this["contextSlate"].moveTo(_0x684ce0.x, _0x684ce0.y), this["contextSlate"]["quadraticCurveTo"](_0x684ce0.x, _0x684ce0.y, _0x3373e7, _0x66c8f1), this["contextSlate"].stroke()), this.lastPosition = new Point(_0x3373e7, _0x66c8f1);
    }
    this["surface"]["isMyself"] && UI["userPreferences"]["getProperty"]("strokequality", "high") == "high" && this["redraw"]();
  }
  ["drawEnd"](_0x287f6c, _0x491ceb, _0x1cd8db) {
    this.getOption("spacing") == 0 && this["addClick"](_0x287f6c, _0x491ceb), this.composite();
  }
  ["optionChange"](_0x5b4d99, _0x52b65e) {
    var _0x7b21d6 = this["clickX"]["length"];
    if (_0x7b21d6 > 0) {
      var _0xd27fd6 = new Point(this["clickX"][_0x7b21d6 - 1], this["clickY"][_0x7b21d6 - 1]);
      this["composite"](), this.getOption("spacing") == 0 && this["addClick"](_0xd27fd6.x, _0xd27fd6.y), this.contextSlate["beginPath"](), this.contextSlate.moveTo(_0xd27fd6.x, _0xd27fd6.y);
    }
  }
  ["optionChanged"](_0xfe7535, _0x27c2b3) {
    this.setupSlate(), _0xfe7535 == "cursor" && this["surface"]["cursor"]["changePointer"](_0x27c2b3);
  }
  ["colorChange"](_0x5a726f) {
    var _0x36f91b = this["clickX"]["length"];
    if (_0x36f91b > 0) {
      var _0x5df15a = new Point(this["clickX"][_0x36f91b - 1], this.clickY[_0x36f91b - 1]);
      this["composite"](), this.addClick(_0x5df15a.x, _0x5df15a.y);
    }
  }
  ["colorChanged"](_0x3b26d3) {
    this["setupSlate"]();
  }
  ["compositeSpacing"]() {
    var _0x1bf1dc = this["getOption"]("pressure")[0] ? this.getOption("pressure")[1] : 1,
      _0x4e4b96 = Math["max"](this["getOption"]("size") * _0x1bf1dc, 1);
    room["board"].layers[this.surface["currentLayer"]].advCanvas["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: _0x4e4b96,
      strokestyle: this.surface.drawColor,
      alpha: this.getOption("alpha"),
      blendmode: this["getOption"]("blendmode") || "normal",
      blur: this.getOption("blur"),
      linedash: []
    });
    var _0x1e47ec = room["board"].getContext(this["surface"]["currentLayer"]);
    _0x1e47ec["beginPath"]();
    for (var _0x4d6eb4 = 0; _0x4d6eb4 < this["clickX"]["length"]; _0x4d6eb4++) {
      _0x1e47ec["moveTo"](this["clickX"][_0x4d6eb4], this["clickY"][_0x4d6eb4]), _0x1e47ec["lineTo"](this["clickX"][_0x4d6eb4], this["clickY"][_0x4d6eb4]);
    }
    _0x1e47ec["stroke"]();
  }
  ["compositeRegular"]() {
    var _0x1049b5 = this["getOption"]("pressure")[0] ? this["getOption"]("pressure")[1] : 1,
      _0x3945ba = Math["max"](this["getOption"]("size") * _0x1049b5, 1);
    room["board"]["layers"][this["surface"].currentLayer]["advCanvas"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: _0x3945ba,
      strokestyle: this.surface["drawColor"],
      alpha: this["getOption"]("alpha"),
      blendmode: this["getOption"]("blendmode") || "normal",
      blur: this["getOption"]("blur"),
      linedash: []
    });
    var _0x2061c5 = room["board"].getContext(this.surface["currentLayer"]);
    if (this["clickX"]["length"] < 6) {
      var _0x359e38 = new Point(this["clickX"][0], this["clickY"][0]);
      _0x2061c5["beginPath"](), _0x2061c5["moveTo"](this.clickX[0], this["clickY"][0]);
      for (var _0x1689cc = 1; _0x1689cc < this["clickX"]["length"]; _0x1689cc++) {
        _0x2061c5["lineTo"](this.clickX[_0x1689cc], this["clickY"][_0x1689cc]);
      }
    } else {
      _0x2061c5["beginPath"](), _0x2061c5["moveTo"](this.clickX[0], this["clickY"][0]);
      for (var _0x1689cc = 1; _0x1689cc < this.clickX["length"] - 2; _0x1689cc++) {
        var _0x20fd76 = (this["clickX"][_0x1689cc] + this["clickX"][_0x1689cc + 1]) / 2,
          _0xd09e9f = (this["clickY"][_0x1689cc] + this.clickY[_0x1689cc + 1]) / 2;
        _0x2061c5["quadraticCurveTo"](this["clickX"][_0x1689cc], this.clickY[_0x1689cc], _0x20fd76, _0xd09e9f);
      }
      _0x2061c5["quadraticCurveTo"](this["clickX"][_0x1689cc], this.clickY[_0x1689cc], this.clickX[_0x1689cc + 1], this["clickY"][_0x1689cc + 1]);
    }
    _0x2061c5["stroke"]();
  }
  ["compositeSmooth"]() {
    var _0x18f04c = this["getOption"]("pressure")[0] ? this.getOption("pressure")[1] : 1,
      _0x3f50f8 = Math["max"](this["getOption"]("size") * _0x18f04c, 1);
    room["board"]["layers"][this["surface"]["currentLayer"]]["advCanvas"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: _0x3f50f8,
      strokestyle: this["surface"]["drawColor"],
      alpha: this["getOption"]("alpha"),
      blendmode: this.getOption("blendmode") || "normal",
      blur: this["getOption"]("blur"),
      linedash: []
    });
    var _0x54b90d,
      _0xdb0823,
      _0x5d5462,
      _0x532223,
      _0x3dbf9d = parseInt(this["getOption"]("smooth") > this["clickX"].length / 3 ? this["clickX"].length / 3 : this.getOption("smooth") + 1);
    _0x5d5462 = null, _0x532223 = null;
    var _0x5efeb3 = room.board.getContext(this.surface["currentLayer"]);
    _0x5efeb3.beginPath(), _0x5efeb3.moveTo(this["clickX"][0], this["clickY"][0]);
    var _0x382947 = this.clickX["length"];
    for (var _0x544aed = _0x3dbf9d; _0x544aed < _0x382947; _0x544aed++) {
      _0x544aed % _0x3dbf9d == 0 && (_0x54b90d = new Point(this["clickX"][_0x544aed - _0x3dbf9d], this.clickY[_0x544aed - _0x3dbf9d]), _0xdb0823 = new Point(this["clickX"][_0x544aed], this["clickY"][_0x544aed]), _0x532223 = new Point(_0x54b90d.x + (_0xdb0823.x - _0x54b90d.x) / 2, _0x54b90d.y + (_0xdb0823.y - _0x54b90d.y) / 2), _0x5d5462 ? (_0x5efeb3["moveTo"](_0x5d5462.x, _0x5d5462.y), _0x5efeb3["quadraticCurveTo"](_0x54b90d.x, _0x54b90d.y, _0x532223.x, _0x532223.y)) : _0x5efeb3["lineTo"](_0x532223.x, _0x532223.y), _0x5d5462 = _0x532223), _0x544aed == _0x382947 - 1 && _0x5efeb3["lineTo"](this["clickX"][_0x544aed], this.clickY[_0x544aed]);
    }
    _0x5efeb3["stroke"]();
  }
  ["composite"]() {
    if (this["getOption"]("spacing") > 0) this["compositeSpacing"](); else this["getOption"]("smooth") > 0 && this["clickX"]["length"] >= 3 ? this["compositeSmooth"]() : this["compositeRegular"]();
    this["clearSlate"](), this["removeClicks"]();
  }
  ["addClick"](_0x236c0e, _0x94363a) {
    this["clickX"]["push"](_0x236c0e), this["clickY"].push(_0x94363a);
  }
  ["removeClicks"]() {
    this["clickX"] = new Array(), this["clickY"] = new Array();
  }
  ["setupSlate"]() {
    var _0x5d2d36 = this["getOption"]("pressure")[0] ? this.getOption("pressure")[1] : 1,
      _0x1fa2f1 = Math["max"](this["getOption"]("size") * _0x5d2d36, 1);
    this.surface["slate"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: _0x1fa2f1,
      strokestyle: this["surface"]["drawColor"],
      alpha: 1,
      blendmode: "normal",
      blur: 0,
      linedash: []
    }), this["surface"]["slate"]["setCSSProperties"]({
      alpha: this["getOption"]("alpha"),
      blendmode: this.getOption("blendmode") || "normal",
      blur: this.getOption("blur")
    });
  }
  ["clearSlate"]() {
    this["contextSlate"]["clearRect"](0, 0, this.contextSlate["canvas"]["width"], this["contextSlate"]["canvas"]["height"]);
  }
  ["cancel"]() {
    this.clearSlate(), this["removeClicks"]();
  }
  ["getSync"]() {
    var _0x507502 = {};
    return _0x507502["clickX"] = this["clickX"], _0x507502["clickY"] = this["clickY"], _0x507502;
  }
  ["setSync"](_0x505594) {
    if (_0x505594["clickX"]["length"] > 0) {
      this.drawStart(_0x505594["clickX"][0], _0x505594["clickY"][0], this["surface"]["drawColor"]);
      for (var _0x48fedf = 1; _0x48fedf < _0x505594.clickX.length; _0x48fedf++) {
        this["drawStep"](new Point(_0x505594["clickX"][_0x48fedf - 1], _0x505594["clickY"][_0x48fedf - 1]), new Point(_0x505594["clickX"][_0x48fedf], _0x505594["clickY"][_0x48fedf]), this["surface"]["drawColor"]);
      }
    }
  }
  ["redraw"]() {
    this["clearSlate"](), this["setupSlate"]();
    var _0x25fa00 = this["contextSlate"];
    if (this["getOption"]("spacing") > 0) {
      _0x25fa00.beginPath();
      for (var _0x428151 = 0; _0x428151 < this["clickX"]["length"]; _0x428151++) {
        _0x25fa00["moveTo"](this["clickX"][_0x428151], this["clickY"][_0x428151]), _0x25fa00.lineTo(this["clickX"][_0x428151], this.clickY[_0x428151]);
      }
      _0x25fa00["stroke"]();
    } else {
      if (this["clickX"]["length"] < 6) {
        var _0x18b766 = new Point(this.clickX[0], this["clickY"][0]);
        _0x25fa00["beginPath"](), _0x25fa00["moveTo"](this["clickX"][0], this["clickY"][0]);
        for (var _0x428151 = 1; _0x428151 < this.clickX["length"]; _0x428151++) {
          _0x25fa00["lineTo"](this["clickX"][_0x428151], this["clickY"][_0x428151]);
        }
      } else {
        _0x25fa00["beginPath"](), _0x25fa00["moveTo"](this["clickX"][0], this["clickY"][0]);
        for (var _0x428151 = 1; _0x428151 < this["clickX"]["length"] - 2; _0x428151++) {
          var _0xc4585 = (this["clickX"][_0x428151] + this["clickX"][_0x428151 + 1]) / 2,
            _0x2f86bf = (this["clickY"][_0x428151] + this["clickY"][_0x428151 + 1]) / 2;
          _0x25fa00["quadraticCurveTo"](this.clickX[_0x428151], this["clickY"][_0x428151], _0xc4585, _0x2f86bf);
        }
        _0x25fa00["quadraticCurveTo"](this.clickX[_0x428151], this.clickY[_0x428151], this["clickX"][_0x428151 + 1], this["clickY"][_0x428151 + 1]);
      }
      _0x25fa00.stroke();
    }
  }
}
class BrushText extends BrushStub {
  constructor(_0x4da651) {
    super(_0x4da651), this.textfield, this["enabled"] = false, this["options"] = {}, this["options"].size = new SizeOption(), this["options"]["alpha"] = new AlphaOption(), this.options["font"] = new FontOption(), this.options["rightclick"] = new RightClickOption("text"), this["posX"], this.posY, this["maxLength"] = 200, this["minSize"] = 8, this["defaultSize"] = 6, this["textCursor"] = "<i>|</i>", this["disabledCursor"] = "";
  }
  ["brushStart"]() {
    this["disabledCursor"] = "<span class=\"disabledCursor\">" + textManager["getString"]("global.lblClickOrEnterToChat", null, false) + "</span>", this["surface"]["cursor"]["changePointer"]("invisible"), this.textfield = $("<div />"), this["textfield"]["addClass"]("textfield"), this.textfield["css"]({
      color: this.surface.drawColor,
      opacity: this["getOption"]("alpha"),
      "font-family": '"' + this["getOption"]("font") + '"'
    }), this.changeSize(this["getOption"]("size")), this.disable(), this["surface"]["cursor"]["graphic"].append(this["textfield"]), this["surface"].slate["setCSSProperties"]({
      alpha: this["getOption"]("alpha"),
      blendmode: "normal",
      blur: 0
    }), this.textfield["hide"](), this["positionText"](), this["textfield"]["fadeIn"](500);
  }
  ["brushStop"]() {
    this.textfield.remove();
  }
  ["drawEnd"](_0x142ad6, _0x4b7c13, _0x37267c) {
    var _0x4f9747 = this["getPlainText"]();
    if (_0x4f9747 != "" && this["enabled"]) {
      var _0x4558f8 = this["surface"]["cursor"]["labelOffset"];
      this["posX"] = _0x142ad6 + _0x4558f8.x, this["posY"] = _0x4b7c13 + _0x4558f8.y + this.surface["cursor"]["label"]["height"](), this["composite"](), this["setText"](this.textCursor);
    } else this.toggle();
  }
  ["colorChange"](_0x4a3609) {
    this.textfield["css"]("color", _0x4a3609);
  }
  ["optionChange"](_0x380535, _0x193c93) {
    if (_0x380535 == "size") this["enabled"] && this["changeSize"](_0x193c93), this.positionText(); else {
      if (_0x380535 == "alpha") this.enabled && this["textfield"] && this.textfield["css"]("opacity", _0x193c93); else _0x380535 == "font" && this["textfield"] && this.textfield["css"]("font-family", '"' + _0x193c93 + '"');
    }
  }
  ["onModifierDown"](_0x28b0a3) {
    if (_0x28b0a3 == 13) this["enabled"] ? this["isEmpty"]() ? this.disable() : this["setText"](this["textCursor"]) : this["enable"](); else _0x28b0a3 == 32 && this.onKeyPress(32);
  }
  ["getCurrentLength"]() {
    return $("<textarea/>").html(this["removeTextCursor"](this["getText"]())).text()["length"];
  }
  ["onKeyPress"](_0x261405) {
    if (this.enabled) {
      if (_0x261405 >= 8) {
        var _0x17efa1 = $("<textarea/>").html(this.removeTextCursor(this["getText"]())).text();
        if (_0x261405 == 8) this["setText"](_0x17efa1["substring"](0, _0x17efa1.length - 1), false); else {
          if (_0x261405 >= 32) {
            if (_0x261405 == 32) {
              var _0x59a21d = _0x17efa1[_0x17efa1["length"] - 1];
              _0x59a21d == " " && (_0x261405 = 0);
            }
            _0x17efa1["length"] < this["maxLength"] && _0x261405 > 0 && String.fromCharCode(_0x261405) != "" && this.setText(_0x17efa1 + String["fromCharCode"](_0x261405), false);
          } else this.setText(_0x17efa1, false);
        }
        this.enabled && _0x17efa1.length <= this["maxLength"] && _0x261405 > 0 && this["textfield"].append(this["textCursor"]), this.positionText();
      }
    }
  }
  ["setText"](_0x4d3d04, _0x1016bf = true) {
    _0x1016bf ? this["textfield"]["html"](_0x4d3d04) : this["textfield"]["text"](_0x4d3d04);
  }
  ["getText"]() {
    return this["textfield"]["html"]();
  }
  ["getPlainText"]() {
    return this["removeTextCursor"](this.textfield["html"]());
  }
  ["isEmpty"]() {
    return this["getPlainText"]() == "";
  }
  ["getSync"]() {
    var _0x15a052 = {};
    return _0x15a052.enabled = this.enabled, _0x15a052.enabled && (_0x15a052["text"] = this["getPlainText"]()), _0x15a052;
  }
  ["setSync"](_0x153c15) {
    _0x153c15["enabled"] && (this["enable"](), _0x153c15["text"] != "" && (this["setText"](_0x153c15["text"], false), this["textfield"]["append"](this["textCursor"]))), this.positionText();
  }
  ["cancel"]() {
    this["enabled"] && this["setText"](this["textCursor"]);
  }
  ["removeTextCursor"](_0x1a982c) {
    return _0x1a982c.substring(0, _0x1a982c["length"] - this["textCursor"]["length"]);
  }
  ["positionText"]() {
    if (this["textfield"]) {
      var _0x34c1fe = this["surface"]["cursor"]["label"],
        _0x45603d = Number(_0x34c1fe.css("top")["replace"]("px", "")),
        _0x7961ae = Number(_0x34c1fe.css("left").replace("px", "")),
        _0x5496b7 = _0x34c1fe["height"]();
      this["textfield"]["css"]({
        top: _0x45603d + _0x5496b7 + "px",
        left: _0x7961ae + "px"
      });
    }
  }
  ["composite"]() {
    room["board"]["layers"][this["surface"]["currentLayer"]].advCanvas["setCanvasProperties"]({
      font: this["getOption"]("size") + this["minSize"] + "px \"" + this.getOption("font") + '"',
      strokestyle: this["surface"]["drawColor"],
      fillstyle: this["surface"]["drawColor"],
      alpha: this["getOption"]("alpha"),
      blendmode: "normal",
      blur: 0,
      linedash: [],
      textBaseline: "top"
    });
    var _0x48f9e6 = room["board"].getContext(this.surface["currentLayer"]);
    _0x48f9e6.fillText($("<textarea/>").html(this.getPlainText()).text(), this["posX"], this["posY"]);
  }
  ["enable"]() {
    this["enabled"] = true, this["changeSize"](this["getOption"]("size")), this["textfield"]["css"]("opacity", this.getOption("alpha")), this["setText"](this.textCursor);
  }
  ["disable"]() {
    this["enabled"] = false, this["changeSize"](this["defaultSize"]), this["textfield"]["css"]("opacity", 1), this["setText"](this["disabledCursor"]);
  }
  ["changeSize"](_0xa4a966) {
    this.textfield && this["textfield"]["css"]({
      "font-size": _0xa4a966 + this["minSize"] + "px",
      "line-height": _0xa4a966 + this["minSize"] + "px"
    });
  }
  ["toggle"]() {
    this.enabled ? this["disable"]() : this["enable"]();
  }
}
class BrushRect extends BrushStub {
  constructor(_0x43dfb9) {
    super(_0x43dfb9), this["options"] = {}, this["options"]["size"] = new SizeOption(), this["options"]["alpha"] = new AlphaOption(), this["options"].blur = new BlurOption(), this["options"]["blendmode"] = new BlendModeOption(), this["options"]["fill"] = new FillOption(), this["options"]["aspectratio"] = new AspectRatioOption(), this["options"]["rightclick"] = new RightClickOption("rect"), this["options"]["cursor"] = new CursorOption("circle"), this["start"], this["end"];
  }
  ["brushStart"]() {
    this["surface"]["cursor"].changePointer(this["getOption"]("cursor"));
  }
  ["drawStart"](_0x148eaa, _0x756cf7, _0x294274) {
    this["surface"]["slate"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: this["getOption"]("size"),
      strokestyle: _0x294274,
      fillstyle: _0x294274,
      alpha: 1,
      blendmode: "normal",
      blur: 0,
      linedash: []
    }), this.surface["slate"].setCSSProperties({
      alpha: this["getOption"]("alpha"),
      blendmode: this["getOption"]("blendmode") || "normal",
      blur: this["getOption"]("blur")
    }), this.start = new Point(_0x148eaa, _0x756cf7);
  }
  ["drawStep"](_0x5324ee, _0x193eaa, _0x52fb23) {
    this["redraw"](this.start, _0x193eaa, _0x52fb23), this["end"] = _0x193eaa;
  }
  ["drawEnd"](_0x10378e, _0x4a317b, _0x109fef) {
    this["end"] = new Point(_0x10378e, _0x4a317b), this.composite();
  }
  ["redraw"](_0x1a360f, _0x1bc83b, _0x32381f) {
    this["clearSlate"]();
    if (this.getOption("aspectratio")) {
      var _0x264a01 = this["getMinDistance"](_0x1bc83b.x - _0x1a360f.x, _0x1bc83b.y - _0x1a360f.y),
        _0x21f9a5 = _0x1bc83b.x - _0x1a360f.x > 0 ? 1 : -1,
        _0x3479dc = _0x1bc83b.y - _0x1a360f.y > 0 ? 1 : -1;
      this["getOption"]("fill") ? this["contextSlate"]["fillRect"](_0x1a360f.x, _0x1a360f.y, _0x264a01 * _0x21f9a5, _0x264a01 * _0x3479dc) : this["contextSlate"]["strokeRect"](_0x1a360f.x, _0x1a360f.y, _0x264a01 * _0x21f9a5, _0x264a01 * _0x3479dc);
    } else this["getOption"]("fill") ? this["contextSlate"].fillRect(_0x1a360f.x, _0x1a360f.y, _0x1bc83b.x - _0x1a360f.x, _0x1bc83b.y - _0x1a360f.y) : this["contextSlate"]["strokeRect"](_0x1a360f.x, _0x1a360f.y, _0x1bc83b.x - _0x1a360f.x, _0x1bc83b.y - _0x1a360f.y);
  }
  ["getMinDistance"](_0x34b68a, _0x374146) {
    return _0x34b68a = _0x34b68a < 0 ? -_0x34b68a : _0x34b68a, _0x374146 = _0x374146 < 0 ? -_0x374146 : _0x374146, Math.min(_0x34b68a, _0x374146);
  }
  ["composite"]() {
    room["board"]["layers"][this["surface"]["currentLayer"]]["advCanvas"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: this["getOption"]("size"),
      strokestyle: this["surface"].drawColor,
      fillstyle: this["surface"]["drawColor"],
      alpha: this.getOption("alpha"),
      blendmode: this.getOption("blendmode") || "normal",
      blur: this.getOption("blur"),
      linedash: []
    });
    var _0x397440 = room["board"].getContext(this["surface"].currentLayer);
    if (this.getOption("aspectratio")) {
      var _0x23592a = this.getMinDistance(this["end"].x - this["start"].x, this["end"].y - this["start"].y),
        _0x440046 = this["end"].x - this.start.x > 0 ? 1 : -1,
        _0x21b617 = this["end"].y - this["start"].y > 0 ? 1 : -1;
      this["getOption"]("fill") ? _0x397440["fillRect"](this["start"].x, this["start"].y, _0x23592a * _0x440046, _0x23592a * _0x21b617) : _0x397440["strokeRect"](this.start.x, this["start"].y, _0x23592a * _0x440046, _0x23592a * _0x21b617);
    } else this["getOption"]("fill") ? _0x397440["fillRect"](this.start.x, this["start"].y, this["end"].x - this["start"].x, this["end"].y - this.start.y) : _0x397440["strokeRect"](this["start"].x, this["start"].y, this.end.x - this["start"].x, this["end"].y - this["start"].y);
    this["clearSlate"](), this["start"] = null, this.end = null;
  }
  ["clearSlate"]() {
    this["contextSlate"]["clearRect"](0, 0, this["contextSlate"]["canvas"]["width"], this["contextSlate"].canvas["height"]);
  }
  ["getSync"]() {
    var _0x5ddcc2 = {};
    return _0x5ddcc2["start"] = this.start, _0x5ddcc2;
  }
  ["setSync"](_0x5960d3) {
    this["drawStart"](_0x5960d3.start.x, _0x5960d3["start"].y, this["surface"].drawColor);
  }
  ["cancel"]() {
    this["clearSlate"](), this["start"] = null, this.end = null;
  }
  ["colorChange"](_0x294baf) {
    this["contextSlate"]["strokeStyle"] = _0x294baf, this["start"] && this["end"] && this["redraw"](this["start"], this.end, _0x294baf);
  }
  ["optionChange"](_0x3edca0, _0x1f1c15) {
    if (_0x3edca0 == "size") this["surface"]["slate"]["setCanvasProperties"]({
      linewidth: _0x1f1c15
    }); else {
      if (_0x3edca0 == "alpha") this["surface"]["slate"].setCSSProperties({
        alpha: _0x1f1c15
      }); else {
        if (_0x3edca0 == "blendmode") this.surface.slate["setCSSProperties"]({
          blendmode: _0x1f1c15
        }); else _0x3edca0 == "blur" && this.surface["slate"]["setCSSProperties"]({
          blur: _0x1f1c15
        });
      }
    }
  }
  ["optionChanged"](_0x134c9a, _0x13a192) {
    this["start"] && this.end && this["redraw"](this["start"], this["end"], this.surface["drawColor"]), _0x134c9a == "cursor" && this["surface"].cursor.changePointer(_0x13a192);
  }
}
class BrushLine extends BrushStub {
  constructor(_0x3ad08f) {
    super(_0x3ad08f), this["options"] = {}, this["options"]["size"] = new SizeOption(), this["options"].alpha = new AlphaOption(), this.options["blur"] = new BlurOption(), this["options"]["blendmode"] = new BlendModeOption(), this.options["snap"] = new SnapOption(), this["options"]["rightclick"] = new RightClickOption("line"), this["options"]["cursor"] = new CursorOption("circle"), this["start"], this.end;
  }
  ["brushStart"]() {
    this["surface"]["cursor"]["changePointer"](this["getOption"]("cursor"));
  }
  ["drawStart"](_0x4e2f91, _0x16e8a0, _0x284300) {
    this.surface["slate"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: this["getOption"]("size"),
      strokestyle: _0x284300,
      alpha: 1,
      blendmode: "normal",
      blur: 0,
      linedash: []
    }), this["surface"].slate["setCSSProperties"]({
      alpha: this["getOption"]("alpha"),
      blendmode: this["getOption"]("blendmode") || "normal",
      blur: this.getOption("blur")
    }), this["start"] = new Point(_0x4e2f91, _0x16e8a0);
  }
  ["drawStep"](_0x1ca757, _0x348692, _0x5f27f2) {
    this.redraw(this["start"], _0x348692, _0x5f27f2), this["end"] = _0x348692;
  }
  ["redraw"](_0x27decc, _0x3cc7a0, _0x359e09) {
    this.clearSlate(), this["contextSlate"]["beginPath"](), this["contextSlate"]["moveTo"](_0x27decc.x, _0x27decc.y);
    if (!this.getOption("snap")) this.contextSlate["lineTo"](_0x3cc7a0.x, _0x3cc7a0.y); else {
      var _0x196d77 = this["snapPosition"](_0x27decc, _0x3cc7a0);
      this["contextSlate"]["lineTo"](_0x196d77.x, _0x196d77.y);
    }
    this["contextSlate"]["stroke"]();
  }
  ["drawEnd"](_0x5457c2, _0x7fb7fe, _0x337600) {
    this.end = new Point(_0x5457c2, _0x7fb7fe), this.composite();
  }
  ["composite"]() {
    room["board"]["layers"][this.surface.currentLayer].advCanvas["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: this.getOption("size"),
      strokestyle: this.surface["drawColor"],
      alpha: this.getOption("alpha"),
      blendmode: this.getOption("blendmode") || "normal",
      blur: this["getOption"]("blur"),
      linedash: []
    });
    var _0x5cb0bf = room["board"]["getContext"](this["surface"]["currentLayer"]);
    _0x5cb0bf["beginPath"](), _0x5cb0bf["moveTo"](this["start"].x, this.start.y);
    if (!this["getOption"]("snap")) _0x5cb0bf["lineTo"](this["end"].x, this["end"].y); else {
      var _0x1d40de = this["snapPosition"](this.start, this["end"]);
      _0x5cb0bf["lineTo"](_0x1d40de.x, _0x1d40de.y);
    }
    _0x5cb0bf["stroke"](), this.clearSlate(), this.start = null, this["end"] = null;
  }
  ["cancel"]() {
    this.clearSlate(), this.start = null, this.end = null;
  }
  ["getSync"]() {
    var _0x329027 = {};
    return _0x329027["start"] = this["start"], _0x329027;
  }
  ["setSync"](_0x54914c) {
    this["drawStart"](_0x54914c["start"].x, _0x54914c["start"].y, this["surface"]["drawColor"]);
  }
  ["snapPosition"](_0x1a5c71, _0x406ad6) {
    var _0x1a4fde = _0x406ad6.x - _0x1a5c71.x,
      _0x262a37 = _0x406ad6.y - _0x1a5c71.y,
      _0x673dfb = Math.sqrt(_0x1a4fde * _0x1a4fde + _0x262a37 * _0x262a37),
      _0x1b789f = Math["atan2"](_0x262a37, _0x1a4fde) / Math.PI * 180;
    _0x1b789f = angleSnap(_0x1b789f);
    var _0x21ecb5 = _0x673dfb * Math["cos"](_0x1b789f * Math.PI / 180),
      _0x19ddce = _0x673dfb * Math["sin"](_0x1b789f * Math.PI / 180);
    return new Point(_0x21ecb5 + _0x1a5c71.x, _0x19ddce + _0x1a5c71.y);
  }
  ["clearSlate"]() {
    this["contextSlate"]["clearRect"](0, 0, this["contextSlate"]["canvas"]["width"], this.contextSlate.canvas.height);
  }
  ["colorChange"](_0x25d7d5) {
    this.contextSlate["strokeStyle"] = _0x25d7d5, this["start"] && this["end"] && this["redraw"](this["start"], this["end"], _0x25d7d5);
  }
  ["optionChange"](_0x231195, _0x2cb6a3) {
    if (_0x231195 == "size") this["surface"]["slate"]["setCanvasProperties"]({
      linewidth: _0x2cb6a3
    }); else {
      if (_0x231195 == "alpha") this["surface"]["slate"]["setCSSProperties"]({
        alpha: _0x2cb6a3
      }); else {
        if (_0x231195 == "blendmode") this["surface"].slate["setCSSProperties"]({
          blendmode: _0x2cb6a3
        }); else _0x231195 == "blur" && this["surface"]["slate"].setCSSProperties({
          blur: _0x2cb6a3
        });
      }
    }
  }
  ["optionChanged"](_0x16bce9, _0x5ad32f) {
    this["start"] && this["end"] && this.redraw(this["start"], this.end, this["surface"]["drawColor"]), _0x16bce9 == "cursor" && this["surface"].cursor["changePointer"](_0x5ad32f);
  }
}
class BrushEllipse extends BrushStub {
  constructor(_0xa98314) {
    super(_0xa98314), this["options"] = {}, this.options["size"] = new SizeOption(), this.options["alpha"] = new AlphaOption(), this["options"]["blur"] = new BlurOption(), this.options["blendmode"] = new BlendModeOption(), this["options"]["fill"] = new FillOption(), this.options["aspectratio"] = new AspectRatioOption(), this.options["rightclick"] = new RightClickOption("ellipse"), this["options"].cursor = new CursorOption("circle"), this.start, this.end;
  }
  ["brushStart"]() {
    this.surface.cursor["changePointer"](this["getOption"]("cursor"));
  }
  ["drawStart"](_0x3765cd, _0x641bf3, _0x4a2443) {
    this.surface["slate"]["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: this["getOption"]("size"),
      strokestyle: _0x4a2443,
      fillstyle: _0x4a2443,
      alpha: 1,
      blendmode: "normal",
      blur: 0,
      linedash: []
    }), this.surface["slate"]["setCSSProperties"]({
      alpha: this.getOption("alpha"),
      blendmode: this["getOption"]("blendmode") || "normal",
      blur: this["getOption"]("blur")
    }), this["start"] = new Point(_0x3765cd, _0x641bf3);
  }
  ["drawStep"](_0x2df993, _0x31f7aa, _0x39eb5b) {
    this.redraw(this["start"], _0x31f7aa, _0x39eb5b), this["end"] = _0x31f7aa;
  }
  ["drawEnd"](_0x5aa548, _0x4ac7a6, _0x5a46b4) {
    this.end = new Point(_0x5aa548, _0x4ac7a6), this["composite"]();
  }
  ["redraw"](_0x2473b8, _0x40f649, _0x36adcc) {
    this["clearSlate"](), this.contextSlate["beginPath"]();
    if (this.getOption("aspectratio")) {
      var _0x11d494 = this["getMinDistance"](_0x40f649.x - _0x2473b8.x, _0x40f649.y - _0x2473b8.y) / 2,
        _0x1adb72 = _0x40f649.x - _0x2473b8.x > 0 ? 1 : -1,
        _0x322f9c = _0x40f649.y - _0x2473b8.y > 0 ? 1 : -1,
        _0x51425a = _0x11d494 < 0 ? -_0x11d494 : _0x11d494;
      this["contextSlate"]["ellipse"](_0x2473b8.x + _0x11d494 * _0x1adb72, _0x2473b8.y + _0x11d494 * _0x322f9c, _0x51425a, _0x51425a, 0, 0, Math.PI * 2), this["getOption"]("fill") && this["contextSlate"]["fill"]();
    } else {
      var _0x484352 = (_0x40f649.x - _0x2473b8.x) / 2,
        _0x2ef185 = (_0x40f649.y - _0x2473b8.y) / 2,
        _0x1942ea = _0x484352 < 0 ? -_0x484352 : _0x484352,
        _0x1b381f = _0x2ef185 < 0 ? -_0x2ef185 : _0x2ef185;
      this["contextSlate"]["ellipse"](_0x2473b8.x + _0x484352, _0x2473b8.y + _0x2ef185, _0x1942ea, _0x1b381f, 0, 0, Math.PI * 2), this["getOption"]("fill") && this["contextSlate"]["fill"]();
    }
    this.contextSlate["stroke"]();
  }
  ["composite"]() {
    room["board"].layers[this["surface"]["currentLayer"]].advCanvas.setCanvasProperties({
      linejoin: "round",
      linecap: "round",
      linewidth: this["getOption"]("size"),
      strokestyle: this.surface["drawColor"],
      fillstyle: this["surface"]["drawColor"],
      alpha: this["getOption"]("alpha"),
      blendmode: this["getOption"]("blendmode") || "normal",
      blur: this["getOption"]("blur"),
      linedash: []
    });
    var _0x29302f = room["board"]["getContext"](this["surface"]["currentLayer"]);
    _0x29302f["beginPath"]();
    if (this.getOption("aspectratio")) {
      var _0x2a1e83 = this["getMinDistance"](this.end.x - this["start"].x, this["end"].y - this["start"].y) / 2,
        _0x55f04d = this.end.x - this["start"].x > 0 ? 1 : -1,
        _0xe60a43 = this["end"].y - this["start"].y > 0 ? 1 : -1,
        _0x3fb647 = _0x2a1e83 < 0 ? -_0x2a1e83 : _0x2a1e83;
      _0x29302f.ellipse(this["start"].x + _0x2a1e83 * _0x55f04d, this.start.y + _0x2a1e83 * _0xe60a43, _0x3fb647, _0x3fb647, 0, 0, Math.PI * 2), this["getOption"]("fill") && _0x29302f["fill"]();
    } else {
      var _0x49e0c5 = (this["end"].x - this["start"].x) / 2,
        _0x2c5b7b = (this["end"].y - this["start"].y) / 2,
        _0x1b22c4 = _0x49e0c5 < 0 ? -_0x49e0c5 : _0x49e0c5,
        _0x41ab15 = _0x2c5b7b < 0 ? -_0x2c5b7b : _0x2c5b7b;
      _0x29302f["ellipse"](this.start.x + _0x49e0c5, this["start"].y + _0x2c5b7b, _0x1b22c4, _0x41ab15, 0, 0, Math.PI * 2), this.getOption("fill") && _0x29302f["fill"]();
    }
    _0x29302f.stroke(), this["clearSlate"](), this["start"] = null, this["end"] = null;
  }
  ["getMinDistance"](_0x4ca266, _0x4d1aee) {
    return _0x4ca266 = _0x4ca266 < 0 ? -_0x4ca266 : _0x4ca266, _0x4d1aee = _0x4d1aee < 0 ? -_0x4d1aee : _0x4d1aee, Math["min"](_0x4ca266, _0x4d1aee);
  }
  ["clearSlate"]() {
    this["contextSlate"]["clearRect"](0, 0, this["contextSlate"]["canvas"]["width"], this["contextSlate"]["canvas"]["height"]);
  }
  ["getSync"]() {
    var _0x22f0e3 = {};
    return _0x22f0e3["start"] = this.start, _0x22f0e3;
  }
  ["setSync"](_0x41611b) {
    this["drawStart"](_0x41611b["start"].x, _0x41611b.start.y, this["surface"]["drawColor"]);
  }
  ["cancel"]() {
    this["clearSlate"](), this.start = null, this.end = null;
  }
  ["colorChange"](_0x1fb82b) {
    this["contextSlate"]["strokeStyle"] = _0x1fb82b, this["start"] && this["end"] && this.redraw(this["start"], this["end"], _0x1fb82b);
  }
  ["optionChange"](_0x3ec07b, _0x3bff78) {
    if (_0x3ec07b == "size") this["surface"]["slate"]["setCanvasProperties"]({
      linewidth: _0x3bff78
    }); else {
      if (_0x3ec07b == "alpha") this["surface"]["slate"]["setCSSProperties"]({
        alpha: _0x3bff78
      }); else {
        if (_0x3ec07b == "blendmode") this.surface.slate.setCSSProperties({
          blendmode: _0x3bff78
        }); else _0x3ec07b == "blur" && this["surface"]["slate"]["setCSSProperties"]({
          blur: _0x3bff78
        });
      }
    }
  }
  ["optionChanged"](_0x3c3e17, _0x2741b3) {
    this["start"] && this["end"] && this["redraw"](this.start, this["end"], this["surface"]["drawColor"]), _0x3c3e17 == "cursor" && this["surface"]["cursor"].changePointer(_0x2741b3);
  }
}
class BrushFill extends BrushStub {
  constructor(_0x18d953) {
    super(_0x18d953), this["start"], this["colorLayer"], this["filledPixels"], this["maxPixels"] = 1e5, this.options = {}, this.options["size"] = new SizeOption(33, true), this["options"]["alpha"] = new AlphaOption(), this["options"]["rightclick"] = new RightClickOption("fill"), this.options["cursor"] = new CursorOption("crosshair");
  }
  ["brushStart"]() {
    this["surface"]["cursor"]["changePointer"](this.getOption("cursor"));
  }
  ["optionChanged"](_0x3feabe, _0x3ae26c) {
    _0x3feabe == "cursor" && this["surface"]["cursor"]["changePointer"](_0x3ae26c);
  }
  ["drawEnd"](_0x3b260b, _0x78972f, _0x5dfca9) {
    this["start"] = new Point(parseInt(_0x3b260b), parseInt(_0x78972f)), this.draw();
  }
  ["draw"]() {
    this["filledPixels"] = 0;
    var _0x21bfce = room["board"]["getContext"](this["surface"]["currentLayer"]),
      _0x1148a9 = room["board"]["canvasWidth"],
      _0x226544 = room["board"].canvasHeight;
    this["colorLayer"] = _0x21bfce["getImageData"](0, 0, _0x1148a9, _0x226544);
    var _0x1af81e = (this.start.y * _0x1148a9 + this["start"].x) * 4,
      _0x571e1f = {
        r: this["colorLayer"]["data"][_0x1af81e],
        g: this["colorLayer"].data[_0x1af81e + 1],
        b: this["colorLayer"]["data"][_0x1af81e + 2],
        a: this["colorLayer"]["data"][_0x1af81e + 3]
      },
      _0x279a08 = this["surface"]["drawColor"];
    this["surface"].drawColor[0] != "#" && (_0x279a08 = rgb2hex(this["surface"]["drawColor"]));
    var _0x4a23b8 = hex2rgb(_0x279a08);
    _0x4a23b8.a = this["getOption"]("alpha") * 255;
    this["surface"].currentLayer == 0 && !room.bottomTransparency && (_0x4a23b8 = rgba2rgb(_0x4a23b8.r, _0x4a23b8.g, _0x4a23b8.b, _0x4a23b8.a / 255), _0x4a23b8.a = 255);
    if (!this["sameColor"](_0x571e1f, _0x4a23b8)) {
      var _0x2a0056 = [[this.start.x, this["start"].y]],
        _0x4cfe5c = 0;
      while (_0x2a0056["length"]) {
        var _0x1ffaf0, _0x186a56, _0x405241, _0x1af81e, _0x15590f, _0xee1724;
        _0x1ffaf0 = _0x2a0056["pop"](), _0x186a56 = _0x1ffaf0[0], _0x405241 = _0x1ffaf0[1], _0x1af81e = (_0x405241 * _0x1148a9 + _0x186a56) * 4;
        while (_0x405241-- >= _0x4cfe5c && this.matchesColor(_0x1af81e, _0x571e1f)) {
          _0x1af81e -= _0x1148a9 * 4;
        }
        _0x1af81e += _0x1148a9 * 4, _0x405241++, _0x15590f = false, _0xee1724 = false;
        while (_0x405241++ < _0x226544 - 1 && this.matchesColor(_0x1af81e, _0x571e1f)) {
          if (!this["fillPixel"](_0x1af81e, _0x4a23b8)) {
            this["surface"]["isMyself"] && UI["dialogHandler"].showAlert(textManager["getString"]("alerts.txtAreaTooBig"));
            return;
          }
          if (_0x186a56 > 0) {
            if (this.matchesColor(_0x1af81e - 4, _0x571e1f)) !_0x15590f && (_0x2a0056["push"]([_0x186a56 - 1, _0x405241]), _0x15590f = true); else _0x15590f && (_0x15590f = false);
          }
          if (_0x186a56 < _0x1148a9 - 1) {
            if (this["matchesColor"](_0x1af81e + 4, _0x571e1f)) !_0xee1724 && (_0x2a0056["push"]([_0x186a56 + 1, _0x405241]), _0xee1724 = true); else _0xee1724 && (_0xee1724 = false);
          }
          _0x1af81e += _0x1148a9 * 4;
        }
      }
      this["filledPixels"] < this["maxPixels"] && _0x21bfce["putImageData"](this.colorLayer, 0, 0);
    }
  }
  ["sameColor"](_0x32a649, _0x3e0904) {
    return _0x32a649.r == _0x3e0904.r && _0x32a649.g == _0x3e0904.g && _0x32a649.b == _0x3e0904.b && _0x32a649.a == _0x3e0904.a;
  }
  ["matchesColor"](_0x3c770b, _0xe3d25e) {
    var _0x549bb4 = {
      r: this.colorLayer["data"][_0x3c770b],
      g: this["colorLayer"]["data"][_0x3c770b + 1],
      b: this.colorLayer.data[_0x3c770b + 2],
      a: this["colorLayer"]["data"][_0x3c770b + 3]
    };
    return this.sameColor(_0x549bb4, _0xe3d25e);
  }
  ["fillPixel"](_0x575ce6, _0x443e92) {
    return this["colorLayer"]["data"][_0x575ce6] = _0x443e92.r, this["colorLayer"]["data"][_0x575ce6 + 1] = _0x443e92.g, this["colorLayer"]["data"][_0x575ce6 + 2] = _0x443e92.b, this["colorLayer"]["data"][_0x575ce6 + 3] = _0x443e92.a, ++this["filledPixels"] < this["maxPixels"];
  }
}
class BrushBlend extends BrushStub {
  constructor(_0x110ba3) {
    super(_0x110ba3), this.lastX, this["lastY"], this.options = {}, this["options"]["size"] = new SizeOption(), this["options"]["alpha"] = new AlphaOption(), this["options"]["blur"] = new BlurOption(), this["options"]["blendmode"] = new BlendModeOption(), this.options["cursor"] = new CursorOption("circle");
  }
  ["brushStart"]() {
    this["surface"]["cursor"].changePointer(this["getOption"]("cursor"));
  }
  ["optionChanged"](_0x59c86a, _0x1fc3d8) {
    _0x59c86a == "cursor" && this.surface.cursor["changePointer"](_0x1fc3d8);
  }
  ["drawStart"](_0x381a2b, _0xa5a79a, _0x4c5744) {
    this.plotCircle(_0x381a2b, _0xa5a79a), this["lastX"] = _0x381a2b, this["lastY"] = _0xa5a79a;
  }
  ["drawStep"](_0x36d3b, _0x48ae50, _0xa2b83c) {
    this["getDistance"](_0x36d3b.x, _0x36d3b.y, this.lastX, this.lastY) >= this["getOption"]("size") / 4 && (this["plotCircle"](_0x36d3b.x, _0x36d3b.y), this.lastX = _0x36d3b.x, this["lastY"] = _0x36d3b.y);
  }
  ["onBrushParameter"](_0x584faf) {
    if (_0x584faf && _0x584faf["type"] == "plot") {
      room["board"]["layers"][this.surface["currentLayer"]]["advCanvas"]["setCanvasProperties"]({
        linejoin: "round",
        linecap: "round",
        linewidth: this.getOption("size"),
        strokestyle: _0x584faf["color"],
        alpha: this["getOption"]("alpha"),
        blendmode: this["getOption"]("blendmode") || "normal",
        blur: this["getOption"]("blur")
      });
      var _0x3d1a07 = room["board"]["getContext"](this["surface"].currentLayer);
      _0x3d1a07.beginPath(), _0x3d1a07["moveTo"](_0x584faf.x - 0.5, _0x584faf.y - 0.5), _0x3d1a07["lineTo"](_0x584faf.x + 0.5, _0x584faf.y + 0.5), _0x3d1a07["stroke"]();
    }
  }
  ["plotCircle"](_0x53ed81, _0xc51016) {
    if (this["surface"]["isMyself"]) {
      var _0x4de9a5 = getRadialAvg(room.board["getImageData"](this["surface"]["currentLayer"]), _0x53ed81, _0xc51016, Math["max"](this["getOption"]("size") / 2, 1), room["board"]["backgroundColor"]);
      if (!isNaN(_0x4de9a5[0])) {
        _0x4de9a5 = rgba2rgb(_0x4de9a5[0], _0x4de9a5[1], _0x4de9a5[2], _0x4de9a5[3] / 255);
        var _0x544d46 = rgb2hex("rgb(" + _0x4de9a5.r + "," + _0x4de9a5.g + "," + _0x4de9a5.b + ")"),
          _0x4d5af6 = {};
        _0x4d5af6["type"] = "plot", _0x4d5af6["color"] = _0x544d46, _0x4d5af6.x = _0x53ed81, _0x4d5af6.y = _0xc51016, this["surface"].brushParameter(_0x4d5af6);
      }
    }
  }
}
class BrushCustom extends BrushStub {
  constructor(_0x2085ef) {
    super(_0x2085ef), this["clickX"] = new Array(), this["clickY"] = new Array(), this["options"] = {}, this["options"]["size"] = new SizeOption(), this["options"]["alpha"] = new AlphaOption(), this["options"]["blendmode"] = new BlendModeOption(), this["options"]["spacing"] = new SpacingOption(15), this["options"].tint = new TintOption(), this["options"]["randomrotation"] = new RandomRotationOption(), this["options"]["rotationvalue"] = new RotationValueOption(), this["options"]["gallery"] = new GalleryOption(openBrushGallery), this.options["customize"] = new CustomizeOption(openBrushDesigner), this["options"]["rightclick"] = new RightClickOption("custom"), this["options"]["cursor"] = new CursorOption("square"), this["options"]["image"] = new ImageOption(null), this.brushImage = null, this["brushCache"] = null, this.compositing = false, this["distance"];
  }
  ["brushStart"]() {
    this.surface["cursor"]["changePointer"](this["getOption"]("cursor")), this["cache"](this["getOption"]("size"), this["getOption"]("tint"), this.surface["drawColor"]);
  }
  ["optionChanged"](_0x438916, _0x102ff1) {
    if (_0x438916 == "cursor") this.surface["cursor"]["changePointer"](_0x102ff1); else {
      if (_0x438916 == "image") {
        var _0x57d5bf = this,
          _0x2f2a23 = new Image();
        _0x2f2a23["onload"] = function () {
          _0x57d5bf.brushImage = this, _0x57d5bf.cache(_0x57d5bf["getOption"]("size"), _0x57d5bf["getOption"]("tint"), _0x57d5bf["surface"]["drawColor"]);
        }, _0x2f2a23["src"] = _0x102ff1;
      }
    }
  }
  ["cache"](_0x2fc01e, _0x27e49e, _0x4c16e1) {
    if (this.brushImage) {
      var _0x2fee47;
      _0x4c16e1[0] == "#" ? _0x2fee47 = hex2rgb(_0x4c16e1) : _0x2fee47 = rgb2obj(_0x4c16e1);
      if (_0x2fee47) {
        var _0x44c25f = new AdvancedCanvas(_0x2fc01e, _0x2fc01e),
          _0x22bf8e = _0x44c25f.getContext();
        _0x44c25f["drawImage"](this.brushImage, 0, 0, _0x2fc01e, _0x2fc01e);
        if (_0x27e49e) {
          var _0x313647 = _0x22bf8e["getImageData"](0, 0, _0x2fc01e, _0x2fc01e),
            _0x31fb69 = _0x313647["data"];
          for (var _0x2fa361 = 0; _0x2fa361 < _0x31fb69["length"]; _0x2fa361 += 4) {
            let _0x122e28 = parseInt((_0x31fb69[_0x2fa361] + _0x31fb69[_0x2fa361 + 1] + _0x31fb69[_0x2fa361 + 2]) / 3);
            _0x31fb69[_0x2fa361] = _0x122e28 + _0x2fee47.r, _0x31fb69[_0x2fa361 + 1] = _0x122e28 + _0x2fee47.g, _0x31fb69[_0x2fa361 + 2] = _0x122e28 + _0x2fee47.b;
          }
          _0x22bf8e["putImageData"](_0x313647, 0, 0);
        }
        var _0x388afa = this,
          _0x58de24 = new Image();
        _0x58de24["onload"] = function () {
          _0x388afa["brushCache"] = _0x58de24, _0x44c25f["remove"]();
        }, _0x58de24["src"] = _0x44c25f.getData();
      }
    }
  }
  ["drawStart"](_0x4f03e0, _0x3a65d2, _0x2456dc) {
    if (this["brushCache"]) {
      var _0x58cf3c = this.getOption("size");
      this["surface"]["slate"]["setCanvasProperties"]({
        linejoin: "round",
        linecap: "round",
        linewidth: _0x58cf3c,
        strokestyle: this["surface"]["drawColor"],
        alpha: 1,
        blendmode: "normal",
        blur: 0,
        linedash: []
      }), this["surface"].slate["setCSSProperties"]({
        alpha: this["getOption"]("alpha"),
        blendmode: this["getOption"]("blendmode") || "normal",
        blur: this["getOption"]("blur")
      }), this["removeClicks"](), this["addClick"](_0x4f03e0, _0x3a65d2);
      if (this.getOption("randomrotation")) {
        this["surface"]["isMyself"] && this["surface"].setBrushOption("rotationvalue", Math.floor(Math.random() * 361 + 0));
        var _0x96f84c = parseInt(this["getOption"]("rotationvalue")) * (Math.PI / 180);
        this["contextSlate"]["translate"](_0x4f03e0, _0x3a65d2), this["contextSlate"]["rotate"](_0x96f84c), this.contextSlate.drawImage(this["brushCache"], -_0x58cf3c / 2, -_0x58cf3c / 2, _0x58cf3c, _0x58cf3c), this["contextSlate"]["rotate"](-_0x96f84c), this["contextSlate"]["translate"](-_0x4f03e0, -_0x3a65d2);
      } else this["contextSlate"].drawImage(this.brushCache, _0x4f03e0 - _0x58cf3c / 2, _0x3a65d2 - _0x58cf3c / 2);
      this["distance"] = 0;
    }
  }
  ["drawStep"](_0x44f702, _0x32953c, _0x4e78a1) {
    if (this["brushCache"] && !this["compositing"]) {
      this["getOption"]("randomrotation") && this["surface"].isMyself && this["surface"]["setBrushOption"]("rotationvalue", Math.floor(Math.random() * 361 + 0));
      var _0x76ca90 = new Point(_0x32953c.x - _0x44f702.x, _0x32953c.y - _0x44f702.y),
        _0x4e53d8 = Math["sqrt"](_0x76ca90.x * _0x76ca90.x + _0x76ca90.y * _0x76ca90.y),
        _0x332089 = this["getOption"]("size"),
        _0x294f05 = this["getOption"]("spacing") * 4;
      let _0x576b9c = this["calculateLine"](_0x44f702.x, _0x44f702.y, _0x32953c.x, _0x32953c.y);
      var _0x497fbd = this;
      $["each"](_0x576b9c, function (_0x3922af, _0x904d07) {
        if (++_0x497fbd["distance"] >= _0x332089 * _0x294f05 / 100) {
          _0x497fbd.addClick(_0x904d07.x, _0x904d07.y);
          if (_0x497fbd["getOption"]("randomrotation")) {
            var _0xffe5a7 = parseInt(loopValue(_0x497fbd["getOption"]("rotationvalue") + _0x3922af * 25, 360)) * (Math.PI / 180);
            _0x497fbd["contextSlate"]["translate"](_0x904d07.x, _0x904d07.y), _0x497fbd.contextSlate["rotate"](_0xffe5a7), _0x497fbd["contextSlate"]["drawImage"](_0x497fbd["brushCache"], -_0x332089 / 2, -_0x332089 / 2, _0x332089, _0x332089), _0x497fbd["contextSlate"].rotate(-_0xffe5a7), _0x497fbd["contextSlate"]["translate"](-_0x904d07.x, -_0x904d07.y);
          } else _0x497fbd["contextSlate"]["drawImage"](_0x497fbd.brushCache, _0x904d07.x - _0x332089 / 2, _0x904d07.y - _0x332089 / 2);
          _0x497fbd["distance"] = 0;
        }
      });
    }
  }
  ["drawEnd"](_0x379517, _0x2872a8, _0x5113c1) {
    this["composite"]();
  }
  ["colorChange"](_0x3bd546) {
    this.cache(this["getOption"]("size"), this.getOption("tint"), _0x3bd546);
  }
  ["optionChange"](_0x4a8f34, _0xa3f451) {
    if (_0x4a8f34 == "blendmode") this["surface"]["slate"]["canvas"]["css"]("mix-blend-mode", _0xa3f451); else {
      if (_0x4a8f34 == "blur") this["contextSlate"]["filter"] = "blur(" + _0xa3f451 + "px)"; else {
        if (_0x4a8f34 == "size") this["cache"](_0xa3f451, this["getOption"]("tint"), this["surface"]["drawColor"]); else _0x4a8f34 == "tint" && this["cache"](this["getOption"]("size"), _0xa3f451, this["surface"]["drawColor"]);
      }
    }
    if (_0x4a8f34 != "rotationvalue") {
      var _0x20643d = this["clickX"]["length"];
      if (_0x20643d > 0) {
        var _0xbf678d = new Point(this["clickX"][_0x20643d - 1], this.clickY[_0x20643d - 1]);
        this["composite"](), this["addClick"](_0xbf678d.x, _0xbf678d.y);
      }
    }
  }
  ["composite"]() {
    if (!this["compositing"]) {
      this["compositing"] = true, room["board"]["layers"][this["surface"]["currentLayer"]].advCanvas["setCanvasProperties"]({
        linejoin: "round",
        linecap: "round",
        alpha: this["getOption"]("alpha"),
        blendmode: this.getOption("blendmode") || "normal",
        blur: 0,
        linedash: []
      });
      var _0x4a2ccd = this,
        _0x35eb62 = new Image();
      _0x35eb62.onload = function () {
        var _0x41ab20 = room["board"]["getContext"](_0x4a2ccd.surface["currentLayer"]),
          _0x552206 = _0x41ab20["globalAlpha"];
        _0x41ab20["imageSmoothingEnabled"] = false, _0x41ab20["drawImage"](_0x35eb62, 0, 0), _0x4a2ccd["clearSlate"](), _0x4a2ccd["removeClicks"](), _0x4a2ccd["compositing"] = false;
      }, _0x35eb62["src"] = this.surface["slate"]["getData"]();
    }
  }
  ["addClick"](_0x44a68b, _0x32694b) {
    this.clickX["push"](_0x44a68b), this["clickY"]["push"](_0x32694b);
  }
  ["removeClicks"]() {
    this["clickX"] = new Array(), this.clickY = new Array();
  }
  ["clearSlate"]() {
    this.contextSlate["clearRect"](0, 0, this.contextSlate["canvas"].width, this["contextSlate"]["canvas"]["height"]);
  }
  ["cancel"]() {
    this["clearSlate"](), this.removeClicks();
  }
  ["getSync"]() {
    var _0x2af73b = {};
    return _0x2af73b.clickX = this["clickX"], _0x2af73b.clickY = this["clickY"], _0x2af73b;
  }
  ["setSync"](_0x85510a) {
    this.clickX = _0x85510a["clickX"], this["clickY"] = _0x85510a["clickY"], this["redraw"]();
  }
  ["redraw"]() {
    if (this["brushCache"]) {
      var _0x2286f8 = this["getOption"]("size");
      this.clearSlate(), this["surface"]["slate"]["setCanvasProperties"]({
        linejoin: "round",
        linecap: "round",
        linewidth: _0x2286f8,
        strokestyle: this["surface"]["drawColor"],
        alpha: 1,
        blendmode: "normal",
        blur: 0,
        linedash: []
      });
      for (var _0x4ab5d0 = 0; _0x4ab5d0 < this.clickX["length"]; _0x4ab5d0++) {
        this["contextSlate"]["drawImage"](this["brushCache"], this["clickX"][_0x4ab5d0] - _0x2286f8 / 2, this["clickY"][_0x4ab5d0] - _0x2286f8 / 2);
      }
    }
  }
}
class BrushBlur extends BrushStub {
  constructor(_0x66f3f6) {
    super(_0x66f3f6), this["lastX"], this["lastY"], this["advCanvas"], this.options = {}, this["options"]["size"] = new SizeOption(), this.options["cursor"] = new CursorOption("square");
  }
  ["brushStart"]() {
    this["advCanvas"] = new AdvancedCanvas(this["getOption"]("size"), this["getOption"]("size")), this["surface"]["cursor"]["changePointer"](this["getOption"]("cursor"));
  }
  ["brushStop"]() {
    this.advCanvas["remove"]();
  }
  ["optionChanged"](_0x3d62a1, _0xfc9ef8) {
    _0x3d62a1 == "cursor" && this["surface"].cursor["changePointer"](_0xfc9ef8);
  }
  ["drawStart"](_0x1af9b7, _0x24519f, _0x1b5db1) {
    this["drawBlur"](_0x1af9b7, _0x24519f), this["lastX"] = _0x1af9b7, this.lastY = _0x24519f;
  }
  ["drawStep"](_0x57a293, _0x44ee3a, _0x5d5de7) {
    this["getDistance"](_0x57a293.x, _0x57a293.y, this.lastX, this["lastY"]) >= this["getOption"]("size") / 4 && (this["drawBlur"](_0x57a293.x, _0x57a293.y), this.lastX = _0x57a293.x, this["lastY"] = _0x57a293.y);
  }
  ["drawBlur"](_0x15f7fb, _0x3df570) {
    var _0x38faa4 = room["board"]["getImageData"](this["surface"]["currentLayer"], _0x15f7fb - this.getOption("size") / 2, _0x3df570 - this["getOption"]("size") / 2, this["getOption"]("size"), this.getOption("size")),
      _0x4db252 = room["board"].getContext(this["surface"]["currentLayer"]);
    this.advCanvas.changeSize(this["getOption"]("size"), this["getOption"]("size")), this["advCanvas"]["putImageData"](_0x38faa4), this["advCanvas"].blur(1), _0x4db252.putImageData(this.advCanvas["getImageData"](), _0x15f7fb - this["getOption"]("size") / 2, _0x3df570 - this.getOption("size") / 2);
  }
}
class BrushPixel extends BrushStub {
  constructor(_0xee5f3e) {
    super(_0xee5f3e), this["clickX"] = new Array(), this.clickY = new Array(), this["options"] = {}, this.options["size"] = new SizeOption(), this["options"].drawgrid = new DrawGridOption(true), this.options["erasermode"] = new EraserModeOption(), this["options"].rightclick = new RightClickOption("pixel"), this["options"]["cursor"] = new CursorOption("square");
  }
  ["brushStart"]() {
    this["surface"]["cursor"]["changePointer"](this["getOption"]("cursor")), this["drawGrid"]();
  }
  ["brushStop"]() {
    this["clearSlate"]();
  }
  ["drawStart"](_0x224047, _0x3994ca, _0x1a01ee) {
    this["setupSlate"](), this["removeClicks"]();
    var _0x5eed31 = this["getOption"]("size"),
      _0x505bf1 = Math["floor"](_0x224047 / _0x5eed31),
      _0x430444 = Math["floor"](_0x3994ca / _0x5eed31);
    this.addClick(_0x505bf1, _0x430444), this.getOption("erasermode") ? (this["composite"](), this["drawGrid"]()) : this.contextSlate["fillRect"](_0x505bf1 * _0x5eed31, _0x430444 * _0x5eed31, _0x5eed31, _0x5eed31);
  }
  ["drawStep"](_0x4ba038, _0x156579, _0x42df1e) {
    var _0x2a953 = this["getOption"]("size"),
      _0x3f4cb1 = new Array();
    this["getOption"]("erasermode") ? _0x3f4cb1["push"](new Point(_0x156579.x, _0x156579.y)) : _0x3f4cb1 = this.calculateLine(_0x4ba038.x, _0x4ba038.y, _0x156579.x, _0x156579.y);
    var _0x339733 = this;
    $["each"](_0x3f4cb1, function (_0x1f1b51, _0x45fba5) {
      var _0x3bec86 = Math["floor"](_0x45fba5.x / _0x2a953),
        _0x12acff = Math["floor"](_0x45fba5.y / _0x2a953);
      !_0x339733["clickExists"](_0x3bec86, _0x12acff) && (_0x339733["addClick"](_0x3bec86, _0x12acff), _0x339733["getOption"]("erasermode") ? (_0x339733["composite"](), _0x339733["drawGrid"]()) : _0x339733.contextSlate["fillRect"](_0x3bec86 * _0x2a953, _0x12acff * _0x2a953, _0x2a953, _0x2a953));
    });
  }
  ["optionChange"](_0x342843, _0x156b59) {
    if (_0x342843 == "size") {
      var _0x4901be = this["clickX"].length;
      _0x4901be > 0 && this["composite"]();
    }
  }
  ["drawEnd"](_0x318789, _0x319502, _0x38e559) {
    this["composite"](), this["clearSlate"](), this.drawGrid();
  }
  ["addClick"](_0x140f1a, _0x5e886a) {
    this.clickX["push"](_0x140f1a), this.clickY["push"](_0x5e886a);
  }
  ["removeClicks"]() {
    this["clickX"] = new Array(), this["clickY"] = new Array();
  }
  ["clickExists"](_0x163e11, _0x4a833f) {
    for (var _0xc84aee = 0; _0xc84aee < this.clickX["length"]; _0xc84aee++) {
      if (this.clickX[_0xc84aee] == _0x163e11 && this["clickY"][_0xc84aee] == _0x4a833f) return true;
    }
    return false;
  }
  ["optionChanged"](_0x4fb3c5, _0x273cd5) {
    if (_0x4fb3c5 == "size") this["clickX"]["length"] > 0 ? this["composite"]() : this.clearSlate(), this["drawGrid"](); else {
      if (_0x4fb3c5 == "drawgrid") this["clickX"]["length"] > 0 ? this["composite"]() : this["clearSlate"](), this["drawGrid"](); else _0x4fb3c5 == "cursor" && this.surface["cursor"]["changePointer"](_0x273cd5);
    }
  }
  ["composite"]() {
    var _0x212574 = this["getOption"]("size"),
      _0xc7d52f = "normal";
    this["getOption"]("erasermode") && (_0xc7d52f = "destination-out");
    room["board"]["layers"][this.surface.currentLayer].advCanvas["setCanvasProperties"]({
      fillstyle: _0xc7d52f == "normal" ? this["surface"]["drawColor"] : room["board"]["backgroundColor"],
      alpha: 1,
      blendmode: _0xc7d52f,
      blur: 0,
      linedash: []
    });
    var _0x5c8b03 = room["board"]["getContext"](this["surface"]["currentLayer"]);
    for (var _0x50c913 = 0; _0x50c913 < this["clickX"].length; _0x50c913++) {
      _0x5c8b03["fillRect"](this.clickX[_0x50c913] * _0x212574, this["clickY"][_0x50c913] * _0x212574, _0x212574, _0x212574);
    }
    this["removeClicks"](), this["clearSlate"]();
  }
  ["drawGrid"]() {
    var _0x417588 = this["getOption"]("size");
    if (this["getOption"]("drawgrid") && _0x417588 >= 3 && this["surface"]["isMyself"]) {
      this["surface"]["slate"].setCanvasProperties({
        linejoin: "round",
        linecap: "round",
        linewidth: 1,
        strokestyle: "#808080",
        alpha: 1,
        blendmode: "normal",
        blur: 0,
        linedash: []
      }), this["surface"]["slate"]["setCSSProperties"]({
        alpha: 1,
        blendmode: "normal",
        blur: 0
      }), this["contextSlate"].beginPath();
      for (var _0x19a0c9 = 0; _0x19a0c9 < room["board"].canvasWidth / _0x417588; _0x19a0c9++) {
        this["contextSlate"].moveTo(_0x19a0c9 * _0x417588, 0), this["contextSlate"].lineTo(_0x19a0c9 * _0x417588, room["board"]["canvasHeight"]);
      }
      for (var _0x9234cc = 0; _0x9234cc < room["board"].canvasHeight / _0x417588; _0x9234cc++) {
        this["contextSlate"].moveTo(0, _0x9234cc * _0x417588), this.contextSlate["lineTo"](room["board"].canvasWidth, _0x9234cc * _0x417588);
      }
      this["contextSlate"]["stroke"]();
    }
  }
  ["setupSlate"]() {
    this.surface["slate"]["setCanvasProperties"]({
      fillstyle: this["surface"]["drawColor"],
      alpha: 1,
      blendmode: "normal",
      blur: 0
    }), this["surface"]["slate"]["setCSSProperties"]({
      alpha: 1,
      blendmode: "normal",
      blur: 0
    });
  }
  ["clearSlate"]() {
    this["contextSlate"]["clearRect"](0, 0, this["contextSlate"]["canvas"]["width"], this["contextSlate"]["canvas"]["height"]);
  }
  ["cancel"]() {
    this["clearSlate"](), this["removeClicks"]();
  }
  ["isUsingSlate"]() {
    return this.surface["isMyself"] && this["getOption"]("drawgrid");
  }
}
class Component {
  constructor() { }
}
class UIComponent extends Component {
  constructor(_0x253bc1) {
    super(), this["container"] = _0x253bc1, this["readOnly"] = false;
  }
  ["setName"](_0x3ae159) {
    this["container"]["attr"]("name", _0x3ae159);
  }
  ["getName"]() {
    return this["container"]["attr"]("name");
  }
  ["setReadOnly"](_0x47e78b) {
    this["readOnly"] = _0x47e78b, _0x47e78b ? (this["container"]["addClass"]("readOnly"), $(this)["triggerHandler"](new componentDisabledEvent().getEvent())) : (this.container.removeClass("readOnly"), $(this)["triggerHandler"](new componentEnabledEvent()["getEvent"]()));
  }
  ["focus"]() { }
}
class Slider extends UIComponent {
  constructor(_0x4e1dd6, _0x57c5b6 = 10, _0x42397f = 20, _0x7b7f1 = 1, _0x151f68 = null, _0x1c29b0 = "slider") {
    super(_0x4e1dd6);
    !this.container["hasClass"]("fmSlider") && this["container"]["addClass"]("fmSlider");
    this.thumb = $("<div />"), this["thumb"]["addClass"]("fmThumb"), this.selectedArea = $("<div />"), this.selectedArea["addClass"]("fmSelectedArea"), this["namespace"] = _0x1c29b0, this["container"]["empty"](), this.container["append"](this["thumb"]), this["container"]["append"](this.selectedArea), this["isDragging"] = false, this.min, this["max"], this["step"], this["setup"](_0x57c5b6, _0x42397f, _0x7b7f1), this.labelCallback = _0x151f68, this["value"] = _0x57c5b6, this["snap"] = true, this.tmpValue = this["value"], this["setLabel"](this["value"]);
    var _0xc33f3e = this;
    this["thumb"].on(UI.pointerEvent("down", this["namespace"]), function (_0x300a83) {
      _0x300a83.preventDefault(), (!_0x300a83.which || _0x300a83["which"] == 1) && !_0xc33f3e["readOnly"] && (_0xc33f3e["dragging"](true), UI["setFocusElement"](_0xc33f3e));
    }), this["container"].on(UI["pointerEvent"]("down", this.namespace), function (_0x212487) {
      _0x212487.preventDefault();
      if (!_0x212487["which"] || _0x212487["which"] == 1) {
        if (!_0xc33f3e.readOnly) {
          _0xc33f3e["dragging"](true), UI["setFocusElement"](_0xc33f3e);
          if (_0xc33f3e["steps"] > 1) {
            var _0x49fe22 = UI["getInputPosition"](_0x212487),
              _0xe011cc = _0xc33f3e["container"]["offset"](),
              _0x54af03 = _0xc33f3e.thumb["width"]();
            _0xc33f3e["moveThumb"](_0x49fe22.x - _0xe011cc["left"] - _0x54af03 / 2, true);
          }
        }
      }
    }), $(document).on(UI["pointerEvent"]("move", this.namespace), function (_0x33578f) {
      if (!_0xc33f3e["readOnly"]) {
        if (_0xc33f3e["isDragging"]) {
          if (_0xc33f3e["steps"] > 1) {
            var _0x35150d = UI["getInputPosition"](_0x33578f),
              _0x33351f = _0xc33f3e["container"]["offset"](),
              _0x11bffe = _0xc33f3e["thumb"]["width"](),
              _0x5aa294 = _0xc33f3e["container"]["width"]() - _0x11bffe,
              _0x49ee18 = Math.max(Math.min(_0x35150d.x - _0x33351f["left"] - _0x11bffe / 2, _0x5aa294), 0);
            _0xc33f3e.moveThumb(_0x49ee18);
            var _0x4dc568 = _0xc33f3e["nearest"](_0x49ee18 / (_0x5aa294 / (_0xc33f3e["steps"] - 1)) * _0xc33f3e["step"] + _0xc33f3e["min"], _0xc33f3e["min"], _0xc33f3e["max"], _0xc33f3e["step"]);
            _0x4dc568 != _0xc33f3e["tmpValue"] && ($(_0xc33f3e)["triggerHandler"](new sliderMovedEvent(_0x4dc568, _0xc33f3e["tmpValue"]).getEvent()), _0xc33f3e.tmpValue = _0x4dc568);
          }
        }
      }
    }), $(document).on(UI["pointerEvent"]("up", this.namespace), function (_0x2ec967) {
      _0x2ec967["preventDefault"]();
      if (!_0xc33f3e["readOnly"]) {
        if (_0xc33f3e["isDragging"]) {
          if (_0xc33f3e.steps > 1) {
            var _0x3f04f2 = parseInt(_0xc33f3e["container"]["width"]() - _0xc33f3e["thumb"].width()),
              _0x15422d = parseInt(_0xc33f3e["thumb"]["css"]("left")["replace"]("px", "")),
              _0x50fce7 = _0xc33f3e["nearest"](_0x15422d / (_0x3f04f2 / (_0xc33f3e["steps"] - 1)) * _0xc33f3e.step + _0xc33f3e["min"], _0xc33f3e.min, _0xc33f3e.max, _0xc33f3e["step"]);
            _0xc33f3e["updateValue"](_0x50fce7), _0xc33f3e["snapThumb"]();
          }
          _0xc33f3e.dragging(false), UI["setFocusElement"](_0xc33f3e);
        }
      }
    });
    try {
      if (ResizeObserver) {
        const _0x540a3b = new ResizeObserver(_0x20cb84 => {
          this.refresh();
        });
        _0x540a3b["observe"](this.container[0]);
      }
    } catch (_0x236a57) { }
  }
  ["dragging"](_0x52e85f) {
    this["isDragging"] = _0x52e85f;
  }
  ["setup"](_0x214c57, _0x14233c, _0x2ce257) {
    this["min"] = _0x214c57, this.max = _0x14233c, this["step"] = _0x2ce257, this.steps = (_0x14233c - _0x214c57 + _0x2ce257) / _0x2ce257;
    var _0x277eaf = parseInt(this["container"]["width"]());
    this["setThumbSize"](Math.max(25, _0x277eaf / this["steps"])), this["steps"] > 0 ? this["thumb"]["show"]() : this.thumb["hide"]();
  }
  ["snapThumb"]() {
    var _0x70267f = this["container"]["width"]() - this["thumb"]["width"]();
    this["setThumbPosition"](this.valueToIndex(this["value"]) * (_0x70267f / (this["steps"] - 1)));
  }
  ["updateValue"](_0x3c3057, _0x4eb2fd = false) {
    (this["value"] != _0x3c3057 || _0x4eb2fd) && (_0x3c3057 = this.nearest(_0x3c3057, this.min, this["max"], this["step"]), $(this)["triggerHandler"](new sliderMovedEvent(_0x3c3057, this["value"])["getEvent"]()), $(this).triggerHandler(new sliderChangeEvent(_0x3c3057, this["value"])["getEvent"]()), this.value = _0x3c3057, $(this)["triggerHandler"](new sliderChangedEvent(_0x3c3057, this["value"])["getEvent"]()), this["setLabel"](Math["round"](this["value"] * 100) / 100));
  }
  ["moveThumb"](_0x4af4c7, _0x1acd4a = false) {
    var _0x52361c = this.container["width"]() - this["thumb"]["width"](),
      _0x5434b3 = Math["max"](Math["min"](_0x4af4c7, _0x52361c), 0);
    this.setThumbPosition(_0x5434b3);
    var _0x41a532 = this["nearest"](_0x5434b3 / (_0x52361c / (this["steps"] - 1)) * this["step"] + this["min"], this.min, this["max"], this["step"]);
    _0x1acd4a ? this.updateValue(_0x41a532) : this["setLabel"](Math.round(_0x41a532 * 100) / 100), this["snap"] && !this["isDragging"] && this["snapThumb"]();
  }
  ["nearest"](_0x4f00d7, _0x1755fc, _0x37ca90, _0x37de1e) {
    var _0x2231a3 = (_0x37ca90 - _0x1755fc) / _0x37de1e,
      _0xd64307 = Math["round"]((_0x4f00d7 - _0x1755fc) * _0x2231a3 / (_0x37ca90 - _0x1755fc)) / _0x2231a3;
    return _0xd64307 * (_0x37ca90 - _0x1755fc) + _0x1755fc;
  }
  ["setLabel"](_0x3a06b6) {
    this.labelCallback != null ? this.thumb["text"](this["labelCallback"](_0x3a06b6)) : this["thumb"]["text"](_0x3a06b6);
  }
  ["setValue"](_0x1f6151, _0x1d7d4e = false) {
    if (this.value != _0x1f6151 && _0x1f6151 >= this["min"] && _0x1f6151 <= this.max || _0x1d7d4e) {
      if (!isNaN(_0x1f6151)) {
        this["updateValue"](_0x1f6151, _0x1d7d4e);
        var _0x2bfc4e = this["container"]["width"]() - this["thumb"]["width"]();
        this["moveThumb"](this["valueToIndex"](this["value"]) * (_0x2bfc4e / (this["steps"] - 1))), this.tmpValue = this.value;
      }
    }
  }
  ["refresh"]() {
    var _0xfaf22c = this["container"]["width"]() - this["thumb"]["width"]();
    this["moveThumb"](this["valueToIndex"](this.value) * (_0xfaf22c / (this.steps - 1)));
  }
  ["setThumbSize"](_0xf005b8) {
    var _0xc44985 = _0xf005b8 * 100 / this["container"]["width"]();
    this["thumb"].css("width", _0xc44985 + "%");
  }
  ["setThumbPosition"](_0xf4a6cd) {
    var _0x58bedc = _0xf4a6cd * 100 / this.container["width"]();
    this["thumb"].css("left", _0x58bedc + "%");
    var _0x426ab2 = (_0xf4a6cd + this.thumb["width"]() / 2) * 100 / this["container"]["width"]();
    this["selectedArea"]["css"]("width", _0x426ab2 + "%");
  }
  ["valueToIndex"](_0x19ac90) {
    return (_0x19ac90 - this["min"]) / this["step"];
  }
  ["getValue"]() {
    return this["value"];
  }
  ["keyPress"](_0x5a1536) {
    if (_0x5a1536 == 39 || _0x5a1536 == 38) this["increase"](); else (_0x5a1536 == 37 || _0x5a1536 == 40) && this.decrease();
  }
  ["increase"]() {
    this["setValue"](this.value + this.step);
  }
  ["decrease"]() {
    this["setValue"](this["value"] - this.step);
  }
  ["destroy"]() {
    this["thumb"]["off"]("." + this["namespace"]), this["container"]["off"]("." + this.namespace), $(document)["off"]("." + this["namespace"]), this.container["empty"]();
  }
  ["focus"]() {
    UI["setFocusElement"](this);
  }
}
class SliderCheck extends UIComponent {
  constructor(_0x3600ec, _0x120ac1 = "", _0xff421a = 10, _0x4e7a4f = 20, _0x9a319b = 1, _0x49ef9c = null, _0x5eb7a5 = null, _0x2931a9 = "slidercheck") {
    super(_0x3600ec), _0x3600ec["append"]('<div class="checkbox" style="width: 25px; margin-right: 2px; float: left;"></div><div class="slider" style="width: calc(100% - 27px); float: left;"></div>'), this["checkbox"] = new Checkbox(_0x3600ec["find"](".checkbox"), _0x120ac1, _0x49ef9c, _0x2931a9), this.slider = new Slider(_0x3600ec["find"](".slider"), _0xff421a, _0x4e7a4f, _0x9a319b, _0x5eb7a5, _0x2931a9);
    var _0x4f2bf7 = this;
    $(this["slider"]).on("sliderChange sliderChanged", function (_0x468bc0) {
      _0x4f2bf7["sliderChanged"](_0x468bc0.oldvalue, _0x468bc0.newvalue, _0x468bc0.type == "sliderChange");
    }), $(this.checkbox).on("checkboxChange checkboxChanged", function (_0x4395c8) {
      _0x4f2bf7.checkboxChanged(_0x4395c8["checked"], _0x4395c8["type"] == "checkboxChange");
    });
  }
  ["sliderChanged"](_0x20f76d, _0x46da20, _0xa5c380) {
    var _0x4df636 = this["getValue"](),
      _0x517f34 = [_0x4df636[0], _0x20f76d],
      _0x3fbc02 = [_0x4df636[0], _0x46da20];
    _0xa5c380 ? $(this)["triggerHandler"](new sliderCheckChangeEvent(_0x517f34, _0x3fbc02)["getEvent"]()) : $(this).triggerHandler(new sliderCheckChangedEvent(_0x517f34, _0x3fbc02).getEvent());
  }
  ["checkboxChanged"](_0x440143, _0x370d2d) {
    var _0x5d7c9d = this["getValue"](),
      _0x95ce7c = [_0x440143, _0x5d7c9d[1]],
      _0x33c3d3 = [!_0x440143, _0x5d7c9d[1]];
    _0x370d2d ? $(this)["triggerHandler"](new sliderCheckChangeEvent(_0x95ce7c, _0x33c3d3).getEvent()) : $(this)["triggerHandler"](new sliderCheckChangedEvent(_0x95ce7c, _0x33c3d3)["getEvent"]());
  }
  ["getValue"]() {
    var _0x258962 = [];
    return _0x258962["push"](this["checkbox"]["getValue"]()), _0x258962["push"](this.slider["getValue"]()), _0x258962;
  }
  ["setValue"](_0x21a2fd, _0x5acc62 = false) {
    this["checkbox"]["setValue"](_0x21a2fd[0], _0x5acc62), this["slider"]["setValue"](_0x21a2fd[1], _0x5acc62);
  }
  ["setReadOnlySubcomponents"](_0x5086fa) {
    this["checkbox"].setReadOnly(_0x5086fa[0]), this["slider"].setReadOnly(_0x5086fa[1]);
  }
  ["destroy"]() {
    this["checkbox"]["destroy"](), this["slider"]["destroy"](), this["container"].empty();
  }
  ["focus"]() {
    UI["setFocusElement"](this);
  }
}
class Button extends UIComponent {
  constructor(_0x5436ad, _0xdc6497 = null, _0x4cc324 = "...", _0x41c76f = "button") {
    super(_0x5436ad);
    !this["container"].hasClass("fmButton") && this.container["addClass"]("fmButton");
    this["namespace"] = _0x41c76f, this["clickCallback"] = _0xdc6497, this.link = $("<a />"), this.link["attr"]("href", "#"), this.link["addClass"]("p-0 m-0 buttonOption optionField"), this["link"]["text"](_0x4cc324), this["container"]["html"](this["link"]);
    var _0xfb31d7 = this;
    this["link"].on(UI.pointerEvent("click", this.namespace), function (_0x1344fe) {
      _0x1344fe["preventDefault"]();
    }), this["link"].on(UI["pointerEvent"]("up", this["namespace"]), function (_0x5157e3) {
      _0x5157e3["preventDefault"](), !_0xfb31d7["readOnly"] && _0xfb31d7["clicked"]();
    });
  }
  ["clicked"]() {
    this.clickCallback && this["clickCallback"](), $(this)["triggerHandler"](new buttonClickedEvent()["getEvent"]()), UI["setFocusElement"](this);
  }
  ["destroy"]() {
    this["link"]["off"]("." + this["namespace"]), this.container["empty"]();
  }
}
class List extends UIComponent {
  constructor(_0x1046d4, _0xb951c6, _0x49641e, _0x5c4dea = null, _0x58c220 = "list") {
    super(_0x1046d4);
    !this["container"]["hasClass"]("fmList") && this["container"]["addClass"]("fmList");
    this["namespace"] = _0x58c220, this.funcCallback = _0x5c4dea, this.select = $("<select />"), this["select"]["addClass"]("browser-default custom-select p-0 m-0 menuOption optionField");
    var _0x57ba92 = this;
    $["each"](_0xb951c6, function (_0x21b4c8, _0x211744) {
      _0x57ba92["select"]["append"]("<option value=\"" + _0x21b4c8 + '" ' + (_0x21b4c8 == _0x49641e ? 'selected="selected"' : "") + ">" + _0x211744 + "</option>");
    }), this.container["html"](this["select"]), this["select"].on("change." + this["namespace"], function (_0x175ed3) {
      !_0x57ba92["readOnly"] && (_0x57ba92["selected"](_0x57ba92["select"].val()), this["blur"]());
    }), this.select.on("keydown." + this["namespace"], function (_0xe71855) {
      _0xe71855["preventDefault"](), this["blur"]();
    });
  }
  ["selected"](_0x58f313) {
    this["funcCallback"] && this["funcCallback"](), $(this)["triggerHandler"](new listChangedEvent(_0x58f313)["getEvent"]()), UI["setFocusElement"](this);
  }
  ["destroy"]() {
    this["select"].off("." + this["namespace"]), this["container"]["empty"]();
  }
  ["focus"]() {
    this.select["focus"]();
  }
}
class Switch extends UIComponent {
  constructor(_0x33ff59, _0x23bc5e = null, _0x480f5a = "switch") {
    super(_0x33ff59), this["checked"];
    !this.container.hasClass("fmSwitch") && this["container"]["addClass"]("fmSwitch");
    this.namespace = _0x480f5a, this["onLabel"] = $("<div />"), this["onLabel"].addClass("fmOn checkLabel"), this["onLabel"].html(_0x23bc5e ? _0x23bc5e(true) : "on"), this.offLabel = $("<div />"), this.offLabel["addClass"]("fmOff checkLabel"), this.offLabel["html"](_0x23bc5e ? _0x23bc5e(false) : "off"), this["thumb"] = $("<div />"), this["thumb"]["addClass"]("fmThumb"), this["container"].append(this["onLabel"]), this.container.append(this["offLabel"]), this["container"]["append"](this["thumb"]), this["setValue"](false);
    var _0x1aea66 = this;
    this.thumb.on(UI["pointerEvent"]("up", this["namespace"]), function (_0x4dd0a7) {
      _0x4dd0a7.preventDefault(), (!_0x4dd0a7.which || _0x4dd0a7["which"] == 1) && !_0x1aea66["readOnly"] && _0x1aea66["clicked"]();
    }), this["onLabel"].on(UI["pointerEvent"]("up", this["namespace"]), function (_0x1f3ed9) {
      _0x1f3ed9["preventDefault"](), (!_0x1f3ed9["which"] || _0x1f3ed9.which == 1) && !_0x1aea66.readOnly && _0x1aea66.clicked();
    }), this.offLabel.on(UI["pointerEvent"]("up", this["namespace"]), function (_0xeb9c20) {
      _0xeb9c20["preventDefault"](), (!_0xeb9c20["which"] || _0xeb9c20["which"] == 1) && !_0x1aea66.readOnly && _0x1aea66["clicked"]();
    });
  }
  ["clicked"]() {
    this["setValue"](!this["checked"]), UI.setFocusElement(this);
  }
  ["getValue"]() {
    return this["checked"];
  }
  ["setValue"](_0x2f521a, _0x243718 = false) {
    if (this.checked != _0x2f521a || _0x243718) {
      if (_0x2f521a) {
        var _0x4df2db = parseInt(this["container"]["css"]("width")["replace"]("px", "")),
          _0x51fec3 = parseInt(this["thumb"]["css"]("width")["replace"]("px", ""));
        this.onLabel["css"]("width", "100%"), this["offLabel"].css("width", "0%"), this["thumb"]["css"]("left", "calc(100% - " + _0x51fec3 + "px)");
      } else this["onLabel"]["css"]("width", "0%"), this["offLabel"].css("width", "100%"), this["thumb"]["css"]("left", 0);
      $(this)["triggerHandler"](new checkboxChangeEvent(_0x2f521a)["getEvent"]()), this.checked = _0x2f521a, $(this)["triggerHandler"](new checkboxChangedEvent(_0x2f521a)["getEvent"]());
    }
  }
  ["keyPress"](_0x46f6d1) {
    if (_0x46f6d1 == 32) this["setValue"](!this["checked"]); else {
      if (_0x46f6d1 == 39 || _0x46f6d1 == 38) this.setValue(true); else (_0x46f6d1 == 37 || _0x46f6d1 == 40) && this["setValue"](false);
    }
  }
  ["destroy"]() {
    this["thumb"]["off"]("." + this["namespace"]), this["onLabel"]["off"]("." + this["namespace"]), this["offLabel"]["off"]("." + this["namespace"]), this.container.empty();
  }
  ["focus"]() {
    UI.setFocusElement(this);
  }
}
class Checkbox extends UIComponent {
  constructor(_0x447ae3, _0x53746d = "", _0x41c159 = null, _0xac9114 = "simplecheckbox") {
    super(_0x447ae3), this["checked"];
    !this["container"]["hasClass"]("fmCheckbox") && this["container"]["addClass"]("fmCheckbox");
    this["namespace"] = _0xac9114, this["labelCallback"] = _0x41c159 ? _0x41c159 : this["defaultLabel"], this.label = $("<div />"), this["label"]["addClass"]("fmOff checkLabel simpleBox fmCheckbox"), this.label["html"](this["labelCallback"](false)), this.container["append"](this["label"]);
    var _0x17073f = this;
    _0x53746d != "" && (this["caption"] = $("<a href=\"#\" />"), this["caption"]["addClass"]("checkCaption"), this["caption"]["html"](_0x53746d), this.container.append(this.caption), this["caption"].on(UI["pointerEvent"]("down", this["namespace"]), function (_0x23306a) {
      _0x23306a["preventDefault"](), (!_0x23306a["which"] || _0x23306a["which"] == 1) && !_0x17073f["readOnly"] && _0x17073f["clicked"]();
    })), this["setValue"](false), this["label"].on(UI["pointerEvent"]("down", this["namespace"]), function (_0xcb9e51) {
      _0xcb9e51["preventDefault"](), (!_0xcb9e51["which"] || _0xcb9e51.which == 1) && !_0x17073f.readOnly && _0x17073f["clicked"]();
    });
  }
  ["defaultLabel"](_0x5aa480) {
    return _0x5aa480 ? "&#10004;" : "";
  }
  ["clicked"]() {
    this.setValue(!this["checked"]), UI.setFocusElement(this);
  }
  ["getValue"]() {
    return this.checked;
  }
  ["setValue"](_0x1faddc, _0x3e11c2 = false) {
    (this.checked != _0x1faddc || _0x3e11c2) && (this["label"].html(this["labelCallback"](_0x1faddc)), $(this).triggerHandler(new checkboxChangeEvent(_0x1faddc)["getEvent"]()), this["checked"] = _0x1faddc, this["checked"] ? this["label"].removeClass("fmOff").addClass("fmOn") : this["label"]["removeClass"]("fmOn")["addClass"]("fmOff"), $(this).triggerHandler(new checkboxChangedEvent(_0x1faddc)["getEvent"]()));
  }
  ["keyPress"](_0x1a93ae) {
    if (_0x1a93ae == 32) this["setValue"](!this["checked"]); else {
      if (_0x1a93ae == 39 || _0x1a93ae == 38) this.setValue(true); else (_0x1a93ae == 37 || _0x1a93ae == 40) && this["setValue"](false);
    }
  }
  ["destroy"]() {
    this["label"]["off"]("." + this["namespace"]), this["container"].empty();
  }
  ["focus"]() {
    UI.setFocusElement(this);
  }
}
class Pagination extends UIComponent {
  constructor(_0x527f2f) {
    super(_0x527f2f), this["page"] = 1, this["pages"] = 0, this["create"]();
  }
  ["create"]() {
    this.container["append"]('<ul class="pagination"></ul>');
    var _0x2a1f79 = this;
    this["container"].on(UI.pointerEvent("click"), "a.tablePagination", function (_0x553c1f) {
      _0x553c1f["preventDefault"](), _0x2a1f79["selectPage"]($(this)["attr"]("name"));
    });
  }
  ["update"](_0x3684d5) {
    var _0x1df67a = this["container"]["find"]("ul.pagination");
    if (_0x3684d5 != this.pages) {
      this["pages"] = _0x3684d5;
      var _0x5f20fc = this;
      _0x1df67a["empty"](), _0x1df67a.append("<li class=\"tablePaginationItem noPage\"><a name=\"previous\" class=\"tablePagination\" href=\"#\"><span>&laquo;</span></a></li>");
      for (var _0x581841 = 1; _0x581841 <= _0x3684d5; _0x581841++) {
        var _0x5747f1 = "";
        _0x581841 == 1 && (_0x5747f1 += " firstPage"), _0x581841 == _0x3684d5 && (_0x5747f1 += " lastPage"), _0x581841 == this["page"] && (_0x5747f1 += " currentPage"), _0x1df67a["append"]("<li class=\"tablePaginationItem regularPage" + _0x5747f1 + '"><a name="' + _0x581841 + "\" class=\"tablePaginationNumber tablePagination" + (this.page == _0x581841 ? " selected" : "") + '" href="#">' + _0x581841 + "</a></li>");
      }
      _0x1df67a["append"]("<li class=\"tablePaginationItem noPage\"><a name=\"next\" class=\"tablePagination\" href=\"#\"><span>&raquo;</span></a></li>");
    }
    _0x1df67a["find"]("li.divisorPage")["remove"](), _0x1df67a["find"]("li.regularPage")["addClass"]("hidden"), _0x1df67a["find"]("li.firstPage")["removeClass"]("hidden"), _0x1df67a.find("li.lastPage").removeClass("hidden");
    var _0x494e69 = _0x1df67a["find"]("li.currentPage");
    _0x494e69["removeClass"]("hidden");
    var _0x40a3f4 = 2;
    for (var _0x581841 = 1; _0x581841 <= _0x40a3f4; _0x581841++) {
      var _0x32ed6b = _0x494e69["prevAll"]("li.regularPage.hidden:first");
      _0x32ed6b && _0x32ed6b["removeClass"]("hidden");
      var _0x40099e = _0x494e69["nextAll"]("li.regularPage.hidden:first");
      _0x40099e && _0x40099e.removeClass("hidden");
    }
    var _0xe3a8e = _0x1df67a["find"]("li.firstPage")["next"]("li.regularPage");
    _0xe3a8e && _0xe3a8e.hasClass("hidden") && _0xe3a8e["before"]("<li class=\"tablePaginationItem divisorPage\"><a name=\"-\" class=\"tablePagination\" href=\"#\"><span>...</span></a></li>");
    var _0x7df1ea = _0x1df67a.find("li.lastPage")["prev"]("li.regularPage");
    ;
    _0x7df1ea && _0x7df1ea["hasClass"]("hidden") && _0x7df1ea["after"]("<li class=\"tablePaginationItem divisorPage\"><a name=\"-\" class=\"tablePagination\" href=\"#\"><span>...</span></a></li>");
  }
  ["selectPage"](_0x1c635c, _0x2b7aab = true) {
    if (_0x1c635c == "next") _0x1c635c = this["page"] + 1; else {
      if (_0x1c635c == "previous") _0x1c635c = this["page"] - 1; else _0x1c635c == "-" ? _0x1c635c = 0 : _0x1c635c = parseInt(_0x1c635c);
    }
    var _0x5f416b = this["container"]["find"]("ul.pagination");
    if (_0x1c635c >= 1 && _0x1c635c <= this["pages"]) {
      this["page"] = _0x1c635c;
      var _0x5f416b = this["container"]["find"]("ul.pagination");
      _0x5f416b["find"](".currentPage").removeClass("currentPage"), _0x5f416b["find"](".selected").removeClass("selected");
      var _0x1edf07 = _0x5f416b["find"]("a[name=\"" + _0x1c635c + '"]');
      _0x1edf07["addClass"]("selected"), _0x1edf07["parent"]()["addClass"]("currentPage"), _0x2b7aab && $(this)["triggerHandler"](new pageSelectedEvent(_0x1c635c)["getEvent"]());
    }
  }
  ["setPage"](_0x524c0d) {
    this["page"] != _0x524c0d && this["selectPage"](_0x524c0d, false);
  }
}
class Table extends UIComponent {
  constructor(_0xcb29b5, _0x3b0c93 = null, _0x488415 = null, _0x4d702f = null) {
    super(_0xcb29b5);
    _0x3b0c93 != null && this["setHeight"](_0x3b0c93);
    !this["container"]["hasClass"]("tableContainer") && this["container"]["addClass"]("tableContainer");
    this.title = "", this["filter"] = $("<div />"), this["filter"].addClass("pb-2 fmTableFilter"), this["header"] = $("<div />"), this.header["addClass"]("tableHeader"), this["body"] = $("<div />"), this["body"]["addClass"]("tableBody"), this["paginationContainer"] = $("<div><nav class=\"pull-right pe-1\"></nav></div>"), this.page = 1, this.orderByColumn = -1, this["orderAscendent"] = true, this["hiddenColumns"] = [0], this["columnLinks"] = {}, this["columnAlignments"] = [], this.pagination = new Pagination(this["paginationContainer"]["find"]("nav")), this["pagination"]["update"](1), this["createFilter"](this.filter), this["createHeader"](this.header, _0x4d702f), this.createTable(this["body"], _0x488415, _0x4d702f), this["createPagination"](this["pagination"]), this.filterable = false, this.selectable = true, this["showPagination"] = true, this.rows = [], this["rowCount"] = 0, this["rowsPerPage"] = 50, this.emptyRowVisible = false, this["headerFields"] = {}, this["container"]["append"](this["filter"]), this["container"]["append"](this["header"]);
    var _0x7175b9 = $("<div />");
    _0x7175b9["addClass"]("dataBody"), _0x7175b9["append"](this["body"]), _0x7175b9["append"](this["paginationContainer"]), this["container"]["append"](_0x7175b9), this["updateTimeout"] = null, this["setFilterable"](false), this.printEmpty();
    var _0x56cb31 = this;
    this.body.on(UI["pointerEvent"]("click"), "tr.regularRow", function () {
      !_0x56cb31["readOnly"] && _0x56cb31.select($(this)["attr"]("data-rowid"));
    }), this.body.on(UI["pointerEvent"]("dblclick"), "tr.regularRow", function () {
      !_0x56cb31["readOnly"] && (_0x56cb31["select"]($(this)["attr"]("data-rowid")), $(_0x56cb31)["triggerHandler"](new tableRowDoubleClickEvent(_0x56cb31["getSelected"]())["getEvent"]()));
    }), this["header"].on(UI["pointerEvent"]("click"), ".headerCell", function () {
      var _0x9ca9a5 = _0x56cb31.header["find"](".headerCell")["index"](this);
      _0x9ca9a5 == _0x56cb31["orderByColumn"] ? _0x56cb31.sort(_0x9ca9a5, !_0x56cb31["orderAscendent"]) : _0x56cb31["sort"](_0x9ca9a5);
    }), this["body"].on("scroll", function () {
      _0x56cb31["header"]["find"](".headerTable")["scrollLeft"]($(this).scrollLeft());
    });
  }
  ["createPagination"](_0x3597ec) {
    this["container"]["append"](this["paginationContainer"]);
    var _0x2fbfb7 = this;
    $(this.pagination).on("pageSelected", function (_0xcf57b6) {
      _0x2fbfb7["showPage"](_0xcf57b6.page, _0x2fbfb7["filter"]["find"]("input[name=\"filter\"]").val());
    }), this["paginationContainer"]["hide"]();
  }
  ["updatePagination"](_0x27bf3a = "") {
    var _0x43b59c = this["getFilteredRowCount"](_0x27bf3a),
      _0x1cf015 = Math["ceil"](_0x43b59c / this["rowsPerPage"]);
    (_0x1cf015 != this["pagination"]["pages"] || _0x1cf015 > 1 && !this["paginationContainer"].is(":visible")) && (this["pagination"]["update"](_0x1cf015), _0x1cf015 > 1 ? this.paginationContainer["fadeIn"](800) : this["paginationContainer"]["hide"](), this["updated"]());
  }
  ["createFilter"](_0x4d8aa9) {
    var _0x1ca3c5 = new Icon("fa-search");
    _0x4d8aa9["html"]('<span class="sub-title"></span><div class="filterField pull-right"><div class="input-group"><span class="input-group-text darkInput">' + _0x1ca3c5["html"]() + '</span><input type="text" class="form-control" placeholder="Filter" data-i18n="[placeholder]global.phFilter" name="filter"><span class="fieldRemove fas fa-times"></span></div></div>'), _0x4d8aa9["find"](".fieldRemove")["hide"]();
    var _0x49d37b = this;
    _0x4d8aa9["find"]("input[name=\"filter\"]").on("keyup", function (_0x248c1d) {
      var _0x4b3214 = $(this)["val"]();
      _0x49d37b["body"].find("tbody tr.regularRow")["remove"](), _0x49d37b["updatePagination"](_0x4b3214), _0x49d37b["showPage"](1, _0x4b3214), _0x4b3214 == "" ? _0x4d8aa9["find"](".fieldRemove")["hide"]() : _0x4d8aa9["find"](".fieldRemove").show();
    }), _0x4d8aa9.find(".fieldRemove").on(UI["pointerEvent"]("click"), function (_0x1db581) {
      _0x1db581.preventDefault(), _0x4d8aa9["find"]("input[name=\"filter\"]")["val"](""), _0x49d37b["body"]["find"]("tbody tr.regularRow").remove(), _0x49d37b["updatePagination"](), _0x49d37b["showPage"](1), _0x4d8aa9["find"](".fieldRemove")["hide"]();
    });
  }
  ["createHeader"](_0x1acf6a, _0x1091e3 = null) {
    var _0x5bbb04 = $("<div />");
    _0x5bbb04.addClass("headerTable"), _0x1091e3 != null && _0x5bbb04["addClass"](_0x1091e3), _0x1acf6a.append(_0x5bbb04);
  }
  ["createTable"](_0x24a242, _0x2885d3 = null, _0x53b1f9 = null) {
    var _0x3c7cb7 = $("<table />");
    _0x3c7cb7.append($("<tbody />")), _0x3c7cb7["addClass"]("fmTable table m-0 p-0"), _0x2885d3 != null && _0x3c7cb7["attr"]("id", _0x2885d3), _0x53b1f9 != null && _0x3c7cb7["addClass"](_0x53b1f9), _0x24a242["append"](_0x3c7cb7);
  }
  ["hideRow"](_0x57400b) {
    let _0x4eb440 = this["body"]["find"]("tbody tr.regularRow:nth-child(" + (_0x57400b + 1) + ")");
    _0x4eb440["hasClass"]("selected") && this["unselect"](), _0x4eb440["hide"]();
  }
  ["showRow"](_0x2b2956) {
    let _0xeb93f2 = this["body"]["find"]("tbody tr.regularRow:nth-child(" + (_0x2b2956 + 1) + ")");
    _0xeb93f2["hasClass"]("selected") && _0xeb93f2["data"]("rowid") && this.select(_0xeb93f2["data"]("rowid")), _0xeb93f2["show"]();
  }
  ["columnLink"](_0x16fcf5, _0x3dad87) {
    this["columnLinks"][_0x16fcf5] = _0x3dad87;
  }
  ["columnAlignment"](_0x9bc626, _0x3d0169 = "left") {
    this["header"]["find"]("div.headerTable div.headerRow div.headerCell:nth-child(" + (_0x9bc626 + 1) + ")")["css"]("text-align", _0x3d0169), this["body"]["find"]("tbody tr.regularRow td:nth-child(" + (_0x9bc626 + 1) + ")").css("text-align", _0x3d0169), this["columnAlignments"][_0x9bc626] = _0x3d0169;
  }
  ["getColumnOrder"](_0x1a6a11) {
    if (_0x1a6a11 in this["columnLinks"]) return this["columnLinks"][_0x1a6a11];
    return _0x1a6a11;
  }
  ["hideHeaderRow"](_0x1317d1) {
    hideRow(_0x1317d1, true);
  }
  ["showHeaderRow"](_0x4535d0) {
    showRow(_0x4535d0, true);
  }
  ["hideColumns"](_0x3b2284) {
    var _0x19e781 = this;
    $(_0x3b2284)["each"](function (_0x2cc1ea, _0x190034) {
      _0x19e781["hideColumn"](_0x190034, false);
    }), this["updated"]();
  }
  ["hideColumn"](_0x22fa80, _0x5210d1 = true) {
    if (this.hiddenColumns.indexOf(_0x22fa80) == -1) {
      this["hiddenColumns"]["push"](_0x22fa80);
      var _0x485f44 = this;
      $(this["hiddenColumns"])["each"](function (_0x34fb95, _0x17bba0) {
        _0x485f44["header"]["find"]("div.headerTable div.headerRow div.headerCell:nth-child(" + (_0x17bba0 + 1) + ")").hide(), _0x485f44["body"]["find"]("tbody tr.regularRow td:nth-child(" + (_0x17bba0 + 1) + ")")["hide"]();
      }), _0x5210d1 && this.updated();
    }
  }
  ["showColumn"](_0x5a9865) {
    this["hiddenColumns"]["indexOf"](_0x5a9865) > -1 && (this.hiddenColumns["pop"](_0x5a9865), this["header"]["find"]("div.headerTable div.headerRow div.headerCell:nth-child(" + (_0x5a9865 + 1) + ")").show(), this["body"]["find"]("tbody tr.regularRow td:nth-child(" + (_0x5a9865 + 1) + ")").show(), this["updated"]());
  }
  ["headerClass"](_0x1877cf, _0x408f3a) {
    this["header"]["find"]("div.headerTable div.headerRow div.headerCell:nth-child(" + (_0x1877cf + 1) + ")")["addClass"](_0x408f3a);
  }
  ["headerTooltip"](_0x3200be, _0x4621ba) {
    this.header.find("div.headerTable div.headerRow div.headerCell:nth-child(" + (_0x3200be + 1) + ")")["attr"]("data-tooltip", _0x4621ba);
  }
  ["headerCaption"](_0x319448, _0x4c4d06) {
    this["header"]["find"]("div.headerTable div.headerRow div.headerCell:nth-child(" + (_0x319448 + 1) + ") .headerCaption")["html"](_0x4c4d06);
  }
  ["setHeader"](_0x524302) {
    _0x524302["unshift"]("rowId");
    var _0x4afc8a = '<div class="headerRow fixedHeader">';
    $["each"](_0x524302, function (_0x9e3b78, _0x5cb7c2) {
      _0x4afc8a += "<div class=\"headerCell\"><div class=\"headerCaption\" data-headerid=\"" + escapeHTML(_0x5cb7c2) + '">' + _0x5cb7c2 + "</div></div>";
    }), _0x4afc8a += "</div>", this["header"]["find"]("div.headerTable").append(_0x4afc8a);
    var _0x6e4e21 = this;
    $(this["hiddenColumns"])["each"](function (_0x58adc7, _0x1591fc) {
      _0x6e4e21["header"]["find"]("div.headerTable div.headerRow:last div.headerCell:nth-child(" + (_0x1591fc + 1) + ")")["hide"]();
    }), $(this.columnAlignments)["each"](function (_0x354797, _0x5a867d) {
      _0x6e4e21["header"]["find"]("div.headerTable div.headerRow:last div.headerCell:nth-child(" + (_0x354797 + 1) + ")")["css"]("text-alignment", _0x5a867d);
    }), this["headerFields"] = _0x524302, this["rows"] == 0 && this["header"]["find"]("div.headerCell")["width"](100 / (_0x524302["length"] - this.hiddenColumns["length"]) + "%"), this["printEmpty"](), this["updated"]();
  }
  ["addRow"](_0x54182a, _0x2ee0e5 = true) {
    this["removeEmpty"](), this.removeFilter();
    var _0x118387 = this["rowCount"];
    _0x54182a["unshift"](_0x118387), this["rows"].push(_0x54182a), this["rowCount"]++;
    var _0x15320f = Math.floor(_0x118387 / this["rowsPerPage"]) + 1;
    return _0x15320f == this.page && (this["removeEmpty"](), this["printRow"](_0x118387, _0x54182a), _0x2ee0e5 && this.updated()), this.update(), _0x118387;
  }
  ["deleteRow"](_0x88534c) {
    var _0x2da47f = false,
      _0x88d83b = this;
    return $["each"](this["rows"], function (_0x28e962, _0xcc21c9) {
      if (_0xcc21c9 && _0xcc21c9[0] == _0x88534c) {
        let _0xc39be0 = _0x88d83b["body"]["find"]('tr.regularRow[data-rowid="' + _0x88534c + '"]');
        _0xc39be0["hasClass"]("selected") && _0x88d83b["unselect"](), _0xc39be0.remove(), delete _0x88d83b["rows"][_0x28e962], _0x88d83b["rowCount"]--;
      }
    }), _0x2da47f;
  }
  ["removeEmpty"]() {
    this["emptyRowVisible"] && (this["body"].find("tbody tr.emptyRow")["remove"](), this["emptyRowVisible"] = false);
  }
  ["printEmpty"]() {
    if (!this["emptyRowVisible"]) {
      let _0x30111e = Object.keys(this["headerFields"]).length - this["hiddenColumns"].length;
      if (_0x30111e > 0) {
        this["removeEmpty"]();
        var _0x355d61 = $("<tr />");
        _0x355d61["attr"]("name", "null"), _0x355d61.attr("data-rowid", -1), _0x355d61.addClass("emptyRow");
        var _0x1579c0 = $("<td />");
        _0x1579c0["attr"]("colspan", _0x30111e), _0x1579c0["html"](textManager.getString("global.lblNoResults")), _0x355d61["append"](_0x1579c0), _0x1579c0["show"](), this.body["find"]("tbody").append(_0x355d61);
      }
      this["emptyRowVisible"] = true;
    }
  }
  ["printRow"](_0x58ac09, _0xc80b59) {
    if (_0xc80b59) {
      var _0x42d33c = $("<tr />");
      _0x42d33c["attr"]("name", _0x58ac09), _0x42d33c["attr"]("data-rowid", _0xc80b59[0]), _0x42d33c.addClass("regularRow"), $["each"](_0xc80b59, function (_0x31d6aa, _0x4694a3) {
        var _0x9b625 = $("<td />");
        _0x4694a3 && $["type"](_0x4694a3) == "object" && _0x4694a3["container"] ? _0x9b625["html"](_0x4694a3["container"][0]) : _0x9b625.html(_0x4694a3), _0x42d33c["append"](_0x9b625);
      }), this["body"].find("tbody")["append"](_0x42d33c);
      var _0x5279e4 = this;
      $(this.hiddenColumns)["each"](function (_0x133e60, _0x186a4d) {
        _0x5279e4["body"]["find"]("tbody tr.regularRow:last td:nth-child(" + (_0x186a4d + 1) + ")")["hide"]();
      }), $(this.columnAlignments)["each"](function (_0x10ae4c, _0x3a18a9) {
        _0x5279e4.body["find"]("tbody tr.regularRow:last td:nth-child(" + (_0x10ae4c + 1) + ")")["css"]("text-align", _0x3a18a9);
      });
    }
  }
  ["getRow"](_0x51d7d5) {
    var _0x42dcb3 = false,
      _0x32da7e = this;
    return $.each(this.rows, function (_0x176715, _0x4003c7) {
      _0x4003c7 && _0x4003c7[0] == _0x51d7d5 && (_0x42dcb3 = _0x32da7e["rows"][_0x176715]);
    }), _0x42dcb3;
  }
  ["unselect"]() {
    this.body["find"](".selected")["removeClass"]("selected"), $(this).triggerHandler(new tableRowUnselectedEvent().getEvent());
  }
  ["select"](_0xdfd9c1) {
    this["body"]["find"](".selected")["removeClass"]("selected");
    if (this["selectable"]) {
      var _0x495855 = this["body"]["find"]("tr.regularRow[data-rowid=\"" + _0xdfd9c1 + '"]');
      _0x495855["length"] > 0 && (_0x495855["addClass"]("selected"), $(this)["triggerHandler"](new tableRowSelectedEvent(this["getSelected"]())["getEvent"]()));
    }
  }
  ["reset"]() {
    this["header"]["find"]("div.headerTable")["empty"](), this["headerFields"] = {}, this["clear"]();
  }
  ["clear"]() {
    this["body"]["find"]("tbody")["empty"](), this.rowCount = 0, this["rows"] = [], this.page = 1, this["printEmpty"](), this["pagination"]["setPage"](1), this["updated"]();
  }
  ["update"]() {
    this.updateTimeout != null && clearTimeout(this.updateTimeout);
    var _0x56937e = this;
    this["updateTimeout"] = setTimeout(function () {
      _0x56937e["updatePagination"](), _0x56937e["updateTimeout"] = null;
    }, 100);
  }
  ["updated"]() {
    var _0x540c64 = this,
      _0x3f14a7 = 0;
    this["body"]["find"]("tbody tr.regularRow:first td.hasMinWidth").removeClass("hasMinWidth")["css"]("min-width", "unset"), this["header"]["find"]("div.headerTable div.headerRow:first div.headerCell")["each"](function (_0x5c169b, _0x553814) {
      var _0x29e769 = _0x540c64["calculateTextWidth"]($(_0x553814)["find"](".headerCaption")["text"]()),
        _0x12a933 = _0x540c64["body"]["find"]("tbody tr.regularRow:first td:nth-child(" + (_0x5c169b + 1) + ")");
      _0x12a933.is(":visible") && _0x12a933["addClass"]("hasMinWidth")["css"]("min-width", _0x29e769);
    }), this["header"]["find"]("div.headerTable div.headerRow:first div.headerCell")["each"](function (_0x4cca09, _0x8229b7) {
      var _0x3aabb2 = _0x540c64.body["find"]("tbody tr.regularRow:first td:nth-child(" + (_0x4cca09 + 1) + ")"),
        _0x5a5e5b = _0x3aabb2["width"](),
        _0x264c50 = _0x3aabb2["outerWidth"]();
      $(_0x8229b7)["width"](_0x5a5e5b), _0x3f14a7 += _0x264c50;
    }), this.header["find"]("div.headerTable div.headerRow").width(_0x3f14a7);
    var _0x4b4930 = Math["ceil"](this["rowCount"] / this["rowsPerPage"]),
      _0x11399b = this["header"]["outerHeight"](),
      _0x2d31df = _0x4b4930 == 1 ? 0 : this["paginationContainer"]["outerHeight"]() || 35.6,
      _0x217c89 = this["filterable"] ? this["filter"]["outerHeight"]() : 0;
    this["pagination"]["update"](_0x4b4930), this["body"]["css"]("height", "calc(100% - " + (_0x11399b + _0x2d31df + _0x217c89) + "px)");
  }
  ["getColumnId"](_0x42885c) {
    var _0x1125d4 = null;
    return $.each(this.headerFields, function (_0x440f23, _0x5e8590) {
      _0x5e8590 && _0x5e8590 == _0x42885c && (_0x1125d4 = _0x440f23);
    }), _0x1125d4;
  }
  ["getHeader"](_0x4c4667) {
    var _0x2c6c49 = [];
    return this["header"]["find"]("div.headerRow:first div.headerCell div.headerCaption")["each"](function (_0x2535f4, _0x5cb8da) {
      _0x2c6c49["push"]($(_0x5cb8da)["data"]("headerid"));
    }), _0x2c6c49[_0x4c4667];
  }
  ["getSelected"]() {
    var _0x1a6860 = this,
      _0x6ffe32 = [];
    return this["body"]["find"]("tr.selected")["each"](function (_0x4f5931, _0x1ae0bc) {
      var _0x153dd6 = {};
      _0x153dd6["rowNumber"] = $(this)["attr"]("name"), $(_0x1ae0bc)["find"]("td")["each"](function (_0x466b2b, _0x47b720) {
        var _0x18c784 = _0x1a6860.getHeader(_0x466b2b);
        _0x153dd6[_0x18c784] = $(_0x47b720).text();
      }), _0x6ffe32["push"](_0x153dd6);
    }), _0x6ffe32;
  }
  ["find"](_0x49da8d, _0x3b15a2) {
    var _0x57414c = null;
    return $["each"](this.rows, function (_0xb2c545, _0x3c73bb) {
      _0x3c73bb && _0x3c73bb[_0x49da8d] == _0x3b15a2 && (_0x57414c = _0x3c73bb[0]);
    }), _0x57414c;
  }
  ["locate"](_0x262c29, _0x584a75 = true) {
    var _0x5774a9 = this,
      _0x32a645 = -1;
    $.each(this["getFilteredRows"](this.filter["find"]("input[name=\"filter\"]")["val"]()), function (_0x4fc80d, _0x5dc082) {
      _0x5dc082 && _0x5dc082[0] == _0x262c29 && (_0x32a645 = Math["ceil"](_0x4fc80d / _0x5774a9["rowsPerPage"]));
    });
    if (_0x32a645 > -1) {
      _0x32a645 != this.page && this["showPage"](_0x32a645, this.filter["find"]("input[name=\"filter\"]")["val"]());
      _0x584a75 && this["selectable"] && this["select"](_0x262c29);
      var _0x336d4a = this.body["find"]("tr.regularRow[data-rowid=\"" + _0x262c29 + '"]'),
        _0x3a836f = _0x336d4a["position"]();
      _0x3a836f && this["body"].scrollTop(_0x3a836f["top"]);
    }
  }
  ["setHeight"](_0x459303) {
    this["container"].css("height", _0x459303 + "px"), this["updated"]();
  }
  ["setFilterable"](_0x309a46) {
    this.filterable = _0x309a46, this["showFilterbar"]();
  }
  ["setTitle"](_0xb263d8) {
    this["title"] = _0xb263d8, this["filter"]["find"]("span.sub-title")["html"](_0xb263d8), this["showFilterbar"]();
  }
  ["showFilterbar"]() {
    this["title"] != "" ? this["filter"]["find"]("span.sub-title")["show"]() : this["filter"]["find"]("span.sub-title").hide(), this.filterable ? this["filter"].find(".filterField")["show"]() : this["filter"]["find"](".filterField")["hide"](), this["title"] != "" || this["filterable"] ? this["filter"].show() : this.filter["hide"]();
  }
  ["refresh"]() {
    var _0x2fe14c = this["getSelected"](),
      _0x3dd667 = this["body"].scrollTop();
    this["showPage"](this["page"], this["filter"]["find"]("input[name=\"filter\"]").val()), this["body"]["scrollTop"](_0x3dd667);
    if (_0x2fe14c && this["selectable"]) {
      var _0x5145a8 = this;
      $["each"](_0x2fe14c, function (_0xbe84e0, _0x203137) {
        _0x5145a8.body["find"]("tr.regularRow[data-rowid=\"" + _0x203137["rowId"] + '"]')["addClass"]("selected");
      });
    }
  }
  ["updateRow"](_0x14d67e, _0x585684) {
    var _0xaea0dc = false,
      _0x170ea8 = this;
    return $.each(this.rows, function (_0x1a324a, _0x1e0d3c) {
      _0x1e0d3c && _0x1e0d3c[0] == _0x14d67e && ($.each(_0x585684, function (_0x32b7c4, _0x4de948) {
        _0x170ea8.rows[_0x1a324a][_0x32b7c4] = _0x4de948;
      }), _0x170ea8["refresh"](), _0xaea0dc = true);
    }), _0xaea0dc;
  }
  ["getFilteredRowCount"](_0x365f3d = "") {
    return _0x365f3d == "" ? this["rowCount"] : this["getFilteredRows"](_0x365f3d)["length"];
  }
  ["getSortedRows"](_0x2029a1) {
    if (this["orderByColumn"] == -1) return _0x2029a1; else {
      var _0x35f87f = this;
      return _0x2029a1["sort"](function (_0x1e9f3b, _0x26cf3b) {
        var _0x2895d4 = _0x35f87f["getColumnOrder"](_0x35f87f["orderByColumn"]);
        if (_0x1e9f3b[_0x2895d4] < _0x26cf3b[_0x2895d4]) return _0x35f87f["orderAscendent"] ? -1 : 1;
        if (_0x1e9f3b[_0x2895d4] > _0x26cf3b[_0x2895d4]) return _0x35f87f["orderAscendent"] ? 1 : -1;
        return 0;
      });
    }
  }
  ["getFilteredRows"](_0x4e12e0 = "") {
    _0x4e12e0 = _0x4e12e0["toUpperCase"]();
    if (_0x4e12e0 == "") return this["rows"]; else {
      var _0x10b029 = [];
      return $.each(this.rows, function (_0x23ded2, _0x3be158) {
        var _0x3a0723 = false;
        $["each"](_0x3be158, function (_0x13819a, _0x3754b3) {
          if (_0x3754b3 != null && !($["type"](_0x3754b3) == "object" || $["type"](_0x3754b3) == "array")) {
            var _0x527f19 = isNaN(_0x3754b3) ? _0x3754b3.toUpperCase() : _0x3754b3.toString()["toUpperCase"]();
            _0x527f19["includes"](_0x4e12e0) && (_0x3a0723 = true);
          }
        }), _0x3a0723 && _0x10b029["push"](_0x3be158);
      }), _0x10b029;
    }
  }
  ["showPage"](_0x1e5b43, _0x2afd15 = "") {
    this["removeEmpty"]();
    if (_0x1e5b43 == "next") _0x1e5b43 = this["page"] + 1; else {
      if (_0x1e5b43 == "previous") _0x1e5b43 = this["page"] - 1; else _0x1e5b43 == "-" ? _0x1e5b43 = 0 : _0x1e5b43 = parseInt(_0x1e5b43);
    }
    if (_0x1e5b43 >= 1 && _0x1e5b43 <= this["pagination"]["pages"]) {
      this["body"]["find"]("tbody tr.regularRow").remove();
      var _0x9bac0d = this,
        _0x2f1494 = this.rowsPerPage * (_0x1e5b43 - 1),
        _0x6ef299 = _0x2f1494 + this.rowsPerPage;
      let _0x163775 = this["getSortedRows"](this["getFilteredRows"](_0x2afd15))["slice"](_0x2f1494, _0x6ef299);
      $(_0x163775)["each"](function (_0x5de9b1, _0x573489) {
        _0x9bac0d["printRow"](_0x2f1494 + _0x5de9b1, _0x573489);
      }), _0x163775["length"] == 0 && this["printEmpty"](), this["body"]["scrollTop"](0), this["page"] = _0x1e5b43, this["updatePagination"](_0x2afd15), this["pagination"]["setPage"](_0x1e5b43), this.updated(), this.unselect();
    }
  }
  ["calculateTextWidth"](_0x384707) {
    var _0x5d4186 = $('<span class="headerCell">')["hide"]()["appendTo"](document.body);
    _0x5d4186.html(_0x384707);
    var _0x32ab44 = _0x5d4186["width"]();
    return _0x5d4186["remove"](), _0x32ab44;
  }
  ["sort"](_0x5dc549, _0x228f4c = true) {
    this.orderByColumn = _0x5dc549, this.orderAscendent = _0x228f4c, this.showPage(1, this["filter"]["find"]("input[name=\"filter\"]")["val"]());
  }
  ["removeFilter"]() {
    this["filter"]["find"]("input[name=\"filter\"]")["val"]("");
  }
  ["destroy"]() {
    this["container"]["empty"]();
  }
  ["focus"]() {
    UI.setFocusElement(this), this["filterable"] && this["filter"].find('input[name="filter"]')["focus"]();
  }
}
class ShortcutManager extends Component {
  constructor(_0x2a7a04 = null) {
    super(), this["storage"] = _0x2a7a04, this["setupMode"] = false, this["keySeparator"] = "+", this["shortcuts"] = new Array(), this["holdingShortcuts"] = {}, this["reservedShortcuts"] = ["CTRL+C", "CTRL+V", "CTRL+F5"], this["generateShortcuts"](), this.loadFromStorage();
  }
  ["process"](_0x39d22a, _0xc41dc2, _0x55fb36) {
    var _0x5ba4fd,
      _0x5591e8 = false;
    typeof _0x39d22a == "string" ? _0x5ba4fd = _0x39d22a : _0x5ba4fd = this["getShortcutString"](_0x39d22a.ctrlKey, _0x39d22a["altKey"], _0x39d22a["shiftKey"], _0x39d22a["which"], _0x39d22a["key"], _0x39d22a["location"] || _0x39d22a["originalEvent"]["location"]);
    _0x5591e8 = this["trigger"](_0x5ba4fd, _0xc41dc2, _0x55fb36);
    var _0x21f0cc = this;
    return _0xc41dc2 == "keyup" && $["each"](this["holdingShortcuts"], function (_0x1e3667, _0x45ceca) {
      _0x5591e8 = _0x5591e8 || _0x21f0cc["trigger"](_0x1e3667, "keyup", _0x55fb36), !_0x5591e8 && delete _0x21f0cc["holdingShortcuts"][_0x5ba4fd];
    }), _0x5591e8;
  }
  ["trigger"](_0x59fcf2, _0x17a606 = "keyup", _0x3eca61 = false, _0xb1e8aa = false) {
    if (!(_0x59fcf2 in this["holdingShortcuts"]) || _0x17a606 != "keydown" || _0xb1e8aa) {
      var _0x11efe8 = this,
        _0x3b487d = false;
      return _0x59fcf2 != "" && $["each"](this["shortcuts"], function (_0x51e24f, _0xe7576f) {
        if (_0xe7576f.shortcut == _0x59fcf2 || _0xe7576f["shortcut2"] == _0x59fcf2) {
          if (_0x17a606 == "keydown") (!_0x3eca61 || _0xe7576f["worksOnDialogs"] && _0x3eca61) && (_0xe7576f.heldSince = new Date().getTime() / 1e3, _0x11efe8.holdingShortcuts[_0x59fcf2] = true, $(_0x11efe8)["triggerHandler"](new shortcutPressedEvent(_0xe7576f.id, _0xe7576f["stype"], _0x59fcf2, _0xe7576f["category"], _0xe7576f["worksOnDialogs"], _0xe7576f["eventType"])["getEvent"]()), _0xe7576f["repeatInterval"] > 0 && setTimeout(function () {
            _0x59fcf2 in _0x11efe8.holdingShortcuts && _0x11efe8["trigger"](_0x59fcf2, _0x17a606, _0x3eca61, true);
          }, !_0xb1e8aa ? 500 : _0xe7576f.repeatInterval), _0x3b487d = true); else {
            if (_0x17a606 == "keyup") {
              var _0x267926 = new Date()["getTime"]() / 1e3,
                _0x58f263 = _0x267926 - _0xe7576f["heldSince"];
              (!_0x3eca61 || _0xe7576f.worksOnDialogs && _0x3eca61 || _0x59fcf2 in _0x11efe8["holdingShortcuts"] && _0xe7576f.eventType == "holdable") && (delete _0x11efe8["holdingShortcuts"][_0x59fcf2], _0xe7576f["heldSince"] = null, $(_0x11efe8)["triggerHandler"](new shortcutReleasedEvent(_0xe7576f.id, _0xe7576f.stype, _0x59fcf2, _0xe7576f["category"], _0xe7576f.worksOnDialogs, _0xe7576f["eventType"], _0x58f263)["getEvent"]()), _0x3b487d = true);
            }
          }
        }
      }), _0x3b487d;
    } else return true;
  }
  ["releaseShortcuts"](_0x335bee = false) {
    var _0x168659 = this;
    $["each"](this["holdingShortcuts"], function (_0x31ae4f) {
      _0x168659["process"](_0x31ae4f, "keyup", _0x335bee);
    });
  }
  ["generateShortcuts"]() {
    this["shortcuts"] = new Array(), this["shortcuts"]["push"](new ShortcutObject("drag", "tool", "SPACE", "", "tools", "holdable", 0, false)), this["shortcuts"]["push"](new ShortcutObject("rotate", "tool", "RIGHT ALT", "", "tools", "holdable", 0, false)), this.shortcuts.push(new ShortcutObject("picker", "tool", "TAB", "", "tools", "holdable", 0, false)), this["shortcuts"].push(new ShortcutObject("selection", "tool", "S", "", "tools", "holdable", 0, false)), this.shortcuts.push(new ShortcutObject("pen", "tool", "B", "", "tools", "holdable", 0, false)), this["shortcuts"]["push"](new ShortcutObject("eraser", "tool", "E", "", "tools", "holdable", 0, false)), this["shortcuts"]["push"](new ShortcutObject("text", "tool", "T", "", "tools", "holdable", 0, false)), this["shortcuts"]["push"](new ShortcutObject("line", "tool", "L", "", "tools", "holdable", 0, false)), this.shortcuts["push"](new ShortcutObject("rect", "tool", "R", "", "tools", "holdable", 0, false)), this.shortcuts["push"](new ShortcutObject("ellipse", "tool", "P", "", "tools", "holdable", 0, false)), this.shortcuts["push"](new ShortcutObject("blend", "tool", "A", "", "tools", "holdable", 0, false)), this.shortcuts["push"](new ShortcutObject("fill", "tool", "F", "", "tools", "holdable", 0, false)), this["shortcuts"].push(new ShortcutObject("pixel", "tool", "X", "", "tools", "holdable", 0, false)), this["shortcuts"]["push"](new ShortcutObject("custom", "tool", "C", "", "tools", "holdable", 0, false)), this.shortcuts["push"](new ShortcutObject("rightclick", "custom", "", "", "tools", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("cancelstroke", "custom", "BACKSPACE", "", "tools", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("previoustool", "custom", "CTRL+LEFT", "", "tools", "keydown", 0, false)), this.shortcuts.push(new ShortcutObject("nexttool", "custom", "CTRL+RIGHT", "", "tools", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("switchprev", "custom", "", "", "tools", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("+size", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this["shortcuts"].push(new ShortcutObject("-size", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this.shortcuts["push"](new ShortcutObject("+alpha", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this["shortcuts"]["push"](new ShortcutObject("-alpha", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this["shortcuts"]["push"](new ShortcutObject("+blur", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this["shortcuts"]["push"](new ShortcutObject("-blur", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this["shortcuts"].push(new ShortcutObject("+smooth", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this["shortcuts"].push(new ShortcutObject("-smooth", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this["shortcuts"]["push"](new ShortcutObject("+spacing", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this["shortcuts"]["push"](new ShortcutObject("-spacing", "slideroption", "", "", "tooloptions", "keydown", 50, false)), this["shortcuts"]["push"](new ShortcutObject("+multilayer", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("-multilayer", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("!multilayer", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("+areaaverage", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this.shortcuts.push(new ShortcutObject("-areaaverage", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("!areaaverage", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("+tint", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("-tint", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("!tint", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("+randomrotation", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("-randomrotation", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("!randomrotation", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("+selectiontype", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("-selectiontype", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("!selectiontype", "checkboxoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("+pressure", "slidercheckoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("-pressure", "slidercheckoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("!pressure", "slidercheckoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("+blendmode", "listoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("-blendmode", "listoption", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("normal", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("darken", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("lighten", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("difference", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("exclusion", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("hard-light", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("soft-light", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("multiply", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("overlay", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("screen", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("saturation", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("luminosity", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("hue", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("color", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("color-dodge", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("color-burn", "blendmode", "", "", "tooloptions", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("kickuser", "userlist", "", "", "userlist", "keydown", 0, false)), this.shortcuts.push(new ShortcutObject("banuser", "userlist", "", "", "userlist", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("muteuser", "userlist", "", "", "userlist", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("unmuteuser", "userlist", "", "", "userlist", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("silenceuser", "userlist", "", "", "userlist", "keydown", 0, false)), this.shortcuts.push(new ShortcutObject("unsilenceuser", "userlist", "", "", "userlist", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("toggleignoreuser", "userlist", "", "", "userlist", "keydown", 0, false)), this.shortcuts.push(new ShortcutObject("config", "dialog", "ALT+F", "", "dialogs", "keydown", 0, true)), this["shortcuts"]["push"](new ShortcutObject("roommanager", "dialog", "ALT+R", "", "dialogs", "keydown", 0, true)), this["shortcuts"]["push"](new ShortcutObject("messenger", "dialog", "ALT+M", "", "dialogs", "keydown", 0, true)), this["shortcuts"].push(new ShortcutObject("profile", "dialog", "ALT+P", "", "dialogs", "keydown", 0, true)), this.shortcuts["push"](new ShortcutObject("chat", "dialog", "ALT+C", "", "dialogs", "keydown", 0, true)), this["shortcuts"]["push"](new ShortcutObject("undo", "dialog", "ALT+U", "", "dialogs", "keydown", 0, true)), this["shortcuts"]["push"](new ShortcutObject("upload", "dialog", "ALT+L", "", "dialogs", "keydown", 0, true)), this["shortcuts"]["push"](new ShortcutObject("save", "dialog", "ALT+S", "", "dialogs", "keydown", 0, true)), this["shortcuts"]["push"](new ShortcutObject("color", "dialog", "ALT+O", "", "dialogs", "keydown", 0, true)), this["shortcuts"]["push"](new ShortcutObject("radialmenu", "custom", "", "", "dialogs", "holdable", 0, false)), this["shortcuts"]["push"](new ShortcutObject("maximizedialog", "custom", "", "", "dialogs", "keydown", 0, true)), this.shortcuts.push(new ShortcutObject("closedialog", "custom", "ESC", "", "dialogs", "keydown", 0, true)), this["shortcuts"]["push"](new ShortcutObject("leaveroom", "custom", "", "", "dialogs", "keydown", 0, true)), this.shortcuts["push"](new ShortcutObject("fullscreen", "custom", "F11", "", "UI", "keydown", 0, true)), this["shortcuts"]["push"](new ShortcutObject("zoomin", "custom", "NUMPAD +", "", "UI", "keydown", 100, false)), this.shortcuts["push"](new ShortcutObject("zoomout", "custom", "NUMPAD -", "", "UI", "keydown", 100, false)), this["shortcuts"]["push"](new ShortcutObject("resetzoom", "custom", "", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("nextlayerup", "custom", "SHIFT+UP", "", "UI", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("nextlayerdown", "custom", "SHIFT+DOWN", "", "UI", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("changeprimarycolor", "custom", "SHIFT+C", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("changesecondarycolor", "custom", "", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("swapcolors", "custom", "CTRL+SPACE", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("+r", "coloroption", "", "", "UI", "keydown", 25, false)), this.shortcuts["push"](new ShortcutObject("-r", "coloroption", "", "", "UI", "keydown", 25, false)), this["shortcuts"]["push"](new ShortcutObject("+g", "coloroption", "", "", "UI", "keydown", 25, false)), this["shortcuts"]["push"](new ShortcutObject("-g", "coloroption", "", "", "UI", "keydown", 25, false)), this["shortcuts"].push(new ShortcutObject("+b", "coloroption", "", "", "UI", "keydown", 25, false)), this["shortcuts"]["push"](new ShortcutObject("-b", "coloroption", "", "", "UI", "keydown", 25, false)), this["shortcuts"]["push"](new ShortcutObject("+h", "coloroption", "", "", "UI", "keydown", 50, false)), this["shortcuts"]["push"](new ShortcutObject("-h", "coloroption", "", "", "UI", "keydown", 50, false)), this["shortcuts"]["push"](new ShortcutObject("+s", "coloroption", "", "", "UI", "keydown", 50, false)), this.shortcuts["push"](new ShortcutObject("-s", "coloroption", "", "", "UI", "keydown", 50, false)), this["shortcuts"]["push"](new ShortcutObject("+v", "coloroption", "", "", "UI", "keydown", 50, false)), this.shortcuts["push"](new ShortcutObject("-v", "coloroption", "", "", "UI", "keydown", 50, false)), this["shortcuts"].push(new ShortcutObject("rotatereset", "custom", "ALT+NUMPAD 0", "", "UI", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("rotate45left", "custom", "ALT+LEFT", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("rotate45right", "custom", "ALT+RIGHT", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("moveboard", "custom", "LEFT CTRL", "RIGHT CTRL", "UI", "holdable", 0, false)), this["shortcuts"]["push"](new ShortcutObject("fittoscreen", "custom", "", "", "UI", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("centerboard", "custom", "", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("viewflip", "custom", "ALT+DOWN", "", "UI", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("pixelsmoothing", "custom", "", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("pickcolor1", "color", "NUMPAD 1", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("pickcolor2", "color", "NUMPAD 2", "", "UI", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("pickcolor3", "color", "NUMPAD 3", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("pickcolor4", "color", "NUMPAD 4", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("pickcolor5", "color", "NUMPAD 5", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("pickcolor6", "color", "NUMPAD 6", "", "UI", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("pickcolor7", "color", "NUMPAD 7", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("pickcolor8", "color", "NUMPAD 8", "", "UI", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("pickcolor9", "color", "NUMPAD 9", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("pickcolor10", "color", "NUMPAD 0", "", "UI", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("loadpreset1", "preset", "1", "", "UI", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("loadpreset2", "preset", "2", "", "UI", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("loadpreset3", "preset", "3", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("loadpreset4", "preset", "4", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("loadpreset5", "preset", "5", "", "UI", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("loadpreset6", "preset", "6", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("loadpreset7", "preset", "7", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("loadpreset8", "preset", "8", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("loadpreset9", "preset", "9", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("loadpreset10", "preset", "0", "", "UI", "keydown", 0, false)), this.shortcuts.push(new ShortcutObject("loadpreset11", "preset", "", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("loadpreset12", "preset", "", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("loadpreset13", "preset", "", "", "UI", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("loadpreset14", "preset", "", "", "UI", "keydown", 0, false)), this["shortcuts"]["push"](new ShortcutObject("loadpreset15", "preset", "", "", "UI", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("loadpreset16", "preset", "", "", "UI", "keydown", 0, false)), this["shortcuts"].push(new ShortcutObject("loadpreset17", "preset", "", "", "UI", "keydown", 0, false)), this.shortcuts["push"](new ShortcutObject("loadpreset18", "preset", "", "", "UI", "keydown", 0, false));
  }
  ["changeShortcut"](_0x19c595, _0x5c117f, _0xecc49b = true) {
    return !this["shortcutExists"](_0x5c117f) && !this["shortcutReserved"](_0x5c117f) ? (this.setShortcut(_0x19c595, _0x5c117f, _0xecc49b), this["saveToStorage"](), true) : false;
  }
  ["setShortcut"](_0x20a6b4, _0x4aede6, _0x4195a7 = true) {
    $["each"](this["shortcuts"], function (_0x477661, _0x4c349e) {
      _0x4c349e.id == _0x20a6b4 && (_0x4195a7 ? _0x4c349e.shortcut = _0x4aede6 : _0x4c349e["shortcut2"] = _0x4aede6);
    });
  }
  ["getShortcutString"](_0x1462ca, _0x1d024c, _0x15ea83, _0x222e4f, _0x4bf11d, _0x22570a) {
    if (_0x222e4f == 16) _0x15ea83 = false; else {
      if (_0x222e4f == 17) _0x1462ca = false; else {
        if (_0x222e4f == 18) _0x1d024c = false;
      }
    }
    return (_0x1462ca ? "CTRL+" : "") + (_0x1d024c ? "ALT+" : "") + (_0x15ea83 ? "SHIFT+" : "") + this["getLocation"](_0x22570a) + this["getKeyCharacter"](_0x222e4f, _0x4bf11d);
  }
  ["getShortcut"](_0x3ad712) {
    var _0x53862e = null;
    return $["each"](this["shortcuts"], function (_0x18b144, _0x130d34) {
      _0x130d34.id == _0x3ad712 && (_0x53862e = _0x130d34);
    }), _0x53862e;
  }
  ["getShortcutId"](_0x300335) {
    var _0x13a0b2 = null;
    return _0x300335 != "" && $["each"](this["shortcuts"], function (_0x36a474, _0x2e39b6) {
      (_0x2e39b6.shortcut == _0x300335 || _0x2e39b6.shortcut2 == _0x300335) && (_0x13a0b2 = _0x2e39b6.id);
    }), _0x13a0b2;
  }
  ["getLocation"](_0x4eecda) {
    if (_0x4eecda == KeyboardEvent["DOM_KEY_LOCATION_NUMPAD"]) return "NUMPAD ";
    if (_0x4eecda == KeyboardEvent.DOM_KEY_LOCATION_LEFT) return "LEFT ";
    if (_0x4eecda == KeyboardEvent.DOM_KEY_LOCATION_RIGHT) return "RIGHT ";
    return "";
  }
  ["isValidShortcut"](_0x155961) {
    var _0x67e856 = this["getShortcutInfo"](_0x155961);
    return !_0x67e856["nonprintablechars"];
  }
  ["getShortcutInfo"](_0x5ccb15) {
    var _0x809dc1 = _0x5ccb15["split"](this["keySeparator"]),
      _0x324110 = this["getSpecialKeys"](),
      _0x3cb0c8 = {};
    return _0x3cb0c8["ctrl"] = false, _0x3cb0c8["alt"] = false, _0x3cb0c8["shift"] = false, _0x3cb0c8["specialchars"] = false, _0x3cb0c8.functionkeys = false, _0x3cb0c8["nonprintablechars"] = false, _0x3cb0c8["printablechars"] = false, _0x3cb0c8["numbers"] = false, $.each(_0x809dc1, function (_0x370416, _0x16db8f) {
      if (_0x16db8f == "CTRL") _0x3cb0c8["ctrl"] = true; else {
        if (_0x16db8f == "ALT") _0x3cb0c8.alt = true; else {
          if (_0x16db8f == "SHIFT") _0x3cb0c8["shift"] = true; else {
            if (_0x16db8f == "F1" || _0x16db8f == "F2" || _0x16db8f == "F3" || _0x16db8f == "F4" || _0x16db8f == "F5" || _0x16db8f == "F6" || _0x16db8f == "F7" || _0x16db8f == "F8" || _0x16db8f == "F9" || _0x16db8f == "F10" || _0x16db8f == "F11" || _0x16db8f == "F12") _0x3cb0c8["functionkeys"] = true; else {
              if (_0x16db8f == "0" || _0x16db8f == "1" || _0x16db8f == "2" || _0x16db8f == "3" || _0x16db8f == "4" || _0x16db8f == "5" || _0x16db8f == "6" || _0x16db8f == "7" || _0x16db8f == "8" || _0x16db8f == "9") _0x3cb0c8.numbers = true; else {
                if (_0x324110["indexOf"](_0x16db8f) > -1) _0x3cb0c8.specialchars = true; else _0x16db8f["charCodeAt"](0) <= 31 ? _0x3cb0c8["nonprintablechars"] = true : _0x3cb0c8["printablechars"] = true;
              }
            }
          }
        }
      }
    }), _0x3cb0c8;
  }
  ["getKeyCharacter"](_0x1937e4, _0x307b1e) {
    var _0xa4f712,
      _0x49f4b4 = this.getKeyNames();
    try {
      _0x1937e4 in _0x49f4b4 ? _0xa4f712 = _0x49f4b4[_0x1937e4] : (_0xa4f712 = _0x307b1e["toUpperCase"](), _0xa4f712["length"] > 1 && _0xa4f712[0] == "~" && (_0xa4f712 = _0xa4f712["substr"](1)));
    } catch (_0x398d46) { }
    return _0xa4f712;
  }
  ["getSpecialKeys"]() {
    return [8, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 16, 17, 18, 27, 19, 144, 145, 20, 91, 92];
  }
  ["getKeyNames"]() {
    var _0x3d56bc = new Array();
    return _0x3d56bc[112] = "F1", _0x3d56bc[113] = "F2", _0x3d56bc[114] = "F3", _0x3d56bc[115] = "F4", _0x3d56bc[116] = "F5", _0x3d56bc[117] = "F6", _0x3d56bc[118] = "F7", _0x3d56bc[119] = "F8", _0x3d56bc[120] = "F9", _0x3d56bc[121] = "F10", _0x3d56bc[122] = "F11", _0x3d56bc[123] = "F12", _0x3d56bc[8] = "BACKSPACE", _0x3d56bc[9] = "TAB", _0x3d56bc[13] = "ENTER", _0x3d56bc[33] = "PAGE UP", _0x3d56bc[34] = "PAGE DOWN", _0x3d56bc[35] = "END", _0x3d56bc[36] = "HOME", _0x3d56bc[37] = "LEFT", _0x3d56bc[38] = "UP", _0x3d56bc[39] = "RIGHT", _0x3d56bc[40] = "DOWN", _0x3d56bc[45] = "INSERT", _0x3d56bc[46] = "DELETE", _0x3d56bc[16] = "SHIFT", _0x3d56bc[17] = "CTRL", _0x3d56bc[18] = "ALT", _0x3d56bc[27] = "ESC", _0x3d56bc[19] = "PAUSE", _0x3d56bc[32] = "SPACE", _0x3d56bc[144] = "NUM LOCK", _0x3d56bc[145] = "SCROLL LOCK", _0x3d56bc[20] = "CAPS LOCK", _0x3d56bc[91] = "WINDOWS", _0x3d56bc[92] = "WINDOWS", _0x3d56bc;
  }
  ["shortcutReserved"](_0x212fdc) {
    return this["reservedShortcuts"]["indexOf"](_0x212fdc) > -1;
  }
  ["shortcutExists"](_0x5e58a4, _0x128404 = null) {
    if (_0x5e58a4 == "") return false;
    var _0x5181e7 = false;
    return $["each"](this["shortcuts"], function (_0x8ff223, _0x4f2335) {
      (_0x128404 == null || _0x128404 != _0x4f2335.id) && (_0x4f2335["shortcut"] == _0x5e58a4 || _0x4f2335.shortcut2 == _0x5e58a4) && (_0x5181e7 = true);
    }), _0x5181e7;
  }
  ["loadDefaults"]() {
    this["clearFromStorage"](), this["generateShortcuts"]();
  }
  ["clearFromStorage"]() {
    this["storage"]["removeParameter"]("shortcuts");
  }
  ["loadFromStorage"]() {
    if (this["storage"]) {
      var _0x489494 = this["storage"]["getParameter"]("shortcuts");
      if (_0x489494) {
        var _0x1ed98f = this;
        $.each(JSON["parse"](_0x489494), function (_0x2d825e, _0x1b5aed) {
          _0x1ed98f["setShortcut"](_0x1b5aed.id, _0x1b5aed.shortcut, true), _0x1ed98f["setShortcut"](_0x1b5aed.id, _0x1b5aed["shortcut2"], false);
        });
      }
    }
  }
  ["saveToStorage"]() {
    this.storage && this["storage"]["setParameter"]("shortcuts", JSON["stringify"](getNewListOfObjects(this.shortcuts, ["id", "shortcut", "shortcut2"])));
  }
}
class ShortcutObject extends Component {
  constructor(_0x32dc58, _0x5bd79c, _0x386076, _0x45f5f2, _0x5752f0, _0x854c65, _0x11f912, _0x1b389b) {
    super(), this.id = _0x32dc58, this["stype"] = _0x5bd79c, this["shortcut"] = _0x386076, this["shortcut2"] = _0x45f5f2, this["category"] = _0x5752f0, this.eventType = _0x854c65, this["repeatInterval"] = _0x11f912, this.worksOnDialogs = _0x1b389b;
  }
}
class LayerPreview extends UIComponent {
  constructor(_0x3caf14) {
    super(_0x3caf14), this["container"]["addClass"]("p-0 m-0"), this.currentLayer = 0, this.previews = new Array(), this["previewTimers"] = new Array(), this["create"]();
    var _0x249ae0 = this;
    $["contextMenu"]({
      selector: ".layerPreview",
      build: function (_0x509a46) {
        var _0x3d8789 = {
          callback: function (_0x471d32, _0x312c6f) {
            var _0x2c7d02 = _0x312c6f.$trigger["attr"]("name");
            _0x471d32 == "clear" && $(_0x249ae0)["triggerHandler"](new layerOptionClickedEvent(_0x471d32, _0x2c7d02, {})["getEvent"]());
          },
          items: {
            clear: {
              name: "Clear layer",
              visible: function (_0x292673, _0x3659c1) {
                return room["myself"]["isLogged"]();
              },
              icon: "fa-eraser"
            }
          }
        };
        return $["each"](_0x3d8789["items"], function (_0x595b13, _0x1286aa) {
          _0x3d8789.items[_0x595b13]["name"] && (_0x3d8789["items"][_0x595b13]["name"] = function () {
            return textManager.getString("menu.layerPreview." + _0x595b13, null, false);
          });
        }), _0x3d8789;
      }
    }), this["container"].on(UI["pointerEvent"]("click"), "span.layerNumber", function (_0x50531b) {
      $(_0x249ae0)["triggerHandler"](new layerOptionClickedEvent("select", $(this).attr("name"), {})["getEvent"]());
    }), this["container"].on(UI["pointerEvent"]("click"), ".layerOption, .selectedLayerOption", function (_0x40dbc3) {
      _0x40dbc3["preventDefault"]();
      if (!(_0x249ae0["readOnly"] || $(this)["hasClass"]("disabled"))) {
        var _0x402c09 = $(this).hasClass("selectedLayerOption") ? $(this)["closest"](".layerPreview")["attr"]("name") : _0x249ae0["currentLayer"],
          _0x55a985 = $(this)["attr"]("name"),
          _0x82bf6f = {};
        $(this)["hasClass"]("mergeLayer") && (_0x55a985 = "merge", _0x82bf6f = {
          target: $(this)["attr"]("name")
        }), $(_0x249ae0)["triggerHandler"](new layerOptionClickedEvent(_0x55a985, _0x402c09, _0x82bf6f)["getEvent"]());
      }
      this["blur"]();
    }), $(room.board).on("layerChanged", function (_0x344d8c) {
      _0x344d8c["immediate"] ? _0x249ae0["updatePreview"](_0x344d8c.layer) : _0x249ae0["previewTimers"][_0x344d8c["layer"]] == null && (_0x249ae0.previewTimers[_0x344d8c["layer"]] = setTimeout(function (_0x1fb0a4) {
        _0x249ae0["updatePreview"](_0x1fb0a4);
      }, 1e3, _0x344d8c["layer"]));
    }), $(room["board"]).on("layerLocked", function (_0x2dfd6e) {
      var _0x3e915a = _0x249ae0.container["find"]('.layerPreview[name="' + _0x2dfd6e["layer"] + '"]');
      _0x3e915a && (_0x3e915a["find"](".selectedLayerOption[name=\"locktoggle\"]")["html"](new Icon("fa-lock").html()), _0x3e915a["find"](".layerPreviewOverlay")["html"](new Icon("fa-lock")["html"]()));
    }), $(room["board"]).on("layerUnlocked", function (_0x47299e) {
      var _0x3bfc0f = _0x249ae0.container["find"](".layerPreview[name=\"" + _0x47299e["layer"] + '"]');
      _0x3bfc0f && (_0x3bfc0f["find"](".selectedLayerOption[name=\"locktoggle\"]")["html"](new Icon("fa-unlock")["html"]()), _0x3bfc0f["find"](".layerPreviewOverlay")["empty"]());
    }), $(room["myself"].surface).on("layerSelected", function (_0x5af55f) {
      _0x249ae0.highlight(_0x5af55f["layer"]);
    });
  }
  ["create"]() {
    this["container"]["empty"]();
    var _0x37683c = "";
    _0x37683c += '<nav class="navbar navbar-expand navbar-light p-0 m-0 sticky-top sidebarNavbar">', _0x37683c += "<div class=\"container full-width\">", _0x37683c += "<ul class=\"navbar-nav\">", _0x37683c += "<li class=\"nav-item\"><a data-tooltipcallback=\"tooltipText\" data-tooltipparam=\"layerPreview.btnClear\" name=\"clear\" class=\"layerOption layerButton nav-link\" href=\"#\"><i class=\"fas fa-eraser\"></i></a></li>", _0x37683c += "<li class=\"nav-item dropdown mergLayer\">", _0x37683c += "<a class=\"nav-link dropdown-toggle layerButton\" href=\"#\" id=\"mergLayer\" name=\"mergeLayer\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">", _0x37683c += '<i class="fas fa-object-group"></i></a><ul class="dropdown-menu" aria-labelledby="mergLayer"></ul></li>', _0x37683c += "<li class=\"nav-item\"><a data-tooltipcallback=\"tooltipText\" data-tooltipparam=\"layerPreview.btnFlipHorizontally\" name=\"fliph\" class=\"layerOption layerButton nav-link\" href=\"#\"><i class=\"fas fa-arrows-alt-h\"></i></a></li>", _0x37683c += "<li class=\"nav-item\"><a data-tooltipcallback=\"tooltipText\" data-tooltipparam=\"layerPreview.btnFlipVertically\" name=\"flipv\" class=\"layerOption layerButton nav-link\" href=\"#\"><i class=\"fas fa-arrows-alt-v\"></i></a></li>", _0x37683c += '<li class="nav-item"><a data-tooltipcallback="tooltipText" data-tooltipparam="layerPreview.btnSave" name="save" class="layerOption layerButton nav-link" href="#"><i class="fas fa-save"></i></a></li>', _0x37683c += '</ul></div></nav><div class="layerPreviews"></div>', this["container"]["append"](_0x37683c), this["updateLayerCount"](true), this["highlight"](0);
  }
  ["createLayerRow"](_0x1bbc09, _0x4fcb4b = false) {
    var _0x148f3a = new Icon("fa-eye"),
      _0xec7901 = new Icon(room["board"]["layers"][_0x1bbc09]["locked"] ? "fa-lock" : "fa-unlock"),
      _0x1ba97b = "";
    _0x1ba97b += "<div class=\"row layerPreview p-0 m-0\" name=\"" + _0x1bbc09 + "\"><div class=\"col-12 m-0 p-1\">", _0x1ba97b += "<div class=\"layerPreviewImg\"><a href=\"#\" name=\"" + _0x1bbc09 + "\"><div class=\"layerPreviewOverlay\"></div><img name=\"select\" class=\"selectedLayerOption preview\" alt=\"" + _0x1bbc09 + "\" /></a></div>", _0x1ba97b += '<div class="layerPreviewContent">', _0x1ba97b += "<span name=\"" + _0x1bbc09 + "\" class=\"btn layerNumber btn-square\">" + (_0x1bbc09 + 1) + "</span>", _0x1ba97b += '<a data-tooltipcallback="tooltipText" data-tooltipparam="layerPreview.btnHide" name="toggle" class="selectedLayerOption layerButton btn btn-square">' + _0x148f3a["html"]() + "</a>", _0x1ba97b += "<a data-tooltipcallback=\"tooltipText\" data-tooltipparam=\"layerPreview.btnLock\" name=\"locktoggle\" class=\"selectedLayerOption layerButton btn btn-square" + (_0x4fcb4b ? " disabled" : "") + '">' + _0xec7901["html"]() + "</a>", this.container["find"]("div.layerPreviews")["append"](_0x1ba97b);
  }
  ["highlight"](_0x90c37b) {
    this["currentLayer"] = _0x90c37b, this["container"]["find"]("div").each(function (_0x279e0a, _0x134758) {
      $(_0x134758).attr("name") == _0x90c37b ? $(_0x134758)["addClass"]("selectedLayer") : $(_0x134758).removeClass("selectedLayer");
    }), this["container"]["find"](".currentLayerOption")["attr"]("name", _0x90c37b);
  }
  ["reset"]() {
    this["container"].find('.layerPreview .layerButton[name="toggle"]')["html"](new Icon("fa-eye")["html"]()), this.container.find(".layerPreview .layerButton[name=\"locktoggle\"]").html(new Icon("fa-unlock")["html"]());
  }
  ["showLayer"](_0x1d21d6) {
    var _0x456e77 = this["container"]["find"](".layerPreview[name=\"" + _0x1d21d6 + "\"] .selectedLayerOption[name=\"toggle\"]");
    _0x456e77 && _0x456e77["html"](new Icon("fa-eye")["html"]());
  }
  ["hideLayer"](_0x5eef7b) {
    var _0x1acb8f = this["container"].find('.layerPreview[name="' + _0x5eef7b + "\"] .selectedLayerOption[name=\"toggle\"]");
    _0x1acb8f && _0x1acb8f["html"](new Icon("fa-eye-slash")["html"]());
  }
  ["nextLayerUp"]() {
    var _0x4f3a65 = room["myself"]["surface"]["currentLayer"] + 1;
    _0x4f3a65 > room["board"]["nLayers"] - 1 && (_0x4f3a65 = 0), room["myself"]["surface"]["setCurrentLayer"](_0x4f3a65), this.highlight(_0x4f3a65);
  }
  ["nextLayerDown"]() {
    var _0x310e38 = room["myself"]["surface"]["currentLayer"] - 1;
    _0x310e38 < 0 && (_0x310e38 = room["board"].nLayers - 1), room.myself["surface"].setCurrentLayer(_0x310e38), this["highlight"](_0x310e38);
  }
  ["updatePreview"](_0x3d3fd6) {
    var _0x2e98ca = this;
    if (this["previews"][_0x3d3fd6]) {
      this.previewTimers[_0x3d3fd6] = null, this["previews"][_0x3d3fd6]["clear"](), this["previews"][_0x3d3fd6]["drawImage"](room["board"]["layers"][_0x3d3fd6].getCanvas(), 0, 0, this["previews"][_0x3d3fd6].width, this["previews"][_0x3d3fd6].height);
      var _0x4e2b5b = new Image();
      _0x4e2b5b["onload"] = function () {
        _0x2e98ca["container"]["find"](".preview[alt=\"" + _0x3d3fd6 + '"]')["attr"]("src", _0x4e2b5b.src);
      }, _0x4e2b5b.src = this.previews[_0x3d3fd6]["getData"]();
    }
  }
  ["updateLayerCount"](_0x65ae60 = false) {
    var _0x4902eb = this["container"]["find"](".layerPreviews > .layerPreview")["length"];
    if (_0x65ae60 || room["board"]["nLayers"] != _0x4902eb) {
      var _0x11996c = this["container"].find(".mergLayer .dropdown-menu");
      _0x11996c["empty"]();
      for (var _0x2d0bc3 = room["board"]["nLayers"] - 1; _0x2d0bc3 >= 0; _0x2d0bc3--) {
        _0x11996c["append"]('<a name="' + _0x2d0bc3 + "\" class=\"layerOption mergeLayer dropdown-item\" href=\"#\">" + textManager["getString"]("menu.layers.MergeWithLayer", _0x2d0bc3 + 1, false) + "</a>");
      }
      var _0x5b54fd = this["container"]["find"]('.layerButton[name="locktoggle"]')["hasClass"]("disabled");
      this["container"]["find"]("div.layerPreviews")["empty"](), this["removePreviews"]();
      for (var _0x2d0bc3 = room["board"]["nLayers"] - 1; _0x2d0bc3 >= 0; _0x2d0bc3--) {
        var _0x5bbb0c = new AdvancedCanvas(parseInt(room.board["canvasWidth"] / 8), parseInt(room["board"]["canvasHeight"] / 8));
        this["previews"]["push"](_0x5bbb0c), this["updatePreview"](_0x2d0bc3), this["createLayerRow"](_0x2d0bc3, _0x5b54fd);
      }
    }
  }
  ["updatePreviewSize"]() {
    this["removePreviews"]();
    for (var _0x1266c0 = 0; _0x1266c0 < room["board"]["nLayers"]; _0x1266c0++) {
      var _0x14ddcc = new AdvancedCanvas(parseInt(room["board"]["canvasWidth"] / 8), parseInt(room["board"]["canvasHeight"] / 8));
      this["previews"]["push"](_0x14ddcc), this["updatePreview"](_0x1266c0);
    }
  }
  ["updatePreviews"]() {
    for (var _0x55b844 = 0; _0x55b844 < room["board"]["nLayers"]; _0x55b844++) {
      this["updatePreview"](_0x55b844);
    }
  }
  ["removePreviews"]() {
    for (var _0x57a560 = 0; _0x57a560 < this["previews"]["length"]; _0x57a560++) {
      this["previews"][_0x57a560]["remove"]();
    }
    this["previews"] = new Array();
  }
  ["disableButton"](_0xd48437) {
    this["container"]["find"]('.layerButton[name="' + _0xd48437 + '"]')["addClass"]("disabled");
  }
  ["enableButton"](_0x2e6264) {
    this["container"]["find"](".layerButton[name=\"" + _0x2e6264 + '"]')["removeClass"]("disabled");
  }
}
class AnimationOptions extends UIComponent {
  constructor(_0x122e92) {
    super(_0x122e92), this.container.addClass("p-0 m-0"), this.frameSlider, this["create"]();
    var _0x3ef270 = this;
  }
  ["create"]() {
    this["container"]["empty"]();
    var _0x5cf39f = "";
    _0x5cf39f += "<div class=\"p-1\">", _0x5cf39f += "<div><div class=\"input-group\"><a name=\"play\" class=\"btn btn-sm btn-success\" style=\"width: 83%; border-top-right-radius: 0px; border-bottom-right-radius: 0px;\"><i class=\"fas fa-play\"></i> <span data-i18n=\"animation.sidebar.btnPlay\">Play</span></a>", _0x5cf39f += '<a name="config" class="btn btn-sm btn-success" style=""><i class="fas fa-cog"></i></a></div></div>';
    room["board"]["onionSkin"] && (_0x5cf39f += '<p><div class="optionTitle"><span data-i18n="tooloption.alpha">Opacity</span></div><div name="frameSlider" class="optionField fmSlider"></div></p>');
    _0x5cf39f += '<p><span data-i18n="animation.sidebar.lblFrames">Frames:</span></p>', _0x5cf39f += '<p class="text-center"><a name="prevframe" class="btn btn-sm btn-success text-start"><i class="fa fa-backward"></i></a>', _0x5cf39f += '<a name="viewall" class="btn btn-sm btn-success text-center me-1 ms-1"><i class="fa fa-th-large"></i> <span data-i18n="animation.sidebar.btnViewAll">View all</span></a>', _0x5cf39f += "<a name=\"nextframe\" class=\"btn btn-sm btn-success text-end\"><i class=\"fa fa-forward\"></i></a></p>", _0x5cf39f += '<div id="frames"><table class="fmTable animationTable w-100" style="text-align: center;"></table></div></div>', this["container"]["append"](_0x5cf39f), this.container.find("a[name=\"viewall\"]")["addClass"]("disabled"), this["container"]["find"]("a[name=\"prevframe\"]")["addClass"]("disabled"), this["container"]["find"]('a[name="nextframe"]')["addClass"]("disabled");
    room["board"].onionSkin && (this["frameSlider"] = new Slider(this.container["find"]('div[name="frameSlider"]'), 0, 1, 0.1), $(this["frameSlider"]).on("sliderChange", function (_0x4d39d1) {
      room.board["changeOnionSkinOpacity"](_0x4d39d1["value"]);
    }));
    textManager["updateElement"](this["container"]);
    var _0x9df9c1 = this;
    $(room).on("animationFrameChanged", function (_0x3aac21) {
      _0x9df9c1["container"]["find"]("#frames table").empty();
      var _0x21b225 = 0;
      for (var _0x446246 = 0; _0x446246 < room["animRows"]; _0x446246++) {
        _0x9df9c1["container"]["find"]("#frames table")["append"]("<tr></tr>");
        for (var _0x339ddd = 0; _0x339ddd < room["animCols"]; _0x339ddd++) {
          _0x9df9c1["container"].find("#frames table tr:last-child")["append"]("<td><a name=\"" + _0x21b225 + "\" class=\"animationFrame\" href=\"#\">" + (_0x21b225 + 1) + "</a></td>"), _0x21b225++;
        }
      }
    }), this.container.on(UI["pointerEvent"]("down"), "a[name=\"viewall\"]", function (_0x282b5a) {
      _0x282b5a.preventDefault(), (!_0x282b5a["which"] || _0x282b5a["which"] == 1) && (UI["resetViewSize"](), UI["fitToScreen"]());
    }), this.container.on(UI["pointerEvent"]("down"), 'a[name="prevframe"]', function (_0x28a5b9) {
      _0x28a5b9["preventDefault"]();
      if (!_0x28a5b9.which || _0x28a5b9.which == 1) {
        var _0x65dfa2 = parseInt(_0x9df9c1["container"]["find"](".animationTable td.selected a").attr("name"));
        --_0x65dfa2 < 0 && (_0x65dfa2 = room["animRows"] * room["animCols"] - 1), _0x9df9c1["select"](_0x65dfa2);
      }
    }), this["container"].on(UI["pointerEvent"]("down"), "a[name=\"nextframe\"]", function (_0x4f9441) {
      _0x4f9441["preventDefault"]();
      if (!_0x4f9441.which || _0x4f9441["which"] == 1) {
        var _0x3bac9d = parseInt(_0x9df9c1["container"]["find"](".animationTable td.selected a")["attr"]("name"));
        ++_0x3bac9d >= room.animRows * room.animCols && (_0x3bac9d = 0), _0x9df9c1["select"](_0x3bac9d);
      }
    }), this["container"].on(UI["pointerEvent"]("down"), "a[name=\"play\"]", function (_0x3de944) {
      _0x3de944["preventDefault"](), (!_0x3de944.which || _0x3de944["which"] == 1) && UI["dialogHandler"].showDialog("animation", "play");
    }), this["container"].on(UI["pointerEvent"]("down"), 'a[name="config"]', function (_0x2ef967) {
      _0x2ef967["preventDefault"](), (!_0x2ef967["which"] || _0x2ef967.which == 1) && UI["dialogHandler"].showDialog("animation", "frames");
    }), this["container"].on(UI["pointerEvent"]("down"), "a[name=\"onionskin\"]", function (_0x37de4f) {
      _0x37de4f.preventDefault();
      if (!_0x37de4f["which"] || _0x37de4f["which"] == 1) {
        var _0xcbf226 = room["board"]["getAllLayers"]();
        _0xcbf226.then(function (_0x54c818) {
          var _0x351a07 = new AdvancedCanvas(room["board"]["canvasWidth"], room.board["canvasHeight"]),
            _0x379007 = Object["keys"](_0x54c818)["length"],
            _0x47ba3e = {},
            _0x10062e = 0;
          $.each(_0x54c818, function (_0x42e034, _0x4854f6) {
            var _0x4c912a = new Image();
            _0x47ba3e[_0x42e034] = _0x4c912a, _0x4c912a["onload"] = function () {
              if (++_0x10062e == _0x379007) {
                for (var _0x25b91a = 0; _0x25b91a < room["board"].nLayers; _0x25b91a++) {
                  _0x25b91a in _0x47ba3e && _0x351a07["drawImage"](_0x47ba3e[_0x25b91a], 0, 0);
                }
                _0x9df9c1["onionSkin"](_0x351a07);
              }
            }, _0x4c912a.src = _0x4854f6;
          });
        });
      }
    }), this["container"].on(UI.pointerEvent("down"), ".animationTable td", function (_0x54bf46) {
      _0x54bf46["preventDefault"]();
      if (!_0x54bf46["which"] || _0x54bf46["which"] == 1) {
        var _0x46278e = room["board"].canvasWidth / room.animCols,
          _0x335936 = room["board"]["canvasHeight"] / room.animRows,
          _0x36c857 = parseInt($(this)["find"]("a")["attr"]("name"));
        _0x9df9c1["select"](_0x36c857);
      }
    }), $(UI).on("viewSizeChanged", function (_0x368964) {
      !_0x368964["limited"] ? (_0x9df9c1.container.find(".animationTable td.selected")["removeClass"]("selected"), _0x9df9c1["container"]["find"]("a[name=\"viewall\"]")["addClass"]("disabled"), _0x9df9c1["container"]["find"]("a[name=\"prevframe\"]")["addClass"]("disabled"), _0x9df9c1.container["find"]("a[name=\"nextframe\"]")["addClass"]("disabled")) : (_0x9df9c1["container"]["find"]("a[name=\"viewall\"]")["removeClass"]("disabled"), _0x9df9c1["container"]["find"]("a[name=\"prevframe\"]")["removeClass"]("disabled"), _0x9df9c1.container["find"]("a[name=\"nextframe\"]").removeClass("disabled"));
    });
  }
  ["onionSkin"](_0x21e468) {
    if (room.board["onionSkin"]) {
      var _0x301ef8 = new AdvancedCanvas(room["board"]["canvasWidth"], room["board"]["canvasHeight"]),
        _0xd79f24 = room.board["canvasWidth"] / room["animCols"],
        _0x2e4a4a = room.board["canvasHeight"] / room.animRows;
      for (var _0x523bf0 = 0; _0x523bf0 < room["animRows"]; _0x523bf0++) {
        for (var _0x4c1d06 = 0; _0x4c1d06 < room["animCols"]; _0x4c1d06++) {
          var _0x1e935c = _0x21e468["getImageData"](_0x4c1d06 * _0xd79f24, _0x523bf0 * _0x2e4a4a, _0xd79f24, _0x2e4a4a),
            _0x29a5dc = _0x4c1d06 + 1,
            _0x3b86f1 = _0x523bf0;
          _0x29a5dc >= room["animCols"] && (_0x29a5dc = 0, _0x3b86f1 = _0x523bf0 + 1, _0x3b86f1 >= room["animRows"] && (_0x3b86f1 = 0)), _0x301ef8["putImageData"](_0x1e935c, _0x29a5dc * _0xd79f24, _0x3b86f1 * _0x2e4a4a);
        }
      }
      room["board"]["onionSkin"](_0x301ef8["getImageData"]());
    }
  }
  ["select"](_0x22c35a) {
    var _0x132604 = room["board"]["canvasWidth"] / room["animCols"],
      _0x3f4d40 = room["board"].canvasHeight / room["animRows"],
      _0x2ecd6a = Math["floor"](_0x22c35a / room["animCols"]),
      _0x5a69d3 = _0x22c35a % room["animCols"];
    UI.setViewSize(_0x132604, _0x3f4d40), UI.setViewOffset(_0x132604 * _0x5a69d3 * -1, _0x3f4d40 * _0x2ecd6a * -1), UI["fitToScreen"](), this["container"]["find"](".animationTable td.selected")["removeClass"]("selected"), this["container"].find(".animationTable td a[name=\"" + _0x22c35a + '"]')["parents"]("td")["addClass"]("selected");
  }
  ["enableButton"](_0x3e612b) {
    _0x3e612b == "frameOptions" && this["container"].find("a[name=\"config\"]")["removeClass"]("disabled");
  }
  ["disableButton"](_0x55cbe1) {
    _0x55cbe1 == "frameOptions" && this["container"]["find"]("a[name=\"config\"]")["addClass"]("disabled");
  }
}
class UserList extends UIComponent {
  constructor(_0x2db849) {
    super(_0x2db849);
    var _0x2a247f = this;
    $["contextMenu"]({
      selector: "#userlistBox table tbody tr.myself",
      build: function (_0x287db2) {
        var _0x10401c = {
          callback: function (_0x10b5a2, _0x585230) {
            var _0x27c833 = _0x585230["$trigger"]["attr"]("name");
            _0x2a247f.select(_0x27c833);
            if (_0x10b5a2 == "Pfl") UI["profileDialog"].show(); else {
              if (_0x10b5a2 == "Ugd") UI["userGalleryDialog"]["show"]({
                uid: room["myself"]["uid"]
              }); else {
                if (_0x10b5a2 == "Reg") {
                  var _0x5a9fab = {};
                  _0x5a9fab["command"] = "ROOMREQUEST", _0x5a9fab.action = "Register", socket["send"](_0x5a9fab, true);
                } else {
                  if (_0x10b5a2 == "Dbg") {
                    var _0x5a9fab = {};
                    _0x5a9fab.command = "GLOBALFUNCTIONS", _0x5a9fab["option"] = "DEBUG", _0x5a9fab["target"] = _0x27c833, socket["send"](_0x5a9fab, true);
                  }
                }
              }
            }
          },
          items: {
            Dbg: {
              name: "Debug",
              visible: function (_0x229eff, _0x13a04d) {
                return room.myself["rank"] == "GM";
              },
              icon: "fa-bug"
            },
            Pfl: {
              name: "Profile",
              icon: "fa-user-tie"
            },
            Ugd: {
              name: "Gallery",
              visible: function (_0x71e9c3, _0x2da3d6) {
                return room.myself["isLogged"]();
              },
              icon: "fa-image"
            },
            Reg: {
              name: "Register room",
              visible: function (_0x45808c, _0x265303) {
                return room.myself["isLogged"]();
              },
              icon: "fa-flag"
            }
          }
        };
        return $["each"](_0x10401c["items"], function (_0xcb9db2, _0x4e29fc) {
          _0x10401c["items"][_0xcb9db2]["name"] && (_0x10401c["items"][_0xcb9db2]["name"] = function () {
            return textManager["getString"]("menu.userList." + _0xcb9db2, null, false);
          });
        }), _0x10401c;
      }
    }), $.contextMenu({
      selector: "#userlistBox table tbody tr.someoneelse",
      build: function (_0x5c40e0) {
        var _0x10063e = {
          callback: function (_0x2581d5, _0x5e04bd) {
            var _0x223d71 = _0x5e04bd.$trigger.attr("name");
            _0x2a247f["select"](_0x223d71);
            if (_0x2581d5 == "Snc") UI["syncBoard"](_0x223d71); else {
              if (_0x2581d5 == "Ugd") UI["userGalleryDialog"]["show"]({
                username: room.users[_0x223d71]["username"]
              }); else {
                if (_0x2581d5 == "Dbg") {
                  var _0x1ed865 = {};
                  _0x1ed865["command"] = "GLOBALFUNCTIONS", _0x1ed865["option"] = "DEBUG", _0x1ed865.target = _0x223d71, socket["send"](_0x1ed865, true);
                } else {
                  if (_0x2581d5 == "Ccb") UI["setCustomBrush"](room.users[_0x223d71]["surface"].getBrushesOptions()["custom"].image); else {
                    if (_0x2581d5 == "IgnToggle") room.toggleIgnoreUser(_0x223d71); else _0x2581d5 == "Pm" ? (UI["chatDialog"].show(), !UI["chatDialog"]["existsChannel"](_0x223d71, "user") && UI["chatDialog"]["addChannel"](_0x223d71, "user"), UI["chatDialog"].selectChannel(_0x223d71, "user")) : room["myself"]["surface"]["userRequestAction"](_0x2581d5, _0x223d71);
                  }
                }
              }
            }
          },
          items: {
            Nm: {
              name: "-",
              disabled: true
            },
            Rnk: {
              name: "-",
              disabled: true
            },
            Ipa: {
              name: "-",
              disabled: true,
              visible: function (_0x45fdf5, _0xb4418d) {
                return room["can"]("ban");
              },
              icon: "fa-ellipsis"
            },
            sep0: {
              type: "cm_separator"
            },
            Snc: {
              name: "Sync board",
              icon: "fa-arrow-left"
            },
            Dbg: {
              name: "Debug",
              visible: function (_0x2cfd4c, _0x535401) {
                return room["myself"]["rank"] == "GM";
              },
              icon: "fa-bug"
            },
            Ugd: {
              name: "Gallery",
              visible: function (_0x4a171f, _0x35c638) {
                return room["users"][_0x35c638.$trigger.attr("name")]["isLogged"]();
              },
              icon: "fa-image"
            },
            Ccb: {
              name: "Copy custom brush",
              visible: function (_0x50cfed, _0x1636f2) {
                return room["myself"]["rank"] == "GM";
              },
              icon: "fa-copy"
            },
            Pm: {
              name: "Private message",
              icon: "fa-envelope"
            },
            sep1: {
              type: "cm_separator"
            },
            IgnToggle: {
              name: "Ignore / Unignore",
              icon: "fa-user-slash"
            },
            sep2: {
              type: "cm_separator",
              visible: function (_0x29eabf, _0x46e12b) {
                return room.can("kick") || room["can"]("ban");
              }
            },
            Kck: {
              name: "Kick",
              visible: function (_0x1641be, _0x25824a) {
                return room["can"]("kick");
              },
              icon: "fa-user-minus"
            },
            Bn: {
              name: "Ban",
              visible: function (_0x514dd8, _0xa9d604) {
                return room["can"]("ban");
              },
              icon: "fa-user-xmark"
            },
            sep3: {
              type: "cm_separator",
              visible: function (_0x49f3ad, _0x100103) {
                return room.can("mute");
              }
            },
            Muu: {
              name: "Mute",
              visible: function (_0x4f1358, _0x473063) {
                return room["can"]("mute");
              },
              icon: "fa-ban"
            },
            Umu: {
              name: "Unmute",
              visible: function (_0x54c85d, _0x507277) {
                return room.can("mute");
              },
              icon: "fa-pencil"
            },
            sep4: {
              type: "cm_separator",
              visible: function (_0x20eaad, _0xfed407) {
                return room["can"]("silence");
              }
            },
            Siu: {
              name: "Silence",
              visible: function (_0x34e216, _0x708dfb) {
                return room["can"]("silence");
              },
              icon: "fa-comment-slash"
            },
            Usi: {
              name: "Unsilence",
              visible: function (_0x69b58d, _0x22a071) {
                return room["can"]("silence");
              },
              icon: "fa-comment"
            },
            sep5: {
              type: "cm_separator",
              visible: function (_0xe2f206, _0x26fcc1) {
                return room.can("addmod");
              }
            },
            Pru: {
              name: "Promote",
              visible: function (_0x1afb91, _0xfc6579) {
                return room["can"]("addmod");
              },
              disabled: function (_0x3317af, _0x488318) {
                var _0xafec63 = _0x488318["$trigger"].attr("name");
                return room.users[_0xafec63].rank == "UU";
              },
              icon: "fa-person-arrow-up-from-line"
            },
            Deu: {
              name: "Demote",
              visible: function (_0x2a7f4a, _0x5e974c) {
                return room["can"]("addmod");
              },
              disabled: function (_0x483ff8, _0x2fb926) {
                var _0x28f81b = _0x2fb926["$trigger"].attr("name");
                return room["users"][_0x28f81b]["rank"] == "UU";
              },
              icon: "fa-person-arrow-down-to-line"
            }
          }
        };
        return $["each"](_0x10063e.items, function (_0x1b6f9c, _0x5bfeda) {
          _0x10063e["items"][_0x1b6f9c]["name"] && (_0x10063e["items"][_0x1b6f9c]["name"] = function () {
            return textManager["getString"]("menu.userList." + _0x1b6f9c, null, false);
          });
        }), _0x10063e["items"].Nm["name"] = _0x5c40e0["attr"]("name"), _0x10063e["items"]["Rnk"]["name"] = UI["userRank"](room["users"][_0x5c40e0["attr"]("name")]["rank"], null, false), _0x10063e["items"]["Ipa"].name = room["users"][_0x5c40e0.attr("name")].ip, _0x10063e["items"]["Ipa"].icon = room["users"][_0x5c40e0.attr("name")]["proxy"] ? "fa-network-wired" : "", _0x10063e;
      }
    }), $(this["container"]).on(UI.pointerEvent("click"), "tr", function (_0x5ee073) {
      _0x2a247f["select"]($(this)["attr"]("name"));
    });
  }
  ["addMyself"]() {
    if (this["container"].find("tr.myself")["length"] == 0) {
      var _0x29c518 = this;
      this["container"]["append"]("<tr class=\"myself\" name=\"" + room["myself"]["username"] + "\"></tr>"), this["updateMyself"](), $(room["myself"]).on("usernameChanged statusChanged rankChanged muteChanged silenceChanged", function (_0x1d5fb7) {
        _0x29c518["updateMyself"]();
      });
    } else this["updateMyself"]();
  }
  ["addUser"](_0x1f276c, _0x19dbe6 = true) {
    var _0x2aa79d = this,
      _0x116925 = room["users"][_0x1f276c["username"]];
    this["container"]["find"]("tr[name=\"" + _0x116925.username + '"]').length == 0 ? (this.container["append"]("<tr class=\"someoneelse\" name=\"" + _0x116925["username"] + "\"></tr>"), this.updateUser(_0x116925), _0x19dbe6 && ($(_0x116925["surface"]).on("brushChanged colorChanged uploadModeChanged", function (_0x92d544) {
      _0x2aa79d.updateUser(_0x116925);
    }), $(_0x116925).on("usernameChanged statusChanged rankChanged muteChanged silenceChanged ignoreChanged inactiveChanged connectionIssueChanged", function (_0x53f78c) {
      _0x53f78c["type"] == "usernameChanged" && _0x2aa79d["container"]["find"]("tr[name=\"" + _0x53f78c.oldname + '"]')["attr"]("name", _0x53f78c["newname"]), _0x2aa79d.updateUser(_0x116925);
    }))) : this["updateUser"](_0x116925);
  }
  ["removeUser"](_0x2fef1f) {
    this.container.find("tr[name=\"" + _0x2fef1f["username"] + '"]')["remove"]();
  }
  ["updateUser"](_0x8f4c5e) {
    var _0x5034c1 = this,
      _0x245f03 = "";
    if (_0x8f4c5e["connectionIssues"]) _0x245f03 += "<div class=\"brushIcon userlistIcon\">" + new Icon("fa-exclamation-triangle")["html"]() + "</div><div class=\"brushIcon userlistIcon\">" + new Icon("fa-wifi")["html"]() + "</div>"; else _0x8f4c5e["muted"] ? _0x245f03 += "<div class=\"brushIcon userlistIcon\">" + new Icon("fa-ban")["html"]() + "</div>" : (_0x245f03 += '<div class="colorbox userlistIcon" style="background-color: ' + _0x8f4c5e.surface["drawColor"] + "\"></div>", _0x8f4c5e["surface"]["uploadMode"] ? _0x245f03 += "<div class=\"brushIcon userlistIcon\">" + new Icon("fa-image")["html"]() + "</div>" : _0x245f03 += '<div class="brushIcon userlistIcon">' + UI["brushToIcon"](_0x8f4c5e["surface"]["getCurrentBrush"]()).html() + "</div>");
    _0x8f4c5e.silenced && (_0x245f03 += "<div class=\"brushIcon userlistIcon\">" + new Icon("fa-comment-slash")["html"]() + "</div>"), this.container.find('tr[name="' + _0x8f4c5e["username"] + '"]')["html"]("<td class=\"text-center\">" + _0x245f03 + '</td><td class="' + UI["rankToStyle"](_0x8f4c5e["rank"]) + (_0x8f4c5e["ignored"] ? " strikeThrough" : "") + "\" style=\"" + (_0x8f4c5e["inactive"] ? "font-style: italic;" : "") + '">' + _0x8f4c5e["username"] + "<span class=\"userlistStatus\">" + _0x5034c1.statusString(_0x8f4c5e["status"]) + "</span></td>");
  }
  ["sort"]() {
    var _0xc5604c = this["container"].find("tr.selected").attr("name");
    this["container"].empty();
    var _0x5a749f = new Array();
    _0x5a749f["push"](room.myself.username), $.each(room.users, function (_0x168320, _0x3887c0) {
      _0x5a749f["push"](_0x168320);
    }), _0x5a749f.sort(function (_0x2e0ff7, _0x435252) {
      return _0x2e0ff7["toLowerCase"]()["localeCompare"](_0x435252["toLowerCase"]());
    });
    var _0x2b9662 = this;
    $.each(_0x5a749f, function (_0x134cab, _0x265b1a) {
      _0x265b1a == room["myself"]["username"] ? _0x2b9662["addMyself"]() : _0x2b9662["addUser"](room.users[_0x265b1a], false);
    }), _0xc5604c && this["select"](_0xc5604c);
  }
  ["updateMyself"]() {
    var _0x3a3e39 = room.myself;
    this["container"]["find"]("tr.myself")["html"]("<td class=\"text-center\">" + textManager["getString"]("global.lblYou") + "</td><td class=\"" + UI.rankToStyle(_0x3a3e39["rank"]) + '">' + _0x3a3e39["username"] + "<span class=\"userlistStatus\">" + this.statusString(_0x3a3e39["status"]) + "</span></td>"), this["container"]["find"]("tr.myself")["attr"]("name", _0x3a3e39["username"]);
  }
  ["refresh"]() {
    var _0x36fd16 = this;
    this["addMyself"](), $["each"](room["users"], function (_0x347199, _0x8a0735) {
      _0x36fd16["addUser"](_0x8a0735);
    }), $["each"](this.container["find"]("tr"), function (_0x14de92, _0x2abd02) {
      !room["users"][$(this).attr("name")] && !$(this)["hasClass"]("myself") && $(this)["remove"]();
    });
  }
  ["statusString"](_0x6a16e9) {
    var _0x248bee = "";
    return _0x6a16e9 != "" && (_0x248bee = " (" + escapeHTML(_0x6a16e9) + ")"), _0x248bee;
  }
  ["select"](_0xe79572) {
    this.container["find"]("tr.selected")["removeClass"]("selected"), this["container"]["find"]("tr[name=\"" + _0xe79572 + '"]')["addClass"]("selected");
  }
  ["getSelected"]() {
    return this["container"]["find"]("tr.selected").attr("name");
  }
  ["clear"]() {
    this.container["find"]("tr")["remove"]();
  }
}
class Toolbar extends UIComponent {
  constructor(_0x3c026f) {
    super(_0x3c026f), this["tools"] = ["drag", "rotate", "picker", "selection", "pen", "eraser", "text", "line", "rect", "ellipse", "fill", "blend", "pixel", "custom"], this.createTools();
  }
  ["createTools"]() {
    var _0x4dfd6a = this;
    this["container"]["empty"](), $["each"](this["tools"], function (_0x3a2236, _0x55aa52) {
      var _0x24e738 = $("<a href=\"#\" name=\"" + _0x55aa52 + '" class="btn">' + UI["brushToIcon"](_0x55aa52)["html"]() + "</a>");
      _0x24e738["attr"]("data-tooltipcallback", "tooltipShortcut"), _0x24e738["attr"]("data-tooltipparam", "tool." + _0x55aa52 + ";" + _0x55aa52), _0x4dfd6a.container["append"](_0x24e738);
    }), this["container"]["find"]("a").on(UI["pointerEvent"]("click"), function (_0x2901c6) {
      _0x2901c6["preventDefault"]();
    }), this["container"]["find"]("a").on(UI.pointerEvent("down"), function (_0x4c85ec) {
      _0x4c85ec["preventDefault"]();
      if (!_0x4c85ec.which || _0x4c85ec["which"] == 1) {
        if (!_0x4dfd6a.readOnly) {
          var _0x2c1359 = $(this).attr("name");
          _0x2c1359 && _0x4dfd6a["select"](_0x2c1359);
        }
      }
    });
  }
  ["select"](_0x235f0a) {
    _0x235f0a && this["tools"].indexOf(_0x235f0a) > -1 && (room["myself"]["surface"]["setBrush"](_0x235f0a), this["highlight"](_0x235f0a));
  }
  ["selectPreviouslyUsed"]() {
    var _0x58ca50 = room["myself"]["surface"]["brushHandler"]["previousBrush"];
    _0x58ca50 && (room["myself"]["surface"]["setBrush"](_0x58ca50), this["highlight"](_0x58ca50));
  }
  ["selectNextTool"]() {
    var _0x5e54b6 = this.container["find"]("a.selectedTool").next();
    _0x5e54b6["length"] == 0 && (_0x5e54b6 = this["container"]["find"]("a:first")), this["select"](_0x5e54b6["attr"]("name"));
  }
  ["selectPreviousTool"]() {
    var _0x3a299c = this["container"]["find"]("a.selectedTool")["prev"]();
    _0x3a299c["length"] == 0 && (_0x3a299c = this["container"]["find"]("a:last")), this["select"](_0x3a299c["attr"]("name"));
  }
  ["highlight"](_0x4dd93b) {
    this.container["find"]("a.selectedTool")["removeClass"]("selectedTool"), this.container["find"]("a[name=\"" + _0x4dd93b + '"]').addClass("selectedTool");
  }
  ["getHighlighted"]() {
    return this.container.find("a.selectedTool")["attr"]("name");
  }
  ["hideTool"](_0x15dfb0) {
    var _0x4c3e80 = this.container.find('[name="' + _0x15dfb0 + '"]');
    _0x4c3e80.hide();
  }
  ["showTool"](_0x4f15a0) {
    var _0x4702a9 = this["container"]["find"]("[name=\"" + _0x4f15a0 + '"]');
    _0x4702a9.show();
  }
  ["isToolAvailable"](_0x30e189) {
    var _0x329535 = this.container["find"]("[name=\"" + _0x30e189 + '"]');
    return _0x329535.is(":visible");
  }
}
class PresetBox extends Component {
  constructor(_0x2f6923, _0x28d8fc, _0x36851a) {
    super(), this.color = _0x2f6923, this["brush"] = _0x28d8fc, this["options"] = _0x36851a;
  }
}
class PresetGrid extends UIComponent {
  constructor(_0x4d9269, _0x4a8239, _0x30d6f0, _0x42a815 = null) {
    super(_0x4a8239), this.id = _0x4d9269, this["storage"] = _0x42a815, this["objects"] = [], this["amount"] = _0x30d6f0, this["createGrid"](), this["loadFromStorage"](), this["saveableOptions"] = ["size", "alpha", "blur", "smooth", "selectiontype", "multilayer", "spacing", "blendmode", "areaaverage", "erasermode", "aspectratio", "snap", "drawgrid", "cursor", "rightclick", "image", "tint", "randomrotation"], this.redraw();
  }
  ["createGrid"]() {
    var _0x348b33 = {};
    _0x348b33.size = 8, _0x348b33["alpha"] = 1, _0x348b33.blur = 0, _0x348b33["blendmode"] = "normal";
    for (var _0x149cb6 = 0; _0x149cb6 < this.amount; _0x149cb6++) {
      this.objects[_0x149cb6] = new PresetBox("#FFFFFF", "pen", _0x348b33);
    }
  }
  ["bindEvents"]() {
    var _0x3e4dc0 = this,
      _0x2c134b = false;
    this.container["find"]("span")["contextmenu"](function (_0x38f278) {
      _0x38f278["preventDefault"]();
    }), this["container"]["find"]("span").on(UI["pointerEvent"]("click", "presetbubble"), function (_0x288972) {
      _0x288972["preventDefault"]();
    }).on(UI["pointerEvent"]("down", "presetbubble"), function (_0x22fb8d) {
      if (!_0x22fb8d["which"] || _0x22fb8d["which"] == 1) {
        _0x2c134b = true;
        var _0x1a97e5 = $(this);
        if (UI["holdingSHIFT"]) {
          var _0x58c9e6 = _0x1a97e5["attr"]("name");
          $(_0x3e4dc0)["triggerHandler"](new bubbleClickedEvent(_0x3e4dc0.id, _0x58c9e6, "save", "preset")["getEvent"]()), _0x2c134b = false;
        } else setTimeout(function () {
          if (_0x2c134b) {
            var _0x24005d = _0x1a97e5["attr"]("name");
            $(_0x3e4dc0).triggerHandler(new bubbleClickedEvent(_0x3e4dc0.id, _0x24005d, "save", "preset")["getEvent"]()), _0x2c134b = false;
          }
        }, 500);
      }
    }).on(UI["pointerEvent"]("up", "presetbubble"), function (_0x183541) {
      if (_0x2c134b) {
        var _0x14c117 = $(this)["attr"]("name");
        _0x3e4dc0["loadBubble"](_0x14c117);
      }
      _0x2c134b = false;
    }).on(UI["pointerEvent"]("dragstart", "colorbubble"), function (_0x53fe6e) {
      _0x53fe6e.preventDefault();
    });
  }
  ["loadBubble"](_0x4ff35e) {
    var _0x43c8ff = this["getPreset"](_0x4ff35e);
    $(this)["triggerHandler"](new bubbleClickedEvent(this.id, _0x4ff35e, "load", "preset", _0x43c8ff).getEvent());
  }
  ["saveBubble"](_0x63fd1, _0x9e7ee5) {
    this.objects[_0x9e7ee5] = new PresetBox(_0x63fd1["color"], _0x63fd1["brush"], _0x63fd1["options"]), this.redrawPreset(_0x9e7ee5), this["saveToStorage"]();
  }
  ["getPreset"](_0x5ed79f) {
    return this["objects"][_0x5ed79f];
  }
  ["redrawPreset"](_0x1eb941) {
    this["container"]["find"]("span[name=\"" + _0x1eb941 + '"]')["css"]("background-color", this["objects"][_0x1eb941].color);
  }
  ["redraw"]() {
    this["container"]["empty"]();
    for (var _0x46cb63 = 0; _0x46cb63 < this.amount; _0x46cb63++) {
      var _0x239ebb = $("<span />");
      _0x239ebb["attr"]("name", _0x46cb63), _0x239ebb["attr"]("data-tooltipcallback", "presetBubbleTooltip"), _0x239ebb["attr"]("data-tooltipparam", _0x46cb63), _0x239ebb["addClass"]("fmBubble presetBubble"), _0x239ebb["text"](_0x46cb63 + 1), _0x46cb63 in this["objects"] && _0x239ebb["css"]("background-color", this["objects"][_0x46cb63].color), this.container.append(_0x239ebb);
    }
    this["bindEvents"]();
  }
  ["loadFromStorage"]() {
    if (this["storage"]) {
      var _0x538817 = this["storage"].getParameter("presets." + this.id);
      _0x538817 && (this["objects"] = JSON["parse"](_0x538817));
    }
  }
  ["saveToStorage"]() {
    this.storage && this["storage"].setParameter("presets." + this.id, JSON.stringify(this.objects));
  }
}
class ColorBubble extends Component {
  constructor(_0x2d4f05) {
    super(), this.color = _0x2d4f05;
  }
}
class ColorGrid extends UIComponent {
  constructor(_0x5acaaf, _0x5a8780, _0x17f0e3, _0x4c76de = null) {
    super(_0x5a8780), this.id = _0x5acaaf, this["storage"] = _0x4c76de, this.objects = [], this["amount"] = _0x17f0e3, this["defaultColor"] = "white", this["createGrid"](), this["loadFromStorage"](), this.redraw();
  }
  ["createGrid"]() {
    for (var _0x122d61 = 0; _0x122d61 < this["amount"]; _0x122d61++) {
      this.objects[_0x122d61] = new ColorBubble("#FFFFFF");
    }
  }
  ["bindEvents"]() {
    var _0x343344 = this,
      _0x3d39c0 = false;
    this["container"]["find"]("span")["contextmenu"](function (_0x46b9f3) {
      _0x46b9f3["preventDefault"]();
    }), this["container"].find("span").on(UI["pointerEvent"]("click", "colorbubble"), function (_0xa06ffc) {
      _0xa06ffc["preventDefault"]();
    }).on(UI["pointerEvent"]("down", "colorbubble"), function (_0x4dc386) {
      if (!_0x4dc386["which"] || _0x4dc386["which"] == 1) {
        _0x3d39c0 = true;
        var _0x5edd23 = $(this);
        if (UI["holdingSHIFT"]) {
          var _0x5f3f3d = _0x5edd23["attr"]("name");
          $(_0x343344)["triggerHandler"](new bubbleClickedEvent(_0x343344.id, _0x5f3f3d, "save", "color").getEvent()), _0x3d39c0 = false;
        } else setTimeout(function () {
          if (_0x3d39c0) {
            var _0x96b5dd = _0x5edd23["attr"]("name");
            $(_0x343344)["triggerHandler"](new bubbleClickedEvent(_0x343344.id, _0x96b5dd, "save", "color").getEvent()), _0x3d39c0 = false;
          }
        }, 500);
      }
    }).on(UI["pointerEvent"]("up", "colorbubble"), function (_0x104d14) {
      if (_0x3d39c0) {
        var _0x1cf32c = $(this)["attr"]("name");
        _0x343344["loadBubble"](_0x1cf32c);
      }
      _0x3d39c0 = false;
    }).on(UI.pointerEvent("dragstart", "colorbubble"), function (_0x3682d6) {
      _0x3682d6.preventDefault();
    });
  }
  ["loadBubble"](_0x5e1a48) {
    var _0x7a2487 = this.getColor(_0x5e1a48);
    _0x7a2487 && $(this)["triggerHandler"](new bubbleClickedEvent(this.id, _0x5e1a48, "load", "color", _0x7a2487).getEvent());
  }
  ["saveBubble"](_0x3ed08d, _0x13bc20) {
    this["objects"][_0x13bc20] = new ColorBubble(_0x3ed08d["color"], _0x3ed08d.brush, _0x3ed08d.options), this["redrawColor"](_0x13bc20), this["saveToStorage"]();
  }
  ["colorExists"](_0x3f55b1) {
    return _0x3f55b1 in this["objects"] && this["objects"][_0x3f55b1];
  }
  ["getColor"](_0x5ae785) {
    if (this["colorExists"](_0x5ae785)) return this["objects"][_0x5ae785];
    return null;
  }
  ["redrawColor"](_0x18c882) {
    this["container"].find("span[name=\"" + _0x18c882 + '"]').css("background-color", this.objects[_0x18c882]["color"]);
  }
  ["redraw"]() {
    this.container["empty"]();
    var _0x24968d = this["amount"] == 10;
    for (var _0x4e2ec6 = 0; _0x4e2ec6 < this["amount"]; _0x4e2ec6++) {
      var _0x3c0013 = $("<span />");
      _0x3c0013["attr"]("name", _0x4e2ec6);
      _0x24968d && (_0x3c0013.attr("data-tooltipcallback", "colorBubbleTooltip"), _0x3c0013["attr"]("data-tooltipparam", _0x4e2ec6));
      var _0x57ec3f = this["defaultColor"];
      this["colorExists"](_0x4e2ec6) && (_0x57ec3f = this["objects"][_0x4e2ec6]["color"]), _0x3c0013["addClass"]("fmBubble colorBubble"), _0x3c0013["css"]("background-color", _0x57ec3f), this.container["append"](_0x3c0013);
    }
    this.bindEvents();
  }
  ["loadFromStorage"]() {
    if (this["storage"]) {
      var _0x4314b7 = this["storage"]["getParameter"]("colorbubbles." + this.id);
      _0x4314b7 && (this.objects = JSON["parse"](_0x4314b7));
    }
  }
  ["saveToStorage"]() {
    this["storage"] && this["storage"]["setParameter"]("colorbubbles." + this.id, JSON.stringify(this["objects"]));
  }
}


let colorWheelImage = new Image();

colorWheelImage.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAADDCAYAAAA/f6WqAAAiRXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZtpdty4koX/YxW9BMzDcjCe0zvo5fd3wZRkybKq/LqtKqfMzCRBRMQdAqDZ//Pfx/wXf2rM3sRUam45W/7EFpvv/FLt8+d5dTbev++fGV7vuc/HzfsbnkP6/fXvvF+f7xxPH18o8XV8fD5uynydp75O5N5PfP8EXVm/r9cgXycK/jnuXv827fWFnn+5ndf/fr5O+zr513/HwmSsxPmCN34HF+z92z9XCowitNB1nL9tyP452vk73ePx9/kz71P3zQS+//Zl/uzbyMLHdDwnerut/GWeXsdd+nL8I3L+04icf7+y/3VEJ7ljf/3zy/yds+o5+7m7HrNhuvLrpt5u5f7GBwfTGe7XMj+F/xO/l/vT+Km220nUFrc6jB38oznPzB4X3XLdHbfv63STIUa/feHV++nDPVZD8c3PG5SoH3d8McRnhUo8JpELHPbvY3H3uk3X42KVKy/HJ73jZMT484/5euA//fl0onOU5s7Z+j5XjMsrvxiGIqe/+RQBeYVBZaJ3nHle7Nc/CmwggulOc+UGux3PKUZyH7kVbpyDTYaPRvvUiyvrdQKmiGsnBuMCEbDZheSys8X74hzzWIlPZ+Q+RD+IgEsm+cUofQxUQvHV69p8p7j7WZ/8cxh4IRAp5FAIDQVEsGJMMVNvlRTqJoUUU0o5lVRTSz2HHHPKOZcsnOollFhSyaWUWlrpNdRYU8211Fpb7c23AIwl03IrrbbWeueiPXbO1fl858DwI4w40sijjDra6JP0mXGmmWeZdbbZl19hAQFm5VVWXW317TaptONOO++y6267H3LthBNPOvmUU087/T1qr6h+jtrXyP0cNfeKmr+B0ufKR9Q4XMrbKZzgJClmRMxHR8SLIkBCe8XMVhejV+QUM9t8MCEkzyiTgrOcIkYE43Y+Hfceu4/I/TFuhtn927j57yJnFLr/j8gZhe6XyP0et2+itvqF23ADpCpkTkHIQPnxgV27r1289OfXPmPIKcRzuFcbVhq1r16z290sbptCYNDheDta2o1w5E3ET7d9tVEWoGbBKuenqnHblBtwFRMw2kddicF7M3Y9dkw/au2VmhmzweJrH8Y5x3FMmis+NBA67sGFKNnoZ3T7cD54d0ygem9Taxkuh7NdWgyAM6U9Zqjp2OLSPiGfXXTWPTpRq2PNGWuZ3CKcl7m51c+a3vRNLnQBbS2HWW7jbCb1fpMg+HvqZYd3cyxP5MKZ6ZzW1ojHMvq9K8i7DRka9DV/8tJrmVyf8zFlNe5oa9jzFNv3ajsGLh/cqTmPnlJvKY/A4QLPmD5J5sM4OEkIfYdWqN7YFxPUGrnStssrJipjh0lguEBKdcezs+81nh4XbOGNzY3QLCbPFt1bYqQj8RHQgJkPrXLZNcm07RNnynUenZp/lhZJV+5ZeGtOBzsJeneB+6FOypjz5OHCCHUSMFis7LJ0hHjbTNT83oDQmQNN5IZHr6XIido8Pg/SnSkhTm2tFcqcY+9MhuVZi/B7UgKd287EktI8Y8Ohh5Qg4M3lbeDcXYjQpBK5s0N+2a70SeQOE+bnSq1tCpvq7cXv1DqRC7bfVBdv39ynRJ5ffn4lOdu0KpQe+VfzZB53GEthQlLeq5i4cmNiJuXQD0UzUnc79Zm5Jl88uZ9OZFGsvTMXnppoB5Bbo99Ik/S7pOUNoMNU2+FqDhuModb3Yg7SZtxAlQdLzljdVdIWCDo+OYoJVPCwHRMZJ5iTkiEUvpFaoMmIJS9QbSv8KyIrO3UwSeITSdAnyUlZUqRPW5h9DkCZp6xyTACoko+jt11hw9rW/XrfhLWcBRDN3Ysg07XkbT05pBZyez7+fn5nVKcdFMylu7ggaXDRxQRTp/uGz3OfTgak7mMDhklq4CFm5kInR9oCSrsYBkqWkdtU5Bw4gDTmqiBFPaPOMopbFUQayGdyM81U2wzLkyGEpLnRCt8HWwxKjSOLI6RjGXBO4k6692NUBkFtQWDotLM9EUulE4ZV0+CWYZ00ueKWmDDMhA9ACJ/BLmxVNjPuWo5DjHbIkZn3zLET9ZmA+x2Gp+ZANmiJikAx8oYh55tdidPvDsMxU4fYpvDC6uMF+P+YtC8L4ZoveJdEupTdLHGhDrajVqllJqiX5eA2C1euRXa0Emb3bQPIqW9SG4oxFBzRaUGTGBnR6J4P5DMPRJQWAaCYwaLDFROnIzHIs0JsKLnOL01cGyJzlKBzUIkEbfAFlAuHSMIfJf9AtXeqgQgtokbmuh6JFDRMVQPoUs+t52lAYSLed1oHPIzWrQ0ZZOCxJwiBKRArcabjRt3bz+rzhhsqeAQ2t3JmcOtYMxAGnKUQf2dnISbEbXdYkxv2JDUFLl4lYA620DdbwiP5sSUzuHgAQU8zfGcwTC480eMTLO7EycudztLQK2OHnsHn4ihPxZGZIb1KaWFQRr5nErtvwxT6YdeMwzHlTbIeKUO2deQM1xMJj5kWwmREqGfFQeY4Cj4vt2ciu+zchYTkJOWgkkbLXDzWQchG0gyfuBh/syWcNDdcfLihsRnrqrNHIGEUaLMRuECJTEr1VE9hoD1Kn6kDRn1Rmj5WL2nk0QttcjoROuci00NDcBZsEHcXyFqH0KJS+m4M5biaFjzsmdce54EyIBCCEK1Yu64yWs0iI7gB9i2eyK6BzhnzoLMn53UJzUWGqKQPKAyGhuPCspsU6QOShUVHh56AVYDXxzjxUsj7A26Di3OZAsj1QZFoRrlJ5oRchXM0yWBHbhVJ5cEdWBBUwy0uRGqawBx57Ui3ujFpJg4YFeNWhA4wdLJtTorqkBWBOIxMyjHTqE+4QYOoYQqYYHyCy/BhBVLGpK60ynNWeJwKAu8OYWyrzA1gMIGh9CY4Ib8qJCzU4erkzB5xoRapTCrSDIlJcBWOxQpTYvyKFvt4RdOgi4TaA2LMfD4UFMA68Au0z2T0OaGjPB2kseBvgGwgpqmXSorJHqNPGB4VQFmPTDK4WEEZ5LuQGJUHIGJ1Sb/UTWFovajwGmV1ri88kIGfuQyfNtEZ40yobLaKsQ38loTZAeXghUUFPEVo8QWkuXQTw+/cRuzcM8WNxh/I6zVwxidmcStYrZG7EwefayRdl/UfG/w1G/WdpfvnwLOPg1KinilE5ILwGHYmvnNST0jQFvaJUnKbekiEJOdAViLzDKzFJANdOYGnZ4JngVgwsAD5NpueQCDHnl/xP3pNSJUNFlLDFH0a4FGhMgtSdWLwif22wgypD5QTKgICpWIufl2tCWCd0fojdC3SnddEZhj45x503EcJzxsTsX725fkGWED16Fhm6mxpKEZ3P1UdZ4bgJa0bJ5oX+Va4b+LZUPMICIpu/DqUj4HcYagB06+IvuNgFOYZBm/cYUhd34FQqBkqQqNN5ARk0meNjgIjO/ORrIkAKnKRIffRjjfAh0e0o74QWLB8sYwBded+uBmIFa8YgGIrYQONTWccjIdDgUeYXeydDGeDaAlz6SXjgBCvIfcFAGPsqDCU2hzDUbOg1pL6w4Et03mnhhgYCjfXe4+IZ4d53RtLCSQh/SF4D35HoI2hOsDdbZTU6QE6dgG4hyDhlg6og32oJvwUR1FuyCSpH0BjobcjwQBCkG7ouStykd7egV5nqFiC5DG+i/qHdvBDmc8HQkW0V2fMR0Ib4YxThLkd6AxvgBk4IEw8acilMfK8WwE28MUJkKVJmf0IyFDZWy6or0wUy0BiHxsHxmvJ1Yndpn0TKXzaztwM1UUGr5kcA4VN6wnUEMrK4mRxZjhf5h6yJxvcWk2lCoCSBgE4rCpVcX8xcobowgSZQXUWT0cSSN1wCtQW9JbDJA4AhiYv4V3AZiY8IFKiRBcz3sW0jktUiJs6wLG8wEZfabAbOIjf7BgdLo2l3fgQEAolx6iv68RsYEqKM4wwyOAM0UqRGt+AGd8kjaRmlIidKR+WyWZiyCfy2+HkmXbqrN6cPEw2AESwi0UGZ5mVqbyEg7Bi8ypdmdDBt0O6hGdHeEqqkcn3MgipcQzfgkZJI8oKRhd+cSsxreaOtDTiiCKLzOFCqDADpMg9EZPsySPMOx/Mw1C7mE0nkY/1Qd6MarHx/gx0xUEB2nrtMtJ1EV2qr9SYHvdrO3QCZiE8pvn+/L+dvtr3c4NXH2e3IytfYzSBOgiHG1HX7oWjP7xCfR0IQwNFitA33KvHJO9h8m2iws9QAhmyF+4IAEeDIz4RmkiFcvvIe1wgCzjKqTYLwChTqWOrtGkYDdVDbiFQEDcb0kOZYkNJygytxRK5oWUJA6Z6VuySx/Fi7fAJUlobrkBvmeMDTBAwZL3mhWwNQAWktT3lH8EmHIuaFbwvaR7VA6owR+wJTq3AL6AM0JkOJFYFt2yYHz82EVz8D0qDPxEtVcmLxE0i4mpGF6FVyMEsqEKS4ZoxAn4g/aTDLJA6J+KHSI6BBYqYBG4SIMTVrowS4gb5tq8LxiIFNhZ7oKobE5LgTCO1hYccsLUfK1CgyN8e1YtLsg1k9HAoLfQFdgVVHRauaDK/IJSruATqYjZvbMCX4bUyiI83GiBkAiSd+jIRvIiIkCApgEAmvjgeZMRFPLR8l03NXBBeQ1jG562IrmsZK8MkWJU/SFwSdVPiBGgG8IBEbbgV26EitcJKHeo+oviZI4RlpfJDJi08E42VAfxQw2kzYSi4ffZU/KWHOeTxn8IBZXhEyUEpfDQA/tvh/eoos1OeBTtwmGoAymv9YHHg4BLGUaeDq6+LADcZYWWl4joCCTMQZMCxiJcPNFinqRFVQkGfE3zUJop/5H/qCZp/+MBpukrlTnSNR3vsYh8Ncvx6RknBmM8V8xSMKjqgEVAIjCipn+RJnWYxNSQq/zFcpzjyYUoUUMbT4itSkFurQseIhiYPqLmCHCOdO2/rLSQdIh9x6JL6WA47eMCQkNAC/HYMmU/O9Kdh51XzUG54ak+ltXuHsAkLGQFp28U4MB+yTekmRmQ+4UWDNUkiIMbKXEAIUD7aIfdXS7MdSnUXhuWQC4cs4WqkDkmOBVxYlQsuy8B49shObenBiZbtbUfkBF4EAupuqEXO1yjuNZW5KygZ1YkYFHE+zmMbq3GOcWIIZ8cnbThnjusg7e0A4s3wILyF9V/dr1Ny2Qiu2OTkM+wTqaM4UWxRWj1xFWxjiBNvgyluG2tc72Ujct2NDaJortH+gCvgr14ituksxn4CatEsqgKTvMANKF7chgjAQilSwAW2hkmVcOvY3IP7yAvZMnAuQD1DGV7N3on0w4WhUBbZu6L/Kcvfsu+RgV9rxMCXeEam/1/0/n54DWa/Uvz7DH9GWO3bCB9hfGvkqRCSD+BEKZlFjpANOJ8GvkSPx+pBbk4t94q/qZdfbVsT7ZTQoCVv8paINup5ZyA3gyyUiBqjVxEi6YCKjmZDK4EzeQJYV7o+2Z7QVZ3aALYJdI5q0ySLXkA+Io/RyqiPnkDuZfkbicqA4KIAWCIxetKwdMOxUn078oUMqzkAEPaHRpllsQjEBi3FFGZYoaPsYF1uDKuAgJdunDh1vxK3hNnTXHJbLStRQzsVWhh9niQ1AmPCOp6qSZhHph5KCmqZJGjupKUeODfPNFE0qC98i4cyjwdGGyhd7JiIUXIOjptAKgmnlg4FrtStTLa7mDDF5qj3oqZeC04LOGiDmaQTD29yE93criPOJ8IQfk/E6ijFeTHfzGp5MoMTy84fykw0DPViBYf/jOHmK4j/iOEx/DF3zV8k79fc/ZS5Zv0DuCt1tZJGfqJiR7QTgMOtUtpa9NikVzsJwf6YT9TW0jJVyc8yBTr/CBGlVYgMiBA3MmZJDzQY4KZpwDMK/gM6o2DXEa/ITE6NSLlRcvmRvWilI1kk1p3QM0YNh9g1Z+gvdcG0nN7W5lAwuMH0AP8p6qOgpKq/azZqDw+NMlaJORlctVO6WgYXz3HO/ZmM5b15MrUngA5rg/ZbsWkkjEDKNWbyZ0vgaNg1cwO4kRcKPAl2CWcb/ARlmmEJJBt8T1D8XbqBExzWGuOw1XbsCg5eFPLIGK9WBe+8iY7g9twFthsjz+WQTkycevlgu71mfT+RPF4N1QMZ7Hz5KY3bDfiwE+ZXP4E/Cv8pWpqfMu5v0NI8OScVva6OU3AXd3GgHrU1bzLm5jcTRHVDQR5Ms/I+wwb1CpP8ZIaOsva9ACQUP5SK1B5q2IBDXL+H+/fIJKlwQ51exoLtXN3BynhXFPmA0YxaqGeJzCbyDKGXFviCZuDNnJ73ABUyeODvmGakHZm9tkdjnCf5QJdtcDYgwkHtoAjdqiT9chjaXKqPwUuBM1FBbcBBiQ3M5alggbq7kAMpkHUz3mRM0dQWF+YTLQHLVjFtIfzK0dodskLLpm1oIQVDj6CKaihrLOVdA8H9K19yCMD9LuUwSw1tAOPrMBiPTNiUScYTa7kdJ4G+wusvyvkmE+weu7HDJ74BfePxca5VE3hKa8NJQ1RMvdBkS99hm4uih1HjFaPXS5JGYvaTydV9ydHPKaqe1luKP73Jz0keqXP8NMbvX6yF/xvZa/7I6ucHYFU1wEXoIzUxl8reII7q8WoX7bAPMCEDubXaDKN0JhePUrSMzT9Jfi04bu06I4xi4AI74bGPNfDuURsKXq+QkhrRJ2JhEHlcol3th8RgcF2a4TYIQKsUkFlZ/qYohVsz6HAtbh4txXYUCiVmdY0AsW1ASH0n4asHbqwOTC1vEgMt33E0L5gSCW7ARaQbn91a9bkNCC3HwYBw33YIk0Eo1TIFyHqW99/AFiq5Y6wwSEwmkrcZTl/4xPF+nGv3SHNoOR7X1SvHrSE+xLbanLAdap9ggAOk5OKlgZIrezSkT8WDrPM2VwNaU3u6ilxeXtphoeE17FdQz4jqn2qPR9FNBCdudVwBZXKL2JJjQw7alVCQB6BtqVkr3y0HBFtJaAVqRQtGVjYQ7LjdtEmaoyAcd4vQ0oaVqP13xAiTXKWerydUOxKypMpCXWgFrPsIFXTSSgagguXATBDJxBQPYwV+vR/ttSDmbda/A/23gjJPReWK0YDN8/q5x/LnV/PehGEUS1vCNIZzx+DUin4fQ7xN3Phs2aCka1HmUNIWaMwL37+wIjFk0SGSCrSS7m1YanzA8qQ6CcSPo8TwBn1SGFNleU8ILi8SQWuQgFUJXptoOs5bBQx0wroOYnaUhFprXTafYi2pkkEdw4NyxpNCOxIwavVi172Wy5++AZlaXnZJsBnkzHilwB1MDCKqD1AjU60hqaDyrpOiicX0YeWWIt842llxpKC8mtFaf+qjIm1hsrzWKqTCfKGs1ZaA0eJiCkCXgMvWyimiqsmCpUztVK+e8NK2B4a+HS6hUXdFthb4UX9Yy39E2quD0dWQd9UcJrjePPVqkevWY2oO8Tq6mlDcma1Xgbcpc5xq7ajtBPRFtRdUIA41ZhIANraPTnZEvRhPmEdC/nacIDwEF0ZyndRWxtanObXB1AXBy5g2iiFMo2nL2iPAtKGcMk4ZLg1yzC1Q9RS4ayszO1SICx5wJWPC2LI0W2ugt2qLCRNToHXTpBzR8mlKHjIMV9sXhwFJmGM1hIq7zXfMKGdPo9/MGK9yMb8TEHK3QuYWNETDlYT3QBQk0TG0nhNHmdU61YlroDd+FwMEZjMf51mtOS+hf7X2Y2SjR0tUvJHWJ7n/hBDpyi1seAywtuBpQ73mTaCRsWP+H8jN/KD7qUKgqjWt/2oJeJIIa40J+jp+n3sCvuVYp66MSdBaceESpEsRkQ80wg4Dk5gQJTiwarVJgy+gdMAFIBehvmZazmJFwfKztjUpk9CUbQPVRZFqLCB+8LeoeuwV+HHkXdG+jEE6MoDAZPtupYc1iDNBDdk4tX9Q2TZotx1D0X+ot4YrxW5rSZSZzcx7JYJiMCQrtmbCObe1H5lfaMbcLRGr3Fbk0C6xSXoNgb4dA6C2nGShprw4sYjG0Hja7pAJEnW/1QcicY3aOUxOKOAa1E4F5YA3xtRqabaqy4oCoDiaJcragkq6am8CrhR6AgsXHmU4o5Yl89Cam+RgvUsgtuwKTri74WBZjxy9DlQ0DHvyo1lAdj3h7z6uZdSRU8/SqStNdIAfChVkCNAyyAHZQvta66GY1V+AQLWdb2eLJLRa85fUawY/Hz0Kf05VTjr6FTJ3zasFtyaItNVV4HSuUmvHT2X0FXNq0jcsgYDTTO3syqgenOCWcS8DgD7S3Ke5rZ5m9LnetsbAos15wFoul4RazcEbXpuljbbM2aqyClq+i1r+ABXV4Qd00AyEc5QcSAqHUgKJbQbN7EHmlKWtXrsS12C+tktkNyrSROstJK1T+zwsLdYAvaNqtx23P7Qzpjwb+3CLJJvRsul5lk3D3S74WjSlAO/S7XlbM82vHYkRf6FNnQVU4j+rveXWC2oxr2vFmrQdDTScfAZjMq7svK3+PNAW1Fmpt09q0dyuZitcw1gPKpQbNg4zwHUQiXq6odWldhwWgOmAqiUvtC8TE8aAtM9Ty61nv5ZbYVnU7l07Ngjgu3Z83taOHTeu/VN35TgiwV7Lx5qI93nQOnYoD+wwF8yE+WUq7ip2loC44kDa4lnF/mkkbwMx346EafpmGD+Gw/wSj8/DsJ8HQuTuQORzPw3ljkQnukMRh/w0mN/n5OuUmL+Zk4JkkeCBHyn5kKp27ZIuHr43gkPJM6gPqMcclwPqUUx+L7A974TQclS4dmgM6S9uEgGFWUFnaG0faYEYIo8sKn2LJpqMzgIuMLKrAQseqwMt7kW9qRYhQtmOJni8jziMudbWEus6hmmDYFavGg9CaNeo5ypQiAgQ+dnGLGsnh7MTBYIeAKS5dopL4Ako9omlX2ZrHx+qQCveWG1gFOETXttIcE7FJa2LVCQCXBqfLSoBdafyQIz35HaqEKRb/pLE0DJcQsFolSFo4zWCJaQLOQgg/HJfd3FZ9JPkxSDMricPUpTzMEzn1KYl6JBZAMXh9NVXhlkY+NzaMx4nkwqGv55rAsatlg1RVEANElDKkVvLHl+QxB+6oYBiXECVw54zE2op1qFdo9oufLQHNTH5XdsLIWmvBXOAuG0jnpRFwUHkZ6uQ9i61+rF96OpBifFHDmIP0QlOe0ZTuOu9R7lnAvm7AvxYR8QuchuJNBkQaCxOvaAgzRm59XX61tMKpWh3BJG2aFp8wcSD4ddg1bt7s4d8d29too/wxY5xBZiUOUIrdoD2DATjRpf1mrjEvg7POqdtyHUbbaC9W6j23UIFO5PbahlCKiSfQ4csLdEBmUuyqqgzIQCF9g66FjaP/NWNGmvimJaihaGgSQ4w8TCXl+z1uvcdK9KXW5qR2goCTEn/LujzGUc6J8r/LgkjPuAJBuVSJ8caOeq51plV7f7n5F07qfjUGsowbZFKjZQclYJfRq1sBk0FOq1RQ1UBOL97eGtOTC4pyVC1KUc2Vlvf7cIN4TIa7LRxnxik6phsS3FeBkakoVGs1tD0oEjrzyblLbZDzpIobkbEdR53oCQTpAw5i3oLwAbTUWrIPUQuJnXK0iREXtdjA0VbeJ6dEdORy1gz7VuG5dVz9yKeRR6Q2d4fhEXm5APSqtllhL9Tl9id6MiloyrjrhAr8e4845IEoMe7eTjD5JRPTkYbaLoIO95tYsLuK3u6aJEgYEIIVdZKsMRcuXnqEANAuKoykiq8JKLmEVRA59JOEqQGNh9tJP+ENUEnpap9Ags/SMDawadXrVUChWtpy4/VsjtMG4dKPc+qjdjw8mrkUwTJSR/eVxG2VbUigMPCFwZt/tpzpMKQpF7BPO4C6TddkZ7DgTgoAtOinQzCkJJBIZyjRpopQnG57Zi8DXQDQYSZk1F5pJ49BlxYKJMcQJO5L/xo8W2BFXkhKzEE6iPcLcUEl5xoWRvlJJQpUavGDBN5zObeEI+kXGwgI3UMo5JJ/AJIZC824bbB2e4BrVUHJBAtJlVQhKRUfwziMM3dJqCaWFwNeG6qkdQoOwohL60wdIFK88P7dzQXgb0hMxJfDwuSCQFCkFDbXGviWNWablzQrbnuPkwwHwunxQYkfFyOu3Lea29LcQXv4fcxXv0AHHK+SopJgYZyn9rDdLRGF0CvzECpEnSkNrUmPewTb4sURYqfAFEH0k/4pLKczTY/1XWSGyGuyNuytIDNTdU1tAFCewkOge9oSiZO+4h3fCSZ8c/2wpOQvvG3fZ7/HrjNo27ID+pbGhhIyAPndZ9Y1O6nrn2sVcWz5tn4LanDpcYJeWKnxp+5a3P38OEOnKR5J8ViVN8YflPyJfSk56atNlxgDvT4yKlOz63u1shJRCruwOl5kdL1hMOAKNBHwImb90mipW17Ab3L4TW0cUZbFPUoEZrG370b2Oap2KE0XTLzalmwcOi5Au4LAVS20Lo9a3Sp6EGR5EEl5hdwt21LRwHHzAAkhktkoEbPU3w8sNDIbm3L1pL5PdLD8zCPz6UIYC3gUjJzWbWd7/BLdHoEoyPY0XlH+3WO9krpIaCmh4AQYAXrAOTUynTrWSIcr55FFcgWPZOF567EB7NMJMxG8Wl7t05L2BpIeh+vuI9d6FEQ+wzJokqODvfnoZD7FEhKelQjarDUmkqa96t2hxEHRqJlLH9yFTlVJMJuATt8tG+OG9ZTQgCVnj7Vcz1zajXPGeBLjAewgiWPbS3QMmXP2bT2ml3QmlSD2/VUjB6k40MHxiVBSVNtby5azdKOu7L0wFep6pmj06weqcVIYkKWOrZBzaZSEAw44iYLrB1vzXd1WrTyM902eiREogqqwdUB+fyyWtXmTvw5Vg40DDOR5jWhD+bJlmkii5xa3EG9ZGJ0BkJLz9zs+wRWKg5pqJrRIo96CFVPycE7L7lEabk5v61I822JPq+BQPWgvUITpNMeVRWqEFcuWo0RaTdHXqKMDL473PW+UaOnwt1+ag+Hq/Zd0gbnSm7M0TIxQ+r3RTiTNuCrC3fQB4OqMGqlEWUQEHTWdkbtMQXRc0JBB4x60XYcsHDpiRksEDgVr/EntYu92/21yQTKHlrhbV0bUdrd0hy1M6UKg2zK3lJ9d7eTDxWGiiNReBnQS2EKu/UcAZWPXR/aBcU0ancDFXLagW8YnHbgkmx6YB2pvrDWFXBGxpCT2qOrbUEyWQWNlLvBr8ytnbhABpk08gH98mmkSJ4HXoQFUJcJHcqwzlTT0D1t/40CUNdPTXqrJeithdfngSYUS9ghYb3vUhCCFjNXtXgrJijwAQnO3Whfrb87o/mgWLGapdbmszCuZzifTUBYMT6J++GroHWXiKi6DOgX6vtlqO33y5jnOjvdDdvZJnwi16n3Ot2pb1svzhwtmRPQIpOU05h6fvQBhmnBQrORubANnKP9cxIxibl2A00WATP8pp5GQbhrays4S7o/fS0unTPB1Dpzd9V4BFxFvOGRINiYbQUcUGuUqzYs5uC0owU/pweIIGPtk2dO9CQdkdbF9bgtgl1rtlrtyVp10bP2S91bjOfTozvEq4xHQ2Y9Hzgxl+oGQ7QASGoIvjHIaAMXVPTxUkeMSWRaCLMtgRKYScYXDKDQ/EGBQDMaakx6IAGLlRDGzHcADUFIbXIvep6Wm4QjM3ZCizcIQ1wcQXdaf9pbwKQ1PUgJdohJPd+gxidWSjRthhZBL2nLAwnXtIVQH9WWG5zm3g8aZG3h+cP+DdLHLGjU/C9QQB3bv07bYwAAAYVpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfW2ulVBTsIMUhQ3WyICriKFUsgoXSVmjVweTSL2jSkKS4OAquBQc/FqsOLs66OrgKguAHiIurk6KLlPi/pNAixoPjfry797h7B3ibVaYYPROAopp6OhEXcvlVIfCKIHoxiAj8IjO0ZGYxC9fxdQ8PX+9iPMv93J+jXy4YDPAIxHNM003iDeKZTVPjvE8cZmVRJj4nHtfpgsSPXJccfuNcstnLM8N6Nj1PHCYWSl0sdTEr6wrxNHFUVlTK9+YcljlvcVaqdda+J39hqKCuZLhOcwQJLCGJFARIqKOCKkzEaFVJMZCm/biLP2L7U+SSyFUBI8cCalAg2n7wP/jdrVGcmnSSQnHA/2JZH6NAYBdoNSzr+9iyWieA7xm4Ujv+WhOY/SS90dGiR8DANnBx3dGkPeByBxh+0kRdtCUfTW+xCLyf0TflgaFbILjm9Nbex+kDkKWulm+Ag0NgrETZ6y7v7uvu7d8z7f5+ACVUcogh7iI8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4woGEhkPJ8JHZgAAIABJREFUeNrtnXmYXFW16H9771PdSWckJITRYAZmkNkLCUPAgJBcFDBBgjyEew3vwgV8iMK7qDHgBHq9ooDKJIJMyX2gERAQCQiCChcZAsiQkDAkQAIhJJ10uuvs9f6o6u4azrBPdXWnh72+73xVdaqqq7r2+p017LXXBi9evHjx4sWLFy8RovxP0H1yHjLSwFYatlQwJoAxBoZqaNLQoCEwMDQANKxTEBpoDWCDwPoAVunC8X4O3jsd9aH/VT0MvVREnQLDAtjNwJ4GJmkYr2G8KdwON6AMYAoKjy7eN8Uf3wBBwnMl7xUNHxlYqmFpAEsVvNoAz+fgxWNhHSjxY+Jh6BHFnwZNQ2D/HEwxcICGPTXsaECbCmWuVO4oBU+CIer9cbBosAaWaXg+gCeBxwSeOho2eEA8DHVR/v1g8Gg4OIBPaTjEwL4aBpkY5TXJV/ZYZQ9SYIn6DJ3+uEXD0wYeNfBgAzy+P2z0cHgYnAE4BHbUMMPA0RoOCQquTqIbo1MUPw2OwBGg0s/S2QH5yMCjCu43cPcnYJnyYHgYKgHYB7ZphBM0zAzgIA05naBgccroCkIcDNrx76VZJV3x/SJe26bhCQULDNy5C6z0YAxgGLZBmsbCsRpON3CkgUZHReqS4maFwQWmrG5Uxf1NBv6o4ZeD4N7tUBs8DAPDCuhdYVcFp2k4JYBtdczVPgkClxghDQQTAUPc36kFiDRrFgWKhhUGbgngVz+Hl+ahrIeh/0FgxsNBBr6i4VhTyPFnUhgXl8kFhDQY0t6nM0DhYtVi/u9WA/cq+NEYeFyhwoGgJbqfQ5DbDpm+I/xB4GGBzwINArQ7yFJxUHG//bGNOFf5OmLOVT5f69VJFQdMOZxXJQcV9yufjzgagM8qWLQG/rAWmS5IzsPQRyEYjUzfFh5SsNDCVMBIhPKXKnql0kc9jlN2cVB01whVOZhs5QCLSjinUqAoWgijCr/dwmZ4qKWfQ9HPYJBgC+SY0fCQhoUCUwR0GgTEWAZJUHRJgSMrKLX4sCoBnChLoNMtQiQoGrQq/JYLW+GhNuQYQQIPQy9Njw5FdhsO8ymBwKZYAWIgibMCEuMy0QVQ6ILCk+D2JL3fBQYdfU5rmKJhITBfaNlNEOVh6D0gbNkIlwo8IXC8QOBqBbJYDOtgIWzC6+qV7YhS1CR3KQkCXSMUCgnAHg/6CWi9VFi7pYdhM7tEBvlsrjB5dLHA8EqldXnseuAAUk+nASv8+1jl1w6ukCsUGim+1wIyHOzFYJ4QPvpsX3ed+igMMg64UWCBwCQbEwRLNyh+b5Y0BSez4se5X1W/9iSwC+DDG4UPxnkYeihLRE5Ow/A4ilMsBC4Q1GItbErWyAWoescMWY401ylLQN35OkHFR2AByClgHxfePa0vZp36DgxNsg2NXI/mOjTbto94XGrUOkCRFkhXxgI2g6WISs9KRgi0g5InxRU6YwYpCZTO9GzSJcUCdluQ62DF9cKybTwM9bUGmuEyDc0iDKeiCEpHWxyBSILDRcm7Gitkeb2r4qdZjqgUba0QlFsFm5A2EMAGwKmgFwnLpwmiPQxdB6GJUVyE5jdodo673NkMFsI6WoZKa5AkNkMmqfJ51flWJxCSrvppQbZrfKAjbqvtnI2BouyX3xnsb2DpRcJTTb0dht4b/W8lY4EfY5lVNR6lI1QcC1s83X4b5+6olPu1BtslX08EQgt5BXkNzQJvKngfeF/gAwrHh0WQmov/zpDi3xwpMAoYJbClwJbADsAQVRiv0uUPmWKLWlwmXWYVrKtlKH2uCeylMGwvYcl5ignvehjcrYFiG/YBrkPYJ9EZL4FCbDUQcYBUPibiOeXoJhWVvkXgDeB54EWBfwCvt8EbP0fVZfBvRcYKfAz4uMAuCnYD9lSFc4OAwMVd0qSWYMTMU7g4nzbudRrsSbBpJ+HFf4Xd/q56YXKul80eimYHZgDXIIwts7xh+n0lydWYJuV+XAVqxZHXsCGAxRr+bOAveXjqbniz55dUiloIOwyB/Q38k4HJGvYIoMkUOm8kVs26PNYdViEs+bHjBiPpXAco70LrHFh4t2Ke9TDEpU0nMAfL9xGGxv6uYfJ57QiCdlCSkqPVwGoD92p4UODhh+p0xa+3PIGMBQ5vgE+ZwuKl0QE0uIBRfV+KhtcVhNAVivVgLwKuUezf5mEolbEyhJF8A8tXEIJY5ZeIMakcG3GzBDpdOfIG3jPwew2/aYZFz6Ga+1Kq8BlkiIGpBj4bwDEGtiq1GDoVDkGV/bihg9LHWYrKINvmIfxPWHup4uhmDwPARBlOI5cjzCEsscjW8aITRrtLaeuUY5RBNGw0ha4S1wdw1/+g1tIPZAkyQsPxBs7QsJ+BwZU9nUwFCLpDgcOUq1Amq1B6CITXQvBVxT99NLBh2E9GkOcnCP8r9fdLihnCaHcpQ3xgNawxcIeGX74MT9NPlzwKolcWWt6cbuAkA1uYQjVqFQzKCYQkOCTCpEfGETfBpnMV09YOTBh2k1EM5mdYZpUlIMIEGNJcpbDaXUpxB6yGlQZ+peGaZajlDCD5ABmnYI4prAnfJig2QzNlQXMWIFwsQhgzJ2HnQ+u/KT79wcCCYT8ZgeEapAiCzfD7xV2UIsYqoQmXNfCuhmuAq99FvccAlnXIVhrOCgpgjNWILrcKYYwZdoEjyyHzgTmby0L0PAyHyVDauALhjEwQpP32MeOlq2OCNQZu0HDFB6i38NIhzcj2TXAe2DMg3AJCFQ9CFpfJCYT29/4SBp+rmLq+f8OwnzQxhO8j/Du2JFHRFRjSrENnML1JF1Kj8zagnvWqnxhXfAJa50L+WLCN1RYiCwRhBhDag2p7JchFiuN6tIeT7kEQcozgIjRno1FlBTZxh3F4TdxRnEYVsBZeCeHUFpjlQXC5QqpnoWEWqFMhfKXwE8aWW8QptQMAUXVNVoE9G+xFwlO5fgiDaEZxBpqLMOhMSm2qFTz2ceU5RTOKn1k4LEQtAJX3qu4MRF7RtACCw0B+BrY5WtkjJnpSAUmDRnRhUm75GcJc3b9gOIaj0VyOIVfzld7BCpTAI2heRXMKwrmg3vHqXSsUQ9+Bn5wL9hSwr0Io8YrtYhmcrUcOwsthj6P7T8xwnOxDyN3AtjUlGLJmkkJaCbmLNr5Gi3rDq3M9Y4klHwNzOcjxEDZkn4BzBaHMFVsBMkMx++99G4ZjZWty3IOwbyZ30jWDVA3FGvJ8hzVcCWqTV9/uAOKVRjBnQ/j1QsbJZa4hrCGeKLt9GtqmK05/p2/CMEOaaORahNmxFjVu/sWl9KX8nJBnCXnOYRX3+w05uhsIFPzjaLA/hfwEEJV94k0c3Kiy+7fCpi8pzuy2DFP3xAwzxTCEczCcHNnNN6E/emoWyVTFCxbFYyims0rd50HoEd9aFLvcB0wH+1hhLVPWGeiQbPMR4cmgzxVmmr4FQyPT0HwDjeqYBk5S7iyglJ5T5NHcRSsnskK94tW0p6HY7RWwJ4K9CyRPlyaOUl+vQL4OR07rOzCcItuj+AmGIU4WQTuCUg1HK5prCDidd9Qqr5qbC4h9V0HL6WB/AWFrfFGZqxUIk9ynIRD+RLhi+94Pw2kyiBzfQzMpVrFNRgsRtVJHsQnNZbTwFV5W67xKbm4gpqyDDReAXAZ2Uxdmnx0gkUmgvyfMHdSLYRBFA7MxzE6ME9K2j0l/zwYM3yXk2yxXLV4VewsQU1tgxbch/C7YDdksQZbFQgLY2TByttQ5AVS/P3amTAIe7Vi7nDQXk/Vi0Pl4E5bv8Fe+52eTe2umaVEArf8X5OJCXVOW+QZJuV92+y7kD1Fc+GrvsgznSCOGS9CMTQ1+0+KF+H2X2tBcwTou8yD0aguRh7WXgb0Cwrb0Ir8ki5BoXcYClwjnNNbruwd1uhxMx/C5qialpX1aSh+33486bKTdyqO4lla+xYuqtd9dTaX/ZIOVUihmtQrzvwUNw0C+VOiwlyVuEMdbOxO2XgDc2TvcpHNkDIbHgJ1S/5daihtDLJY7aGUOj6j1/fFq2t9g6LxGzh8K+ppCzyTR2YJpZyBeAT1FcfGqzQvDXNE0813gQuf/JQsUIYLlISwnc191+rQ/KVF/hKEIxBiwt4E9olieTfna6NRSDIdbuQzsf3S1D1PXYoYWdsdwVmoq1CXFGp1afQHLmVEgeOkrMcSsVSBngn0hfhY66yquqvjiLAh333wB9DnSSMA8NMPSNhVO3WA5OtX6HgHncp9a4lWqrwNx8hLInwvhe+nBcYhTP6ByazIMZF5Xg+naYRjJUWiOS91lOwmO+DmHFjSXcKda5FWpvwDxxUVgL4F8S/ri9Uw1S+2vPw4GHd3zMHxFhhDwTQwmtbYoa09DjcWwALjWq1B/k2HXQrigvLAvbaGKc2rWAN8UvjKkZ2EYxXQ0+ycqf5KlSHaXXiTHxSzofylUbx1mtRY2RAxfdOvokMWNCgG7H+Rn9BwMc6UJzVdT/f+0GCLaMqxF8zVuVG961emvQJz9JsjXIFzr3qQsS/k3FwhzmnoGhsHM6LAKJiWL5NLpt9Q9CriZX3K/V5n+Lu/fD3JzwV2KmnWOc5WcZqn3h2BG98MwVwaR4/zElKjJYCnKj5cQvt9fe5x6KbUO8yxs+D7Yl9yzSy6d/Tpqn84XThvUvTBswSFoDnSaJyhV+oC0VGozmrn8Qr3tVWWgAPH1t8HOhXxzfPzg0tc1EqQDYdAh3QfDXAkwnINBUdvOF3EWRNDcxbP81qvIQJOW3xZWyYXiNsnmvGRUQXiOcFjQPTBsxW5ojnZykZL6wAdVluJdFD/gEV+JOgDdpTyoyyF8NzqVGmaEoOz5o2Hcbt0AgyhyfAlDQ6KL5DrZ1vm8RfMrfqie86oxUIH45vNgb+wMpsMUq2BJn4ewgG0A9aUsC4DcYPgvRgAzYwFwsQgmMpZYDlzlVWLAu0tXg12enEVyWRlXBchM+MyI+sIwnBkEjI1VbFdAyo8Qww18x88peOvwozchvAHCMDsEiRN1Y2HwjPrBMF8MAV/MtE+srogRomFYSiPXeVXwUpCN14FdmpxZcrEYVc9/0bXXUjoMbYzHcKhz1Wla8NxuFTTX8TXfENhLu3W4+h0Ir+u0Dkkp1tR4ofT1h0I4vj4waGZ2dM9O2i08yBBHBLyJ8GuvAl7KpfVmCN9wyyi5WgybA5nZdRgWSYDhROfGX8bhCLAYbudCtcIPvpdy63DNSghvr84suViBpPgiPNFlziEZhtXsjGFvJyV3tRaa99Hc5IfeS7Rsuhns6uzWIK7UOwTCvWHQzl2DIcfn0OiaYYg+HuZs9ZIfdC/R1uHmlyB8pD6WoWO/ZA3MrB0GEY3mGOfKU7ejhYBb/JB7SZb8LRC2JK+PzhI3hIA9prjXZQ0wLGQMhn0zl2InVbEGvI7lIT/YXpJl/UOQfz27e5S0H7LsA4eNqQ2GwRyBIZeo6Noxo9RekGe4h3/1jYK9pLlKC9dBeE9nAV9WKxCZjs2BPqI2GBTTYssoXJZvBlQW5W2ggXv8UHtxk/AeCDdkK+CLO9cBSuLeDtHppvli0EztjB+Kt7bkcdQR95wGLG/QwN/8IHtxhOFvwBsgu2ZTNhLu28MFTHHPLUfLMIYdMIzLvHwzyUUKuIfj1AY/yF7cXKW7N9TmKiUuChoHn9whm5uUYzIGlVqFGr9GoTqLlOMBP8Resom9v9BnKSsEsYuEFNjJ2WDQTE4tyHOxEJ2ArEJ4yg+ul2zS/D8QrkqZUMNtgq4jq5QBBhGF4eBMC/qTyjECIMeTzFBr/OB6yeYqPbamEDskBcYuzcbKzh0ct+CnGoZlNKLZtUzxA7oy0WbR+DaRXmp1lRal1yplmYMId4XtB7llk9awM4aGsixSVIBeFajHPCdsAJ7xg+qlNsk/C7IBGBqfLSpVQEh+HQ0wYid469l0GAy7u/3NivM6AorCsRbLi35QvdQmG1+A3Ie1wxClrOwOOMAQsEf5+xJgiPp8XfX6l/ikjxe81Bo3PPuhsM9LwPbJMLgobMcVeg83N0mzWzxQFfeVk2V60g+ply66Sk+Bmpbsp7uc73huN1cYJpZnlxKAS4chxPIPP5heuhhEvwQS0lF16qz0Mc/ZiekwiGiWMC7z3650mTrjhhZgqR9ML12TttdBbSzEDbXCUPa+cQJalWttBQzLGYspfmDU30mCQZVZl3bZQCPL/GB66aJlWAayEVQGGBKBGAqjx8LqlUlu0nhMlr+ZEj9AMxNZ6QfTS9fktZXw8WZgjPvVP8plKX1NbjyQAEMj20XW82WFofM9y1Eq9IPppSuiIBTC5cCO2WGIeg2AbJcWQI+pWhgnjnDoSJftdT+UXuoj4esgh2W/SseeG5MMg2F04vsTQYt8tW8H46VOkl/hqOQpyttxf7QbDJLwnVw/q/D4Az+IXuoEwwfRvnhWJe14PgUGzejE7+PyGZ33BYWfefZSLxjWgK6Y3aoVBhfLEDC4ZqtQ/f3ywFo/iF7qFDOsBckDOVLdl9LnY183OM0yDHVyf9y+Q4jGd8LwUiex64qz0LlaFbJChqbFDKYmAKK/Qwi0+EH0Uh9pbQETdkUhKx6bZBgUg9w3/XH4bIWfY/BSr5ihzrpkG9MsQ/1ggBDNRj+IXuokGwt7N9RNUmIGY+v5YarQxcyLl7pIDiWqjn8vrPScKmag7fquBwsl4Tg0+jH0UhcJaCTLVs3pbvz6Sie+EgZxm952tQwYP4pe6iKF5I7qIgCl9yUFhrA5/i9kTWdJADLMj6KXOvkZQ9FFfZUaASg/30xbMgwtKQqe5dMN2OF+FL3UyU0aUdw2x10NkyeQW5IDaMIPu/oJZYYNNcKPopc6uUmdMKRf9V0mqD9MgcGuTneJslTqMcqPopc6WYZR9a3TY3WaZVjVtU+qCr7H+FH0UicYxjjFA84V3KxKswzv175YwkZ9q3F+FL3UCYZxTorvut7G8n6aZXgH5090gmGCH0UvdYJhQsTVvfZVn4p3UmCQZe64JS287kjHboksGYGa4Eu5vdQsMp4RKLasCQYb60otS7MMyzubNWXtFRMFA4PAfAx43g+pl5olx8cQBlVfa0nvFBPdqCIElld+TPn0tvrYRrArat+ZvfLIN0HLeD+aXrokmvEYmjJtjRC1Z0jn4xW8lTrPABAuBdkhLgSPn5G2Ua/PAZP8aHrpomWYiJBLVEMhQ3dJlqqISCICBvsy2MPSYaj+hIiYQYHs5UfTS5fEsBegUptwu/YgVrwcHaNXSdsLBUfLpYdl0qd3PHcAsihATc37UfWSOXg+jIBmDohV8Cx7iHQ+fsERBlkcodC498Gv2sJnKxg2EXw3bi81SCsTMYxFUb0RTpTauViLkMWOMOQXgyrG4Vn2sZK4bzkMWvf0MHip0UXaA82wjnRPnLq57RXS3sJocXScXiV3rQa7sj4ZpTyF1W72ID+qXmqE4SACck7bLAeU70gbvTvtSp6rrkuKhkHNs2D/lrB1aC2QTEUWBX5kvWSOFwxHZEqnRu9DXgrIkyp6Ki5uGV34eIatREnfvd2Og/yufni9ZJIcu2IY14Vtl6OA+XPcx8VcreWxghInxQlpcUPZueEQTsHPRHvJBsNkhOFVwbNNUcWkmEHzWNzHxVmGZyBcX+4aJVkFmxAz5IG8AXs8gvIj7MXJRQJFjhMIiqufgwT3J85NqowZFOux8XuSx8BwUAuEf41WfusIQtWxN/xuoh9mL05yAhPR7J2pBCNIAKNw/JW/xHd5jIZBKQH5Q4nPHwNBlkDajoK2I/0oe3HMIh2JYVTNwXOUddA8qBLWwCX0oWl7INoq1JpyzRvIn4DM1X6kvaS4SBpd4iJ1pTiv9FA8kPS5CYq55gWwb1UrvmsGKep8fj+YtLsfbi+JMpvdCdivCxmjKEjepiG6DMMBhlltkH8o2kWqSp0muFFl8xMjQU70o+0lURo5EcPILrlImsqJtz9yH621waAQkLuSAcg8K60hPwv5hW8h4yXaRTqF4WhmEhQbw9QjcC5AcZdKaSCT4r83P1jomOECgCsgdgLo6X7YvUTKUKZjmFhWYhF3xY86gsjgeRXreDDto1NgmNkM4T0OM8xZLEcDhHOQuQ1+5L2UWYWZNGCYg6EhNUuUFkSXg3EPj9DcNRgKKdY7qucYanaT2v/O/jB6qh9+L2WyLVMxHODsErmDcYdyaErpkObM/anYKCAuKHZwn6ruN4E9D/mF37/BS8EqzCGH4TwCmmqaS9CRQTNolrORP7l8h3QY1HEbILzNTdFdZqctECqwh8L6aV4NvAAwimkEHIpBpU6euViLzhKM29TdbKgPDAUibgLbFm0VXKpZI63HEAjPR67wG5oMdKtwDo1ozkczpOb4IOo5RRuGm1y/hyMM/3gV7CPJtUqWGlKwB8F6n1ka6DKC6cVFPPFuUZAAgI597k+8wav1hUHNy4O9IV3B0wJsGxE7hF9FLvTzDgPVKlzICBr4KoamxKu8ToEi+n03qEfI1xcGANb/DsJXk2ef02aqI8/vB41f8GoxQGUkX0CXlF4ECTFCFBTxgfSrNLIwy1dxh0H9+3qQa+OzSZb0cu9IK5EDez5ygW9SPNCswuVMQHM+JmKNc5LLpJ0eX6uuZn33wADAhpsKG5okBcpJ92Otx8fBzEXm+FTrQAHhF+QwzEXzceesURoUnc+vJnAPnGuE4bz3IH+j+zqHtLih43kF9kQYeoJXkwEimziBgBMJiqlUTXohniatMrU9nXojP+G97oVBKYFNV4Jdk77YJ2nWOvJ9TRB+Azl7W68p/dwq/JRtMXwTUzHBFldvZJyzR6BZQ8CVqoY9m2tYaLP+zc7MUkjyjLSrleh4vCtwiXeX+rl71MAlGHbJXHeUFlgXjhv4T96s5btlh0HNsxD+NN06RIGQuvZBg50N+OxSf5VGvkDAbEyxRDupdXzabTUIa1BcGdcXqRssQ7t1CK/JFje4pFwtYAeDzEX+xXfv7m9W4Ub2QjMXw2DnGCC57qhyWec1DOKNWr9f7a1b5DtjQf4CsmN5wxrrcJt03wJWwP4JNn0Oddvq2K8g4jWsl4lS0SoltzAaxX9jORRBERJd+5mmLlG37dtSWQ5S83in1u9e++J8dfG7kL8kPjhOuk11pRTYKWC+jXza1y71dYtwBY008G0CpmBQkQFwUoCcNOPcfk64pCsgdA0GANbNL9QsJcUGYUoWKTbINpA/DUaci+A7avRVEOaiGce5GE5DF7td6AyuUXKM0H7uEdYxv8tWrev/7cVTQD1Q9PVrdJOSztm1EJ6DuvNm7yb1PTdJ7uZUhJ9iGZFaxSMp7lK0+mxEOEpdFN82socsA8ArT0B4bXY3yaWmKQTCEWB/gEw/1qtaH7MKD3Ashh+gGeGURnUNostdqGsZzxN1Abk+//UFW4N6FGRiHYLnOFDehPBU1H2PeDXrAyA8xGFYbsayQ+o1MC14jlOnkCW0MUV9rWuxQh0tA6B++A7Yi8GG8UV8WStcq+KJHcBejxx5gFe1Xg7CwxyA4XoMO8SWZLss2Ek6FCGa/6gXCPWDAYDVCyFckKLQKUF02ryFjAd7I3LoPl7leikIf2MfGvglmvGJ9UNZ5xGqW8Is4INsJdo94yZ1/BL/tgOYRSAT3N0iVzepAyiB8DVo+wLqL3/z6teLQHiSA4FfEzKREJU8jI5qEO1lL6GNqers2souesAyAOpnb4J8GWxLNjcp0+tUITZRtyEHHuFVsJeA8AxHEHAbmonokkrUWq/88XMRLRi+XG8Q6g8DAIvvg/Cqrit/4nsU2PFgb0H2OclvgrIZIQAlL3ASOW7BML4MhDQgXCEo/3tX8Qb3dcf/0j1KJLO3gEF3Aoe7J5GzgFN6Pv8R2G/C81eh8Buv9yQIQsASziLPpQjDE+s1Xa+DSdNPIQ+znhPUWazpOzAAyCk7Q3A/yDi3WEEy/HJVwXhLoXAw/w3Uax95Ne0BEFYznHVcimUOlkGJLbSSHktljiRWJZaT52h1Ki931//Uve6FzD4G9HywQ92sgeA+OVd1G4L9I2w8G/XWa15du3FY32AiAVcRciQhJnVuNeqxOJzrVJf1tDFLnczvu/P/6uaan7YHIJwL1rq7RWEN2SYBrAE7Dcy9yHbTfRzRLW6RkveYTiP3opiGxiSuOXAJoNPTrRb4FiZ5153eD4NaEMKKq8FeXVsALSmXmSqbqkAmAbfD1pchI0Z6Fa4TCGsYyTouI8ftGCahi9Wnuuhf6G46FFezjqvULMLu/h975uopM0dA+GuQGe7zCpLB8YxsUhYWdizddD5q3V+9Ondh+Jr5JPAjLJ/EFt0il2LkkNoSiJ3XwLtp41R1PB/2xP/Zc66ETN8OgoUg+2ZPKdQEA8UJug8hvBrW/RDVMz9qP3KLRgIX0MZZWEZii4tyXGAIqT2bXhj+p2nlOPXPvN1T/2/P+tUyYxdgIdhJ7nm1WhsPlNU9hRA+B23fhPD3xSH1Eg+B2QTHGLhEw146yhpkLVDOBsSrWD6jjuKlnvy/ez7IlE/vU9grrj3l6hokuwCRumn7xsJORDIPxWKv9tWyTtgDmBvAdA2DDaAFlGt/uK7DsBw4Xh3O33v6f988GRc56mAI/xtkmxpqkxwgiGtCYIFQFKzRcGsAP96kWOIRgHeFCRq+HMBsA1sYUKUTxcqWAGEzQJENhpWEfE4dxuOb4zfYfOlHOfxI4FaQrWovz3Dt01R6X9oHWDSsDuBmBT9fp9xbl/cneU2YNBj+t4FTNYw2oCIrrgWU4N4zLnvM8B6WUziYP9bSAKyPw4CCyZNB3QayffmEm+A+A53NMkRUFYuBtQr+XwBXroJnC9v+9uuYQC2DTwj8u4ETNYyohCCy+loirEMtIJQOceH2bRSfZ3/+vLlA2LwwdIzMQQeDuhXsuGTFlwy5u+gITxU7C8QMumjYEMCfNfzaC8JSAAAGl0lEQVRqEyxcpbJ1ce7tslgYChxn4DQDkzU0BRXuUMLvU4BBEtylLO5RWBIjCLPVvpvHNepdMADIfvuCuQ3sTvUNpMttetKgV5xrM7DCwK0a7noFnu6rGaj5gtkR9jVwvIbZAWyrIefS4DoWiCyNE8PEIXwFy8nqEzzdG36r3lOyIPuPh/BXIFOyxw2SeqlSxVghDYiKQwy0aFii4c4Afvd3eKa3V8cuEgJg7wD+WcEJAUzQMCiIiAeyNLvuaHKdZh3cYobH0JymdmZpb/ndelf9juw9BuwVYD8PorJNvCVZBsHVFUhQEjHQYuAdAw8aeNjAk3+C1zZ3jCGCWggTAjhQw+EBfMrA1gYGGUcAMgHRHkxnWc3beV6w3I5wntqJVb1J/XpfMZvsNQTavg78H7CN2dc4RMUK7m6Ai8IEhXN5A60BrDTwhIbHFbws8Mp98Ha3ASKom2E7Azsp2NnAwQYOMrBNAA0GggCctzxIsw6xje5K3aUkl6k81NtEyH8xmG+rbWjubarXOys7hQB2Pgnsj0FGp6ckkoAQN1+Y2rujFwGxGvIBtAWwRsGrASzVsLQB3tKFcx8GsCYHHwIfDQJpoqAUG2BIU2E8hjfAyAC2yMFIVbjdPoDxGsYbmFScB8jlINCgTRe/e9reH3FAdMw9uLhGIauxfJkl3KGm9k43s/eWOQsKPr4/qOvB7lmrZVDg1NEw6xU0aT/u9vcFhUNMsde+AVuExuYK5zGF82jQxdcrU1DwsiPN3w9qtAAurlJcdXaiu1Q6NHmeR/gXtuEp1YvT1r23h6lCUK8/CeFREN7S2ZNJqO76HddlqkB7e4VxaaWxqniu8pzrkfTDqs4LjlGQU9AIDFYwBBhaPIYDw1Xn4yHAYAqvzZXErIlaJF04oLqHelpP9Y6C+agfsbS3keIWNEepbXlS9fL5m97f0FctfwfePAPCMyFcFb2OIXq4VEYl1zHndAoEWSBJe15SDWZ9Dxun6I5ASCkQ5VedVQScyZacocbWr9HXwIahoEGtsPIG4AiQR6qHykZe73SEVaj1ql+LdajVJxWyTcO6XvWzAJL2XOmvXnXVMDwCHMFwblCK1r4yJ9N3Wr0rBPXuYlg1HfIXdG6jFT2MaQB0FZBawMkeNsUreJIlkToBYF3vd1qHNWguYBDT1TAWb87Siv4NQ6emNcPaH0E4Gey9ILbaOqQrPxW3tUJQ6U511w8a5drYDLDUG46K81YU92KYTI4fKdX70qb9E4YOK7H+JWg+AezpYJeVDleWq75OUP642KH3JuDSncc0N8q6A9D+3DILp2s4QSleUn24yLFv74ij2IRquQnaDoTwByDrsyh8vWKH3gCATbEOtcQHKRCst/CDVjiwUXGTUmyij0v/2B5KsQrkQmAysFBBXqdAoSMsAA4WIilD1N2QpLlEca9Ne38Wl8lC3sLv8jB5KFw4XPWukgoPQ4frxHMCJwBTgXvjoEizGsRAQ8R7kuCoh2tVPmuSnI5NmzugxsxRCQT3Gpg6Co4fpXhO9bN1H/1v40BFmFc8tgmOs3CEgt8ryKdd8dOCZh0TSLsovKrhh3aFwDpYgHaxtVmGvIXfCxwxFo4bpXhM9dOGCv13F01F2KJ49COYYWGygtuBliQ3KQ4WHNwlF4V3/bGzQJAGR5ziO1iSFoHb8zB5B5ixneJR1c+7igycFoyC2hJ2zsHZBj5vYHRszY3jY9cS6Ky1UFnf67oOwbHmaLUpXDiu2hleVv18CezAhKFERgnDh8DxAZyhCyXQQRIQaaXNLgrpCoOqEYQkWONeU3I+XyxBv2Ew3LWTYkB2Mh/YzXkFPRF2UfD5AGYZ2EmXrAmuxUp01XKoGq78rlatorevGHjFwPwAbv8t/GNeYeOpASu+U3UnGGYP2EfBSQF8RsOEYvk0rlbDBYh6wNAFEKyGJQZ+q+GOFfD3Wb67oIchLb7YCyY1wLQcHGXgMA0jtKN7onFfI2AygqRT4FHV711r4BEFD2j4w6fg1YEUB3gY6iwThcatCwvspxiYXFxquZUuWXCTxU1xhSGL4rf3gNLwnobHDfxZwWMN8Myx/WB22MPQi2ONaTCuAfZUsGcAewSwh4KJxUX4ccqa2e+Pew5oycFrGhYbWAw8L/D8Elg+0H1/D0MvkLmCfg22lc71yjtqGBPAlhrGFO8PNdCkobG4fnlYUdnXawgNbDKwQcF6A6uKx/sKVuVgWfu66rdhhVd6L168ePHixYsXLz0g/x95CcB2NW/ypwAAAABJRU5ErkJggg=="
//manually encode the color wheel image

class ColorWheel extends UIComponent {
  constructor(_0x1d3bb5, _0x2273c8 = true) {
    super(_0x1d3bb5), this.showSliders = _0x2273c8, this["hueRotation"] = 90, this.selectedColor = rgb2hsv(0, 0, 0), this.currentRGB = hex2rgb("#000000"), this.dragging1 = false, this.dragging2 = false, this["slidersMode"] = false, this["setupMode"] = false, this["wheel"] = $("<div />"), this["wheel"]["addClass"]("fmWheel");
    var _0x29c665 = this;
    this.wheelCanvas = new AdvancedCanvas(195, 195), $(this["wheelCanvas"]["canvas"][0]).addClass("noMouseInteraction");
    var _0x5764b0 = $("<div />");
    _0x5764b0["addClass"]("colorWheel");
    var _0x52825f = new Image();
    _0x52825f.onload = function (_0x2a9e5a) {
      _0x29c665["wheelCanvas"].drawImage(_0x52825f, 0, 0), _0x5764b0["append"](_0x29c665.wheelCanvas.canvas[0]);
    }, _0x52825f["src"] = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAADDCAYAAAA/f6WqAAAiRXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZtpdty4koX/YxW9BMzDcjCe0zvo5fd3wZRkybKq/LqtKqfMzCRBRMQdAqDZ//Pfx/wXf2rM3sRUam45W/7EFpvv/FLt8+d5dTbev++fGV7vuc/HzfsbnkP6/fXvvF+f7xxPH18o8XV8fD5uynydp75O5N5PfP8EXVm/r9cgXycK/jnuXv827fWFnn+5ndf/fr5O+zr513/HwmSsxPmCN34HF+z92z9XCowitNB1nL9tyP452vk73ePx9/kz71P3zQS+//Zl/uzbyMLHdDwnerut/GWeXsdd+nL8I3L+04icf7+y/3VEJ7ljf/3zy/yds+o5+7m7HrNhuvLrpt5u5f7GBwfTGe7XMj+F/xO/l/vT+Km220nUFrc6jB38oznPzB4X3XLdHbfv63STIUa/feHV++nDPVZD8c3PG5SoH3d8McRnhUo8JpELHPbvY3H3uk3X42KVKy/HJ73jZMT484/5euA//fl0onOU5s7Z+j5XjMsrvxiGIqe/+RQBeYVBZaJ3nHle7Nc/CmwggulOc+UGux3PKUZyH7kVbpyDTYaPRvvUiyvrdQKmiGsnBuMCEbDZheSys8X74hzzWIlPZ+Q+RD+IgEsm+cUofQxUQvHV69p8p7j7WZ/8cxh4IRAp5FAIDQVEsGJMMVNvlRTqJoUUU0o5lVRTSz2HHHPKOZcsnOollFhSyaWUWlrpNdRYU8211Fpb7c23AIwl03IrrbbWeueiPXbO1fl858DwI4w40sijjDra6JP0mXGmmWeZdbbZl19hAQFm5VVWXW317TaptONOO++y6267H3LthBNPOvmUU087/T1qr6h+jtrXyP0cNfeKmr+B0ufKR9Q4XMrbKZzgJClmRMxHR8SLIkBCe8XMVhejV+QUM9t8MCEkzyiTgrOcIkYE43Y+Hfceu4/I/TFuhtn927j57yJnFLr/j8gZhe6XyP0et2+itvqF23ADpCpkTkHIQPnxgV27r1289OfXPmPIKcRzuFcbVhq1r16z290sbptCYNDheDta2o1w5E3ET7d9tVEWoGbBKuenqnHblBtwFRMw2kddicF7M3Y9dkw/au2VmhmzweJrH8Y5x3FMmis+NBA67sGFKNnoZ3T7cD54d0ygem9Taxkuh7NdWgyAM6U9Zqjp2OLSPiGfXXTWPTpRq2PNGWuZ3CKcl7m51c+a3vRNLnQBbS2HWW7jbCb1fpMg+HvqZYd3cyxP5MKZ6ZzW1ojHMvq9K8i7DRka9DV/8tJrmVyf8zFlNe5oa9jzFNv3ajsGLh/cqTmPnlJvKY/A4QLPmD5J5sM4OEkIfYdWqN7YFxPUGrnStssrJipjh0lguEBKdcezs+81nh4XbOGNzY3QLCbPFt1bYqQj8RHQgJkPrXLZNcm07RNnynUenZp/lhZJV+5ZeGtOBzsJeneB+6FOypjz5OHCCHUSMFis7LJ0hHjbTNT83oDQmQNN5IZHr6XIido8Pg/SnSkhTm2tFcqcY+9MhuVZi/B7UgKd287EktI8Y8Ohh5Qg4M3lbeDcXYjQpBK5s0N+2a70SeQOE+bnSq1tCpvq7cXv1DqRC7bfVBdv39ynRJ5ffn4lOdu0KpQe+VfzZB53GEthQlLeq5i4cmNiJuXQD0UzUnc79Zm5Jl88uZ9OZFGsvTMXnppoB5Bbo99Ik/S7pOUNoMNU2+FqDhuModb3Yg7SZtxAlQdLzljdVdIWCDo+OYoJVPCwHRMZJ5iTkiEUvpFaoMmIJS9QbSv8KyIrO3UwSeITSdAnyUlZUqRPW5h9DkCZp6xyTACoko+jt11hw9rW/XrfhLWcBRDN3Ysg07XkbT05pBZyez7+fn5nVKcdFMylu7ggaXDRxQRTp/uGz3OfTgak7mMDhklq4CFm5kInR9oCSrsYBkqWkdtU5Bw4gDTmqiBFPaPOMopbFUQayGdyM81U2wzLkyGEpLnRCt8HWwxKjSOLI6RjGXBO4k6692NUBkFtQWDotLM9EUulE4ZV0+CWYZ00ueKWmDDMhA9ACJ/BLmxVNjPuWo5DjHbIkZn3zLET9ZmA+x2Gp+ZANmiJikAx8oYh55tdidPvDsMxU4fYpvDC6uMF+P+YtC8L4ZoveJdEupTdLHGhDrajVqllJqiX5eA2C1euRXa0Emb3bQPIqW9SG4oxFBzRaUGTGBnR6J4P5DMPRJQWAaCYwaLDFROnIzHIs0JsKLnOL01cGyJzlKBzUIkEbfAFlAuHSMIfJf9AtXeqgQgtokbmuh6JFDRMVQPoUs+t52lAYSLed1oHPIzWrQ0ZZOCxJwiBKRArcabjRt3bz+rzhhsqeAQ2t3JmcOtYMxAGnKUQf2dnISbEbXdYkxv2JDUFLl4lYA620DdbwiP5sSUzuHgAQU8zfGcwTC480eMTLO7EycudztLQK2OHnsHn4ihPxZGZIb1KaWFQRr5nErtvwxT6YdeMwzHlTbIeKUO2deQM1xMJj5kWwmREqGfFQeY4Cj4vt2ciu+zchYTkJOWgkkbLXDzWQchG0gyfuBh/syWcNDdcfLihsRnrqrNHIGEUaLMRuECJTEr1VE9hoD1Kn6kDRn1Rmj5WL2nk0QttcjoROuci00NDcBZsEHcXyFqH0KJS+m4M5biaFjzsmdce54EyIBCCEK1Yu64yWs0iI7gB9i2eyK6BzhnzoLMn53UJzUWGqKQPKAyGhuPCspsU6QOShUVHh56AVYDXxzjxUsj7A26Di3OZAsj1QZFoRrlJ5oRchXM0yWBHbhVJ5cEdWBBUwy0uRGqawBx57Ui3ujFpJg4YFeNWhA4wdLJtTorqkBWBOIxMyjHTqE+4QYOoYQqYYHyCy/BhBVLGpK60ynNWeJwKAu8OYWyrzA1gMIGh9CY4Ib8qJCzU4erkzB5xoRapTCrSDIlJcBWOxQpTYvyKFvt4RdOgi4TaA2LMfD4UFMA68Au0z2T0OaGjPB2kseBvgGwgpqmXSorJHqNPGB4VQFmPTDK4WEEZ5LuQGJUHIGJ1Sb/UTWFovajwGmV1ri88kIGfuQyfNtEZ40yobLaKsQ38loTZAeXghUUFPEVo8QWkuXQTw+/cRuzcM8WNxh/I6zVwxidmcStYrZG7EwefayRdl/UfG/w1G/WdpfvnwLOPg1KinilE5ILwGHYmvnNST0jQFvaJUnKbekiEJOdAViLzDKzFJANdOYGnZ4JngVgwsAD5NpueQCDHnl/xP3pNSJUNFlLDFH0a4FGhMgtSdWLwif22wgypD5QTKgICpWIufl2tCWCd0fojdC3SnddEZhj45x503EcJzxsTsX725fkGWED16Fhm6mxpKEZ3P1UdZ4bgJa0bJ5oX+Va4b+LZUPMICIpu/DqUj4HcYagB06+IvuNgFOYZBm/cYUhd34FQqBkqQqNN5ARk0meNjgIjO/ORrIkAKnKRIffRjjfAh0e0o74QWLB8sYwBded+uBmIFa8YgGIrYQONTWccjIdDgUeYXeydDGeDaAlz6SXjgBCvIfcFAGPsqDCU2hzDUbOg1pL6w4Et03mnhhgYCjfXe4+IZ4d53RtLCSQh/SF4D35HoI2hOsDdbZTU6QE6dgG4hyDhlg6og32oJvwUR1FuyCSpH0BjobcjwQBCkG7ouStykd7egV5nqFiC5DG+i/qHdvBDmc8HQkW0V2fMR0Ib4YxThLkd6AxvgBk4IEw8acilMfK8WwE28MUJkKVJmf0IyFDZWy6or0wUy0BiHxsHxmvJ1Yndpn0TKXzaztwM1UUGr5kcA4VN6wnUEMrK4mRxZjhf5h6yJxvcWk2lCoCSBgE4rCpVcX8xcobowgSZQXUWT0cSSN1wCtQW9JbDJA4AhiYv4V3AZiY8IFKiRBcz3sW0jktUiJs6wLG8wEZfabAbOIjf7BgdLo2l3fgQEAolx6iv68RsYEqKM4wwyOAM0UqRGt+AGd8kjaRmlIidKR+WyWZiyCfy2+HkmXbqrN6cPEw2AESwi0UGZ5mVqbyEg7Bi8ypdmdDBt0O6hGdHeEqqkcn3MgipcQzfgkZJI8oKRhd+cSsxreaOtDTiiCKLzOFCqDADpMg9EZPsySPMOx/Mw1C7mE0nkY/1Qd6MarHx/gx0xUEB2nrtMtJ1EV2qr9SYHvdrO3QCZiE8pvn+/L+dvtr3c4NXH2e3IytfYzSBOgiHG1HX7oWjP7xCfR0IQwNFitA33KvHJO9h8m2iws9QAhmyF+4IAEeDIz4RmkiFcvvIe1wgCzjKqTYLwChTqWOrtGkYDdVDbiFQEDcb0kOZYkNJygytxRK5oWUJA6Z6VuySx/Fi7fAJUlobrkBvmeMDTBAwZL3mhWwNQAWktT3lH8EmHIuaFbwvaR7VA6owR+wJTq3AL6AM0JkOJFYFt2yYHz82EVz8D0qDPxEtVcmLxE0i4mpGF6FVyMEsqEKS4ZoxAn4g/aTDLJA6J+KHSI6BBYqYBG4SIMTVrowS4gb5tq8LxiIFNhZ7oKobE5LgTCO1hYccsLUfK1CgyN8e1YtLsg1k9HAoLfQFdgVVHRauaDK/IJSruATqYjZvbMCX4bUyiI83GiBkAiSd+jIRvIiIkCApgEAmvjgeZMRFPLR8l03NXBBeQ1jG562IrmsZK8MkWJU/SFwSdVPiBGgG8IBEbbgV26EitcJKHeo+oviZI4RlpfJDJi08E42VAfxQw2kzYSi4ffZU/KWHOeTxn8IBZXhEyUEpfDQA/tvh/eoos1OeBTtwmGoAymv9YHHg4BLGUaeDq6+LADcZYWWl4joCCTMQZMCxiJcPNFinqRFVQkGfE3zUJop/5H/qCZp/+MBpukrlTnSNR3vsYh8Ncvx6RknBmM8V8xSMKjqgEVAIjCipn+RJnWYxNSQq/zFcpzjyYUoUUMbT4itSkFurQseIhiYPqLmCHCOdO2/rLSQdIh9x6JL6WA47eMCQkNAC/HYMmU/O9Kdh51XzUG54ak+ltXuHsAkLGQFp28U4MB+yTekmRmQ+4UWDNUkiIMbKXEAIUD7aIfdXS7MdSnUXhuWQC4cs4WqkDkmOBVxYlQsuy8B49shObenBiZbtbUfkBF4EAupuqEXO1yjuNZW5KygZ1YkYFHE+zmMbq3GOcWIIZ8cnbThnjusg7e0A4s3wILyF9V/dr1Ny2Qiu2OTkM+wTqaM4UWxRWj1xFWxjiBNvgyluG2tc72Ujct2NDaJortH+gCvgr14ituksxn4CatEsqgKTvMANKF7chgjAQilSwAW2hkmVcOvY3IP7yAvZMnAuQD1DGV7N3on0w4WhUBbZu6L/Kcvfsu+RgV9rxMCXeEam/1/0/n54DWa/Uvz7DH9GWO3bCB9hfGvkqRCSD+BEKZlFjpANOJ8GvkSPx+pBbk4t94q/qZdfbVsT7ZTQoCVv8paINup5ZyA3gyyUiBqjVxEi6YCKjmZDK4EzeQJYV7o+2Z7QVZ3aALYJdI5q0ySLXkA+Io/RyqiPnkDuZfkbicqA4KIAWCIxetKwdMOxUn078oUMqzkAEPaHRpllsQjEBi3FFGZYoaPsYF1uDKuAgJdunDh1vxK3hNnTXHJbLStRQzsVWhh9niQ1AmPCOp6qSZhHph5KCmqZJGjupKUeODfPNFE0qC98i4cyjwdGGyhd7JiIUXIOjptAKgmnlg4FrtStTLa7mDDF5qj3oqZeC04LOGiDmaQTD29yE93criPOJ8IQfk/E6ijFeTHfzGp5MoMTy84fykw0DPViBYf/jOHmK4j/iOEx/DF3zV8k79fc/ZS5Zv0DuCt1tZJGfqJiR7QTgMOtUtpa9NikVzsJwf6YT9TW0jJVyc8yBTr/CBGlVYgMiBA3MmZJDzQY4KZpwDMK/gM6o2DXEa/ITE6NSLlRcvmRvWilI1kk1p3QM0YNh9g1Z+gvdcG0nN7W5lAwuMH0AP8p6qOgpKq/azZqDw+NMlaJORlctVO6WgYXz3HO/ZmM5b15MrUngA5rg/ZbsWkkjEDKNWbyZ0vgaNg1cwO4kRcKPAl2CWcb/ARlmmEJJBt8T1D8XbqBExzWGuOw1XbsCg5eFPLIGK9WBe+8iY7g9twFthsjz+WQTkycevlgu71mfT+RPF4N1QMZ7Hz5KY3bDfiwE+ZXP4E/Cv8pWpqfMu5v0NI8OScVva6OU3AXd3GgHrU1bzLm5jcTRHVDQR5Ms/I+wwb1CpP8ZIaOsva9ACQUP5SK1B5q2IBDXL+H+/fIJKlwQ51exoLtXN3BynhXFPmA0YxaqGeJzCbyDKGXFviCZuDNnJ73ABUyeODvmGakHZm9tkdjnCf5QJdtcDYgwkHtoAjdqiT9chjaXKqPwUuBM1FBbcBBiQ3M5alggbq7kAMpkHUz3mRM0dQWF+YTLQHLVjFtIfzK0dodskLLpm1oIQVDj6CKaihrLOVdA8H9K19yCMD9LuUwSw1tAOPrMBiPTNiUScYTa7kdJ4G+wusvyvkmE+weu7HDJ74BfePxca5VE3hKa8NJQ1RMvdBkS99hm4uih1HjFaPXS5JGYvaTydV9ydHPKaqe1luKP73Jz0keqXP8NMbvX6yF/xvZa/7I6ucHYFU1wEXoIzUxl8reII7q8WoX7bAPMCEDubXaDKN0JhePUrSMzT9Jfi04bu06I4xi4AI74bGPNfDuURsKXq+QkhrRJ2JhEHlcol3th8RgcF2a4TYIQKsUkFlZ/qYohVsz6HAtbh4txXYUCiVmdY0AsW1ASH0n4asHbqwOTC1vEgMt33E0L5gSCW7ARaQbn91a9bkNCC3HwYBw33YIk0Eo1TIFyHqW99/AFiq5Y6wwSEwmkrcZTl/4xPF+nGv3SHNoOR7X1SvHrSE+xLbanLAdap9ggAOk5OKlgZIrezSkT8WDrPM2VwNaU3u6ilxeXtphoeE17FdQz4jqn2qPR9FNBCdudVwBZXKL2JJjQw7alVCQB6BtqVkr3y0HBFtJaAVqRQtGVjYQ7LjdtEmaoyAcd4vQ0oaVqP13xAiTXKWerydUOxKypMpCXWgFrPsIFXTSSgagguXATBDJxBQPYwV+vR/ttSDmbda/A/23gjJPReWK0YDN8/q5x/LnV/PehGEUS1vCNIZzx+DUin4fQ7xN3Phs2aCka1HmUNIWaMwL37+wIjFk0SGSCrSS7m1YanzA8qQ6CcSPo8TwBn1SGFNleU8ILi8SQWuQgFUJXptoOs5bBQx0wroOYnaUhFprXTafYi2pkkEdw4NyxpNCOxIwavVi172Wy5++AZlaXnZJsBnkzHilwB1MDCKqD1AjU60hqaDyrpOiicX0YeWWIt842llxpKC8mtFaf+qjIm1hsrzWKqTCfKGs1ZaA0eJiCkCXgMvWyimiqsmCpUztVK+e8NK2B4a+HS6hUXdFthb4UX9Yy39E2quD0dWQd9UcJrjePPVqkevWY2oO8Tq6mlDcma1Xgbcpc5xq7ajtBPRFtRdUIA41ZhIANraPTnZEvRhPmEdC/nacIDwEF0ZyndRWxtanObXB1AXBy5g2iiFMo2nL2iPAtKGcMk4ZLg1yzC1Q9RS4ayszO1SICx5wJWPC2LI0W2ugt2qLCRNToHXTpBzR8mlKHjIMV9sXhwFJmGM1hIq7zXfMKGdPo9/MGK9yMb8TEHK3QuYWNETDlYT3QBQk0TG0nhNHmdU61YlroDd+FwMEZjMf51mtOS+hf7X2Y2SjR0tUvJHWJ7n/hBDpyi1seAywtuBpQ73mTaCRsWP+H8jN/KD7qUKgqjWt/2oJeJIIa40J+jp+n3sCvuVYp66MSdBaceESpEsRkQ80wg4Dk5gQJTiwarVJgy+gdMAFIBehvmZazmJFwfKztjUpk9CUbQPVRZFqLCB+8LeoeuwV+HHkXdG+jEE6MoDAZPtupYc1iDNBDdk4tX9Q2TZotx1D0X+ot4YrxW5rSZSZzcx7JYJiMCQrtmbCObe1H5lfaMbcLRGr3Fbk0C6xSXoNgb4dA6C2nGShprw4sYjG0Hja7pAJEnW/1QcicY3aOUxOKOAa1E4F5YA3xtRqabaqy4oCoDiaJcragkq6am8CrhR6AgsXHmU4o5Yl89Cam+RgvUsgtuwKTri74WBZjxy9DlQ0DHvyo1lAdj3h7z6uZdSRU8/SqStNdIAfChVkCNAyyAHZQvta66GY1V+AQLWdb2eLJLRa85fUawY/Hz0Kf05VTjr6FTJ3zasFtyaItNVV4HSuUmvHT2X0FXNq0jcsgYDTTO3syqgenOCWcS8DgD7S3Ke5rZ5m9LnetsbAos15wFoul4RazcEbXpuljbbM2aqyClq+i1r+ABXV4Qd00AyEc5QcSAqHUgKJbQbN7EHmlKWtXrsS12C+tktkNyrSROstJK1T+zwsLdYAvaNqtx23P7Qzpjwb+3CLJJvRsul5lk3D3S74WjSlAO/S7XlbM82vHYkRf6FNnQVU4j+rveXWC2oxr2vFmrQdDTScfAZjMq7svK3+PNAW1Fmpt09q0dyuZitcw1gPKpQbNg4zwHUQiXq6odWldhwWgOmAqiUvtC8TE8aAtM9Ty61nv5ZbYVnU7l07Ngjgu3Z83taOHTeu/VN35TgiwV7Lx5qI93nQOnYoD+wwF8yE+WUq7ip2loC44kDa4lnF/mkkbwMx346EafpmGD+Gw/wSj8/DsJ8HQuTuQORzPw3ljkQnukMRh/w0mN/n5OuUmL+Zk4JkkeCBHyn5kKp27ZIuHr43gkPJM6gPqMcclwPqUUx+L7A974TQclS4dmgM6S9uEgGFWUFnaG0faYEYIo8sKn2LJpqMzgIuMLKrAQseqwMt7kW9qRYhQtmOJni8jziMudbWEus6hmmDYFavGg9CaNeo5ypQiAgQ+dnGLGsnh7MTBYIeAKS5dopL4Ako9omlX2ZrHx+qQCveWG1gFOETXttIcE7FJa2LVCQCXBqfLSoBdafyQIz35HaqEKRb/pLE0DJcQsFolSFo4zWCJaQLOQgg/HJfd3FZ9JPkxSDMricPUpTzMEzn1KYl6JBZAMXh9NVXhlkY+NzaMx4nkwqGv55rAsatlg1RVEANElDKkVvLHl+QxB+6oYBiXECVw54zE2op1qFdo9oufLQHNTH5XdsLIWmvBXOAuG0jnpRFwUHkZ6uQ9i61+rF96OpBifFHDmIP0QlOe0ZTuOu9R7lnAvm7AvxYR8QuchuJNBkQaCxOvaAgzRm59XX61tMKpWh3BJG2aFp8wcSD4ddg1bt7s4d8d29too/wxY5xBZiUOUIrdoD2DATjRpf1mrjEvg7POqdtyHUbbaC9W6j23UIFO5PbahlCKiSfQ4csLdEBmUuyqqgzIQCF9g66FjaP/NWNGmvimJaihaGgSQ4w8TCXl+z1uvcdK9KXW5qR2goCTEn/LujzGUc6J8r/LgkjPuAJBuVSJ8caOeq51plV7f7n5F07qfjUGsowbZFKjZQclYJfRq1sBk0FOq1RQ1UBOL97eGtOTC4pyVC1KUc2Vlvf7cIN4TIa7LRxnxik6phsS3FeBkakoVGs1tD0oEjrzyblLbZDzpIobkbEdR53oCQTpAw5i3oLwAbTUWrIPUQuJnXK0iREXtdjA0VbeJ6dEdORy1gz7VuG5dVz9yKeRR6Q2d4fhEXm5APSqtllhL9Tl9id6MiloyrjrhAr8e4845IEoMe7eTjD5JRPTkYbaLoIO95tYsLuK3u6aJEgYEIIVdZKsMRcuXnqEANAuKoykiq8JKLmEVRA59JOEqQGNh9tJP+ENUEnpap9Ags/SMDawadXrVUChWtpy4/VsjtMG4dKPc+qjdjw8mrkUwTJSR/eVxG2VbUigMPCFwZt/tpzpMKQpF7BPO4C6TddkZ7DgTgoAtOinQzCkJJBIZyjRpopQnG57Zi8DXQDQYSZk1F5pJ49BlxYKJMcQJO5L/xo8W2BFXkhKzEE6iPcLcUEl5xoWRvlJJQpUavGDBN5zObeEI+kXGwgI3UMo5JJ/AJIZC824bbB2e4BrVUHJBAtJlVQhKRUfwziMM3dJqCaWFwNeG6qkdQoOwohL60wdIFK88P7dzQXgb0hMxJfDwuSCQFCkFDbXGviWNWablzQrbnuPkwwHwunxQYkfFyOu3Lea29LcQXv4fcxXv0AHHK+SopJgYZyn9rDdLRGF0CvzECpEnSkNrUmPewTb4sURYqfAFEH0k/4pLKczTY/1XWSGyGuyNuytIDNTdU1tAFCewkOge9oSiZO+4h3fCSZ8c/2wpOQvvG3fZ7/HrjNo27ID+pbGhhIyAPndZ9Y1O6nrn2sVcWz5tn4LanDpcYJeWKnxp+5a3P38OEOnKR5J8ViVN8YflPyJfSk56atNlxgDvT4yKlOz63u1shJRCruwOl5kdL1hMOAKNBHwImb90mipW17Ab3L4TW0cUZbFPUoEZrG370b2Oap2KE0XTLzalmwcOi5Au4LAVS20Lo9a3Sp6EGR5EEl5hdwt21LRwHHzAAkhktkoEbPU3w8sNDIbm3L1pL5PdLD8zCPz6UIYC3gUjJzWbWd7/BLdHoEoyPY0XlH+3WO9krpIaCmh4AQYAXrAOTUynTrWSIcr55FFcgWPZOF567EB7NMJMxG8Wl7t05L2BpIeh+vuI9d6FEQ+wzJokqODvfnoZD7FEhKelQjarDUmkqa96t2hxEHRqJlLH9yFTlVJMJuATt8tG+OG9ZTQgCVnj7Vcz1zajXPGeBLjAewgiWPbS3QMmXP2bT2ml3QmlSD2/VUjB6k40MHxiVBSVNtby5azdKOu7L0wFep6pmj06weqcVIYkKWOrZBzaZSEAw44iYLrB1vzXd1WrTyM902eiREogqqwdUB+fyyWtXmTvw5Vg40DDOR5jWhD+bJlmkii5xa3EG9ZGJ0BkJLz9zs+wRWKg5pqJrRIo96CFVPycE7L7lEabk5v61I822JPq+BQPWgvUITpNMeVRWqEFcuWo0RaTdHXqKMDL473PW+UaOnwt1+ag+Hq/Zd0gbnSm7M0TIxQ+r3RTiTNuCrC3fQB4OqMGqlEWUQEHTWdkbtMQXRc0JBB4x60XYcsHDpiRksEDgVr/EntYu92/21yQTKHlrhbV0bUdrd0hy1M6UKg2zK3lJ9d7eTDxWGiiNReBnQS2EKu/UcAZWPXR/aBcU0ancDFXLagW8YnHbgkmx6YB2pvrDWFXBGxpCT2qOrbUEyWQWNlLvBr8ytnbhABpk08gH98mmkSJ4HXoQFUJcJHcqwzlTT0D1t/40CUNdPTXqrJeithdfngSYUS9ghYb3vUhCCFjNXtXgrJijwAQnO3Whfrb87o/mgWLGapdbmszCuZzifTUBYMT6J++GroHWXiKi6DOgX6vtlqO33y5jnOjvdDdvZJnwi16n3Ot2pb1svzhwtmRPQIpOU05h6fvQBhmnBQrORubANnKP9cxIxibl2A00WATP8pp5GQbhrays4S7o/fS0unTPB1Dpzd9V4BFxFvOGRINiYbQUcUGuUqzYs5uC0owU/pweIIGPtk2dO9CQdkdbF9bgtgl1rtlrtyVp10bP2S91bjOfTozvEq4xHQ2Y9Hzgxl+oGQ7QASGoIvjHIaAMXVPTxUkeMSWRaCLMtgRKYScYXDKDQ/EGBQDMaakx6IAGLlRDGzHcADUFIbXIvep6Wm4QjM3ZCizcIQ1wcQXdaf9pbwKQ1PUgJdohJPd+gxidWSjRthhZBL2nLAwnXtIVQH9WWG5zm3g8aZG3h+cP+DdLHLGjU/C9QQB3bv07bYwAAAYVpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfW2ulVBTsIMUhQ3WyICriKFUsgoXSVmjVweTSL2jSkKS4OAquBQc/FqsOLs66OrgKguAHiIurk6KLlPi/pNAixoPjfry797h7B3ibVaYYPROAopp6OhEXcvlVIfCKIHoxiAj8IjO0ZGYxC9fxdQ8PX+9iPMv93J+jXy4YDPAIxHNM003iDeKZTVPjvE8cZmVRJj4nHtfpgsSPXJccfuNcstnLM8N6Nj1PHCYWSl0sdTEr6wrxNHFUVlTK9+YcljlvcVaqdda+J39hqKCuZLhOcwQJLCGJFARIqKOCKkzEaFVJMZCm/biLP2L7U+SSyFUBI8cCalAg2n7wP/jdrVGcmnSSQnHA/2JZH6NAYBdoNSzr+9iyWieA7xm4Ujv+WhOY/SS90dGiR8DANnBx3dGkPeByBxh+0kRdtCUfTW+xCLyf0TflgaFbILjm9Nbex+kDkKWulm+Ag0NgrETZ6y7v7uvu7d8z7f5+ACVUcogh7iI8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4woGEhkPJ8JHZgAAIABJREFUeNrtnXmYXFW16H9771PdSWckJITRYAZmkNkLCUPAgJBcFDBBgjyEew3vwgV8iMK7qDHgBHq9ooDKJIJMyX2gERAQCQiCChcZAsiQkDAkQAIhJJ10uuvs9f6o6u4azrBPdXWnh72+73xVdaqqq7r2+p017LXXBi9evHjx4sWLFy8RovxP0H1yHjLSwFYatlQwJoAxBoZqaNLQoCEwMDQANKxTEBpoDWCDwPoAVunC8X4O3jsd9aH/VT0MvVREnQLDAtjNwJ4GJmkYr2G8KdwON6AMYAoKjy7eN8Uf3wBBwnMl7xUNHxlYqmFpAEsVvNoAz+fgxWNhHSjxY+Jh6BHFnwZNQ2D/HEwxcICGPTXsaECbCmWuVO4oBU+CIer9cbBosAaWaXg+gCeBxwSeOho2eEA8DHVR/v1g8Gg4OIBPaTjEwL4aBpkY5TXJV/ZYZQ9SYIn6DJ3+uEXD0wYeNfBgAzy+P2z0cHgYnAE4BHbUMMPA0RoOCQquTqIbo1MUPw2OwBGg0s/S2QH5yMCjCu43cPcnYJnyYHgYKgHYB7ZphBM0zAzgIA05naBgccroCkIcDNrx76VZJV3x/SJe26bhCQULDNy5C6z0YAxgGLZBmsbCsRpON3CkgUZHReqS4maFwQWmrG5Uxf1NBv6o4ZeD4N7tUBs8DAPDCuhdYVcFp2k4JYBtdczVPgkClxghDQQTAUPc36kFiDRrFgWKhhUGbgngVz+Hl+ahrIeh/0FgxsNBBr6i4VhTyPFnUhgXl8kFhDQY0t6nM0DhYtVi/u9WA/cq+NEYeFyhwoGgJbqfQ5DbDpm+I/xB4GGBzwINArQ7yFJxUHG//bGNOFf5OmLOVT5f69VJFQdMOZxXJQcV9yufjzgagM8qWLQG/rAWmS5IzsPQRyEYjUzfFh5SsNDCVMBIhPKXKnql0kc9jlN2cVB01whVOZhs5QCLSjinUqAoWgijCr/dwmZ4qKWfQ9HPYJBgC+SY0fCQhoUCUwR0GgTEWAZJUHRJgSMrKLX4sCoBnChLoNMtQiQoGrQq/JYLW+GhNuQYQQIPQy9Njw5FdhsO8ymBwKZYAWIgibMCEuMy0QVQ6ILCk+D2JL3fBQYdfU5rmKJhITBfaNlNEOVh6D0gbNkIlwo8IXC8QOBqBbJYDOtgIWzC6+qV7YhS1CR3KQkCXSMUCgnAHg/6CWi9VFi7pYdhM7tEBvlsrjB5dLHA8EqldXnseuAAUk+nASv8+1jl1w6ukCsUGim+1wIyHOzFYJ4QPvpsX3ed+igMMg64UWCBwCQbEwRLNyh+b5Y0BSez4se5X1W/9iSwC+DDG4UPxnkYeihLRE5Ow/A4ilMsBC4Q1GItbErWyAWoescMWY401ylLQN35OkHFR2AByClgHxfePa0vZp36DgxNsg2NXI/mOjTbto94XGrUOkCRFkhXxgI2g6WISs9KRgi0g5InxRU6YwYpCZTO9GzSJcUCdluQ62DF9cKybTwM9bUGmuEyDc0iDKeiCEpHWxyBSILDRcm7Gitkeb2r4qdZjqgUba0QlFsFm5A2EMAGwKmgFwnLpwmiPQxdB6GJUVyE5jdodo673NkMFsI6WoZKa5AkNkMmqfJ51flWJxCSrvppQbZrfKAjbqvtnI2BouyX3xnsb2DpRcJTTb0dht4b/W8lY4EfY5lVNR6lI1QcC1s83X4b5+6olPu1BtslX08EQgt5BXkNzQJvKngfeF/gAwrHh0WQmov/zpDi3xwpMAoYJbClwJbADsAQVRiv0uUPmWKLWlwmXWYVrKtlKH2uCeylMGwvYcl5ignvehjcrYFiG/YBrkPYJ9EZL4FCbDUQcYBUPibiOeXoJhWVvkXgDeB54EWBfwCvt8EbP0fVZfBvRcYKfAz4uMAuCnYD9lSFc4OAwMVd0qSWYMTMU7g4nzbudRrsSbBpJ+HFf4Xd/q56YXKul80eimYHZgDXIIwts7xh+n0lydWYJuV+XAVqxZHXsCGAxRr+bOAveXjqbniz55dUiloIOwyB/Q38k4HJGvYIoMkUOm8kVs26PNYdViEs+bHjBiPpXAco70LrHFh4t2Ke9TDEpU0nMAfL9xGGxv6uYfJ57QiCdlCSkqPVwGoD92p4UODhh+p0xa+3PIGMBQ5vgE+ZwuKl0QE0uIBRfV+KhtcVhNAVivVgLwKuUezf5mEolbEyhJF8A8tXEIJY5ZeIMakcG3GzBDpdOfIG3jPwew2/aYZFz6Ga+1Kq8BlkiIGpBj4bwDEGtiq1GDoVDkGV/bihg9LHWYrKINvmIfxPWHup4uhmDwPARBlOI5cjzCEsscjW8aITRrtLaeuUY5RBNGw0ha4S1wdw1/+g1tIPZAkyQsPxBs7QsJ+BwZU9nUwFCLpDgcOUq1Amq1B6CITXQvBVxT99NLBh2E9GkOcnCP8r9fdLihnCaHcpQ3xgNawxcIeGX74MT9NPlzwKolcWWt6cbuAkA1uYQjVqFQzKCYQkOCTCpEfGETfBpnMV09YOTBh2k1EM5mdYZpUlIMIEGNJcpbDaXUpxB6yGlQZ+peGaZajlDCD5ABmnYI4prAnfJig2QzNlQXMWIFwsQhgzJ2HnQ+u/KT79wcCCYT8ZgeEapAiCzfD7xV2UIsYqoQmXNfCuhmuAq99FvccAlnXIVhrOCgpgjNWILrcKYYwZdoEjyyHzgTmby0L0PAyHyVDauALhjEwQpP32MeOlq2OCNQZu0HDFB6i38NIhzcj2TXAe2DMg3AJCFQ9CFpfJCYT29/4SBp+rmLq+f8OwnzQxhO8j/Du2JFHRFRjSrENnML1JF1Kj8zagnvWqnxhXfAJa50L+WLCN1RYiCwRhBhDag2p7JchFiuN6tIeT7kEQcozgIjRno1FlBTZxh3F4TdxRnEYVsBZeCeHUFpjlQXC5QqpnoWEWqFMhfKXwE8aWW8QptQMAUXVNVoE9G+xFwlO5fgiDaEZxBpqLMOhMSm2qFTz2ceU5RTOKn1k4LEQtAJX3qu4MRF7RtACCw0B+BrY5WtkjJnpSAUmDRnRhUm75GcJc3b9gOIaj0VyOIVfzld7BCpTAI2heRXMKwrmg3vHqXSsUQ9+Bn5wL9hSwr0Io8YrtYhmcrUcOwsthj6P7T8xwnOxDyN3AtjUlGLJmkkJaCbmLNr5Gi3rDq3M9Y4klHwNzOcjxEDZkn4BzBaHMFVsBMkMx++99G4ZjZWty3IOwbyZ30jWDVA3FGvJ8hzVcCWqTV9/uAOKVRjBnQ/j1QsbJZa4hrCGeKLt9GtqmK05/p2/CMEOaaORahNmxFjVu/sWl9KX8nJBnCXnOYRX3+w05uhsIFPzjaLA/hfwEEJV94k0c3Kiy+7fCpi8pzuy2DFP3xAwzxTCEczCcHNnNN6E/emoWyVTFCxbFYyims0rd50HoEd9aFLvcB0wH+1hhLVPWGeiQbPMR4cmgzxVmmr4FQyPT0HwDjeqYBk5S7iyglJ5T5NHcRSsnskK94tW0p6HY7RWwJ4K9CyRPlyaOUl+vQL4OR07rOzCcItuj+AmGIU4WQTuCUg1HK5prCDidd9Qqr5qbC4h9V0HL6WB/AWFrfFGZqxUIk9ynIRD+RLhi+94Pw2kyiBzfQzMpVrFNRgsRtVJHsQnNZbTwFV5W67xKbm4gpqyDDReAXAZ2Uxdmnx0gkUmgvyfMHdSLYRBFA7MxzE6ME9K2j0l/zwYM3yXk2yxXLV4VewsQU1tgxbch/C7YDdksQZbFQgLY2TByttQ5AVS/P3amTAIe7Vi7nDQXk/Vi0Pl4E5bv8Fe+52eTe2umaVEArf8X5OJCXVOW+QZJuV92+y7kD1Fc+GrvsgznSCOGS9CMTQ1+0+KF+H2X2tBcwTou8yD0aguRh7WXgb0Cwrb0Ir8ki5BoXcYClwjnNNbruwd1uhxMx/C5qialpX1aSh+33486bKTdyqO4lla+xYuqtd9dTaX/ZIOVUihmtQrzvwUNw0C+VOiwlyVuEMdbOxO2XgDc2TvcpHNkDIbHgJ1S/5daihtDLJY7aGUOj6j1/fFq2t9g6LxGzh8K+ppCzyTR2YJpZyBeAT1FcfGqzQvDXNE0813gQuf/JQsUIYLlISwnc191+rQ/KVF/hKEIxBiwt4E9olieTfna6NRSDIdbuQzsf3S1D1PXYoYWdsdwVmoq1CXFGp1afQHLmVEgeOkrMcSsVSBngn0hfhY66yquqvjiLAh333wB9DnSSMA8NMPSNhVO3WA5OtX6HgHncp9a4lWqrwNx8hLInwvhe+nBcYhTP6ByazIMZF5Xg+naYRjJUWiOS91lOwmO+DmHFjSXcKda5FWpvwDxxUVgL4F8S/ri9Uw1S+2vPw4GHd3zMHxFhhDwTQwmtbYoa09DjcWwALjWq1B/k2HXQrigvLAvbaGKc2rWAN8UvjKkZ2EYxXQ0+ycqf5KlSHaXXiTHxSzofylUbx1mtRY2RAxfdOvokMWNCgG7H+Rn9BwMc6UJzVdT/f+0GCLaMqxF8zVuVG961emvQJz9JsjXIFzr3qQsS/k3FwhzmnoGhsHM6LAKJiWL5NLpt9Q9CriZX3K/V5n+Lu/fD3JzwV2KmnWOc5WcZqn3h2BG98MwVwaR4/zElKjJYCnKj5cQvt9fe5x6KbUO8yxs+D7Yl9yzSy6d/Tpqn84XThvUvTBswSFoDnSaJyhV+oC0VGozmrn8Qr3tVWWgAPH1t8HOhXxzfPzg0tc1EqQDYdAh3QfDXAkwnINBUdvOF3EWRNDcxbP81qvIQJOW3xZWyYXiNsnmvGRUQXiOcFjQPTBsxW5ojnZykZL6wAdVluJdFD/gEV+JOgDdpTyoyyF8NzqVGmaEoOz5o2Hcbt0AgyhyfAlDQ6KL5DrZ1vm8RfMrfqie86oxUIH45vNgb+wMpsMUq2BJn4ewgG0A9aUsC4DcYPgvRgAzYwFwsQgmMpZYDlzlVWLAu0tXg12enEVyWRlXBchM+MyI+sIwnBkEjI1VbFdAyo8Qww18x88peOvwozchvAHCMDsEiRN1Y2HwjPrBMF8MAV/MtE+srogRomFYSiPXeVXwUpCN14FdmpxZcrEYVc9/0bXXUjoMbYzHcKhz1Wla8NxuFTTX8TXfENhLu3W4+h0Ir+u0Dkkp1tR4ofT1h0I4vj4waGZ2dM9O2i08yBBHBLyJ8GuvAl7KpfVmCN9wyyi5WgybA5nZdRgWSYDhROfGX8bhCLAYbudCtcIPvpdy63DNSghvr84suViBpPgiPNFlziEZhtXsjGFvJyV3tRaa99Hc5IfeS7Rsuhns6uzWIK7UOwTCvWHQzl2DIcfn0OiaYYg+HuZs9ZIfdC/R1uHmlyB8pD6WoWO/ZA3MrB0GEY3mGOfKU7ejhYBb/JB7SZb8LRC2JK+PzhI3hIA9prjXZQ0wLGQMhn0zl2InVbEGvI7lIT/YXpJl/UOQfz27e5S0H7LsA4eNqQ2GwRyBIZeo6Noxo9RekGe4h3/1jYK9pLlKC9dBeE9nAV9WKxCZjs2BPqI2GBTTYssoXJZvBlQW5W2ggXv8UHtxk/AeCDdkK+CLO9cBSuLeDtHppvli0EztjB+Kt7bkcdQR95wGLG/QwN/8IHtxhOFvwBsgu2ZTNhLu28MFTHHPLUfLMIYdMIzLvHwzyUUKuIfj1AY/yF7cXKW7N9TmKiUuChoHn9whm5uUYzIGlVqFGr9GoTqLlOMBP8Resom9v9BnKSsEsYuEFNjJ2WDQTE4tyHOxEJ2ArEJ4yg+ul2zS/D8QrkqZUMNtgq4jq5QBBhGF4eBMC/qTyjECIMeTzFBr/OB6yeYqPbamEDskBcYuzcbKzh0ct+CnGoZlNKLZtUzxA7oy0WbR+DaRXmp1lRal1yplmYMId4XtB7llk9awM4aGsixSVIBeFajHPCdsAJ7xg+qlNsk/C7IBGBqfLSpVQEh+HQ0wYid469l0GAy7u/3NivM6AorCsRbLi35QvdQmG1+A3Ie1wxClrOwOOMAQsEf5+xJgiPp8XfX6l/ikjxe81Bo3PPuhsM9LwPbJMLgobMcVeg83N0mzWzxQFfeVk2V60g+ply66Sk+Bmpbsp7uc73huN1cYJpZnlxKAS4chxPIPP5heuhhEvwQS0lF16qz0Mc/ZiekwiGiWMC7z3650mTrjhhZgqR9ML12TttdBbSzEDbXCUPa+cQJalWttBQzLGYspfmDU30mCQZVZl3bZQCPL/GB66aJlWAayEVQGGBKBGAqjx8LqlUlu0nhMlr+ZEj9AMxNZ6QfTS9fktZXw8WZgjPvVP8plKX1NbjyQAEMj20XW82WFofM9y1Eq9IPppSuiIBTC5cCO2WGIeg2AbJcWQI+pWhgnjnDoSJftdT+UXuoj4esgh2W/SseeG5MMg2F04vsTQYt8tW8H46VOkl/hqOQpyttxf7QbDJLwnVw/q/D4Az+IXuoEwwfRvnhWJe14PgUGzejE7+PyGZ33BYWfefZSLxjWgK6Y3aoVBhfLEDC4ZqtQ/f3ywFo/iF7qFDOsBckDOVLdl9LnY183OM0yDHVyf9y+Q4jGd8LwUiex64qz0LlaFbJChqbFDKYmAKK/Qwi0+EH0Uh9pbQETdkUhKx6bZBgUg9w3/XH4bIWfY/BSr5ihzrpkG9MsQ/1ggBDNRj+IXuokGwt7N9RNUmIGY+v5YarQxcyLl7pIDiWqjn8vrPScKmag7fquBwsl4Tg0+jH0UhcJaCTLVs3pbvz6Sie+EgZxm952tQwYP4pe6iKF5I7qIgCl9yUFhrA5/i9kTWdJADLMj6KXOvkZQ9FFfZUaASg/30xbMgwtKQqe5dMN2OF+FL3UyU0aUdw2x10NkyeQW5IDaMIPu/oJZYYNNcKPopc6uUmdMKRf9V0mqD9MgcGuTneJslTqMcqPopc6WYZR9a3TY3WaZVjVtU+qCr7H+FH0UicYxjjFA84V3KxKswzv175YwkZ9q3F+FL3UCYZxTorvut7G8n6aZXgH5090gmGCH0UvdYJhQsTVvfZVn4p3UmCQZe64JS287kjHboksGYGa4Eu5vdQsMp4RKLasCQYb60otS7MMyzubNWXtFRMFA4PAfAx43g+pl5olx8cQBlVfa0nvFBPdqCIElld+TPn0tvrYRrArat+ZvfLIN0HLeD+aXrokmvEYmjJtjRC1Z0jn4xW8lTrPABAuBdkhLgSPn5G2Ua/PAZP8aHrpomWYiJBLVEMhQ3dJlqqISCICBvsy2MPSYaj+hIiYQYHs5UfTS5fEsBegUptwu/YgVrwcHaNXSdsLBUfLpYdl0qd3PHcAsihATc37UfWSOXg+jIBmDohV8Cx7iHQ+fsERBlkcodC498Gv2sJnKxg2EXw3bi81SCsTMYxFUb0RTpTauViLkMWOMOQXgyrG4Vn2sZK4bzkMWvf0MHip0UXaA82wjnRPnLq57RXS3sJocXScXiV3rQa7sj4ZpTyF1W72ID+qXmqE4SACck7bLAeU70gbvTvtSp6rrkuKhkHNs2D/lrB1aC2QTEUWBX5kvWSOFwxHZEqnRu9DXgrIkyp6Ki5uGV34eIatREnfvd2Og/yufni9ZJIcu2IY14Vtl6OA+XPcx8VcreWxghInxQlpcUPZueEQTsHPRHvJBsNkhOFVwbNNUcWkmEHzWNzHxVmGZyBcX+4aJVkFmxAz5IG8AXs8gvIj7MXJRQJFjhMIiqufgwT3J85NqowZFOux8XuSx8BwUAuEf41WfusIQtWxN/xuoh9mL05yAhPR7J2pBCNIAKNw/JW/xHd5jIZBKQH5Q4nPHwNBlkDajoK2I/0oe3HMIh2JYVTNwXOUddA8qBLWwCX0oWl7INoq1JpyzRvIn4DM1X6kvaS4SBpd4iJ1pTiv9FA8kPS5CYq55gWwb1UrvmsGKep8fj+YtLsfbi+JMpvdCdivCxmjKEjepiG6DMMBhlltkH8o2kWqSp0muFFl8xMjQU70o+0lURo5EcPILrlImsqJtz9yH621waAQkLuSAcg8K60hPwv5hW8h4yXaRTqF4WhmEhQbw9QjcC5AcZdKaSCT4r83P1jomOECgCsgdgLo6X7YvUTKUKZjmFhWYhF3xY86gsjgeRXreDDto1NgmNkM4T0OM8xZLEcDhHOQuQ1+5L2UWYWZNGCYg6EhNUuUFkSXg3EPj9DcNRgKKdY7qucYanaT2v/O/jB6qh9+L2WyLVMxHODsErmDcYdyaErpkObM/anYKCAuKHZwn6ruN4E9D/mF37/BS8EqzCGH4TwCmmqaS9CRQTNolrORP7l8h3QY1HEbILzNTdFdZqctECqwh8L6aV4NvAAwimkEHIpBpU6euViLzhKM29TdbKgPDAUibgLbFm0VXKpZI63HEAjPR67wG5oMdKtwDo1ozkczpOb4IOo5RRuGm1y/hyMM/3gV7CPJtUqWGlKwB8F6n1ka6DKC6cVFPPFuUZAAgI597k+8wav1hUHNy4O9IV3B0wJsGxE7hF9FLvTzDgPVKlzICBr4KoamxKu8ToEi+n03qEfI1xcGANb/DsJXk2ef02aqI8/vB41f8GoxQGUkX0CXlF4ECTFCFBTxgfSrNLIwy1dxh0H9+3qQa+OzSZb0cu9IK5EDez5ygW9SPNCswuVMQHM+JmKNc5LLpJ0eX6uuZn33wADAhpsKG5okBcpJ92Otx8fBzEXm+FTrQAHhF+QwzEXzceesURoUnc+vJnAPnGuE4bz3IH+j+zqHtLih43kF9kQYeoJXkwEimziBgBMJiqlUTXohniatMrU9nXojP+G97oVBKYFNV4Jdk77YJ2nWOvJ9TRB+Azl7W68p/dwq/JRtMXwTUzHBFldvZJyzR6BZQ8CVqoY9m2tYaLP+zc7MUkjyjLSrleh4vCtwiXeX+rl71MAlGHbJXHeUFlgXjhv4T96s5btlh0HNsxD+NN06RIGQuvZBg50N+OxSf5VGvkDAbEyxRDupdXzabTUIa1BcGdcXqRssQ7t1CK/JFje4pFwtYAeDzEX+xXfv7m9W4Ub2QjMXw2DnGCC57qhyWec1DOKNWr9f7a1b5DtjQf4CsmN5wxrrcJt03wJWwP4JNn0Oddvq2K8g4jWsl4lS0SoltzAaxX9jORRBERJd+5mmLlG37dtSWQ5S83in1u9e++J8dfG7kL8kPjhOuk11pRTYKWC+jXza1y71dYtwBY008G0CpmBQkQFwUoCcNOPcfk64pCsgdA0GANbNL9QsJcUGYUoWKTbINpA/DUaci+A7avRVEOaiGce5GE5DF7td6AyuUXKM0H7uEdYxv8tWrev/7cVTQD1Q9PVrdJOSztm1EJ6DuvNm7yb1PTdJ7uZUhJ9iGZFaxSMp7lK0+mxEOEpdFN82socsA8ArT0B4bXY3yaWmKQTCEWB/gEw/1qtaH7MKD3Ashh+gGeGURnUNostdqGsZzxN1Abk+//UFW4N6FGRiHYLnOFDehPBU1H2PeDXrAyA8xGFYbsayQ+o1MC14jlOnkCW0MUV9rWuxQh0tA6B++A7Yi8GG8UV8WStcq+KJHcBejxx5gFe1Xg7CwxyA4XoMO8SWZLss2Ek6FCGa/6gXCPWDAYDVCyFckKLQKUF02ryFjAd7I3LoPl7leikIf2MfGvglmvGJ9UNZ5xGqW8Is4INsJdo94yZ1/BL/tgOYRSAT3N0iVzepAyiB8DVo+wLqL3/z6teLQHiSA4FfEzKREJU8jI5qEO1lL6GNqers2souesAyAOpnb4J8GWxLNjcp0+tUITZRtyEHHuFVsJeA8AxHEHAbmonokkrUWq/88XMRLRi+XG8Q6g8DAIvvg/Cqrit/4nsU2PFgb0H2OclvgrIZIQAlL3ASOW7BML4MhDQgXCEo/3tX8Qb3dcf/0j1KJLO3gEF3Aoe7J5GzgFN6Pv8R2G/C81eh8Buv9yQIQsASziLPpQjDE+s1Xa+DSdNPIQ+znhPUWazpOzAAyCk7Q3A/yDi3WEEy/HJVwXhLoXAw/w3Uax95Ne0BEFYznHVcimUOlkGJLbSSHktljiRWJZaT52h1Ki931//Uve6FzD4G9HywQ92sgeA+OVd1G4L9I2w8G/XWa15du3FY32AiAVcRciQhJnVuNeqxOJzrVJf1tDFLnczvu/P/6uaan7YHIJwL1rq7RWEN2SYBrAE7Dcy9yHbTfRzRLW6RkveYTiP3opiGxiSuOXAJoNPTrRb4FiZ5153eD4NaEMKKq8FeXVsALSmXmSqbqkAmAbfD1pchI0Z6Fa4TCGsYyTouI8ftGCahi9Wnuuhf6G46FFezjqvULMLu/h975uopM0dA+GuQGe7zCpLB8YxsUhYWdizddD5q3V+9Ondh+Jr5JPAjLJ/EFt0il2LkkNoSiJ3XwLtp41R1PB/2xP/Zc66ETN8OgoUg+2ZPKdQEA8UJug8hvBrW/RDVMz9qP3KLRgIX0MZZWEZii4tyXGAIqT2bXhj+p2nlOPXPvN1T/2/P+tUyYxdgIdhJ7nm1WhsPlNU9hRA+B23fhPD3xSH1Eg+B2QTHGLhEw146yhpkLVDOBsSrWD6jjuKlnvy/ez7IlE/vU9grrj3l6hokuwCRumn7xsJORDIPxWKv9tWyTtgDmBvAdA2DDaAFlGt/uK7DsBw4Xh3O33v6f988GRc56mAI/xtkmxpqkxwgiGtCYIFQFKzRcGsAP96kWOIRgHeFCRq+HMBsA1sYUKUTxcqWAGEzQJENhpWEfE4dxuOb4zfYfOlHOfxI4FaQrWovz3Dt01R6X9oHWDSsDuBmBT9fp9xbl/cneU2YNBj+t4FTNYw2oCIrrgWU4N4zLnvM8B6WUziYP9bSAKyPw4CCyZNB3QayffmEm+A+A53NMkRUFYuBtQr+XwBXroJnC9v+9uuYQC2DTwj8u4ETNYyohCCy+loirEMtIJQOceH2bRSfZ3/+vLlA2LwwdIzMQQeDuhXsuGTFlwy5u+gITxU7C8QMumjYEMCfNfzaC8JSAAAGl0lEQVRqEyxcpbJ1ce7tslgYChxn4DQDkzU0BRXuUMLvU4BBEtylLO5RWBIjCLPVvpvHNepdMADIfvuCuQ3sTvUNpMttetKgV5xrM7DCwK0a7noFnu6rGaj5gtkR9jVwvIbZAWyrIefS4DoWiCyNE8PEIXwFy8nqEzzdG36r3lOyIPuPh/BXIFOyxw2SeqlSxVghDYiKQwy0aFii4c4Afvd3eKa3V8cuEgJg7wD+WcEJAUzQMCiIiAeyNLvuaHKdZh3cYobH0JymdmZpb/ndelf9juw9BuwVYD8PorJNvCVZBsHVFUhQEjHQYuAdAw8aeNjAk3+C1zZ3jCGCWggTAjhQw+EBfMrA1gYGGUcAMgHRHkxnWc3beV6w3I5wntqJVb1J/XpfMZvsNQTavg78H7CN2dc4RMUK7m6Ai8IEhXN5A60BrDTwhIbHFbws8Mp98Ha3ASKom2E7Azsp2NnAwQYOMrBNAA0GggCctzxIsw6xje5K3aUkl6k81NtEyH8xmG+rbWjubarXOys7hQB2Pgnsj0FGp6ckkoAQN1+Y2rujFwGxGvIBtAWwRsGrASzVsLQB3tKFcx8GsCYHHwIfDQJpoqAUG2BIU2E8hjfAyAC2yMFIVbjdPoDxGsYbmFScB8jlINCgTRe/e9reH3FAdMw9uLhGIauxfJkl3KGm9k43s/eWOQsKPr4/qOvB7lmrZVDg1NEw6xU0aT/u9vcFhUNMsde+AVuExuYK5zGF82jQxdcrU1DwsiPN3w9qtAAurlJcdXaiu1Q6NHmeR/gXtuEp1YvT1r23h6lCUK8/CeFREN7S2ZNJqO76HddlqkB7e4VxaaWxqniu8pzrkfTDqs4LjlGQU9AIDFYwBBhaPIYDw1Xn4yHAYAqvzZXErIlaJF04oLqHelpP9Y6C+agfsbS3keIWNEepbXlS9fL5m97f0FctfwfePAPCMyFcFb2OIXq4VEYl1zHndAoEWSBJe15SDWZ9Dxun6I5ASCkQ5VedVQScyZacocbWr9HXwIahoEGtsPIG4AiQR6qHykZe73SEVaj1ql+LdajVJxWyTcO6XvWzAJL2XOmvXnXVMDwCHMFwblCK1r4yJ9N3Wr0rBPXuYlg1HfIXdG6jFT2MaQB0FZBawMkeNsUreJIlkToBYF3vd1qHNWguYBDT1TAWb87Siv4NQ6emNcPaH0E4Gey9ILbaOqQrPxW3tUJQ6U511w8a5drYDLDUG46K81YU92KYTI4fKdX70qb9E4YOK7H+JWg+AezpYJeVDleWq75OUP642KH3JuDSncc0N8q6A9D+3DILp2s4QSleUn24yLFv74ij2IRquQnaDoTwByDrsyh8vWKH3gCATbEOtcQHKRCst/CDVjiwUXGTUmyij0v/2B5KsQrkQmAysFBBXqdAoSMsAA4WIilD1N2QpLlEca9Ne38Wl8lC3sLv8jB5KFw4XPWukgoPQ4frxHMCJwBTgXvjoEizGsRAQ8R7kuCoh2tVPmuSnI5NmzugxsxRCQT3Gpg6Co4fpXhO9bN1H/1v40BFmFc8tgmOs3CEgt8ryKdd8dOCZh0TSLsovKrhh3aFwDpYgHaxtVmGvIXfCxwxFo4bpXhM9dOGCv13F01F2KJ49COYYWGygtuBliQ3KQ4WHNwlF4V3/bGzQJAGR5ziO1iSFoHb8zB5B5ixneJR1c+7igycFoyC2hJ2zsHZBj5vYHRszY3jY9cS6Ky1UFnf67oOwbHmaLUpXDiu2hleVv18CezAhKFERgnDh8DxAZyhCyXQQRIQaaXNLgrpCoOqEYQkWONeU3I+XyxBv2Ew3LWTYkB2Mh/YzXkFPRF2UfD5AGYZ2EmXrAmuxUp01XKoGq78rlatorevGHjFwPwAbv8t/GNeYeOpASu+U3UnGGYP2EfBSQF8RsOEYvk0rlbDBYh6wNAFEKyGJQZ+q+GOFfD3Wb67oIchLb7YCyY1wLQcHGXgMA0jtKN7onFfI2AygqRT4FHV711r4BEFD2j4w6fg1YEUB3gY6iwThcatCwvspxiYXFxquZUuWXCTxU1xhSGL4rf3gNLwnobHDfxZwWMN8Myx/WB22MPQi2ONaTCuAfZUsGcAewSwh4KJxUX4ccqa2e+Pew5oycFrGhYbWAw8L/D8Elg+0H1/D0MvkLmCfg22lc71yjtqGBPAlhrGFO8PNdCkobG4fnlYUdnXawgNbDKwQcF6A6uKx/sKVuVgWfu66rdhhVd6L168ePHixYsXLz0g/x95CcB2NW/ypwAAAABJRU5ErkJggg==",
     this.squares = $("<div />"), this["squares"]["addClass"]("colorSquares"), this["currentColor"] = $("<div />"), this["currentColor"]["addClass"]("colorSquare color noMouseInteraction");
    var _0x217d36 = $("<div />");
    _0x217d36["addClass"]("colorSquare saturation noMouseInteraction"), this.marker1 = $("<div />"), this["marker1"]["addClass"]("marker bigMarker"), this["marker2"] = $("<div />"), this["marker2"]["addClass"]("marker smallMarker"), this["wheel"]["append"](_0x5764b0), this["wheel"].append(this.squares), this["wheel"]["append"](this["marker1"]), this["squares"]["append"](this["currentColor"]), this["squares"]["append"](_0x217d36), this["squares"]["append"](this["marker2"]), _0x2273c8 && (this.switchIcon = $("<div />"), this["switchIcon"]["addClass"]("colorSwitch"), this["sliders"] = $("<div>\n\t\t\t\t<div class=\"optionBG\"><div class=\"optionTitle\">" + textManager.getString("color.lblR") + " </div><div name=\"red\" class=\"optionField\"></div></div>\n\t\t\t\t<div class=\"optionBG\"><div class=\"optionTitle\">" + textManager["getString"]("color.lblG") + ' </div><div name="green" class="optionField"></div></div>\n				<div class="optionBG"><div class="optionTitle">' + textManager["getString"]("color.lblB") + " </div><div name=\"blue\" class=\"optionField\"></div></div>\n\t\t\t\t<div class=\"optionBG\"><div class=\"optionTitle\">" + textManager["getString"]("color.lblH") + " </div><div name=\"hue\" class=\"optionField\"></div></div>\n\t\t\t\t<div class=\"optionBG\"><div class=\"optionTitle\">" + textManager["getString"]("color.lblS") + " </div><div name=\"saturation\" class=\"optionField\"></div></div>\n\t\t\t\t<div class=\"optionBG\"><div class=\"optionTitle\">" + textManager["getString"]("color.lblV") + ' </div><div name="value" class="optionField"></div></div>\n			</div>'), this.colorR = new Slider(this["sliders"].find('div[name="red"]'), 0, 255, 1), this["colorG"] = new Slider(this["sliders"].find("div[name=\"green\"]"), 0, 255, 1), this["colorB"] = new Slider(this["sliders"].find("div[name=\"blue\"]"), 0, 255, 1), this["colorH"] = new Slider(this["sliders"]["find"]("div[name=\"hue\"]"), 0, 360, 1), this["colorS"] = new Slider(this.sliders["find"]("div[name=\"saturation\"]"), 0, 100, 1), this["colorV"] = new Slider(this.sliders["find"]("div[name=\"value\"]"), 0, 100, 1), $(this["colorR"]).on("sliderChanged", function (_0x4ead83) {
      !_0x29c665["setupMode"] && _0x29c665["slidersChanged"](true);
    }), $(this["colorG"]).on("sliderChanged", function (_0x41bb65) {
      !_0x29c665["setupMode"] && _0x29c665["slidersChanged"](true);
    }), $(this["colorB"]).on("sliderChanged", function (_0x561ace) {
      !_0x29c665["setupMode"] && _0x29c665["slidersChanged"](true);
    }), $(this["colorH"]).on("sliderChanged", function (_0x303d45) {
      !_0x29c665["setupMode"] && _0x29c665["slidersChanged"](false);
    }), $(this.colorS).on("sliderChanged", function (_0x2fffd6) {
      !_0x29c665.setupMode && _0x29c665["slidersChanged"](false);
    }), $(this["colorV"]).on("sliderChanged", function (_0x318ba5) {
      !_0x29c665["setupMode"] && _0x29c665["slidersChanged"](false);
    }), this["container"]["append"](this.sliders), this["container"].append(this["switchIcon"]), this["switchIcon"].on(UI["pointerEvent"]("click", "colorWheel"), function (_0x245d59) {
      _0x29c665["slidersMode"] ? _0x29c665["showWheelMode"]() : _0x29c665["showSlidersMode"]();
    })), this.showWheelMode(), this.container["append"](this["wheel"]), this["wheel"].find(".colorWheel").on(UI.pointerEvent("down", "colorWheel"), function (_0x26a8e7) {
      if (!_0x26a8e7["which"] || _0x26a8e7["which"] == 1) {
        _0x26a8e7["preventDefault"]();
        var _0x4cdc7c = UI["getInputPosition"](_0x26a8e7),
          _0x893bb8 = _0x29c665["wheel"].find(".colorWheel")["offset"](),
          _0x2a924c = _0x29c665["wheelCanvas"]["getImageData"](_0x4cdc7c.x - _0x893bb8["left"], _0x4cdc7c.y - _0x893bb8["top"], 1, 1).data;
        _0x2a924c[3] != 0 && (_0x29c665["dragging1"] = true, _0x29c665["click"](_0x4cdc7c.x, _0x4cdc7c.y));
      }
    }), this.wheel["find"](".colorSquares").on(UI["pointerEvent"]("down", "colorWheel"), function (_0x2605c7) {
      if (!_0x2605c7.which || _0x2605c7.which == 1) {
        _0x2605c7["preventDefault"](), _0x29c665.dragging2 = true;
        var _0x1a33e3 = UI["getInputPosition"](_0x2605c7);
        _0x29c665.click(_0x1a33e3.x, _0x1a33e3.y);
      }
    }), $(document).on(UI["pointerEvent"]("move", "colorWheel"), function (_0x332873) {
      if (_0x29c665["dragging1"] || _0x29c665["dragging2"]) {
        var _0x1d519c = UI["getInputPosition"](_0x332873);
        _0x29c665["click"](_0x1d519c.x, _0x1d519c.y);
      }
    }), $(document).on(UI["pointerEvent"]("up", "colorWheel"), function (_0x2c70a3) {
      (_0x29c665["dragging1"] || _0x29c665["dragging2"]) && (_0x2c70a3["preventDefault"](), _0x29c665.dragging1 = false, _0x29c665["dragging2"] = false);
    }), this["updateColor"](this["selectedColor"].h, this["selectedColor"].s, this.selectedColor.v);
  }
  ["click"](_0x200a32, _0x429dc0) {
    if (!this["readOnly"]) {
      var _0x19ff63 = 84,
        _0x3da3c4 = 100,
        _0x5948ec = 194;
      if (this["dragging1"]) {
        var _0x12c2d2 = this.wheel.find(".colorWheel").offset(),
          _0x574291 = new Point(_0x12c2d2.left + _0x5948ec / 2, _0x12c2d2["top"] + _0x5948ec / 2),
          _0x5c67e6 = Math.atan2(_0x574291.y - _0x429dc0, _0x200a32 - _0x574291.x),
          _0x2401d4 = parseInt(-_0x5c67e6 * 180 / Math.PI + 90 - this["hueRotation"]);
        this.updateColor(loopValue(_0x2401d4, 360), this["selectedColor"].s, this.selectedColor.v);
      }
      if (this["dragging2"]) {
        var _0x12c2d2 = this["wheel"]["find"](".colorSquares").offset(),
          _0x11fc05 = new Point(_0x200a32 - _0x12c2d2["left"], _0x429dc0 - _0x12c2d2["top"]);
        _0x11fc05.x = Math["min"](Math["max"](_0x11fc05.x, 0), _0x3da3c4), _0x11fc05.y = 100 - Math["min"](Math["max"](_0x11fc05.y, 0), _0x3da3c4), this["updateColor"](this.selectedColor.h, _0x11fc05.x, _0x11fc05.y);
      }
    }
  }
  ["updateColor"](_0x3ec8fb, _0x4380e3, _0x451b93, _0x29d673 = true) {
    _0x3ec8fb = Math.round(_0x3ec8fb), _0x4380e3 = Math["round"](_0x4380e3), _0x451b93 = Math["round"](_0x451b93);
    if (_0x3ec8fb == 360) _0x3ec8fb = 0;
    this["selectedColor"] = {
      h: _0x3ec8fb,
      s: _0x4380e3,
      v: _0x451b93
    }, this["updateMarkers"](_0x3ec8fb, _0x4380e3, _0x451b93);
    var _0x30c53e = hsl2rgb(_0x3ec8fb, 100, 50);
    this.currentColor["css"]("background-color", "rgb(" + _0x30c53e.r + ", " + _0x30c53e.g + ", " + _0x30c53e.b + ")");
    var _0x5c9157 = hsv2rgb(_0x3ec8fb, _0x4380e3, _0x451b93);
    this.setupMode = true, this["updateSliders"](_0x5c9157, this["selectedColor"]), this["setupMode"] = false, _0x29d673 && (this.currentRGB = _0x5c9157, $(this).triggerHandler(new colorChangedEvent("rgb(" + _0x5c9157.r + ", " + _0x5c9157.g + ", " + _0x5c9157.b + ")")["getEvent"]()));
  }
  ["updateMarkers"](_0x11dde8, _0x4cb214, _0x527910) {
    var _0x36dfb8 = 84,
      _0x42f6a8 = 100,
      _0x3289e1 = 194,
      _0x1bf149 = _0x11dde8 + this.hueRotation,
      _0x1dd222 = _0x1bf149 * Math.PI / 180;
    !this.dragging2 && this.marker1.css({
      left: Math.round(Math["sin"](_0x1dd222) * _0x36dfb8 + _0x3289e1 / 2) + "px",
      top: Math["round"](-Math.cos(_0x1dd222) * _0x36dfb8 + _0x3289e1 / 2) + "px"
    }), !this.dragging1 && this["marker2"]["css"]({
      left: Math["round"](_0x4cb214) + "px",
      top: Math.round(100 - _0x527910) + "px"
    });
  }
  ["setColor"](_0x4c6f9d, _0x58d1ee = false) {
    if (_0x4c6f9d[0] == "#") _0x4c6f9d = hex2rgb(_0x4c6f9d); else _0x4c6f9d["slice"](0, 3) == "rgb" && (_0x4c6f9d = rgb2obj(_0x4c6f9d));
    this["setColorRGB"](_0x4c6f9d, _0x58d1ee);
  }
  ["setColorRGB"](_0x584214, _0x2ba2d5 = false) {
    if (!this["rgbMatches"](this["currentRGB"], _0x584214)) {
      var _0x3a5dd3 = rgb2hsv(_0x584214.r, _0x584214.g, _0x584214.b);
      this["updateColor"](_0x3a5dd3.h, _0x3a5dd3.s, _0x3a5dd3.v, _0x2ba2d5), this["currentRGB"] = _0x584214, this["setupMode"] = true, this["updateSliders"](_0x584214, _0x3a5dd3), this["setupMode"] = false;
    }
  }
  ["rgbMatches"](_0x308db2, _0x405851) {
    return parseInt(_0x308db2.r) == parseInt(_0x405851.r) && parseInt(_0x308db2.g) == parseInt(_0x405851.g) && parseInt(_0x308db2.b) == parseInt(_0x405851.b);
  }
  ["updateSliders"](_0xb51a51 = null, _0xcf8ad5 = null) {
    if (!this.showSliders) return;
    _0xb51a51 && (this["colorR"]["setValue"](_0xb51a51.r), this["colorG"]["setValue"](_0xb51a51.g), this["colorB"]["setValue"](_0xb51a51.b)), _0xcf8ad5 && (this["colorH"]["setValue"](parseInt(_0xcf8ad5.h)), this["colorS"]["setValue"](parseInt(_0xcf8ad5.s)), this["colorV"]["setValue"](parseInt(_0xcf8ad5.v)));
  }
  ["slidersChanged"](_0x29a1d2 = true) {
    if (!this.showSliders) return;
    this["setupMode"] = true;
    var _0x40931d;
    if (_0x29a1d2) {
      _0x40931d = "rgb(" + Math["min"](Math["max"](this["colorR"]["getValue"](), 0), 255) + "," + Math["min"](Math["max"](this["colorG"]["getValue"](), 0), 255) + "," + Math["min"](Math["max"](this["colorB"].getValue(), 0), 255) + ")";
      var _0xf243f5 = rgb2hsv(this["colorR"]["getValue"](), this["colorG"]["getValue"](), this["colorB"]["getValue"]());
      this["colorH"].setValue(parseInt(_0xf243f5.h)), this["colorS"]["setValue"](parseInt(_0xf243f5.s)), this["colorV"].setValue(parseInt(_0xf243f5.v));
    } else {
      var _0x42a5ab = hsv2rgb(loopValue(this["colorH"]["getValue"](), 360), loopValue(this["colorS"]["getValue"](), 100), loopValue(this["colorV"].getValue(), 100));
      _0x40931d = "rgb(" + _0x42a5ab.r + "," + _0x42a5ab.g + "," + _0x42a5ab.b + ")", this["colorR"]["setValue"](_0x42a5ab.r), this.colorG["setValue"](_0x42a5ab.g), this.colorB["setValue"](_0x42a5ab.b);
    }
    this.setColor(_0x40931d, true), this["setupMode"] = false;
  }
  ["showSlidersMode"]() {
    if (!this["showSliders"]) return;
    this.slidersMode = true, this.wheel["hide"](), this["sliders"]["fadeIn"](300), this.switchIcon["html"](new Icon("fa-palette")["html"]());
  }
  ["showWheelMode"]() {
    if (!this["showSliders"]) return;
    this["slidersMode"] = false, this["sliders"]["hide"](), this["wheel"]["fadeIn"](300), this["switchIcon"]["html"](new Icon("fa-sliders-h").html());
  }
}
class ColorBox extends UIComponent {
  constructor(_0x354a87, _0x5a4445, _0x3ad2f3, _0x2eedf5 = null) {
    super(_0x354a87), this.storage = _0x2eedf5, this["primaryColor"] = _0x5a4445, this["secondaryColor"] = _0x3ad2f3, this["loadFromStorage"]();
    var _0x5c90f4 = new Icon("fa-share", "fas", "fa-rotate-90");
    this["container"]["html"]("<a href=\"#\" class=\"exchange\" data-tooltipcallback=\"tooltipShortcut\"  data-tooltipparam=\"tooltip.lblSwapColors;swapcolors\">" + _0x5c90f4["html"]() + "</a><a href=\"#\" class=\"primary color\" data-tooltipcallback=\"tooltipShortcut\" data-tooltipparam=\"tooltip.lblChangePrimaryColor;changeprimarycolor\"></a><a href=\"#\" class=\"secondary color\" data-tooltipcallback=\"tooltipShortcut\"  data-tooltipparam=\"tooltip.lblChangeSecondaryColor;changesecondarycolor\"></a>");
    var _0x463a3c = this;
    this["container"]["find"](".exchange").on(UI["pointerEvent"]("click"), function (_0x5b62fc) {
      _0x5b62fc["preventDefault"](), !_0x463a3c["readOnly"] && _0x463a3c["swap"]();
    }), this.container["find"](".primary").on(UI["pointerEvent"]("click"), function (_0x3bb204) {
      _0x3bb204.preventDefault(), _0x463a3c.changePrimary();
    }), this.container["find"](".secondary").on(UI["pointerEvent"]("click"), function (_0x5b6661) {
      _0x5b6661.preventDefault(), _0x463a3c["changeSecondary"]();
    }), this["redraw"]();
  }
  ["changePrimary"]() {
    var _0x2bed6b = this;
    $(UI["colorDialog"]).on("colorChanged.colorbox", function (_0x550c9f) {
      _0x2bed6b["setPrimary"](_0x550c9f["color"]), $(UI.colorDialog)["off"](".colorbox");
    }), $(UI["colorDialog"]).on("dialogClosed.colorbox", function (_0x3b7d82) {
      $(UI["colorDialog"])["off"](".colorbox");
    }), UI["colorDialog"]["show"](_0x2bed6b.primaryColor);
  }
  ["changeSecondary"]() {
    var _0x80f0f3 = this;
    $(UI["colorDialog"]).on("colorChanged.colorbox", function (_0x6c752a) {
      _0x80f0f3["setSecondary"](_0x6c752a.color), $(UI["colorDialog"])["off"](".colorbox");
    }), $(UI["colorDialog"]).on("dialogClosed.colorbox", function (_0x418cb2) {
      $(UI["colorDialog"])["off"](".colorbox");
    }), UI["colorDialog"].show(_0x80f0f3["secondaryColor"]);
  }
  ["setPrimary"](_0x380d16) {
    this["primaryColor"] != _0x380d16 && (this["primaryColor"] = _0x380d16, this["redraw"](), this["saveToStorage"](), $(this).triggerHandler(new colorChangedEvent(_0x380d16)["getEvent"]()));
  }
  ["setSecondary"](_0x196a4f) {
    this["secondaryColor"] != _0x196a4f && (this["secondaryColor"] = _0x196a4f, this["redraw"](), this.saveToStorage());
  }
  ["swap"]() {
    if (this.primaryColor != this["secondaryColor"]) {
      var _0x4b60a7 = this["secondaryColor"];
      this.secondaryColor = this["primaryColor"], this["primaryColor"] = _0x4b60a7, this["redraw"](), this["saveToStorage"](), $(this).triggerHandler(new colorChangedEvent(_0x4b60a7)["getEvent"]());
    }
  }
  ["redraw"]() {
    this["container"].find(".primary")["css"]("background-color", this.primaryColor), this["container"]["find"](".secondary")["css"]("background-color", this["secondaryColor"]);
  }
  ["loadFromStorage"]() {
    if (this.storage) {
      var _0x362f87 = this["storage"]["getParameter"]("colorbox");
      if (_0x362f87) {
        var _0x493716 = JSON["parse"](_0x362f87);
        this["primaryColor"] = _0x493716["primary"], this["secondaryColor"] = _0x493716["secondary"];
      }
    }
  }
  ["saveToStorage"]() {
    if (this["storage"]) {
      var _0x3c8aef = {};
      _0x3c8aef["primary"] = this["primaryColor"], _0x3c8aef["secondary"] = this["secondaryColor"], this["storage"]["setParameter"]("colorbox", JSON["stringify"](_0x3c8aef));
    }
  }
}
class SidebarContainer extends UIComponent {
  constructor(_0x5b3ea5, _0x5e055c, _0x3f43fb, _0xd6564d = "", _0x307532 = 150, _0x8bc81b = true, _0x2cb4ac = true, _0x1f8c0f = "") {
    super($("<div />")), this.id = _0x5b3ea5, this.container, this["title"], this["footer"], this["content"], this["resizable"] = _0x8bc81b, this["scrollable"] = _0x2cb4ac, this.resizing = false, this["resizePoint"] = null, this["innerContent"] = _0x5e055c, _0x5e055c.wrap("<div class=\"containerContent\"></div>"), this["content"] = _0x5e055c["parent"](), this.content["wrap"]("<div class=\"containerSidebar " + _0x1f8c0f + "\"></div>"), this["container"] = this["content"]["parent"]();
    var _0x2010fb = new Icon(_0xd6564d),
      _0x59b761 = new Icon("fa-chevron-up"),
      _0x37789a = new Icon("fa-grip-lines");
    this.container.prepend("<div class=\"containerTitle\"><span>" + _0x2010fb["html"]() + " " + _0x3f43fb + "</span><a href=\"#\" class=\"sidebarCollapseIcon pull-right\">" + _0x59b761["html"]() + "</a></div>"), this["container"]["append"]('<div class="containerFooter">' + _0x37789a.html() + "</div>"), this["title"] = this.container["find"](".containerTitle"), this["footer"] = this["container"]["find"](".containerFooter"), this["minHeight"] = 50, this["prevHeight"], this["setHeight"](_0x307532);
    if (this["scrollable"]) {
      var _0x3044b3 = this["content"].overlayScrollbars({
        className: "os-theme-light",
        overflowBehavior: {
          x: "hidden"
        }
      })["overlayScrollbars"]();
      _0x3044b3["addExt"]("fmExtension");
    }
    !this.resizable && this["footer"]["hide"]();
    var _0x415f1e = this;
    this["footer"].on(UI.pointerEvent("dblclick"), function (_0x2cc13e) {
      _0x2cc13e.preventDefault(), _0x415f1e["setHeight"](_0x415f1e.innerContent["height"]());
    }), this["footer"].on(UI["pointerEvent"]("down"), function (_0x580b5b) {
      _0x580b5b.preventDefault(), _0x580b5b.stopPropagation();
      if (!_0x580b5b.which || _0x580b5b.which == 1) {
        var _0xa98532 = UI["getInputPosition"](_0x580b5b),
          _0x403863 = _0x415f1e["content"]["offset"]();
        _0x415f1e.resizePoint = new Point(_0xa98532.x - _0x403863.left, _0xa98532.y - _0x403863["top"]), _0x415f1e["resizing"] = true, _0x415f1e["prevHeight"] = _0x415f1e["getHeight"]();
      }
    }), $(document).on(UI["pointerEvent"]("move"), function (_0x2cb558) {
      if (_0x415f1e["resizing"] && _0x415f1e["resizePoint"]) {
        _0x2cb558.stopPropagation();
        var _0x1adddd = _0x415f1e["content"]["offset"](),
          _0x306e8b = new Rect(_0x1adddd["left"], _0x1adddd["top"], _0x415f1e["content"]["width"](), _0x415f1e["content"]["height"]());
        _0x306e8b["height"] = _0x2cb558["clientY"] - _0x306e8b.y, _0x415f1e["setHeight"](_0x306e8b.height);
      }
    }), $(document).on(UI["pointerEvent"]("up"), function (_0x267759) {
      _0x415f1e.resizing = false, _0x415f1e["prevHeight"] != _0x415f1e.getHeight() && $(_0x415f1e)["triggerHandler"](new elementHeightChangedEvent(_0x415f1e.id, _0x415f1e["getHeight"]())["getEvent"]());
    }), this["title"]["find"](".sidebarCollapseIcon").on(UI["pointerEvent"]("click"), function (_0x1f51dc) {
      _0x1f51dc["preventDefault"](), !_0x415f1e["readOnly"] && (_0x415f1e["isCollapsed"]() ? _0x415f1e["uncollapse"]() : _0x415f1e.collapse());
    });
  }
  ["getHeight"]() {
    return this["height"];
  }
  ["setHeight"](_0x46401c) {
    this["content"]["css"]("height", Math.max(_0x46401c, this["minHeight"])), this["height"] = _0x46401c;
  }
  ["isCollapsed"]() {
    return this["title"]["hasClass"]("titleCollapsed");
  }
  ["hide"]() {
    this.container["hide"]();
  }
  ["show"]() {
    this.container["show"]();
  }
  ["collapse"]() {
    this.content["slideUp"](), this["footer"]["fadeOut"](250), this["title"].addClass("titleCollapsed"), this.title["find"](".sidebarCollapseIcon")["html"](new Icon("fa-chevron-down")["html"]()), $(this)["triggerHandler"](new elementCollapsedEvent(this.id)["getEvent"]());
  }
  ["uncollapse"]() {
    this["content"].slideDown(), this["resizable"] && this["footer"]["fadeIn"](250), this["title"]["removeClass"]("titleCollapsed"), this["title"]["find"](".sidebarCollapseIcon")["html"](new Icon("fa-chevron-up").html()), $(this)["triggerHandler"](new elementUncollapsedEvent(this.id)["getEvent"]());
  }
}
class ToolOptions extends UIComponent {
  constructor(_0x24be94) {
    super(_0x24be94), this.controls = {};
    var _0x46d482 = this;
    $(room.myself["surface"]).on("brushOptionChanged brushOptionReadOnly", function (_0x35e077) {
      var _0x275614 = room.myself["surface"].brushHandler["brush"]["options"][_0x35e077["option"]];
      if (_0x275614) {
        if (_0x275614["type"] == "slider" || _0x275614["type"] == "slidercheck" || _0x275614["type"] == "check") _0x35e077["type"] == "brushOptionChanged" ? _0x46d482["controls"][_0x35e077["option"]] && _0x46d482.controls[_0x35e077["option"]]["setValue"](_0x35e077["value"]) : _0x46d482["controls"][_0x35e077["option"]]["setReadOnly"](_0x35e077.status); else _0x275614.type == "list" && (_0x35e077["type"] == "brushOptionChanged" ? _0x46d482["container"]["find"]("#option_" + _0x35e077["option"] + " option[value=\"" + _0x35e077["value"] + '"]')["prop"]("selected", true) : _0x46d482.controls[_0x35e077["option"]]["setReadOnly"](_0x35e077["status"]));
      }
    }), $(room["myself"].surface).on("brushChanged", function (_0x3f8804) {
      _0x46d482["destroyControls"]();
      var _0x190bd7 = "";
      _0x46d482["container"].empty();
      var _0x22b92f = room["myself"].surface["brushHandler"]["brush"];
      $["each"](_0x22b92f["options"], function (_0x53414a) {
        var _0x2eba02 = _0x22b92f["options"][_0x53414a];
        if (!_0x2eba02["hidden"] && _0x2eba02.isCompatible(room["type"], room["board"]["nLayers"])) {
          if (_0x2eba02.type == "slider") {
            _0x190bd7 = '<div class="optionBG"><div class="optionTitle">' + UI["optionToName"](_0x2eba02.id) + "</div> <div id=\"option_" + _0x2eba02.id + "\" class=\"optionField\"></div></div>", _0x46d482["container"]["append"](_0x190bd7);
            var _0x2bd569 = new Slider(_0x46d482["container"].find("#option_" + _0x2eba02.id), _0x2eba02["min"], _0x2eba02["max"], _0x2eba02["step"], _0x2eba02["callbackFunction"], "tooloption");
            _0x2bd569["setValue"](_0x2eba02["value"]), _0x2bd569["setReadOnly"](_0x2eba02["readOnly"]), $(_0x2bd569).on("sliderChanged", function (_0x2cd02c) {
              room.myself.surface["setBrushOption"](_0x2eba02.id, _0x2cd02c["value"]);
            }), _0x46d482["controls"][_0x2eba02.id] = _0x2bd569;
          } else {
            if (_0x2eba02["type"] == "slidercheck") {
              _0x190bd7 = "<div class=\"optionBG\"><div class=\"optionTitle\">" + UI["optionToName"](_0x2eba02.id) + "</div> <div id=\"option_" + _0x2eba02.id + "\" class=\"optionField\"></div></div>", _0x46d482["container"]["append"](_0x190bd7);
              var _0x5104a3 = new SliderCheck(_0x46d482["container"]["find"]("#option_" + _0x2eba02.id), null, _0x2eba02.min, _0x2eba02["max"], _0x2eba02["step"], null, _0x2eba02["callbackFunction"], "tooloption");
              _0x5104a3.setValue(_0x2eba02["value"]), _0x5104a3["setReadOnly"](_0x2eba02["readOnly"]), _0x5104a3["setReadOnlySubcomponents"](_0x2eba02["readOnlySubcomponents"]), $(_0x5104a3).on("sliderCheckChanged", function (_0x531f9c) {
                room["myself"]["surface"]["setBrushOption"](_0x2eba02.id, _0x531f9c.value);
              }), _0x46d482.controls[_0x2eba02.id] = _0x5104a3;
            } else {
              if (_0x2eba02["type"] == "list") {
                _0x190bd7 = "<div class=\"optionBG\"><div class=\"optionTitle\">" + UI["optionToName"](_0x2eba02.id) + "</div> <div id=\"option_" + _0x2eba02.id + "\" class=\"optionField\"></div></div>", _0x46d482["container"]["append"](_0x190bd7);
                var _0x30174a = new List(_0x46d482.container["find"]("#option_" + _0x2eba02.id), _0x2eba02["list"], _0x2eba02["value"], _0x2eba02["callbackFunction"], "tooloption");
                $(_0x30174a).on("listChanged", function (_0x9bbc8f) {
                  room.myself["surface"]["setBrushOption"](_0x2eba02.id, _0x9bbc8f.value);
                }), _0x30174a.setReadOnly(_0x2eba02["readOnly"]), _0x46d482["controls"][_0x2eba02.id] = _0x30174a;
              } else {
                if (_0x2eba02.type == "check") {
                  _0x190bd7 = '<div class="optionBG"><div class="optionTitle">' + UI["optionToName"](_0x2eba02.id) + "</div> <div id=\"option_" + _0x2eba02.id + "\" class=\"optionField\"></div></div>", _0x46d482.container["append"](_0x190bd7);
                  var _0x378524 = new Switch(_0x46d482["container"].find("#option_" + _0x2eba02.id), _0x2eba02["callbackFunction"], "tooloption");
                  _0x378524["setValue"](_0x2eba02["value"]), _0x378524.setReadOnly(_0x2eba02.readOnly), $(_0x378524).on("checkboxChange", function (_0x5d456b) {
                    room["myself"]["surface"]["setBrushOption"](_0x2eba02.id, _0x5d456b["checked"]);
                  }), _0x46d482.controls[_0x2eba02.id] = _0x378524;
                } else {
                  if (_0x2eba02["type"] == "button") {
                    _0x190bd7 = '<div class="optionBG"><div class="optionTitle">' + UI["optionToName"](_0x2eba02.id) + "</div>", _0x190bd7 += '<div id="option_' + _0x2eba02.id + '" class="optionField"></div>', _0x190bd7 += "</div>", _0x46d482["container"]["append"](_0x190bd7);
                    var _0x276cf2 = new Button(_0x46d482["container"]["find"]("#option_" + _0x2eba02.id), _0x2eba02.callbackFunction, "...", "tooloption");
                    _0x276cf2["setReadOnly"](_0x2eba02.readOnly), _0x46d482.controls[_0x2eba02.id] = _0x276cf2;
                  }
                }
              }
            }
          }
        } else !_0x2eba02.hidden && room["myself"]["surface"]["setBrushOption"](_0x2eba02.id, _0x2eba02["defaultvalue"]);
      }), textManager["updateElement"](_0x46d482["container"]);
    });
  }
  ["destroyControls"]() {
    $["each"](this["controls"], function (_0x2ac3f9, _0x1d0559) {
      _0x1d0559.destroy && _0x1d0559["destroy"]();
    }), this.controls = {};
  }
}
class Uploader extends UIComponent {
  constructor(_0x442b12) {
    super($("<div />")), this["dragging"] = false, this["dragPoint"], this["flipped"] = false, this["position"] = new Point(0, 0), this["width"], this.height, this["rotation"] = 0, this.originalPosition = new Rect(0, 0, 0, 0), this["imageContainer"] = $("<div>"), this["container"]["append"](this.imageContainer), this["images"] = new UploaderImages(this["imageContainer"]), this["resizer"] = new Resizer(this["container"], room["board"].getLayerZIndex(room["myself"].surface["currentLayer"]) + 2), this["resizable"] = true, this["selectionToolbar"], this["flipImage"](false), this["createToolbar"](), this["fileInput"] = _0x442b12, this.uploadType = "load";
    var _0xc0dbe7 = this;
    this["fileInput"].on("change", function (_0xe51e8f) {
      !_0xc0dbe7["readOnly"] && _0xc0dbe7["uploadFile"](_0xe51e8f["target"].files);
    }), this["container"].on(UI.pointerEvent("down", "uploader"), function (_0x3a0551) {
      _0x3a0551["preventDefault"]();
      if (!_0x3a0551.which || _0x3a0551["which"] == 1) {
        if (!_0xc0dbe7["readOnly"]) {
          var _0x2d7f71 = UI["getInputPosition"](_0x3a0551),
            _0x5a2de0 = $(this)["offset"](),
            _0xc6d9d3 = $(this)[0]["getBoundingClientRect"](),
            _0x4af6a2 = _0xc0dbe7.calculateRotation((_0x2d7f71.x - _0x5a2de0.left) / room["board"]["scale"], (_0x2d7f71.y - _0x5a2de0["top"]) / room["board"]["scale"], _0xc6d9d3["width"], _0xc6d9d3["height"], room["board"].rotation);
          _0xc0dbe7["dragPoint"] = new Point(parseInt(_0xc0dbe7["calculateFlipX"](_0x4af6a2.x) * 100) / 100, parseInt(_0x4af6a2.y * 100) / 100), _0xc0dbe7["dragging"] = true, _0xc0dbe7["mouseMove"](_0x2d7f71.x, _0x2d7f71.y);
        }
      }
    }), $(this["resizer"]).on("elementResized", function (_0x2b6d7b) {
      _0xc0dbe7["moveImage"](_0xc0dbe7["position"].x + _0x2b6d7b.x, _0xc0dbe7["position"].y + _0x2b6d7b.y), _0xc0dbe7.resizeImage(_0x2b6d7b["width"], _0x2b6d7b["height"]);
    }), $(this.resizer).on("rotationChanged", function (_0x2390ca) {
      _0xc0dbe7.rotateImage(_0x2390ca["rotation"]);
    }), $(room["myself"]["surface"]).on("slatePriorityChanged", function (_0x4e8b75) {
      _0xc0dbe7["container"]["css"]("z-index", _0x4e8b75["zindex"]);
    }), $(UI).on("viewFlipped", function (_0x5b2598) {
      _0xc0dbe7["position"] && _0xc0dbe7.moveImage(_0xc0dbe7["position"].x, _0xc0dbe7["position"].y);
    }), this.container["css"]("z-index", room["board"]["getLayerZIndex"](room.myself.surface["currentLayer"]) + 1), this.container["addClass"]("movable");
  }
  ["isFileTypeSupported"](_0x4d3639) {
    var _0x102ad2 = getExtension(_0x4d3639);
    return _0x102ad2 == "JPG" || _0x102ad2 == "JPEG" || _0x102ad2 == "PNG";
  }
  ["uploadFile"](_0x55ff23) {
    if (room["can"]("pload")) {
      var _0x20f9d5 = this,
        _0x29ad67 = _0x55ff23[0];
      if (_0x29ad67 && this["isFileTypeSupported"](_0x29ad67.name)) {
        var _0x4a5376 = new FileReader();
        _0x4a5376.onloadend = function (_0x246c6c) {
          _0x20f9d5["clearLayers"]();
          var _0x5317e1 = new Image();
          _0x5317e1["onload"] = function () {
            _0x20f9d5["addLayer"](0, _0x5317e1, room["board"]["canvasWidth"] / 2 - _0x5317e1["width"] / 2, room["board"].canvasHeight / 2 - _0x5317e1["height"] / 2);
            if (_0x20f9d5.width > room["board"].canvasWidth || _0x20f9d5["height"] > room["board"]["canvasHeight"]) {
              var _0x1d6b2f = calculateAspectRatioFit(_0x5317e1["width"], _0x5317e1["height"], room["board"]["canvasWidth"], room["board"]["canvasHeight"]);
              _0x20f9d5["resizeImage"](_0x1d6b2f["width"], _0x1d6b2f["height"]), _0x20f9d5.moveImage(room["board"]["canvasWidth"] / 2 - _0x20f9d5["width"] / 2, room["board"]["canvasHeight"] / 2 - _0x20f9d5["height"] / 2);
            }
            _0x20f9d5.fileInput["val"]("");
          }, _0x5317e1.src = _0x246c6c.target["result"];
        }, _0x29ad67 ? (_0x4a5376["readAsDataURL"](_0x29ad67), this["show"]()) : $(this["image"])["attr"]("src", "");
      } else UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtFileTypeNotSupported"));
    } else UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtUploadNotAllowed"));
  }
  ["clearLayers"]() {
    this["images"]["clear"]();
  }
  ["addLayer"](_0x61346, _0x326eeb, _0x6659d7, _0x9b7163, _0x550eeb = 0) {
    this["images"].add(_0x326eeb, _0x61346), room["board"].canvasContainer["append"](this["container"]), this["originalPosition"].x = _0x6659d7, this["originalPosition"].y = _0x9b7163, this["originalPosition"]["width"] = _0x326eeb.width, this.originalPosition["height"] = _0x326eeb.height, this.rotateImage(0), this["resizeImage"](_0x326eeb["width"], _0x326eeb["height"]), this["moveImage"](_0x6659d7 + _0x550eeb, _0x9b7163 + _0x550eeb);
  }
  ["flipImage"](_0x4f7cc0) {
    this["flipped"] = _0x4f7cc0, _0x4f7cc0 ? $(this["imageContainer"])["css"]("transform", "scaleX(-1)") : $(this["imageContainer"])["css"]("transform", "scaleX(1)");
  }
  ["toggleFlip"]() {
    this["flipImage"](!this["flipped"]);
  }
  ["rotateImage"](_0x105135) {
    this["rotation"] = _0x105135, this.container["css"]({
      "transform-origin": "center",
      transform: "rotate(" + _0x105135 + "deg)"
    }), this.imageChanged();
  }
  ["moveImage"](_0x582031, _0x4bf988) {
    this["position"] = new Point(_0x582031, _0x4bf988);
    if (this["selectionToolbar"]) {
      var _0x245e0d = UI["boardToScreen"]((UI["flipX"] ? _0x582031 + this.width : _0x582031) + UI.viewOffset.x, _0x4bf988 + UI["viewOffset"].y),
        _0x506521 = this["selectionToolbar"]["height"](),
        _0x16f5d3 = this.selectionToolbar["width"](),
        _0x419a14 = 10,
        _0x471caf = room["board"]["scale"];
      this["selectionToolbar"]["position"](_0x245e0d.x - _0x16f5d3 / 2 + this["width"] * _0x471caf / 2, _0x245e0d.y - _0x506521 - _0x419a14);
    }
    this["container"]["css"]({
      position: "absolute",
      left: _0x582031 + "px",
      top: _0x4bf988 + "px"
    }), this["resizer"].move(_0x582031, _0x4bf988), this["imageChanged"]();
  }
  ["resizeImage"](_0x377327, _0x8ca6a9) {
    this["images"]["resize"](_0x377327, _0x8ca6a9), this["container"]["css"]({
      width: _0x377327 + "px",
      height: _0x8ca6a9 + "px"
    }), this.width = _0x377327, this.height = _0x8ca6a9, this.imageChanged();
  }
  ["mouseMove"](_0x32ac2b, _0x4fd583) {
    if (this.dragging && this["dragPoint"]) {
      var _0x5cb73a = UI.screenToBoard(_0x32ac2b, _0x4fd583);
      this["moveImage"](parseInt((_0x5cb73a.x - this["dragPoint"].x) * 100) / 100, parseInt((_0x5cb73a.y - this["dragPoint"].y) * 100) / 100);
    }
  }
  ["mouseUp"](_0x596429, _0x51ab72) {
    this.dragging = false, this["dragPoint"] = null;
  }
  ["cancel"]() {
    this["clear"](), this["hide"]();
  }
  ["clear"]() {
    this["images"].clear(), this.container.hide();
  }
  ["imageChanged"]() {
    $(this)["triggerHandler"](new imageChangedEvent(this["position"].x, this["position"].y, this.width, this["height"], this["rotation"])["getEvent"]());
  }
  ["calculateFlipX"](_0x2b560a) {
    return UI["flipX"] ? this["width"] - _0x2b560a : _0x2b560a;
  }
  ["calculateRotation"](_0x19eaa3, _0x44fda4, _0x53a1e7, _0x3c4d35, _0xba41c8) {
    var _0x16f19b = _0x53a1e7 / 2 / room.board["scale"],
      _0x3d22a7 = _0x3c4d35 / 2 / room.board.scale,
      _0x5c158a = -_0xba41c8 * Math.PI / 180,
      _0x5f23f2 = (_0x19eaa3 - _0x16f19b) * Math["cos"](_0x5c158a) - (_0x44fda4 - _0x3d22a7) * Math["sin"](_0x5c158a) + this["width"] / 2,
      _0x2574ac = (_0x44fda4 - _0x3d22a7) * Math["cos"](_0x5c158a) + (_0x19eaa3 - _0x16f19b) * Math["sin"](_0x5c158a) + this["height"] / 2;
    return new Point(_0x5f23f2, _0x2574ac);
  }
  ["createToolbar"]() {
    this["selectionToolbar"] = new FloatingToolbar($("#dialogContainer")), this["selectionToolbar"].clearButtons(), this["selectionToolbar"]["addButton"]("flip", textManager["getString"]("toolbar.btnFlip"), "fa-exchange-alt", "btn-primary"), this["selectionToolbar"]["addSeparator"](), this["selectionToolbar"]["addButton"]("confirm", textManager["getString"]("toolbar.btnConfirm"), "fa-check"), this["selectionToolbar"]["addButton"]("delete", textManager["getString"]("toolbar.btnDelete"), "fa-trash", "btn-danger"), this["selectionToolbar"]["addButton"]("cancel", textManager["getString"]("toolbar.btnCancel"), "fa-times", "btn-secondary");
    var _0x5306ea = this;
    $(this.selectionToolbar).on("optionSelected", function (_0x55e99a) {
      if (_0x55e99a["option"] == "flip") _0x5306ea["toggleFlip"](); else {
        if (_0x55e99a["option"] == "confirm") _0x5306ea["position"] && (!UI.layerIsLocked(room["myself"].surface["currentLayer"]) || room["can"]("drawlockedlayers") ? _0x5306ea["draw"]() : UI.dialogHandler["showAlert"](textManager["getString"]("alerts.txtLayerIsLocked"))); else {
          if (_0x55e99a["option"] == "delete") _0x5306ea.clear(), _0x5306ea["hide"](); else _0x55e99a["option"] == "cancel" && (_0x5306ea["flipped"] && _0x5306ea["flipImage"](false), _0x5306ea["selectionToolbar"].hide(), _0x5306ea.rotateImage(0), _0x5306ea["moveImage"](_0x5306ea.originalPosition.x, _0x5306ea["originalPosition"].y), _0x5306ea.resizeImage(_0x5306ea.originalPosition["width"], _0x5306ea["originalPosition"]["height"]), _0x5306ea["draw"]());
        }
      }
    });
  }
  ["show"](_0x538c02 = "load", _0x4e1f14 = false) {
    this.uploadType = _0x538c02, UI["setUploadMode"](true), UI.mousePointer["cursor"]("auto"), this["container"]["show"](), _0x4e1f14 ? this["selectionToolbar"]["showButton"]("cancel") : this["selectionToolbar"]["hideButton"]("cancel"), this.selectionToolbar.show(), this.flipImage(false), this.resizer["show"](), $(this)["triggerHandler"](new uploaderOpenedEvent().getEvent()), this["imageChanged"]();
  }
  ["hide"]() {
    UI.setUploadMode(false), this["container"]["hide"](), this["selectionToolbar"]["hide"](), this["resizer"]["hide"](), $(this)["triggerHandler"](new uploaderClosedEvent()["getEvent"]());
  }
  ["isVisible"]() {
    return this.container.is(":visible");
  }
  ["isOutOfBounds"]() {
    return this["position"].x > room.board["canvasWidth"] || this["position"].y > room["board"]["canvasHeight"];
  }
  ["resetPosition"]() {
    this["moveImage"](room["board"]["canvasWidth"] / 2 - this.width / 2, room["board"]["canvasHeight"] / 2 - this.height / 2);
  }
  ["keyPress"](_0x2de397) {
    _0x2de397 == 37 && (UI["holdingSHIFT"] ? this["rotateImage"](this.rotation - 1) : this["moveImage"](this["position"].x - 1, this["position"].y));
    if (_0x2de397 == 38) this["moveImage"](this["position"].x, this["position"].y - 1); else {
      if (_0x2de397 == 39) UI["holdingSHIFT"] ? this["rotateImage"](this["rotation"] + 1) : this["moveImage"](this["position"].x + 1, this["position"].y); else _0x2de397 == 40 && this.moveImage(this["position"].x, this["position"].y + 1);
    }
  }
  ["modifierUp"](_0x363776) {
    this["resizer"].modifierUp(_0x363776);
  }
  ["modifierDown"](_0x3ea740) {
    this["resizer"]["modifierDown"](_0x3ea740);
  }
  ["draw"]() {
    var _0x15334b = new Transfer("BROADCAST", null, this["uploadType"], new Date().getTime(), true);
    $(_0x15334b).on("transferStart transferChunkReady", sendChunk);
    var _0x26c2df = this;
    $.each(this.images["imgs"], function (_0x406d59, _0x131a20) {
      var _0x198af4 = _0x26c2df["width"] / _0x26c2df["originalPosition"].width,
        _0x1976d7 = _0x26c2df.height / _0x26c2df["originalPosition"]["height"],
        _0x244ff0 = _0x198af4 <= 0.5 || _0x1976d7 <= 0.5,
        _0x4a53e9 = new AdvancedCanvas(_0x26c2df.width, _0x26c2df.height),
        _0x3b5ffa = _0x4a53e9["getContext"]();
      _0x26c2df["flipped"] && (_0x3b5ffa.translate(_0x26c2df["width"], 0), _0x3b5ffa.scale(-1, 1)), _0x4a53e9["smoothing"] = _0x244ff0, _0x4a53e9.drawImage(_0x131a20[0], 0, 0, _0x26c2df["width"], _0x26c2df["height"]), _0x15334b["addData"](_0x26c2df["images"]["imgs"].length > 1 ? parseInt(_0x131a20["attr"]("name")) : room["myself"]["surface"]["currentLayer"], _0x26c2df["position"].x, _0x26c2df.position.y, _0x26c2df["width"], _0x26c2df["height"], _0x26c2df["rotation"], btoa(_0x4a53e9["getData"]())), _0x4a53e9["remove"]();
    }), _0x15334b["send"](), room["addTransfer"](_0x15334b), this["clear"](), this["hide"]();
  }
}
class UploaderImages {
  constructor(_0xf047ab) {
    this["container"] = _0xf047ab, this["imgs"] = new Array();
  }
  ["add"](_0x10c688, _0x5f07ae) {
    var _0x1efc34 = $("<img />");
    _0x1efc34.attr("name", _0x5f07ae), $(_0x1efc34)["attr"]("src", _0x10c688.src), $(_0x1efc34).css({
      width: "100%",
      height: "100%",
      "z-index": _0x5f07ae
    }), this["imgs"]["push"](_0x1efc34), this["container"].append(_0x1efc34);
  }
  ["move"](_0x22db98, _0x43f085) {
    this["container"]["css"]({
      position: "absolute",
      left: _0x22db98 + "px",
      top: _0x43f085 + "px"
    });
  }
  ["resize"](_0x525d1d, _0x456052) {
    this.container.css({
      width: _0x525d1d + "px",
      height: _0x456052 + "px",
      position: "absolute"
    });
  }
  ["clear"]() {
    this["imgs"] = new Array(), this.container.empty();
  }
}
class FloatingToolbar extends UIComponent {
  constructor(_0x26e6cf) {
    super(_0x26e6cf), this.toolbar = $("<div />"), this["toolbar"]["addClass"]("floatingToolbar");
    var _0x539dd5 = this;
    this["toolbar"].on(UI.pointerEvent("click", "toolbar"), "a.toolbarButton", function (_0x52de05) {
      _0x52de05["preventDefault"]();
      if (!_0x539dd5["readOnly"]) {
        var _0x7b1e1d = $(this).attr("name");
        $(_0x539dd5).triggerHandler(new optionSelectedEvent(_0x7b1e1d)["getEvent"]());
      }
    }), this.hide(), this.container["append"](this["toolbar"]);
  }
  ["clearButtons"]() {
    this.toolbar["empty"]();
  }
  ["addSeparator"]() {
    this["toolbar"]["append"]("<a href=\"#\" class=\"toolbarSeparator\">&nbsp;</a>");
  }
  ["addButton"](_0x5e85af, _0x29a075, _0x124c35 = "", _0x236b43 = "btn-success") {
    var _0xe046f5 = new Icon(_0x124c35);
    this["toolbar"].append('<a href="#" draggable="false" name="' + _0x5e85af + "\" class=\"toolbarButton btn btn-xs " + _0x236b43 + '">' + _0xe046f5["html"]() + " " + _0x29a075 + "</a>");
  }
  ["showButton"](_0x8dec0f) {
    this["toolbar"]["find"]("a[name=\"" + _0x8dec0f + '"]')["show"]();
  }
  ["hideButton"](_0x1b4669) {
    this["toolbar"]["find"]("a[name=\"" + _0x1b4669 + '"]').hide();
  }
  ["width"]() {
    return this["toolbar"].outerWidth();
  }
  ["height"]() {
    return this.toolbar["outerHeight"]();
  }
  ["position"](_0x3cde6b, _0x38ce8a) {
    this["toolbar"].css("left", Math["max"](_0x3cde6b, 0) + "px"), this.toolbar["css"]("top", Math["max"](_0x38ce8a, 0) + "px");
  }
  ["show"](_0x3a2bdd, _0x187731) {
    UI["mousePointer"]["cursor"]("auto"), this["position"](_0x3a2bdd, _0x187731), this["toolbar"].fadeIn(200), $(this)["triggerHandler"](new floatingToolbarOpenedEvent()["getEvent"]());
  }
  ["hide"]() {
    this["toolbar"]["hide"](), $(this)["triggerHandler"](new floatingToolbarClosedEvent().getEvent());
  }
  ["visible"]() {
    return this["toolbar"].is(":visible");
  }
}
class Tooltip extends UIComponent {
  constructor(_0x217e84) {
    super(_0x217e84), this["seconds"] = 1.5, this["selectedElement"] = undefined, this.mousePosition, this["tooltip"], this.createTooltip();
    var _0x2c95f7 = this;
    $(document).on(UI.pointerEvent("over"), "[data-tooltip],[data-tooltipcallback]", function (_0x28c111) {
      if (!UI["userPreferences"].getGroupOption("graphics", "disabletooltips", false)) {
        var _0x37bb65 = UI.getInputPosition(_0x28c111);
        _0x2c95f7["mousePosition"] = new Point(_0x37bb65.x, _0x37bb65.y);
        if (_0x2c95f7["select"]($(this))) {
          if (_0x2c95f7["selectedElement"] !== undefined) {
            _0x2c95f7["checkSelectedItem"]();
            var _0x3339d2 = $(this);
            _0x3339d2.on(UI["pointerEvent"]("out", "tooltipEvent"), function (_0x182c6f) {
              _0x3339d2["off"](".tooltipEvent"), _0x2c95f7.hideTooltip();
            });
          }
        }
      }
    });
  }
  ["select"](_0x47bec4) {
    if (!_0x47bec4.is(this.selectedElement)) return this["selectedElement"] = _0x47bec4, true;
    return false;
  }
  ["checkSelectedItem"]() {
    var _0x5bb2b7 = this;
    setTimeout(function () {
      if (_0x5bb2b7["selectedElement"] !== undefined) {
        if (_0x5bb2b7["selectedElement"].is(":hover")) {
          if (!_0x5bb2b7["isVisibleTooltip"]()) {
            if ($(_0x5bb2b7["selectedElement"])["data"]("tooltip") != null) _0x5bb2b7["showTooltip"]($(_0x5bb2b7.selectedElement)["data"]("tooltip")); else {
              if ($(_0x5bb2b7["selectedElement"]).data("tooltipcallback") != null) {
                var _0x1bcb29 = $(_0x5bb2b7["selectedElement"])["data"]("tooltipcallback"),
                  _0x277011;
                $(_0x5bb2b7.selectedElement).data("tooltipparam") != null && (_0x277011 = $(_0x5bb2b7["selectedElement"])["data"]("tooltipparam"), _0x277011 != "" && _0x277011["split"] && (_0x277011 = _0x277011["split"](";"))), _0x5bb2b7.showTooltip(window[_0x1bcb29](_0x277011));
              }
            }
          }
          _0x5bb2b7["checkSelectedItem"]();
        } else _0x5bb2b7.hideTooltip();
      }
    }, _0x5bb2b7["seconds"] * 1e3);
  }
  ["createTooltip"]() {
    this["tooltip"] = $("<div />"), this["tooltip"]["addClass"]("customTooltip"), this["tooltip"]["hide"](), this.container["append"](this.tooltip);
  }
  ["showTooltip"](_0x3f3d46) {
    var _0x165187 = 20;
    this["tooltip"].html(_0x3f3d46), this["tooltip"]["css"]({
      left: this.mousePosition.x + "px",
      top: this.mousePosition.y + _0x165187 + "px"
    });
    !this["isVisibleTooltip"]() && this.tooltip["show"]();
    var _0x5ed1df = this["tooltip"]["offset"]();
    _0x5ed1df.left + this["tooltip"].width() > $(window).width() && this["tooltip"]["css"]("left", this["mousePosition"].x - this["tooltip"]["width"]() + "px"), _0x5ed1df.top + this["tooltip"]["height"]() > $(window)["height"]() && this.tooltip["css"]("top", this["mousePosition"].y - this.tooltip["height"]() - _0x165187 + "px");
  }
  ["hideTooltip"]() {
    this["selectedElement"] = undefined, this["isVisibleTooltip"]() && this.tooltip["fadeOut"]();
  }
  ["isVisibleTooltip"]() {
    return this["tooltip"].is(":visible");
  }
}
class Resizer extends UIComponent {
  constructor(_0x59f17a, _0x15d747) {
    super(_0x59f17a), this["zIndex"] = _0x15d747, this["resizeContainer"], this["position"], this["keepAspectRatio"] = false, this.resizing = false, this.rotating = false, this["movingFrom"], this["rotation"] = 0, this["minWidth"] = 35, this["minHeight"] = 35, this["create"](), this["hide"](), this["bindEvents"]();
    var _0x5f302d = this;
    $(this).on("propertyChanged", function (_0x40983e) {
      _0x40983e.property == "keepAspectRatio" && (_0x40983e["value"] ? _0x5f302d["container"]["addClass"]("keepingAspectRatio") : _0x5f302d.container["removeClass"]("keepingAspectRatio"));
    }), this["setKeepAspectRatio"](true);
  }
  ["create"]() {
    this.resizeContainer = $("<div />"), this.resizeContainer["addClass"]("resizerContainer marching-ants"), this["resizeContainer"]["css"]({
      "z-index": this["zIndex"]
    }), this["container"]["append"](this["resizeContainer"]);
    var _0x2dde8a = this["createController"]("NW");
    _0x2dde8a.css({
      cursor: "nw-resize",
      top: "0%",
      left: "0%"
    }), this["resizeContainer"]["append"](_0x2dde8a);
    var _0x597383 = this["createController"]("N");
    _0x597383["css"]({
      cursor: "n-resize",
      top: "0%",
      left: "50%"
    }), this["resizeContainer"]["append"](_0x597383);
    var _0x3b02de = this["createController"]("NE");
    _0x3b02de["css"]({
      cursor: "ne-resize",
      top: "0%",
      left: "100%"
    }), this["resizeContainer"]["append"](_0x3b02de);
    var _0x280ee7 = this.createController("W");
    _0x280ee7["css"]({
      cursor: "w-resize",
      top: "50%",
      left: "0%"
    }), this.resizeContainer["append"](_0x280ee7);
    var _0x42b2c4 = this["createController"]("E");
    _0x42b2c4["css"]({
      cursor: "e-resize",
      top: "50%",
      left: "100%"
    }), this["resizeContainer"]["append"](_0x42b2c4);
    var _0x573619 = this.createController("SW");
    _0x573619["css"]({
      cursor: "sw-resize",
      top: "100%",
      left: "0%"
    }), this["resizeContainer"]["append"](_0x573619);
    var _0x6d2fb9 = this["createController"]("S");
    _0x6d2fb9["css"]({
      cursor: "s-resize",
      top: "100%",
      left: "50%"
    }), this["resizeContainer"]["append"](_0x6d2fb9);
    var _0x38abd9 = this["createController"]("SE");
    _0x38abd9["css"]({
      cursor: "se-resize",
      top: "100%",
      left: "100%"
    }), this.resizeContainer["append"](_0x38abd9);
    var _0x2a3b5e = this.createController("ROT", "rotation");
    _0x2a3b5e["css"]({
      top: "calc(100% + 20px)",
      left: "50%"
    }), this.resizeContainer["append"](_0x2a3b5e);
    var _0x34944d = this["createController"]("INVROT", "rotation");
    _0x34944d["css"]({
      top: "calc(0% - 20px)",
      left: "50%"
    }), this["resizeContainer"]["append"](_0x34944d);
  }
  ["bindEvents"]() {
    var _0x214e8a = this;
    this.container["find"](".sizeController").on(UI["pointerEvent"]("down"), function (_0xc93b2d) {
      _0xc93b2d.preventDefault(), _0xc93b2d["stopPropagation"](), !_0x214e8a["readOnly"] && (_0x214e8a["resizing"] = true, _0x214e8a.movingFrom = $(_0xc93b2d["target"])["attr"]("name"));
    }), this["container"]["find"](".rotationController").on(UI.pointerEvent("down"), function (_0x1941bc) {
      _0x1941bc["preventDefault"](), _0x1941bc.stopPropagation(), !_0x214e8a.readOnly && (_0x214e8a["rotating"] = true, _0x214e8a["movingFrom"] = $(_0x1941bc["target"]).attr("name"));
    }), $(document).on(UI["pointerEvent"]("up"), function (_0x4399ce) {
      !_0x214e8a["readOnly"] && (_0x214e8a.resizing = false, _0x214e8a["rotating"] = false);
    }), $(document).on(UI["pointerEvent"]("move"), function (_0x1703af) {
      if (!_0x214e8a["readOnly"]) {
        if (_0x214e8a["resizing"] || _0x214e8a["rotating"]) {
          var _0x330424 = UI["getInputPosition"](_0x1703af),
            _0x3ff9b0 = UI["screenToBoard"](_0x330424.x, _0x330424.y);
          if (_0x214e8a["resizing"]) _0x214e8a["resize"](_0x3ff9b0.x - _0x214e8a["position"].x, _0x3ff9b0.y - _0x214e8a.position.y); else {
            if (_0x214e8a.rotating) {
              _0x3ff9b0.x = _0x3ff9b0.x - _0x214e8a.position.x, _0x3ff9b0.y = _0x3ff9b0.y - _0x214e8a.position.y;
              var _0x5dadb2 = new Size(_0x214e8a.container["width"](), _0x214e8a["container"]["height"]()),
                _0x32e5d1 = Math["atan2"](_0x3ff9b0.x - _0x5dadb2["width"] / 2, _0x3ff9b0.y - _0x5dadb2["height"] / 2),
                _0x20ed25 = _0x32e5d1 * (180 / Math.PI) * -1;
              UI["holdingSHIFT"] && (_0x20ed25 = angleSnap(_0x20ed25)), _0x214e8a["rotate"](_0x20ed25 - (_0x214e8a.movingFrom == "INVROT" ? 180 : 0));
            }
          }
        }
      }
    });
  }
  ["show"]() {
    this.resizeContainer.find(".sizeController")["show"](), this.resizeContainer["find"](".rotationController").show();
  }
  ["hide"]() {
    this["resizeContainer"].find(".sizeController")["hide"](), this["resizeContainer"].find(".rotationController").hide();
  }
  ["modifierUp"](_0x3da408) {
    this["setKeepAspectRatio"](!this.keepAspectRatio);
  }
  ["modifierDown"](_0x42b825) {
    this["setKeepAspectRatio"](!this.keepAspectRatio);
  }
  ["rotate"](_0x4240fe) {
    this["rotation"] = _0x4240fe, $(this)["triggerHandler"](new rotationChangedEvent(_0x4240fe)["getEvent"]());
  }
  ["resize"](_0x1a8447, _0x4272f5) {
    var _0x1963ed = null,
      _0x594dd1 = new Point(0, 0),
      _0x2058b6 = new Size(this["container"]["width"](), this["container"]["height"]()),
      _0x40e3f9 = calculateAspectRatioFit(_0x2058b6["width"], _0x2058b6["height"], this["minWidth"], this["minHeight"]),
      _0x5f0f05 = _0x40e3f9["width"],
      _0xe51e0e = _0x40e3f9.height;
    if (this["movingFrom"] == "NW") {
      var _0x20957e = _0x594dd1.x - _0x1a8447,
        _0x259fef = _0x594dd1.y - _0x4272f5;
      if (this["keepAspectRatio"]) {
        var _0x3e0255 = this["getAspectRatio"](_0x2058b6["width"], _0x2058b6["height"], _0x2058b6["width"] + _0x20957e, _0x2058b6["height"] + _0x259fef),
          _0x42d83e = new Point(_0x2058b6.width + _0x20957e - _0x3e0255["width"], _0x2058b6.height + _0x259fef - _0x3e0255["height"]);
        _0x1963ed = new Rect(_0x1a8447 + _0x42d83e.x, _0x4272f5 + _0x42d83e.y, _0x3e0255["width"], _0x3e0255["height"]);
      } else _0x1963ed = new Rect(_0x1a8447, _0x4272f5, _0x2058b6["width"] + _0x20957e, _0x2058b6["height"] + _0x259fef);
      _0x1963ed["height"] < _0xe51e0e && (_0x1963ed.y -= _0xe51e0e - _0x1963ed["height"], _0x1963ed["height"] = _0xe51e0e), _0x1963ed["width"] < _0x5f0f05 && (_0x1963ed.x -= _0x5f0f05 - _0x1963ed["width"], _0x1963ed.width = _0x5f0f05);
    } else {
      if (this["movingFrom"] == "N") {
        var _0x259fef = _0x594dd1.y - _0x4272f5;
        _0x1963ed = new Rect(_0x594dd1.x, _0x4272f5, _0x2058b6.width, _0x2058b6.height + _0x259fef), _0x1963ed["height"] < _0xe51e0e && (_0x1963ed.y -= _0xe51e0e - _0x1963ed.height, _0x1963ed["height"] = _0xe51e0e);
      } else {
        if (this["movingFrom"] == "NE") {
          var _0x20957e = _0x1a8447 - _0x2058b6["width"] - _0x594dd1.x,
            _0x259fef = _0x594dd1.y - _0x4272f5;
          if (this["keepAspectRatio"]) {
            var _0x3e0255 = this["getAspectRatio"](_0x2058b6["width"], _0x2058b6.height, _0x2058b6["width"] + _0x20957e, _0x2058b6["height"] + _0x259fef),
              _0x42d83e = new Point(_0x2058b6["width"] + _0x20957e - _0x3e0255.width, _0x2058b6["height"] + _0x259fef - _0x3e0255["height"]);
            _0x1963ed = new Rect(_0x594dd1.x, _0x4272f5 + _0x42d83e.y, _0x3e0255["width"], _0x3e0255["height"]);
          } else _0x1963ed = new Rect(_0x594dd1.x, _0x4272f5, _0x2058b6["width"] + _0x20957e, _0x2058b6["height"] + _0x259fef);
          _0x1963ed["height"] < _0xe51e0e && (_0x1963ed.y -= _0xe51e0e - _0x1963ed.height, _0x1963ed["height"] = _0xe51e0e), _0x1963ed.width < _0x5f0f05 && (_0x1963ed["width"] = _0x5f0f05);
        } else {
          if (this["movingFrom"] == "W") {
            var _0x20957e = _0x594dd1.x - _0x1a8447;
            _0x1963ed = new Rect(_0x1a8447, _0x594dd1.y, _0x2058b6["width"] + _0x20957e, _0x2058b6["height"]), _0x1963ed["width"] < _0x5f0f05 && (_0x1963ed.x -= _0x5f0f05 - _0x1963ed["width"], _0x1963ed["width"] = _0x5f0f05);
          } else {
            if (this["movingFrom"] == "E") {
              var _0x20957e = _0x1a8447 - _0x2058b6["width"] - _0x594dd1.x;
              _0x1963ed = new Rect(_0x594dd1.x, _0x594dd1.y, _0x2058b6.width + _0x20957e, _0x2058b6["height"]), _0x1963ed.width < _0x5f0f05 && (_0x1963ed["width"] = _0x5f0f05);
            } else {
              if (this["movingFrom"] == "SW") {
                var _0x20957e = _0x594dd1.x - _0x1a8447,
                  _0x259fef = _0x4272f5 - _0x2058b6.height - _0x594dd1.y;
                if (this.keepAspectRatio) {
                  var _0x3e0255 = this["getAspectRatio"](_0x2058b6["width"], _0x2058b6.height, _0x2058b6.width + _0x20957e, _0x2058b6["height"] + _0x259fef),
                    _0x42d83e = new Point(_0x2058b6["width"] + _0x20957e - _0x3e0255["width"], _0x2058b6["height"] + _0x259fef - _0x3e0255["height"]);
                  _0x1963ed = new Rect(_0x1a8447 + _0x42d83e.x, _0x594dd1.y, _0x3e0255["width"], _0x3e0255["height"]);
                } else _0x1963ed = new Rect(_0x1a8447, _0x594dd1.y, _0x2058b6["width"] + _0x20957e, _0x2058b6.height + _0x259fef);
                _0x1963ed["height"] < _0xe51e0e && (_0x1963ed.height = _0xe51e0e), _0x1963ed.width < _0x5f0f05 && (_0x1963ed.x -= _0x5f0f05 - _0x1963ed["width"], _0x1963ed.width = _0x5f0f05);
              } else {
                if (this.movingFrom == "S") {
                  var _0x259fef = _0x4272f5 - _0x2058b6.height - _0x594dd1.y;
                  _0x1963ed = new Rect(_0x594dd1.x, _0x594dd1.y, _0x2058b6["width"], _0x2058b6["height"] + _0x259fef), _0x1963ed.height < _0xe51e0e && (_0x1963ed["height"] = _0xe51e0e);
                } else {
                  if (this["movingFrom"] == "SE") {
                    var _0x20957e = _0x1a8447 - _0x2058b6.width - _0x594dd1.x,
                      _0x259fef = _0x4272f5 - _0x2058b6.height - _0x594dd1.y;
                    if (this["keepAspectRatio"]) {
                      var _0x3e0255 = this["getAspectRatio"](_0x2058b6["width"], _0x2058b6.height, _0x2058b6["width"] + _0x20957e, _0x2058b6["height"] + _0x259fef);
                      _0x1963ed = new Rect(_0x594dd1.x, _0x594dd1.y, _0x3e0255["width"], _0x3e0255["height"]);
                    } else _0x1963ed = new Rect(_0x594dd1.x, _0x594dd1.y, _0x2058b6.width + _0x20957e, _0x2058b6["height"] + _0x259fef);
                    _0x1963ed["height"] < _0xe51e0e && (_0x1963ed["height"] = _0xe51e0e), _0x1963ed["width"] < _0x5f0f05 && (_0x1963ed["width"] = _0x5f0f05);
                  }
                }
              }
            }
          }
        }
      }
    }
    _0x1963ed && $(this).triggerHandler(new elementResizedEvent(_0x1963ed.x, _0x1963ed.y, _0x1963ed["width"], _0x1963ed["height"], this["movingFrom"])["getEvent"]());
  }
  ["setKeepAspectRatio"](_0x1b97eb) {
    this["keepAspectRatio"] = _0x1b97eb, $(this)["triggerHandler"](new propertyChangedEvent("keepAspectRatio", _0x1b97eb)["getEvent"]());
  }
  ["getAspectRatio"](_0x58a431, _0x3de655, _0x51d039, _0x3a63b5) {
    var _0xaeb089 = Math["min"](_0x51d039 / _0x58a431, _0x3a63b5 / _0x3de655);
    return {
      width: _0x58a431 * _0xaeb089,
      height: _0x3de655 * _0xaeb089
    };
  }
  ["move"](_0x103807, _0x4a75c2) {
    this["position"] = new Point(_0x103807, _0x4a75c2);
  }
  ["createController"](_0x4ce611, _0x339e9a = "size") {
    var _0x3fc89d = $("<div />");
    return _0x339e9a == "size" ? _0x3fc89d["addClass"]("sizeController") : _0x3fc89d["addClass"]("rotationController"), _0x3fc89d["attr"]("name", _0x4ce611), _0x3fc89d;
  }
}
class MousePointer extends UIComponent {
  constructor(_0x4b59df) {
    super(_0x4b59df), this.position, this["currentCursor"], this["currentComment"], this["pointer"] = $("<div />"), this["pointer"]["addClass"]("virtualCursor"), this.cursor("pointer"), this["hide"](), _0x4b59df.append(this.pointer);
  }
  ["move"](_0x523f05, _0x4c9bc2) {
    this.position = new Point(_0x523f05, _0x4c9bc2), this.pointer["css"]({
      left: _0x523f05 + "px",
      top: _0x4c9bc2 + "px"
    });
  }
  ["cursor"](_0xfda5f8, _0x31af04 = "") {
    if (_0xfda5f8 != this["currentCursor"]) {
      if (_0xfda5f8 == "auto") $("body")["css"]("cursor", "auto"), this.pointer["html"](new Icon("fa-mouse-pointer", "fas", "fa-lg")["html"]()), this.hide(); else {
        if (_0xfda5f8 == "none") $("body")["css"]("cursor", "none"), this["hide"](); else {
          !this["pointer"].is(":visible") && this.show();
          $("body")["css"]("cursor", "none");
          if (_0xfda5f8 == "pointer") this["pointer"].html(new Icon("fa-mouse-pointer", "fas", "fa-lg")["html"]()); else {
            if (_0xfda5f8 == "not-allowed") this["pointer"]["html"](new Icon("fa-ban", "fas", "fa-lg", "red")["html"]()); else {
              if (_0xfda5f8 == "rotate") this["pointer"].html(new Icon("fa-sync-alt", "fas", "fa-lg cursorCenter")["html"]()); else {
                if (_0xfda5f8 == "crosshair") $("body")["css"]("cursor", "crosshair"), this["hide"](); else _0xfda5f8 == "move" && this.pointer["html"](new Icon("fa-arrows-alt", "fas", "fa-lg cursorCenter").html());
              }
            }
          }
        }
      }
      this["currentCursor"] = _0xfda5f8;
    }
    _0x31af04 != this.currentComment && (this.pointer.find(".cursorComment")["remove"](), this["pointer"].append("<span class=\"cursorComment\">" + _0x31af04 + "</span>"), this["currentComment"] = _0x31af04);
  }
  ["show"]() {
    this["pointer"]["show"]();
  }
  ["hide"]() {
    this["pointer"]["hide"]();
  }
}
class SelectionTool extends UIComponent {
  constructor(_0x1f0e02, _0x50a6cd, _0x3ad406) {
    super(_0x1f0e02), this["width"] = _0x50a6cd, this.height = _0x3ad406, this["clickX"] = new Array(), this["clickY"] = new Array(), this["offset"], this["currentTool"] = "rectangle", this["dragging"] = false, this.scale = 1, this.from, this["initialPosition"], this["positions"] = new Array(), this.layer = new Layer(0, this["width"], this["height"], "slate"), _0x1f0e02.append(this["layer"].advCanvas["canvas"]), this["contextSlate"] = this["layer"]["getContext"]();
    var _0x51995e = this;
    $(document).on(UI["pointerEvent"]("up"), function (_0x5862df) {
      if (_0x51995e["dragging"]) {
        _0x51995e["dragging"] = false;
        if (_0x51995e["initialPosition"]) {
          if (_0x51995e.currentTool == "lasso") _0x51995e["addClick"](_0x51995e["initialPosition"].x, _0x51995e.initialPosition.y); else {
            if (_0x51995e.currentTool == "rectangle") {
              var _0x193f4a = _0x51995e["offset"],
                _0x4fbef4 = UI.getInputPosition(_0x5862df),
                _0x21aaf4 = new Point((_0x4fbef4.x - _0x193f4a.left) / _0x51995e["scale"], (_0x4fbef4.y - _0x193f4a["top"]) / _0x51995e["scale"]);
              _0x51995e["initialPosition"].x == _0x21aaf4.x && _0x51995e["initialPosition"].y == _0x21aaf4.y && _0x51995e["removeClicks"]();
            }
          }
        }
        _0x51995e["redraw"]();
      }
    }), $(document).on(UI["pointerEvent"]("move"), function (_0x238a45) {
      if (_0x51995e.dragging) {
        var _0x20b83f = _0x51995e.offset,
          _0x5b3586 = UI["getInputPosition"](_0x238a45),
          _0x2e7f8d = new Point((_0x5b3586.x - _0x20b83f["left"]) / _0x51995e["scale"], (_0x5b3586.y - _0x20b83f["top"]) / _0x51995e["scale"]);
        _0x2e7f8d.x = Math["min"](Math.max(_0x2e7f8d.x, 0), _0x51995e["width"]) + 0.5, _0x2e7f8d.y = Math["min"](Math.max(_0x2e7f8d.y, 0), _0x51995e["height"]) + 0.5, _0x51995e.currentTool == "lasso" ? _0x51995e["addClick"](_0x2e7f8d.x, _0x2e7f8d.y) : (_0x51995e["clickX"][0] = _0x2e7f8d.x, _0x51995e["clickY"][0] = _0x2e7f8d.y), _0x51995e.redraw();
      }
    }), $(this["layer"]["advCanvas"]["canvas"]).on(UI["pointerEvent"]("down"), function (_0x1cf904) {
      if (!_0x1cf904["which"] || _0x1cf904.which == 1) {
        _0x51995e["dragging"] = true;
        var _0x4fcf99 = $(this)["offset"](),
          _0x4a40d5 = UI["getInputPosition"](_0x1cf904);
        _0x51995e["from"] = new Point((_0x4a40d5.x - _0x4fcf99["left"]) / _0x51995e["scale"], (_0x4a40d5.y - _0x4fcf99["top"]) / _0x51995e.scale), _0x51995e["initialPosition"] = _0x51995e["from"], _0x51995e["removeClicks"](), _0x51995e["addClick"](_0x51995e.from.x, _0x51995e["from"].y), _0x51995e["offset"] = _0x4fcf99;
      }
    });
  }
  ["setScale"](_0x5d7469) {
    this["scale"] = _0x5d7469;
  }
  ["redraw"](_0x34cddc = true, _0x2de902 = true) {
    this["clearSlate"](), this["layer"].advCanvas["setCanvasProperties"]({
      linejoin: "round",
      linecap: "round",
      linewidth: _0x34cddc ? 2 : 1,
      strokestyle: "#808080",
      alpha: 1,
      blendmode: "normal",
      blur: 0,
      linedash: _0x34cddc ? [5, 7] : []
    }), this["contextSlate"].beginPath();
    if (this["currentTool"] == "lasso") {
      this["contextSlate"].moveTo(this["clickX"][0], this["clickY"][0]);
      for (var _0x3600fb = 0; _0x3600fb < this["clickX"]["length"]; _0x3600fb++) {
        this["contextSlate"]["lineTo"](this.clickX[_0x3600fb], this["clickY"][_0x3600fb]);
      }
    } else this["contextSlate"]["moveTo"](this["initialPosition"].x, this["initialPosition"].y), this["contextSlate"].lineTo(this["clickX"][0], this["initialPosition"].y), this["contextSlate"]["lineTo"](this["clickX"][0], this["clickY"][0]), this["contextSlate"]["lineTo"](this.initialPosition.x, this.clickY[0]), this["contextSlate"]["lineTo"](this["initialPosition"].x, this["initialPosition"].y);
    _0x34cddc && this["contextSlate"].stroke(), _0x2de902 && (this["contextSlate"]["closePath"](), this["contextSlate"]["save"](), this["contextSlate"]["clip"](), this["contextSlate"]["globalAlpha"] = 0.2, this["fill"]("#CCCCCC"), this["contextSlate"]["restore"](), this["layer"]["advCanvas"].clearCanvasProperties());
  }
  ["addClick"](_0x52036b, _0x3e8b57) {
    this["clickX"]["push"](parseInt(_0x52036b)), this["clickY"]["push"](parseInt(_0x3e8b57));
  }
  ["removeClicks"]() {
    this["clickX"] = new Array(), this["clickY"] = new Array();
  }
  ["setClicks"](_0xb685d5) {
    this["removeClicks"]();
    for (var _0x3a8a18 = 0; _0x3a8a18 < _0xb685d5["length"]; _0x3a8a18++) {
      this["clickX"]["push"](_0xb685d5[_0x3a8a18].x), this["clickY"]["push"](_0xb685d5[_0x3a8a18].y);
    }
  }
  ["getMask"]() {
    if (this["currentTool"] == "lasso") return this["getClicks"](); else {
      var _0x451a87 = new Array();
      if (this["clickX"]["length"] == 1) {
        let _0x4e9d88 = this["initialPosition"].x > this["clickX"][0] ? -0.5 : 0.5,
          _0x12b775 = this.initialPosition.y > this.clickY[0] ? -0.5 : 0.5;
        _0x451a87["push"](new Point(this["initialPosition"].x + _0x4e9d88, this["initialPosition"].y + _0x12b775)), _0x451a87["push"](new Point(this["clickX"][0] - _0x4e9d88, this["initialPosition"].y + _0x12b775)), _0x451a87["push"](new Point(this["clickX"][0] - _0x4e9d88, this["clickY"][0] - _0x12b775)), _0x451a87.push(new Point(this["initialPosition"].x + _0x4e9d88, this["clickY"][0] - _0x12b775)), _0x451a87.push(new Point(this["initialPosition"].x + _0x4e9d88, this["initialPosition"].y + _0x12b775));
      }
      return _0x451a87;
    }
  }
  ["getContext"]() {
    return this["layer"].getContext();
  }
  ["getData"]() {
    return this["layer"]["getData"]();
  }
  ["getClicks"]() {
    var _0x14a39a = new Array();
    for (var _0x1e6be0 = 0; _0x1e6be0 < this.clickX["length"]; _0x1e6be0++) {
      _0x14a39a["push"](new Point(this["clickX"][_0x1e6be0], this["clickY"][_0x1e6be0]));
    }
    return _0x14a39a;
  }
  ["hasSelection"]() {
    return this.currentTool == "rectangle" && this.clickX["length"] > 0 || this.clickX["length"] > 2;
  }
  ["fill"](_0x609e5d) {
    this.contextSlate["fillColor"] = _0x609e5d, this["contextSlate"].fillRect(0, 0, this["width"], this["height"]);
  }
  ["clearSlate"]() {
    this["layer"]["advCanvas"].clear();
  }
  ["clear"]() {
    this["initialPosition"] = null, this.removeClicks(), this.clearSlate();
  }
  ["changeSize"](_0x3b5526, _0x7e64e7) {
    this["width"] = _0x3b5526, this.height = _0x7e64e7, this["layer"]["advCanvas"]["changeSize"](_0x3b5526, _0x7e64e7);
  }
  ["remove"]() {
    this["layer"].remove();
  }
}
class Topbar extends UIComponent {
  constructor(_0x52c8e4, _0x5c44cc, _0x3025e5) {
    super(_0x52c8e4), this["currentText"] = "";
    var _0x2099c5 = "v" + _0x3025e5["split"](".")[0];
    this["container"]["append"]("<nav class=\"navbar navbar-expand-lg navbar-light p-0 m-0 sticky-top topNavbar\">\n\t\t\t<div class=\"container full-width\">\n\t\t\t\t<div id=\"topbarProgress\"></div>\n\t\t\t\t<span class=\"navbar-brand\">" + _0x5c44cc + ' <sup class="navbar-version" data-tooltip="' + _0x3025e5 + '">' + _0x2099c5 + "</sup></span>\n\t\t\t\t\n\t\t\t\t<button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbar-topmost\" aria-controls=\"navbar-topmost\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n\t\t\t\t\t<i class=\"fas fa-bars\"></i>\n\t\t\t\t</button>\n\t\t\t\t\n\t\t\t\t<div class=\"collapse navbar-collapse justify-content-end\" id=\"navbar-topmost\">\n\t\t\t\t\t<div class=\"headerBox m-0 p-0\">\n\t\t\t\t\t\t<div id=\"headerTitle\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<ul class=\"navbar-nav topbarButtons\"></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>"), this["addButton"]("configButton", "fa-cog", "tooltip.lblConfiguration", true, "config"), this.addButton("chatButton", "fa-comment", "tooltip.lblChat", true, "chat"), this["addButton"]("fullscreenButton", "fa-expand", "tooltip.lblFullScreen", true, "fullscreen"), this.addButton("leaveButton", "fa-sign-out-alt", "tooltip.lblLeaveRoom", true, "leaveroom"), this["setText"]("Welcome to FlockMod"), this.progressBar = new ProgressBar(this["container"]["find"]("#topbarProgress"));
    var _0x713a9d = this;
    this.container["find"](".topbarButtons li a").on(UI["pointerEvent"]("click"), function (_0x409fd5) {
      _0x409fd5["preventDefault"](), _0x713a9d["pressButton"]($(this)["attr"]("name"), $(this));
    }), this["container"].find("#navbar-topmost").on("show.bs.collapse hide.bs.collapse", function (_0x52bd5b) {
      setTimeout(function () {
        UI["updateViewLimits"]();
      }, 250);
    }), $(UI).on("windowResizingStarted", function (_0x1a8aa0) {
      _0x713a9d.container["find"]("#headerTitle")["css"]("width", 0);
    }), $(UI).on("windowResizingEnded", function (_0x182e2b) {
      var _0x545855 = _0x713a9d["container"]["find"](".headerBox")["width"]();
      _0x713a9d["container"]["find"]("#headerTitle")["width"](_0x545855 - 20);
    }), $(UI).on("sidebarCollapsed sidebarUncollapsed", function (_0x1d3447) {
      _0x713a9d.container["find"]("#headerTitle").css("width", 0), setTimeout(function () {
        var _0x4a2664 = _0x713a9d.container["find"](".headerBox")["width"]();
        _0x713a9d["container"].find("#headerTitle")["width"](_0x4a2664 - 20);
      }, 500);
    });
  }
  ["addButton"](_0x106779, _0x15e8d6, _0x58671e, _0x145e35 = true, _0x463ac0 = null) {
    var _0x3f5d55 = new Icon(_0x15e8d6),
      _0x3a8c3e = "";
    _0x463ac0 ? _0x3a8c3e = "data-tooltipcallback=\"tooltipShortcut\" data-tooltipparam=\"" + _0x58671e + ";" + _0x463ac0 + '"' : _0x3a8c3e = "data-tooltipcallback=\"tooltipText\" data-tooltipparam=\"" + _0x58671e + '"', this["container"]["find"](".topbarButtons").append('<li class="nav-item" ' + _0x3a8c3e + "><a name=\"" + _0x106779 + "\" class=\"nav-link\" href=\"#\">" + _0x3f5d55["html"]() + " <span class=\"d-lg-none\">" + textManager["getString"](_0x58671e) + "</span></a></li>"), !_0x145e35 && this["hideButton"](_0x106779);
  }
  ["setCounter"](_0x155cb1, _0x37f19d, _0x203928 = "danger") {
    _0x37f19d == 0 ? this["container"]["find"]("a[name=\"" + _0x155cb1 + '"] > .badge[name="counter"]')["remove"]() : (this["container"]["find"]("a[name=\"" + _0x155cb1 + "\"] > .badge[name=\"counter\"]")["length"] > 0 ? this["container"]["find"]("a[name=\"" + _0x155cb1 + "\"] > .badge[name=\"counter\"]")["text"](_0x37f19d) : this["container"].find("a[name=\"" + _0x155cb1 + '"]')["append"]('<span class="badge badge-pill" name="counter">' + _0x37f19d + "</span>"), this.container["find"]('a[name="' + _0x155cb1 + "\"] span[name=\"counter\"]")["removeClass"]("badge-danger badge-secondary badge-default badge-primary badge-success badge-warning badge-info badge-light badge-dark"), this["container"]["find"]("a[name=\"" + _0x155cb1 + "\"] span[name=\"counter\"]")["addClass"]("badge-" + _0x203928));
  }
  ["showButton"](_0x574a1d) {
    this["container"]["find"](".topbarButtons a[name=\"" + _0x574a1d + '"]')["show"]();
  }
  ["hideButton"](_0x289d93) {
    this["container"]["find"](".topbarButtons a[name=\"" + _0x289d93 + '"]')["hide"]();
  }
  ["enableButton"](_0x1a7c5c) {
    this.container.find(".topbarButtons a[name=\"" + _0x1a7c5c + '"]')["removeClass"]("disabledLink");
  }
  ["disableButton"](_0x1b00eb) {
    this["container"]["find"](".topbarButtons a[name=\"" + _0x1b00eb + '"]')["addClass"]("disabledLink");
  }
  ["pressButton"](_0x590e40, _0x546c74 = null) {
    $(this).triggerHandler(new buttonPressedEvent(_0x590e40, _0x546c74)["getEvent"]());
  }
  ["setText"](_0x9651f5, _0xba7d39, _0x1b084b = 0) {
    var _0x9651f5 = this["getCategoryBadge"](_0x9651f5);
    _0xba7d39 = _0x9651f5 + _0xba7d39, this.container.find("#headerTitle")["html"](_0xba7d39);
    if (_0x1b084b == 0) this["currentText"] = _0xba7d39; else {
      var _0x4d72dd = this;
      setTimeout(function () {
        _0x4d72dd["container"]["find"]("#headerTitle").html(_0x4d72dd["currentText"]);
      }, 1e3 * _0x1b084b);
    }
  }
  ["getCategoryBadge"](_0x285dcd) {
    if (_0x285dcd == "") return "";
    var _0x281ff0 = "msgCategory" + _0x285dcd;
    return '<div class="msgCategory ' + _0x281ff0 + '">' + textManager.getString("notifications.categories." + _0x285dcd) + "</div>";
  }
  ["show"]() {
    this.container["removeClass"]("invisible");
  }
  ["hide"]() {
    this["container"]["addClass"]("invisible");
  }
}
class Bottombar extends UIComponent {
  constructor(_0x224e8d) {
    super(_0x224e8d), this["colorBubbles"], this["container"].append("<nav class=\"navbar navbar-expand navbar-light p-0 m-0 bottomNavbar\">\n\t\t\t<div class=\"container full-width\">\n\t\t\t\t<ul class=\"navbar-nav bottombarButtons\" name=\"left\">\n\t\t\t\t\t<li class=\"nav-item\"><a name=\"scaleLink\" href=\"#\" class=\"txtScale nav-text\">100%</a></li>\n\t\t\t\t\t<li class=\"nav-item\"><a name=\"rotationLink\" href=\"#\" class=\"txtRotation nav-text\">0&ordm;</a></li>\n\t\t\t\t\t<li class=\"nav-item nav-separator beforeButtons\"></li>\n\t\t\t\t\t<li class=\"p-2 d-none d-lg-block\"><div id=\"colorbubbles\"></div></li>\n\t\t\t\t\t<li class=\"nav-item nav-separator d-none d-xl-block\"></li>\n\t\t\t\t</ul>\n\t\t\t\t\n\t\t\t\t<div class=\"m-0 p-0\">\n\t\t\t\t\t<div class=\"footerTitle d-none d-xl-block\"></div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<ul class=\"navbar-nav bottombarButtons\" name=\"right\">\n\t\t\t\t\t<li class=\"nav-item nav-separator d-none d-lg-block\"></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</nav>"), this["init"]();
  }
  ["init"]() {
    this["addLeftButton"]("zoominButton", "fa-search-plus", "tooltip.lblZoomIn", false, true, "zoomin"), this["addLeftButton"]("zoomoutButton", "fa-search-minus", "tooltip.lblZoomOut", false, true, "zoomout"), this.addLeftButton("centerButton", "fa-bullseye", "tooltip.lblCenterBoard"), this["addLeftButton"]("fitButton", "fa-expand-arrows-alt", "tooltip.lblFitScreen"), this["addLeftButton"]("flipXButton", "fa-exchange-alt", "tooltip.lblFlipHorizontally", false, true, "viewflip"), this.addLeftButton("toggleSmoothingButton", "fa-adjust", "tooltip.lblPixelSmoothing", false, true, "pixelsmoothing"), this["addRightButton"]("adminConsoleButton", "fa-toolbox", "tooltip.lblAdminConsole"), this["addRightButton"]("registerButton", "fa-flag", "tooltip.lblRegisterRoom", true), this["addRightButton"]("roomManagerButton", "fa-wrench", "tooltip.lblRoomManager", false, true, "roommanager"), this["addRightButton"]("undoButton", "fa-undo", "tooltip.lblUndo", false, true, "undo"), this["addRightButton"]("messengerButton", "fa-envelope", "tooltip.lblMessenger", false, true, "messenger"), this["addRightButton"]("uploadButton", "fa-image", "tooltip.lblUpload", false, true, "upload"), this["addRightButton"]("saveButton", "fa-save", "tooltip.lblSave", false, true, "save"), this["setText"](""), this["setScale"](100), this.setRotation(0), this.colorBubbles = new ColorGrid("bottom", this.container["find"]("#colorbubbles"), 10, storage);
    var _0x8094e2 = this;
    $(this.colorBubbles).on("bubbleClicked", function (_0x579dfb) {
      if (_0x579dfb["etype"] == "load") room["myself"]["surface"]["setColor"](_0x579dfb["obj"]["color"]); else {
        if (_0x579dfb["etype"] == "save") {
          var _0x1d1978 = new ColorBubble(room["myself"]["surface"]["drawColor"]);
          _0x8094e2["colorBubbles"]["saveBubble"](_0x1d1978, _0x579dfb["number"]);
        }
      }
    }), this["container"]["find"](".bottombarButtons li a").on(UI["pointerEvent"]("click"), function (_0xea1cff) {
      _0xea1cff["preventDefault"](), _0x8094e2["pressButton"]($(this).attr("name"), $(this));
    });
  }
  ["addButton"](_0x2e58c6, _0x211184, _0x53d177, _0x4032f3, _0x4faf04 = false, _0x3cee81 = true, _0x69ede6 = null) {
    var _0x2db066 = new Icon(_0x53d177),
      _0x542a41 = "";
    _0x69ede6 ? _0x542a41 = "data-tooltipcallback=\"tooltipShortcut\" data-tooltipparam=\"" + _0x4032f3 + ";" + _0x69ede6 + '"' : _0x542a41 = 'data-tooltipcallback="tooltipText" data-tooltipparam="' + _0x4032f3 + '"', _0x2e58c6 == "left" ? $('<li class="nav-item"><a name="' + _0x211184 + "\" class=\"nav-link\" href=\"#\" " + _0x542a41 + ">" + _0x2db066.html() + "</a></li>").insertBefore(".bottombarButtons[name=" + _0x2e58c6 + "] li.beforeButtons") : this["container"].find(".bottombarButtons[name=\"" + _0x2e58c6 + '"]').append("<li class=\"nav-item\"><a name=\"" + _0x211184 + "\" class=\"nav-link\" href=\"#\" " + _0x542a41 + ">" + _0x2db066["html"]() + (_0x4faf04 ? ' <span class="d-none d-lg-inline-block">' + textManager.getString(_0x4032f3) + "</span>" : "") + "</a></li>"), !_0x3cee81 && this["hideButton"](_0x211184);
  }
  ["setCounter"](_0x4b5afe, _0x26eb7c, _0x46bf61 = false) {
    _0x26eb7c == 0 ? this["container"].find("a[name=\"" + _0x4b5afe + '"] > .badge[name="counter"]')["remove"]() : (this["container"].find("a[name=\"" + _0x4b5afe + "\"] > .badge[name=\"counter\"]")["length"] > 0 ? this["container"]["find"]("a[name=\"" + _0x4b5afe + '"] > .badge[name="counter"]').text(_0x26eb7c) : this.container.find("a[name=\"" + _0x4b5afe + '"]')["append"]("<span class=\"badge badge-pill\" name=\"counter\">" + _0x26eb7c + "</span>"), this["container"].find("a[name=\"" + _0x4b5afe + "\"] span[name=\"counter\"]").removeClass("badge-danger badge-secondary"), _0x46bf61 ? this["container"]["find"]('a[name="' + _0x4b5afe + "\"] span[name=\"counter\"]")["addClass"]("badge-secondary") : this["container"]["find"]("a[name=\"" + _0x4b5afe + "\"] span[name=\"counter\"]")["addClass"]("badge-danger"));
  }
  ["addLeftButton"](_0x7247bd, _0x21a66b, _0x1b46d4, _0x30b4f8 = false, _0xb5cb1 = true, _0x5be231 = null) {
    this["addButton"]("left", _0x7247bd, _0x21a66b, _0x1b46d4, _0x30b4f8, _0xb5cb1, _0x5be231);
  }
  ["addRightButton"](_0x547810, _0x49acfc, _0x5359f0, _0x180c34 = false, _0x4ea439 = true, _0x3dfff6 = null) {
    this.addButton("right", _0x547810, _0x49acfc, _0x5359f0, _0x180c34, _0x4ea439, _0x3dfff6);
  }
  ["showButton"](_0x4f354b) {
    this.container["find"](".bottombarButtons a[name=\"" + _0x4f354b + '"]')["show"]();
  }
  ["hideButton"](_0x181d98) {
    this["container"].find(".bottombarButtons a[name=\"" + _0x181d98 + '"]').hide();
  }
  ["enableButton"](_0x200724) {
    this["container"]["find"](".bottombarButtons a[name=\"" + _0x200724 + '"]')["removeClass"]("disabledLink");
  }
  ["disableButton"](_0x45ee3f) {
    this["container"].find('.bottombarButtons a[name="' + _0x45ee3f + '"]')["addClass"]("disabledLink");
  }
  ["selectButton"](_0x931348) {
    this["container"]["find"]('.bottombarButtons a[name="' + _0x931348 + '"]')["addClass"]("selected");
  }
  ["unselectButton"](_0x317d1c) {
    this["container"].find(".bottombarButtons a[name=\"" + _0x317d1c + '"]')["removeClass"]("selected");
  }
  ["pressButton"](_0xa1ed72, _0x250c6e = null) {
    $(this)["triggerHandler"](new buttonPressedEvent(_0xa1ed72, _0x250c6e)["getEvent"]());
  }
  ["setText"](_0x17f89e) {
    this["container"]["find"](".footerTitle").html(_0x17f89e);
  }
  ["setScale"](_0x186204) {
    this["container"]["find"](".txtScale").html(_0x186204 + "%");
  }
  ["setRotation"](_0x320899) {
    this.container["find"](".txtRotation")["html"](_0x320899 + "&ordm;"), _0x320899 == 0 ? this["container"].find(".txtRotation")["hide"]() : this["container"]["find"](".txtRotation")["show"]();
  }
  ["show"]() {
    this["container"]["removeClass"]("invisible");
  }
  ["hide"]() {
    this["container"]["addClass"]("invisible");
  }
}
class Sidebar extends UIComponent {
  constructor(_0x97a265) {
    super(_0x97a265), this.collapsed, this["fixed"], this["userList"], this["toolOptions"], this["toolbar"], this["colorBox"], this["presets"], this["layerPreview"], this["sortable"], this.containers = {}, this.init();
  }
  ["init"]() {
    var _0x5c057d = this;
    this["set"](true, false), this["containers"] = {}, this["containers"]["UserList"] = new SidebarContainer("UserList", this["container"]["find"]("#userlistBox"), textManager["getString"]("sidebar.lblUserList"), "fa-user-friends", 160, true, true, "boxBgContainer"), this["containers"]["ToolOptions"] = new SidebarContainer("ToolOptions", this["container"]["find"]("#options"), textManager["getString"]("sidebar.lblToolOptions"), "fa-paint-brush", 180, true, true, "boxBgContainer"), this["containers"].Animation = new SidebarContainer("Animation", this["container"]["find"]("#animationBox"), textManager.getString("sidebar.lblAnimation"), "fa-film", 200, true, true, "boxBgContainer"), this["containers"].Presets = new SidebarContainer("Presets", this["container"]["find"]("#presetsBox"), textManager["getString"]("sidebar.lblPresets"), "fa-cloud", 100, false, false), this["containers"]["ColorWheel"] = new SidebarContainer("ColorWheel", this["container"].find("#colorWheelBox"), textManager.getString("sidebar.lblColorWheel"), "fa-palette", 210, false, false), this["containers"].Layers = new SidebarContainer("Layers", this["container"]["find"]("#previewList"), textManager["getString"]("sidebar.lblLayers"), "fa-layer-group", 200, true), this["sortable"] = new SortableList(this["container"]["find"]('div[name="sidebarSortable"]')), this.userList = new UserList(this["container"].find("#userlist")), this["toolOptions"] = new ToolOptions(this["container"]["find"]("#options")), this["toolbar"] = new Toolbar(this["container"].find("#drawingTools")), this["colorWheel"] = new ColorWheel(this.container.find("#colorWheel")), this["layerPreview"] = new LayerPreview(this["container"]["find"]("#previewList")), this["colorBox"] = new ColorBox(this["container"].find("#colorBox"), "#000000", "#FFFFFF", storage), this["presets"] = new PresetGrid("sidebar", this["container"].find("#presets"), 18, storage), this.animationOptions = new AnimationOptions(this["container"]["find"]("#animationBox")), this["containers"]["Animation"]["hide"](), this["adaptToolbar"](), this["hideConfig"](), UI["userPreferences"]["preferences"]["sidebarOrder"] == undefined && (UI["userPreferences"].preferences["sidebarOrder"] = []), $.each(UI.userPreferences["preferences"]["sidebarOrder"], function (_0x574b3c, _0x276580) {
      _0x5c057d["container"].find("div[name=\"sidebarComponents\"]")["append"](_0x5c057d["containers"][_0x276580]["container"]);
    }), $["each"](this["containers"], function (_0x5ad3a4, _0xc8d56d) {
      UI["userPreferences"]["preferences"]["sidebarOrder"]["indexOf"](_0x5ad3a4) == -1 && _0x5c057d.container["find"]("div[name=\"sidebarComponents\"]")["append"](_0xc8d56d), _0x5ad3a4 in UI["userPreferences"]["preferences"]["sidebarComponentsCollapsed"] && UI["userPreferences"]["preferences"]["sidebarComponentsCollapsed"][_0x5ad3a4] && _0x5c057d["containers"][_0x5ad3a4]["collapse"](), _0x5ad3a4 in UI["userPreferences"].preferences["sidebarComponentsHeight"] && _0x5c057d.containers[_0x5ad3a4]["setHeight"](UI.userPreferences.preferences.sidebarComponentsHeight[_0x5ad3a4]), $(_0x5c057d["containers"][_0x5ad3a4]).on("elementCollapsed", function (_0x2f6c89) {
        UI["userPreferences"].setSidebarComponentCollapsed(_0x2f6c89.id, true);
      }), $(_0x5c057d["containers"][_0x5ad3a4]).on("elementUncollapsed", function (_0x2ae059) {
        UI["userPreferences"]["setSidebarComponentCollapsed"](_0x2ae059.id, false);
      }), $(_0x5c057d.containers[_0x5ad3a4]).on("elementHeightChanged", function (_0x22c98d) {
        UI["userPreferences"]["setSidebarComponentHeight"](_0x22c98d.id, _0x22c98d["height"]);
      });
    }), this["container"].on(UI.pointerEvent("dragstart"), function (_0x23183e) {
      _0x23183e.preventDefault();
    }), this["container"]["find"](".sidebarOptions").on(UI["pointerEvent"]("click"), 'a[name="options"]', function (_0x326d22) {
      _0x326d22["preventDefault"](), _0x5c057d.toggleConfig();
    }), this["container"]["find"](".sidebarOptions").on(UI.pointerEvent("click"), "a[name=\"confirm\"]", function (_0x296f80) {
      _0x296f80["preventDefault"]();
      var _0x234fc5 = new Array();
      $["each"](_0x5c057d.sortable["getOrder"](), function (_0x5d679d, _0x21a1ea) {
        _0x5c057d["container"]["find"]("div[name=\"sidebarComponents\"]").append(_0x5c057d.containers[_0x21a1ea]["container"]), _0x234fc5["push"](_0x21a1ea);
      }), UI.userPreferences["setSidebarOrder"](_0x234fc5), _0x5c057d["hideConfig"]();
    }), this["container"].find(".sidebarOptions").on(UI["pointerEvent"]("click"), "a[name=\"cancel\"]", function (_0x271f84) {
      _0x271f84["preventDefault"](), _0x5c057d["hideConfig"]();
    }), $(this["colorWheel"]).on("colorChanged", function (_0x326618) {
      UI["colorChange"](_0x326618.color);
    }), $(this["layerPreview"]).on("layerOptionClicked", function (_0x1ba8cb) {
      if (_0x1ba8cb.id == "toggle") !UI.layerIsVisible(_0x1ba8cb["layer"]) ? (_0x5c057d["layerPreview"].showLayer(_0x1ba8cb["layer"]), room["board"]["layers"][_0x1ba8cb["layer"]]["show"]()) : (_0x5c057d["layerPreview"]["hideLayer"](_0x1ba8cb["layer"]), room["board"]["layers"][_0x1ba8cb["layer"]]["hide"]()); else {
        if (_0x1ba8cb.id == "clear") room.myself["surface"]["layerRequestAction"]("Cl", _0x1ba8cb["layer"]); else {
          if (_0x1ba8cb.id == "fliph") room.myself.surface["layerRequestAction"]("Flh", _0x1ba8cb["layer"]); else {
            if (_0x1ba8cb.id == "flipv") room.myself.surface["layerRequestAction"]("Flv", _0x1ba8cb["layer"]); else {
              if (_0x1ba8cb.id == "locktoggle") !UI.layerIsLocked(_0x1ba8cb.layer) ? room["myself"]["surface"].layerRequestAction("Lkl", _0x1ba8cb["layer"]) : room.myself["surface"]["layerRequestAction"]("Ukl", _0x1ba8cb["layer"]); else {
                if (_0x1ba8cb.id == "merge") _0x1ba8cb["layer"] != _0x1ba8cb["parameters"]["target"] && room["myself"]["surface"]["layerRequestAction"]("Mgl", _0x1ba8cb["layer"], _0x1ba8cb["parameters"]["target"]); else {
                  if (_0x1ba8cb.id == "select") room["myself"]["surface"]["setCurrentLayer"](_0x1ba8cb.layer); else _0x1ba8cb.id == "save" && UI.saveDialog["show"]("full", _0x1ba8cb["layer"]);
                }
              }
            }
          }
        }
      }
    }), $(this.colorBox).on("colorChanged", function (_0x2758fb) {
      UI.colorChange(_0x2758fb["color"]);
    }), $(this.presets).on("bubbleClicked", function (_0x197c68) {
      if (_0x197c68["etype"] == "load") {
        var _0x133247 = _0x197c68["obj"];
        UI["userPreferences"]["getGroupOption"]("presetload", "color", true) && room["myself"]["surface"].setColor(_0x133247.color);
        var _0x51d0f5 = UI["sidebar"].toolbar["isToolAvailable"](_0x133247.brush);
        _0x51d0f5 && UI["userPreferences"]["getGroupOption"]("presetload", "brush", true) && (room["myself"]["surface"].setBrush(_0x133247["brush"]), _0x133247.brush == "custom" && (UI["hasSetCustomBrush"] = true), UI["sidebar"]["toolbar"]["highlight"](_0x133247.brush));
        var _0x7db025 = {};
        $["each"](_0x133247.options, function (_0x1c7806, _0x3808ef) {
          var _0x9cd2a8 = UI["optionToObject"](_0x1c7806);
          UI["userPreferences"]["getGroupOption"]("presetload", _0x1c7806, true) && _0x9cd2a8 && _0x9cd2a8["isCompatible"](room["type"], room["board"]["nLayers"]) && (_0x7db025[_0x1c7806] = _0x3808ef);
        }), room["myself"].surface.setBrushOptions(_0x7db025);
      } else {
        if (_0x197c68["etype"] == "save") {
          var _0x45b534 = room["myself"]["surface"].getCurrentBrush(),
            _0x508780 = room["myself"].surface.getBrushesOptions(),
            _0x1f150e = {};
          $["each"](_0x508780[_0x45b534], function (_0x57a19f, _0x31b0ec) {
            _0x5c057d["presets"]["saveableOptions"].indexOf(_0x57a19f) > -1 && _0x31b0ec != undefined && (_0x1f150e[_0x57a19f] = _0x31b0ec);
          });
          var _0x133247 = new PresetBox(room["myself"].surface["drawColor"], _0x45b534, _0x1f150e);
          _0x5c057d["presets"]["saveBubble"](_0x133247, _0x197c68["number"]);
        }
      }
    }), this["container"]["find"](".sidebarAdvanced").on(UI.pointerEvent("over"), function (_0x108d90) {
      _0x5c057d.collapsed && setTimeout(function (_0x54806c) {
        _0x5c057d["container"].find(".sidebarAdvanced").is(":hover") && _0x5c057d["uncollapse"]();
      }, 450);
    }), this["container"]["find"](".sidebarBlock").on(UI["pointerEvent"]("click"), function (_0x6ba1ea) {
      _0x6ba1ea["preventDefault"](), _0x5c057d["uncollapse"]();
    }), UI["drawingArea"].on(UI.pointerEvent("over"), function (_0x4b3670) {
      !_0x5c057d["collapsed"] && !_0x5c057d["fixed"] && _0x5c057d.collapse();
    }), UI["drawingArea"].on(UI.pointerEvent("click"), function (_0x4dc960) {
      _0x4dc960["preventDefault"](), !_0x5c057d["collapsed"] && !_0x5c057d["fixed"] && _0x5c057d["collapse"]();
    }), this["container"]["find"]("#sidebarCollapse").on(UI.pointerEvent("click"), function (_0x2b2838) {
      _0x2b2838["preventDefault"](), _0x5c057d.fixed ? (_0x5c057d["fixed"] = false, _0x5c057d.changeCollapseIcon("notfixed")) : !_0x5c057d.collapsed ? (_0x5c057d["fixed"] = true, _0x5c057d["changeCollapseIcon"]("fixed")) : _0x5c057d["toggleCollapse"]();
    }), this.scrollbar = this["container"]["find"](".sidebarAdvanced")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"]();
  }
  ["toggleConfig"]() {
    this.showingConfig ? this["hideConfig"]() : this["showConfig"]();
  }
  ["showConfig"]() {
    var _0x4e5a74 = this,
      _0xc0411d = [];
    $.each(Object["keys"](this["containers"]), function (_0x27ecbf, _0x5807a0) {
      let _0x2ec7d7 = _0x4e5a74["containers"][_0x5807a0];
      _0xc0411d[_0x2ec7d7["container"]["index"]()] = _0x5807a0;
    }), _0x4e5a74.sortable["removeElements"](), $["each"](_0xc0411d, function (_0x535dc7, _0x2f0a78) {
      let _0x4ef7da = _0x4e5a74["containers"][_0x2f0a78];
      _0x4e5a74["sortable"]["addElement"](_0x2f0a78, _0x4ef7da["container"]["find"](".containerTitle span")["html"]());
    }), this["container"]["find"]("div[name=\"sidebarSortable\"]")["show"](), this["container"].find("div[name=\"sidebarComponents\"]")["hide"](), this["container"]["find"](".sidebarOptions").html("<a style=\"margin-right: 10px;\" name=\"confirm\" href=\"#\">" + new Icon("fa-check")["html"]() + " <span data-i18n=\"sidebar.btnConfirm\">Confirm</span></a> <a name=\"cancel\" href=\"#\">" + new Icon("fa-times")["html"]() + " <span data-i18n=\"sidebar.btnCancel\">Cancel</span></a><p data-i18n=\"sidebar.lblDragAndDrop\">Drag and drop to the desired position.</p>"), textManager["updateElement"](this["container"].find(".sidebarOptions")), this["showingConfig"] = true;
  }
  ["hideConfig"]() {
    this["container"]["find"]("div[name=\"sidebarSortable\"]")["hide"](), this["container"].find("div[name=\"sidebarComponents\"]")["show"](), this["container"]["find"](".sidebarOptions")["html"]('<a name="options" href="#">' + new Icon("fa-cog").html() + ' <span data-i18n="sidebar.btnRearrange">Rearrange</span></a>'), textManager["updateElement"](this.container["find"](".sidebarOptions")), this.showingConfig = false;
  }
  ["changeCollapseIcon"](_0x20a0ff) {
    var _0x58e5db;
    if (_0x20a0ff == "fixed") _0x58e5db = new Icon("fa-caret-square-down"); else {
      if (_0x20a0ff == "notfixed") _0x58e5db = new Icon("fa-caret-square-down", "far"); else _0x20a0ff == "uncollapse" && (_0x58e5db = new Icon("fa-angle-double-left"));
    }
    this.container["find"]("#sidebarCollapse").html(_0x58e5db["html"]());
  }
  ["set"](_0x3f225a = true, _0x1d6e61 = false) {
    this["fixed"] = _0x3f225a, _0x1d6e61 ? this["collapse"]() : this.uncollapse(), _0x3f225a && !_0x1d6e61 && this["changeCollapseIcon"]("fixed");
  }
  ["toggleCollapse"]() {
    this.collapsed ? this["uncollapse"]() : this.collapse();
  }
  ["hideComponent"](_0x26bd34) {
    this["containers"][_0x26bd34]["hide"]();
  }
  ["showComponent"](_0x13188b) {
    this["containers"][_0x13188b].show();
  }
  ["collapse"]() {
    this.collapsed = true, this["container"]["find"](".sidebarAdvanced")["addClass"]("disabled"), UI["content"]["addClass"]("active"), this["container"]["addClass"]("active"), this.container["find"](".sidebarBlock")["show"](), this["changeCollapseIcon"]("uncollapse"), $(this)["triggerHandler"](new sidebarCollapsedEvent().getEvent());
  }
  ["uncollapse"]() {
    this["collapsed"] = false, this["container"]["find"](".sidebarAdvanced")["removeClass"]("disabled"), UI["content"].removeClass("active"), this["container"].removeClass("active"), this.container["find"](".sidebarBlock")["hide"](), this["changeCollapseIcon"]("notfixed"), $(this)["triggerHandler"](new sidebarUncollapsedEvent().getEvent());
  }
  ["adaptToolbar"]() {
    var _0x3a1219 = this["container"]["find"](".toolbar"),
      _0xb63ce3 = _0x3a1219.find("#drawingTools a"),
      _0x2a061d = _0x3a1219["find"]("#sidebarCollapse")["height"]() + 5,
      _0x3639b5 = Math["min"]((_0x3a1219.height() - _0x2a061d) / _0xb63ce3["length"], 50);
    _0xb63ce3["css"]({
      height: _0x3639b5 + "px",
      "line-height": _0x3639b5 + "px"
    });
  }
}
class EmojiSelector extends UIComponent {
  constructor(_0x3ac60e) {
    super(_0x3ac60e), this["container"]["html"]('<div class="background"></div><div class="emojilist"><div class="categories"></div><div class="emojis"></div></div>'), this.container["addClass"]("emojiContainer"), this.maxRecent = 48, this["recentlyUsed"] = [], this["scroll"] = null, this["categories"] = {}, this["categories"]["recent"] = "🕒", this["categories"]["smileys"] = "😃", this["categories"].animals = "🐌", this["categories"]["transport"] = "🚘", this["categories"]["food"] = "🍓", this["categories"]["sports"] = "⚽", this["categories"]["misc"] = "💡", this.categories["signs"] = "🚻", this["emojis"] = {}, this.emojis["smileys"] = ["😁", "😂", "🤣", "😃", "😄", "😅", "😆", "😉", "😊", "🙃", "😋", "😌", "🥰", "🤩", "😍", "😏", "😒", "😓", "😔", "😖", "😘", "😚", "😗", "😜", "😝", "😞", "🤨", "😠", "😡", "🤬", "🤮", "🤢", "🤔", "😣", "😤", "😥", "😨", "😩", "😪", "😴", "🥱", "😫", "😭", "😰", "😱", "😲", "😳", "😵", "🤯", "😮", "🥳", "🤕", "😶", "🤐", "🤒", "🤭", "🤧", "🤡", "😷", "😸", "😹", "😺", "😻", "😼", "😽", "😾", "😿", "🙀", "🙅", "🙆", "🙇", "🙈", "🙉", "🙊", "🙋", "🙌", "🙍", "🙎", "🙏", "😀", "😇", "😈", "👿", "😐", "😑", "😕", "😙", "🤑", "😛", "😟", "😦", "😧", "😬", "🤖", "😯", "🤗", "👀", "🤤", "👂", "👃", "👄", "👅", "👆", "👇", "👈", "👉", "👊", "👋", "👌", "👍", "👎", "👏", "👐", "👑", "👒", "👓", "👔", "👕", "👖", "👗", "👘", "👙", "👚", "👛", "👜", "👝", "👞", "👟", "👠", "👡", "👢", "👣", "👤", "👦", "👧", "👨", "👩", "👪", "👫", "👮", "👯", "👰", "👱", "👲", "👳", "👴", "👵", "👶", "👷", "👸", "👹", "👺", "👻", "👼", "👽", "👾", "😎", "💀", "💁", "💂", "💃", "💄", "💅", "💆", "💇", "💈", "💉", "💊", "💋", "💌", "💍", "💎", "💏", "💐", "💑", "💒", "💩", "💪", "✊", "✋", "✌", "🛏", "🤠"], this["emojis"]["animals"] = ["🐌", "🐍", "🐎", "🐑", "🐒", "🐔", "🐗", "🐘", "🐙", "🐚", "🐛", "🐜", "🐝", "🐞", "🐟", "🐠", "🐡", "🐢", "🐣", "🐤", "🐥", "🐦", "🐧", "🐨", "🐩", "🐫", "🐬", "🐭", "🐮", "🐯", "🐰", "🐱", "🐲", "🐳", "🐴", "🐵", "🐶", "🐷", "🐸", "🐹", "🐺", "🐻", "🐼", "🐽", "🐀", "🐁", "🐂", "🐃", "🐄", "🐅", "🐆", "🐇", "🐈", "🐉", "🐊", "🐋", "🐏", "🐐", "🐓", "🐕", "🐖", "🐪"], this["emojis"]["transport"] = ["🚀", "🚃", "🚄", "🚅", "🚇", "🚉", "🚌", "🚏", "🚑", "🚒", "🚓", "🚕", "🚗", "🚙", "🚚", "🚢", "🚤", "🚥", "🚧", "🚨", "🚩", "🚪", "🚲", "⛵", "⛽", "🚁", "🚂", "🚆", "🚈", "🚊", "🚍", "🚎", "🚐", "🚔", "🚖", "🚘", "🚛", "🚜", "🚝", "🚞", "🚟", "🚠", "🚡", "🚣", "🚦", "🚴", "🚵"], this["emojis"]["food"] = ["🍄", "🍅", "🍆", "🍇", "🍈", "🍉", "🍊", "🍌", "🍍", "🍎", "🍏", "🍑", "🍒", "🍓", "🍔", "🍕", "🍖", "🍗", "🍘", "🍙", "🍚", "🍛", "🍜", "🍝", "🍞", "🍟", "🍠", "🍡", "🍢", "🍣", "🍤", "🍥", "🍦", "🍧", "🍨", "🍩", "🍪", "🍫", "🍬", "🍭", "🍮", "🍰", "🍱", "🍲", "🍳", "🍴", "🍵", "🍶", "🍷", "🍸", "🍹", "🍺", "🍻", "🎂"], this["emojis"]["sports"] = ["⚽", "⚾", "🎣", "🎤", "🎥", "🎨", "🎬", "🎭", "🎾", "🎿", "🏀", "🏁", "🏂", "🏃", "🏄", "🏆", "🏈", "🏊"], this["emojis"]["misc"] = ["💓", "💔", "💕", "💖", "💗", "💘", "💙", "💚", "💢", "💣", "💤", "💥", "💦", "💧", "💨", "💡", "💬", "💮", "💛", "💜", "💝", "💞", "💟", "💯", "💰", "💱", "💲", "💳", "💴", "💵", "💸", "💹", "💺", "💻", "💼", "💽", "💾", "💿", "📀", "📁", "📂", "📃", "📄", "📅", "📆", "📇", "📈", "📉", "📊", "📋", "📌", "📍", "📎", "📏", "📐", "📑", "📒", "📓", "📔", "📕", "📖", "📗", "📘", "📙", "📚", "📛", "📜", "📝", "📞", "📟", "📠", "📡", "📢", "📣", "📤", "📥", "📦", "📧", "📨", "📩", "📪", "📫", "📮", "📰", "📱", "📲", "📳", "📴", "📶", "📷", "📹", "📺", "📻", "📼", "🔊", "🔋", "🔌", "🔍", "🔎", "🔏", "🔐", "🔑", "🔒", "🔓", "🔔", "🔖", "🔗", "🔘"], this["emojis"]["signs"] = ["✅", "❌", "❎", "❓", "❔", "❕", "❗", "➕", "➖", "➗", "➡", "➰", "✔", "✖", "✨", "✳", "✴", "❄", "❇", "🚹", "🚺", "🚻", "🚼", "🚾", "Ⓜ", "🅰", "🅱", "🅾", "🅿", "🆎", "🆑", "🆒", "🆓", "🆔", "🆕", "🆖", "🆗", "🆘", "🆙", "🆚", "🈁", "🈂", "🈚", "🈯", "🈲", "🈳", "🈴", "🈵", "🈶", "🈷", "🈸", "🈹", "🈺", "🉐", "🉑", "©", "®", "‼", "⁉", "™", "ℹ", "↔", "↕", "↖", "↗", "↘", "↙", "↩", "↪", "⏩", "⏪", "⏫", "⏬", "♈", "♉", "♊", "♋", "♌", "♍", "♎", "♏", "♐", "♑", "♒", "♓", "♠", "♣", "♥", "♦", "♨", "♻", "♿", "⚓", "⚠", "⚡", "🔙", "🔚", "🔛", "🔜", "🔝", "🔞", "🔟", "🔠", "🔡", "🔢", "🔣", "🔤", "🔯", "🔰", "🔱", "🔲", "🔳", "🔴", "🔵", "🔶", "🔷", "🔸", "🔹", "🔺", "🔻", "🔼", "🔽", "🕐", "🕑", "🕒", "🕓", "🕔", "🕕", "🕖", "🕗", "🕘", "🕙", "🕚", "🕛", "🚮", "🚯", "🚦", "🚰", "🚱", "🚳", "🚷", "🚸", "🛂", "🛃", "🛄", "🛅", "📵", "🔀", "🔁", "🔂", "🔄", "🔅", "🔆", "🔇", "🔉", "🔕", "🕜", "🕝", "🕞", "🕟", "🕠", "🕡", "🕢", "🕣", "🕤", "🕥", "🕦", "🕧", "🚫", "🚬", "🚭"], this["loadCategories"]();
    var _0xaa19a = this;
    this["container"]["find"](".categories").on(UI.pointerEvent("click"), "a", function (_0x282ad4) {
      _0x282ad4["preventDefault"](), _0xaa19a["selectCategory"]($(this)["attr"]("name"));
    }), this["container"]["find"](".emojis").on(UI["pointerEvent"]("click"), "a", function (_0x32c733) {
      _0x32c733["preventDefault"](), _0xaa19a.selectEmoji($(this)["html"]()), $(this)["blur"]();
    }), this["container"]["find"](".background").on(UI["pointerEvent"]("click"), function (_0x1aaaed) {
      _0x1aaaed["preventDefault"](), _0xaa19a.hide();
    });
  }
  ["loadCategories"]() {
    this["container"]["find"](".categories")["empty"]();
    var _0x554435 = this;
    $["each"](this["categories"], function (_0x3f35bb, _0x2cf511) {
      _0x554435["container"]["find"](".categories")["append"]("<a href=\"#\" name=\"" + _0x3f35bb + '"><span>' + _0x2cf511 + "</span></a>");
    });
  }
  ["selectCategory"](_0x88710) {
    this["container"]["find"](".categories a").removeClass("selected"), this["container"].find(".categories a[name=\"" + _0x88710 + '"]').addClass("selected");
    var _0x416f27 = _0x88710 == "recent" ? this["recentlyUsed"] : this.emojis[_0x88710],
      _0x20bb3e = this,
      _0x3e3cc4 = "";
    $(_0x416f27)["each"](function (_0x393759, _0x21a92d) {
      _0x3e3cc4 += "<a href=\"#\">" + _0x21a92d + "</a>";
    });
    this["scroll"] && this["scroll"]["destroy"]();
    var _0x4ff41f = this["container"]["find"](".emojis");
    _0x4ff41f["html"](_0x3e3cc4), this["scroll"] = _0x4ff41f.overlayScrollbars({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"](), this.scroll.scroll({
      y: "0%"
    });
  }
  ["selectEmoji"](_0x4bd08b) {
    this.addRecent(_0x4bd08b), $(this)["triggerHandler"](new emojiSelectedEvent(_0x4bd08b)["getEvent"]());
  }
  ["addRecent"](_0x265686) {
    var _0x5859ae = [];
    _0x5859ae["push"](_0x265686);
    for (var _0x537ee9 = 0; _0x537ee9 < Math["min"](this["recentlyUsed"]["length"], this["maxRecent"]); _0x537ee9++) {
      let _0x4ff105 = this.recentlyUsed[_0x537ee9];
      _0x4ff105 != _0x265686 && _0x5859ae["push"](_0x4ff105);
    }
    this["recentlyUsed"] = _0x5859ae, UI["userPreferences"]["setProperty"]("recentemojis", this["recentlyUsed"]);
  }
  ["move"](_0xef2a42, _0x566006) {
    this["container"]["find"](".emojilist")["css"]({
      left: _0xef2a42 + "px",
      top: _0x566006 + "px"
    });
  }
  ["getEmojiList"]() {
    var _0x65e40e = [],
      _0x3808da = this;
    return $.each(Object["keys"](this["emojis"]), function (_0x121fe0, _0x386714) {
      $["each"](_0x3808da["emojis"][_0x386714], function (_0x48db27, _0x1fdc40) {
        _0x65e40e["push"](_0x1fdc40);
      });
    }), _0x65e40e;
  }
  ["width"]() {
    return this["container"]["find"](".emojilist").width();
  }
  ["height"]() {
    return this["container"]["find"](".emojilist")["height"]();
  }
  ["isVisible"]() {
    return this.container["find"](".emojilist").is(":visible");
  }
  ["showCategory"](_0x99a2f3) {
    this["container"].find(".categories a[name=\"" + _0x99a2f3 + '"]')["show"]();
  }
  ["hideCategory"](_0x2274e2) {
    this["container"]["find"](".categories a[name=\"" + _0x2274e2 + '"]').hide();
  }
  ["show"]() {
    !this["isVisible"]() && (this.recentlyUsed = UI.userPreferences["getProperty"]("recentemojis", []), this.recentlyUsed["length"] > 0 ? (this["showCategory"]("recent"), this["selectCategory"]("recent")) : (this["hideCategory"]("recent"), this["selectCategory"]("smileys")), this["container"]["show"](), $(this)["triggerHandler"](new dialogOpenedEvent("EmojiSelector")["getEvent"]()));
  }
  ["hide"]() {
    this["container"].hide(), $(this).triggerHandler(new dialogClosedEvent("EmojiSelector")["getEvent"]());
  }
}
class UserTag extends UIComponent {
  constructor(_0x520101) {
    super(_0x520101), this.hovering = false, this.container["html"]('<div class="usertagList"><div class="usertags"></div></div>'), this["container"].addClass("userTagContainer"), this["scroll"] = this["container"]["find"](".usertagList")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"](), this["currentFilter"] = null;
    var _0x58027a = this;
    this["container"].on("click", ".usertags a", function (_0x4b289b) {
      _0x4b289b["preventDefault"](), _0x58027a.select($(this)["data"]("id")), _0x58027a["accept"]();
    }), $(this["container"]).on(UI["pointerEvent"]("over"), function (_0xac8839) {
      _0x58027a["hovering"] = true;
    }), $(this["container"]).on(UI["pointerEvent"]("out"), function (_0x4583ec) {
      _0x58027a["hovering"] = false;
    }), this["hide"]();
  }
  ["isHovering"]() {
    return this["hovering"];
  }
  ["select"](_0xe03828) {
    this["container"]["find"]("a")["removeClass"]("selected"), this.container["find"]("a[data-id=\"" + _0xe03828 + '"]')["addClass"]("selected"), this["scroll"]["scroll"]({
      el: this["container"]["find"]("a.selected"),
      scroll: {
        y: "ifneeded",
        x: "never"
      }
    }, 100);
  }
  ["move"](_0x52f04e, _0x5c72e6) {
    this.container["find"](".usertagList").css({
      left: _0x52f04e + "px",
      bottom: _0x5c72e6 + "px",
      top: "unset"
    });
  }
  ["setHeight"](_0x15afe6) {
    this["container"].find(".usertagList").css("height", _0x15afe6);
  }
  ["setWidth"](_0x2bf825) {
    this.container.find(".usertagList")["css"]("width", _0x2bf825);
  }
  ["width"]() {
    return this["container"]["find"](".usertagList")["width"]();
  }
  ["height"]() {
    return this.container["find"](".usertagList")["height"]();
  }
  ["isVisible"]() {
    return this["container"].is(":visible");
  }
  ["up"]() {
    var _0x3dd82e = this["container"]["find"](".usertagList .selected"),
      _0x305582 = _0x3dd82e["prev"]();
    _0x305582["length"] == 0 && (_0x305582 = _0x3dd82e["siblings"](":last")), this["select"](_0x305582["data"]("id"));
  }
  ["down"]() {
    var _0x5ee2e4 = this["container"]["find"](".usertags .selected"),
      _0x30e273 = _0x5ee2e4["next"]();
    _0x30e273["length"] == 0 && (_0x30e273 = _0x5ee2e4["siblings"](":first")), this["select"](_0x30e273["data"]("id"));
  }
  ["accept"]() {
    var _0x324382 = this["container"].find(".usertags .selected")["data"]("id");
    _0x324382 && $(this)["triggerHandler"](new userTaggedEvent(_0x324382, this["currentFilter"]).getEvent());
  }
  ["filter"](_0x43f34f = "") {
    if (this["currentFilter"] != _0x43f34f) {
      this["currentFilter"] = _0x43f34f;
      var _0x4a6c6b = [];
      $["each"](room["users"], function (_0x1717ac, _0x48f94d) {
        _0x4a6c6b.push({
          username: _0x48f94d["username"],
          rank: _0x48f94d["rank"]
        });
      }), _0x4a6c6b.sort((_0x1057a9, _0x26f3b3) => _0x1057a9["username"]["localeCompare"](_0x26f3b3["username"])), this["container"].find(".usertags a")["remove"]();
      var _0x3fdbc1 = this;
      $["each"](_0x4a6c6b, function (_0x828729, _0x3a264a) {
        _0x3fdbc1["matches"](_0x43f34f, _0x3a264a.username) && _0x3fdbc1["container"]["find"](".usertags").append('<a class="' + UI["rankToStyle"](_0x3a264a["rank"]) + "\" data-id=\"" + _0x3a264a.username + "\" href=\"#\">" + _0x3a264a["username"] + "</a>");
      }), this["container"]["find"](".usertags a:first-child").addClass("selected"), this["setHeight"](_0x3fdbc1["container"].find(".usertags")["outerHeight"]() + 10);
    }
    this["container"]["find"](".usertags a")["length"] == 0 && this.hide();
  }
  ["userlistChanged"]() {
    this["currentFilter"] = null;
  }
  ["matches"](_0x1bd4d6, _0x44e4a5) {
    return _0x44e4a5.toLowerCase()["includes"](_0x1bd4d6.toLowerCase());
  }
  ["show"](_0x5027d7 = "") {
    !this["isVisible"]() && (this["container"].show(), this["filter"](_0x5027d7));
  }
  ["hide"]() {
    this.container["hide"]();
  }
}
class ProgressBar extends UIComponent {
  constructor(_0x3cd166) {
    super(_0x3cd166), this["bar"] = $("<div />"), this["bar"]["addClass"]("bar"), this["container"]["html"](this.bar), this["container"].addClass("fmProgressBar");
  }
  ["setProgress"](_0x1b2e73) {
    this.bar.css("width", _0x1b2e73 + "%");
  }
  ["show"]() {
    this.container["show"]();
  }
  ["hide"]() {
    this["container"].hide();
  }
}
class RadialMenu extends UIComponent {
  constructor(_0x47f185) {
    super(_0x47f185), this["position"] = new Point(0, 0), this["visible"] = true, this.pressedButton, this["menu"] = $("<ul />"), this.menu["addClass"]("radialmenu"), this["background"] = $("<ul />"), this["background"]["addClass"]("radialmenu radialbackground"), this["addCenter"]();
    var _0x3d9e63 = this;
    this.menu.on(UI["pointerEvent"]("click"), "li a", function (_0x1a4cbd) {
      _0x1a4cbd["preventDefault"](), $(_0x3d9e63)["triggerHandler"](new buttonPressedEvent($(this)["attr"]("name"), $(_0x1a4cbd["target"]))["getEvent"]());
    }), this["menu"].on(UI["pointerEvent"]("down"), "li a", function (_0x51fd76) {
      _0x51fd76.preventDefault(), _0x3d9e63.pressedButton = $(this)["attr"]("name");
    }), $(document).on(UI["pointerEvent"]("up"), function (_0xbc84c1) {
      _0x3d9e63["pressedButton"] && (_0x3d9e63["pressedButton"] = null);
    }), $(document).on(UI["pointerEvent"]("move", "radialMenu"), function (_0x4fd0fc) {
      if (_0x3d9e63["pressedButton"]) {
        var _0x5a6422 = UI["getInputPosition"](_0x4fd0fc);
        $(_0x3d9e63).triggerHandler(new penMoveEvent(_0x5a6422.x, _0x5a6422.y).getEvent());
      }
    }), this.container["empty"](), this["container"]["append"](this["background"]), this["container"].append(this["menu"]);
  }
  ["clearOptions"]() {
    this["menu"]["empty"]();
  }
  ["addCenter"]() {
    this["menu"].append("<li class=\"center\"></a></li>"), this["background"]["append"]('<li class="center"></a></li>');
  }
  ["addOption"](_0x141dfd, _0x4214ee) {
    this["menu"]["append"]('<li class="portion"><a href="#" name="' + _0x141dfd + "\"><span>" + _0x4214ee + "</span></a></li>"), this["background"]["append"]("<li class=\"portion\"><a href=\"#\" name=\"" + _0x141dfd + "\"></a></li>");
  }
  ["setSlider"](_0x301f48, _0x47a621) {
    var _0x1570cc = 535 - Math["max"](Math["min"](_0x47a621, 100), 0) / 100 * 285;
    this["background"]["find"]('a[name="' + _0x301f48 + '"]')["css"]({
      width: _0x1570cc + "px",
      height: _0x1570cc + "px"
    });
  }
  ["move"](_0x394964, _0x3baf93) {
    var _0x3f27c4 = this["menu"].width(),
      _0x18bf7d = this.menu["height"]();
    this["position"].x = _0x394964 - _0x3f27c4 / 2, this["position"].y = _0x3baf93 - _0x18bf7d / 2, this.container["css"]({
      left: this.position.x,
      top: this.position.y
    });
  }
  ["isVisible"]() {
    return this["container"].is(":visible");
  }
  ["show"]() {
    this["container"]["fadeIn"](100), this["visible"] = true;
    if (room && room.myself) {
      var _0x247f36 = this;
      $(room["myself"].surface).on("brushOptionChanged.radialMenu", function (_0x299b85) {
        _0x299b85.option == "size" && _0x247f36.visible && _0x247f36["setSlider"]("size", _0x299b85.value * 100 / room["myself"]["surface"]["maxSize"]);
      });
    }
  }
  ["hide"]() {
    this["container"].fadeOut(100), this["visible"] = false, room && room["myself"] && $(room["myself"]["surface"])["off"](".radialMenu");
  }
  ["toggle"]() {
    this["isVisible"]() ? this["hide"]() : this["show"]();
  }
}
class NumericInput extends UIComponent {
  constructor(_0x18db48, _0x3020f7 = 0, _0x538995 = null, _0x2b4544 = null, _0x383961 = null, _0x284a2f = "numericinput") {
    super(_0x18db48);
    !this["container"]["hasClass"]("fmNumericInput") && this["container"]["addClass"]("fmNumericInput");
    this["namespace"] = _0x284a2f, this.container["html"]("\n\t\t\t<div class=\"input-group\">\n\t\t\t\t<input type=\"text\" class=\"form-control big-input\" name=\"number\">" + (_0x383961 != null ? '<span class="input-group-text darkInput">' + _0x383961 + "</span>" : "") + "<button class=\"btn darkInput\" type=\"button\" name=\"increase\">+</button>\n\t\t\t\t<button class=\"btn darkInput\" type=\"button\" name=\"decrease\">-</button>\n\t\t\t</div>"), this["input"] = this["container"]["find"]("input"), this["input"]["val"](_0x3020f7), this.min = _0x538995, this["max"] = _0x2b4544;
    var _0x292c8e = this;
    this["input"].on(UI["pointerEvent"]("click", this["namespace"]), function (_0x19626c) {
      _0x19626c["preventDefault"](), UI["setFocusElement"](_0x292c8e);
    }), this["input"].on("focusout." + this["namespace"], function (_0xad8e26) {
      !$["isNumeric"](_0x292c8e.getValue()) ? _0x292c8e.change(_0x292c8e.min) : _0x292c8e["change"](_0x292c8e["getValue"]());
    }), this.input.on("keydown." + this["namespace"], function (_0x5103aa) {
      let _0x239a57 = _0x5103aa["which"] || _0x5103aa["keyCode"];
      if (!(_0x239a57 == 8 || _0x239a57 == 37 || _0x239a57 == 38 || _0x239a57 == 39 || _0x239a57 == 40) && (!(_0x239a57 >= 48 && _0x239a57 <= 57 || _0x239a57 >= 96 && _0x239a57 <= 105) || _0x292c8e["readOnly"])) return _0x5103aa.stopPropagation(), _0x5103aa.preventDefault(), false;
    }), this["input"].on("keyup." + this.namespace, function (_0x3bbf22) {
      if (!_0x292c8e.readOnly) {
        if ((_0x3bbf22.which || _0x3bbf22.keyCode) >= 48 && (_0x3bbf22.which || _0x3bbf22.keyCode) <= 57 || (_0x3bbf22.which || _0x3bbf22.keyCode) >= 96 && (_0x3bbf22.which || _0x3bbf22.keyCode) <= 105) {
          if (_0x292c8e["getValue"]() > _0x292c8e["max"]) _0x292c8e.change(_0x292c8e.max); else {
            if (_0x292c8e["getValue"]() < _0x292c8e["min"]) _0x292c8e["change"](_0x292c8e["min"]); else return true;
          }
        }
      }
      return false;
    }), this.container["find"]("button").on(UI["pointerEvent"]("click", this["namespace"]), function (_0xd65508) {
      _0xd65508["preventDefault"](), $(this).attr("name") == "increase" ? _0x292c8e["increase"]() : _0x292c8e["decrease"](), UI.setFocusElement(_0x292c8e);
    }), $(this).on("componentEnabled componentDisabled", function (_0x21e125) {
      _0x21e125["type"] == "componentDisabled" ? _0x292c8e["input"]["attr"]("disabled", "disabled") : _0x292c8e.input.removeAttr("disabled"), UI.setFocusElement(_0x292c8e);
    });
  }
  ["increase"]() {
    var _0x5a7261 = this["getValue"]();
    !$["isNumeric"](_0x5a7261) && (_0x5a7261 = this["min"]), (!this["max"] || _0x5a7261 + 1 <= this.max) && this["change"](_0x5a7261 + 1);
  }
  ["decrease"]() {
    var _0x3c3ff3 = this["getValue"]();
    !$["isNumeric"](_0x3c3ff3) && (_0x3c3ff3 = this.max), (!this.min || _0x3c3ff3 - 1 >= this.min) && this.change(_0x3c3ff3 - 1);
  }
  ["change"](_0x120d09) {
    !this["readOnly"] && this.setValue(_0x120d09);
  }
  ["setValue"](_0x1d5424) {
    this.input["val"](_0x1d5424);
  }
  ["getValue"]() {
    return parseInt(this["input"]["val"]());
  }
  ["keyPress"](_0x332822) {
    if (_0x332822 == 39 || _0x332822 == 38) this["increase"](); else (_0x332822 == 37 || _0x332822 == 40) && this["decrease"]();
  }
  ["destroy"]() {
    this.input["off"]("." + this["namespace"]), this.container["off"]("." + this.namespace), this["container"]["empty"]();
  }
  ["focus"]() {
    this.input.focus();
  }
}
class Selector extends UIComponent {
  constructor(_0x3c25d3, _0xb349d7, _0x286170, _0xccc2de = "selector") {
    super(_0x3c25d3);
    !this["container"]["hasClass"]("fmSelector") && this["container"]["addClass"]("fmSelector");
    this["namespace"] = _0xccc2de, this["list"] = _0xb349d7;
    var _0x41cbc1 = this;
    $["each"](Object["keys"](_0xb349d7), function (_0x26f43f, _0x543281) {
      let _0x53763f = _0xb349d7[_0x543281],
        _0x372200 = $("<a />");
      _0x372200["attr"]("href", "#"), _0x372200.attr("name", _0x543281), _0x372200["html"](_0x53763f), _0x372200.addClass("btn"), _0x372200["css"]("width", 100 / Object["keys"](_0xb349d7)["length"] + "%"), _0x41cbc1["container"]["append"](_0x372200);
    }), this["container"]["find"]("a").on(UI.pointerEvent("click", _0xccc2de), function (_0x38282d) {
      _0x38282d.preventDefault(), (!_0x38282d["which"] || _0x38282d.which == 1) && !_0x41cbc1["isReadOnly"] && (_0x41cbc1["select"]($(this)["attr"]("name")), UI["setFocusElement"](_0x41cbc1));
    }), this["select"](_0x286170);
  }
  ["select"](_0x1dff94) {
    this.container["find"]("a.selected")["removeClass"]("selected"), this["container"]["find"]('a[name="' + _0x1dff94 + '"]')["addClass"]("selected"), $(this)["triggerHandler"](new optionSelectedEvent(_0x1dff94)["getEvent"]());
  }
  ["getSelected"]() {
    return this.container["find"]("a.selected")["attr"]("name");
  }
  ["keyPress"](_0x424048) {
    if (_0x424048 == 39 || _0x424048 == 38) {
      let _0x25a6f2 = Object.keys(this["list"]),
        _0x4856aa = _0x25a6f2["indexOf"](this["getSelected"]()) + 1;
      _0x4856aa < _0x25a6f2.length && this["select"](_0x25a6f2[_0x4856aa]);
    } else {
      if (_0x424048 == 37 || _0x424048 == 40) {
        let _0x19a4af = Object["keys"](this["list"]),
          _0x1a6f62 = _0x19a4af["indexOf"](this["getSelected"]()) - 1;
        _0x1a6f62 >= 0 && this["select"](_0x19a4af[_0x1a6f62]);
      }
    }
  }
  ["destroy"]() {
    this["container"].off("." + this["namespace"]), this["container"].empty();
  }
  ["focus"]() {
    UI["setFocusElement"](this);
  }
}
class SortableList extends UIComponent {
  constructor(_0x1ac971, _0x472d37 = "sortablelist") {
    super(_0x1ac971), this["area"] = $("<div />"), this["area"]["addClass"]("sortableArea"), this["container"]["append"](this["area"]), this["elementCount"] = 0, this.isDraggingElement = false, this["movingElement"] = $("<div />"), this["movingElement"]["addClass"]("movingElement"), this["movingElement"]["hide"](), $(".appMain").append(this["movingElement"]);
    !this["container"]["hasClass"]("fmSortableList") && this["container"]["addClass"]("fmSortableList");
    var _0x1e30c7 = this;
    this.area.on(UI["pointerEvent"]("down"), ".sortableElement", function (_0x97337c) {
      if (!_0x97337c["which"] || _0x97337c.which == 1) {
        var _0x40821c = $(this);
        _0x40821c["addClass"]("selection");
        var _0x3543ef = UI["getInputPosition"](_0x97337c);
        _0x1e30c7["movingElement"]["html"](_0x40821c["html"]()), _0x1e30c7["movingElement"]["css"]({
          left: _0x3543ef.x,
          top: _0x3543ef.y,
          color: _0x40821c["css"]("color")
        }), _0x1e30c7["isDraggingElement"] = true, _0x1e30c7["movingElement"]["data"]("order", _0x40821c["data"]("order")), _0x1e30c7["movingElement"]["show"]();
        if (_0x40821c["data"]("order") != 0) {
          var _0x2b281f = _0x1e30c7["area"].find(".sortableElement:first"),
            _0x15b095 = $("<div />");
          _0x15b095.addClass("targetBlock"), _0x15b095.data("afterOrder", -1), _0x15b095["insertBefore"](_0x2b281f);
        }
        _0x1e30c7["area"]["addClass"]("isDragging"), _0x1e30c7["area"]["find"](".sortableElement")["each"](function (_0x137c0e, _0x5c8b40) {
          if ($(_0x5c8b40)["data"]("order") != _0x40821c["data"]("order") && $(_0x5c8b40)["data"]("order") != _0x40821c["data"]("order") - 1) {
            var _0xa25977 = $("<div />");
            _0xa25977["addClass"]("targetBlock"), _0xa25977["data"]("afterOrder", $(_0x5c8b40)["data"]("order")), _0xa25977["insertAfter"](_0x5c8b40);
          }
        });
      }
    }), $(document).on(UI["pointerEvent"]("move"), function (_0x25de48) {
      if (_0x1e30c7.isDraggingElement) {
        var _0x12b472 = UI["getInputPosition"](_0x25de48);
        _0x1e30c7["movingElement"].css({
          left: _0x12b472.x,
          top: _0x12b472.y
        });
      }
      var _0x2de020 = _0x1e30c7["area"].find(".targetBlock");
      $["each"](_0x2de020, function (_0x350860, _0x418d0a) {
        var _0x4a83c6 = $(_0x418d0a),
          _0x347cf1 = _0x4a83c6["offset"](),
          _0x44e823 = _0x4a83c6["height"](),
          _0x513c26 = _0x4a83c6["width"]();
        _0x12b472.y >= _0x347cf1["top"] && _0x12b472.y <= _0x347cf1["top"] + _0x44e823 && _0x12b472.x >= _0x347cf1.left && _0x12b472.y <= _0x347cf1["left"] + _0x513c26 && !_0x4a83c6["hasClass"]("active") && (_0x2de020.removeClass("active"), _0x4a83c6["addClass"]("active"));
      });
    }), $(document).on(UI.pointerEvent("up"), function (_0x162d9a) {
      if (_0x1e30c7["isDraggingElement"]) {
        var _0x229ebb = _0x1e30c7["area"]["find"](".targetBlock.active")["data"]("afterOrder");
        if (_0x229ebb !== undefined) {
          var _0x3bb4a1 = _0x1e30c7["area"]["find"](".sortableElement").filter(function () {
            return $(this)["data"]("order") == _0x1e30c7["movingElement"].data("order");
          });
          _0x1e30c7.move(_0x3bb4a1, _0x229ebb);
        }
        _0x1e30c7["isDraggingElement"] = false, _0x1e30c7["movingElement"]["hide"](), _0x1e30c7["area"]["removeClass"]("isDragging"), _0x1e30c7["area"]["find"](".selection")["removeClass"]("selection"), _0x1e30c7.area["find"](".targetBlock")["remove"]();
      }
    }), this["area"].on(UI["pointerEvent"]("over"), ".targetBlock", function (_0x33ede9) {
      $(this)["addClass"]("active");
    }), this["area"].on(UI["pointerEvent"]("out"), ".targetBlock", function (_0x4be96e) {
      $(this).removeClass("active");
    });
  }
  ["move"](_0x50a622, _0x17a443) {
    if (_0x17a443 == -1) {
      var _0x322f6a = this.area.find(".sortableElement")["filter"](function () {
        return $(this).data("order") == 0;
      });
      _0x50a622["insertBefore"](_0x322f6a);
    } else {
      var _0x322f6a = this["area"]["find"](".sortableElement").filter(function () {
        return $(this)["data"]("order") == _0x17a443;
      });
      _0x50a622["insertAfter"](_0x322f6a);
    }
    this["reorder"]();
  }
  ["reorder"]() {
    var _0x3145b5 = 0;
    this["area"]["find"](".sortableElement")["each"](function (_0x599315, _0x5a0744) {
      $(_0x5a0744)["data"]("order", _0x3145b5++);
    });
  }
  ["getOrder"]() {
    var _0x372f70 = [];
    return this["area"]["find"](".sortableElement")["each"](function (_0x2480b3, _0x506825) {
      _0x372f70[$(_0x506825).data("order")] = $(_0x506825)["data"]("id");
    }), _0x372f70;
  }
  ["addElement"](_0x1a616a, _0x21ea24) {
    var _0x52c46e = $("<div />");
    _0x52c46e["html"](_0x21ea24), _0x52c46e["addClass"]("sortableElement"), _0x52c46e["data"]("order", this["elementCount"]), _0x52c46e["data"]("id", _0x1a616a), this["elementCount"]++, this["area"]["append"](_0x52c46e);
  }
  ["removeElements"]() {
    this["elementCount"] = 0, this["area"]["empty"]();
  }
  ["destroy"]() {
    this["movingElement"]["remove"](), this["area"].empty();
  }
}
class Captcha extends UIComponent {
  constructor(_0x3a0c72) {
    super(_0x3a0c72), this["code"] = 0, this["canvas"] = $("<canvas />"), this["canvas"].attr("width", 200), this["canvas"]["attr"]("height", 35), this["newCode"]();
  }
  ["clear"]() {
    var _0x5c2ea8 = this.canvas[0]["getContext"]("2d");
    _0x5c2ea8["clearRect"](0, 0, _0x5c2ea8["canvas"]["width"], _0x5c2ea8.canvas.height);
  }
  ["newCode"]() {
    this.clear(), this.code = this.generate(6);
    var _0x421201 = this.canvas[0]["getContext"]("2d");
    _0x421201["textBaseline"] = "top", _0x421201["textAlign"] = "center", _0x421201.font = "30px Arial", _0x421201["fillStyle"] = "#069", _0x421201["fillText"](this["code"], _0x421201["canvas"]["width"] / 2 + Math["random"](-5, 5), Math["random"](2, 8));
  }
  ["generate"](_0xcf0f4 = 6) {
    var _0x3f8b13 = "",
      _0xa0c5da = "ABCDEFGHJKLMNPRSTWXYZ23456789",
      _0x1a57e1 = _0xa0c5da["length"];
    for (var _0x38c932 = 0; _0x38c932 < _0xcf0f4; _0x38c932++) {
      _0x3f8b13 += _0xa0c5da["charAt"](Math["floor"](Math.random() * _0x1a57e1));
    }
    return _0x3f8b13;
  }
  ["verify"](_0x54a972) {
    return _0x54a972.toUpperCase() == this["code"]["toUpperCase"]();
  }
}
class ColorSelector extends UIComponent {
  constructor(_0x2f7ea7, _0x4de2cd, _0x4c5bc5 = "colorselector") {
    super(_0x2f7ea7);
    !this["container"]["hasClass"]("fmColorSelector") && this["container"]["addClass"]("fmColorSelector");
    this["namespace"] = _0x4c5bc5, this["current"] = _0x4de2cd, this["preview"] = $("<div />"), this["preview"].addClass("w-100 p-0 m-0"), this.set(_0x4de2cd), this["container"]["html"](this.preview);
    var _0x570198 = this;
    this["preview"].on("click." + this["namespace"], function (_0x65bfcb) {
      $(UI.colorDialog).on("colorChanged.colorbox", function (_0x40ad72) {
        _0x570198["set"](_0x40ad72["color"]), $(UI["colorDialog"])["off"](".colorbox");
      }), $(UI["colorDialog"]).on("dialogClosed.colorbox", function (_0xe343de) {
        $(UI["colorDialog"])["off"](".colorbox");
      });
    });
  }
  ["set"](_0x513ec9) {
    this["preview"]["css"]("background-color", _0x513ec9), this["selected"](_0x513ec9);
  }
  ["selected"](_0x14bd04) {
    this["current"] = _0x14bd04, $(this).triggerHandler(new colorChangedEvent(_0x14bd04)["getEvent"]()), UI["setFocusElement"](this);
  }
  ["destroy"]() {
    this["preview"].off("." + this["namespace"]), this["container"]["empty"]();
  }
}
class AlertManager extends UIComponent {
  constructor(_0x431cb5) {
    super(_0x431cb5), this["leftSide"] = true, this["alertWidth"] = 300, this["alertMarginSide"] = 20, this.alertMarginTop = 20;
  }
  ["changeSide"](_0x56c887 = true) {
    this["leftSide"] = _0x56c887, _0x56c887 ? this["container"]["find"](".alertMessage").css({
      left: this["alertMarginSide"] + "px",
      right: "unset"
    }) : this["container"]["find"](".alertMessage")["css"]({
      right: this["alertMarginSide"] + "px",
      left: "unset"
    });
  }
  ["numberAlerts"]() {
    return this["container"]["find"](".alertMessage")["length"];
  }
  ["totalHeight"]() {
    var _0x29da80 = 0;
    return $["each"](this["container"]["find"](".alertMessage"), function (_0xfbc50b, _0x3a220f) {
      _0x29da80 += $(_0x3a220f)["height"]();
    }), _0x29da80;
  }
  ["showAlert"](_0x536129, _0x1fd63e = 4) {
    var _0xeebbde = this["numberAlerts"](),
      _0x242521 = this["totalHeight"](),
      _0x3e2a86 = $("<div class=\"alertMessage\"><div class=\"alertProgress\"></div><p></p></div></div>");
    this.container.append(_0x3e2a86), _0x3e2a86["find"]("p")["html"](_0x536129);
    var _0x47d465 = _0xeebbde * this["alertMarginTop"] + _0x242521;
    _0x3e2a86["css"]({
      top: _0x47d465 + "px",
      left: -this.alertWidth + "px",
      width: this["alertWidth"],
      opacity: "0"
    });
    !this.leftSide && _0x3e2a86["css"]({
      left: "unset",
      right: -this.alertWidth + "px"
    });
    _0x3e2a86["show"]();
    this["leftSide"] ? _0x3e2a86["animate"]({
      left: this.alertMarginSide,
      opacity: 1
    }, 500) : _0x3e2a86["animate"]({
      right: this["alertMarginSide"],
      opacity: 1
    }, 500);
    var _0x26e424 = Math["round"](new Date()["getTime"]() / 1e3);
    _0x3e2a86["data"]("alertOpenedSince", _0x26e424), _0x3e2a86["data"]("alertOpenUntil", _0x26e424 + _0x1fd63e * 1e3);
    var _0x4f2b95 = this;
    setTimeout(function (_0x77a3c4) {
      _0x4f2b95["progressAlert"](_0x3e2a86);
    }, 10);
  }
  ["progressAlert"](_0xf00c97) {
    var _0x136755 = Math["round"](new Date()["getTime"]() / 1e3),
      _0x2b319d = (_0xf00c97["data"]("alertOpenUntil") - parseInt(_0xf00c97["data"]("alertOpenedSince"))) / 1e3,
      _0x22b370 = _0x136755 - parseInt(_0xf00c97.data("alertOpenedSince")),
      _0xf9f4fa = _0x22b370 * 100 / _0x2b319d;
    _0xf00c97["find"](".alertProgress").css("width", _0xf9f4fa + "%");
    if (_0xf9f4fa <= 100) {
      var _0x100093 = this;
      setTimeout(function (_0x5054a0) {
        _0x100093["progressAlert"](_0xf00c97);
      }, 500);
    } else this["hideAlert"](_0xf00c97);
  }
  ["removeGaps"]() {
    var _0x371a47 = this,
      _0x29d035 = 0;
    $["each"](this["container"].find(".alertMessage"), function (_0x80d3e3, _0x74f812) {
      var _0x198970 = _0x80d3e3 * _0x371a47["alertMarginTop"] + _0x29d035;
      $(_0x74f812)["animate"]({
        top: _0x198970 + "px"
      }, 250), _0x29d035 += $(_0x74f812)["height"]();
    });
  }
  ["hideAlert"](_0x1dd359) {
    var _0x4199f6 = this;
    _0x1dd359["fadeOut"](250, function () {
      $(this)["remove"](), _0x4199f6["removeGaps"]();
    });
  }
}
class PIP extends UIComponent {
  constructor(_0x38ec9b) {
    super(_0x38ec9b), this["marker"] = $("<div />"), this["marker"]["addClass"]("pipMarker"), this["container"]["append"](this["marker"]);
  }
  ["show"](_0x11392b, _0x1dd984) {
    var _0x2ba50a = this;
    this["container"]["find"](".thumb")["remove"](), this["container"]["css"]("background-color", _0x1dd984), $.each(_0x11392b, function (_0x52c789, _0x1b14cd) {
      var _0x214ad0 = new Image();
      _0x214ad0["src"] = _0x1b14cd, $(_0x214ad0)["addClass"]("thumb"), _0x2ba50a["container"]["append"](_0x214ad0);
    }), this["container"]["show"]();
  }
  ["hide"]() {
    this["container"]["hide"]();
  }
  ["setView"](_0x44f3a8, _0x1ce03e, _0x3fb5f0, _0x3d2532, _0x4e8c58, _0x3b4a0a) {
    var _0x37c48f = room["board"].canvasHeight / 90;
    this["container"].css({
      scale: 1,
      width: room["board"]["canvasWidth"] / _0x37c48f,
      height: room["board"].canvasHeight / _0x37c48f
    }), this.marker["css"]({
      left: parseInt(_0x44f3a8 / _0x37c48f),
      top: parseInt(_0x1ce03e / _0x37c48f),
      width: parseInt(_0x3fb5f0 / _0x37c48f / _0x4e8c58),
      height: parseInt(_0x3d2532 / _0x37c48f / _0x4e8c58),
      transform: "rotate(" + -_0x3b4a0a + "deg)",
      "transform-origin": "top left"
    });
  }
  ["isVisible"]() {
    return this["container"].is(":visible");
  }
}
class DialogHandler {
  constructor(_0x855d21, _0x4df9fd, _0xc9832a) {
    this["block"] = null, this.container = _0x855d21, this.confirmationContainer = _0x4df9fd, this["alertManager"] = new AlertManager(_0xc9832a), this["alertOpenedSince"], this.alertOpenUntil, this["activeDialog"] = null, this["openedDialogs"] = 0, this["zindex"] = 10001, this["dialogs"] = {}, this["resizeBorder"] = $("<div />"), this["resizeBorder"]["addClass"]("resizeBorder"), this.container["append"](this["resizeBorder"]);
    var _0x5a6b74 = this;
    this["confirmationContainer"].contextmenu(function (_0x3dad11) {
      _0x3dad11["preventDefault"]();
    }), $(UI).on("windowResizingStarted", function (_0x5a48a9) {
      _0x5a6b74.activeDialog && _0x5a6b74["activeDialog"].onWindowResize(true);
    }), $(UI).on("windowResizingEnded", function (_0x4269a0) {
      _0x5a6b74.activeDialog && (_0x5a6b74["activeDialog"].onWindowResize(false), _0x5a6b74["activeDialog"].outOfBounds() && _0x5a6b74["activeDialog"]["center"]());
    });
  }
  ["blockBackground"](_0xa05fa9 = "blockdefault", _0x45e266 = 1) {
    this["block"] == null && (this["block"] = $("<div />"), this["block"].addClass("blockscreen fullscreen " + _0xa05fa9), this.block["contextmenu"](function (_0x31bd8d) {
      _0x31bd8d["preventDefault"]();
    }), this["block"]["css"]({
      opacity: _0x45e266,
      "z-index": -1
    }), this["container"]["prepend"](this.block));
  }
  ["unblockBackground"]() {
    this["block"] != null && (this["block"]["remove"](), this["block"] = null);
  }
  ["createDialog"](_0x145886) {
    var _0x47f1e4 = this,
      _0x6bbf75;
    if (_0x145886 == "login") _0x6bbf75 = new LoginDialog(this["container"], _0x145886); else {
      if (_0x145886 == "config") _0x6bbf75 = new ConfigDialog(this["container"], _0x145886); else {
        if (_0x145886 == "chat") _0x6bbf75 = new ChatDialog(this["container"], _0x145886); else {
          if (_0x145886 == "undo") _0x6bbf75 = new UndoDialog(this.container, _0x145886); else {
            if (_0x145886 == "roommanager") _0x6bbf75 = new RoomManagerDialog(this.container, _0x145886); else {
              if (_0x145886 == "save") _0x6bbf75 = new SaveDialog(this["container"], _0x145886); else {
                if (_0x145886 == "upload") _0x6bbf75 = new UploadDialog(this["container"], _0x145886); else {
                  if (_0x145886 == "brushdesigner") _0x6bbf75 = new BrushDesignerDialog(this["container"], _0x145886); else {
                    if (_0x145886 == "brushgallery") _0x6bbf75 = new BrushGalleryDialog(this.container, _0x145886); else {
                      if (_0x145886 == "debug") _0x6bbf75 = new DebugDialog(this.container, _0x145886); else {
                        if (_0x145886 == "profile") _0x6bbf75 = new ProfileDialog(this.container, _0x145886); else {
                          if (_0x145886 == "color") _0x6bbf75 = new ColorDialog(this["container"], _0x145886); else {
                            if (_0x145886 == "help") _0x6bbf75 = new HelpDialog(this.container, _0x145886); else {
                              if (_0x145886 == "adminconsole") _0x6bbf75 = new AdminConsoleDialog(this["container"], _0x145886); else {
                                if (_0x145886 == "feedback") _0x6bbf75 = new FeedbackDialog(this.container, _0x145886); else {
                                  if (_0x145886 == "animation") _0x6bbf75 = new AnimationDialog(this.container, _0x145886); else {
                                    if (_0x145886 == "messenger") _0x6bbf75 = new MessengerDialog(this["container"], _0x145886); else {
                                      if (_0x145886 == "galleryimage") _0x6bbf75 = new GalleryImageDialog(this["container"], _0x145886); else _0x145886 == "usergallery" && (_0x6bbf75 = new UserGalleryDialog(this["container"], _0x145886));
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    return this["dialogs"][_0x145886] = _0x6bbf75, _0x6bbf75.form["attr"]("name", _0x145886), $(_0x6bbf75).on("dialogOpened", function (_0x14e7cb) {
      _0x6bbf75["formHolder"]["css"]("z-index", ++_0x47f1e4["zindex"]), _0x47f1e4.openedDialogs++, this.blockBackground && _0x47f1e4.blockBackground(this["blockStyle"], this["blockOpacity"]), _0x47f1e4["activateDialog"](this), $(_0x47f1e4)["triggerHandler"](new dialogOpenedEvent(_0x6bbf75["name"]).getEvent());
    }), $(_0x6bbf75).on("dialogClosed", function (_0x2769f4) {
      _0x47f1e4["zindex"]--, _0x47f1e4["openedDialogs"]--, _0x47f1e4["deactivateDialogs"]();
      if (_0x47f1e4["openedDialogs"] <= 0) {
        if (this["blockBackground"]);
        {
          _0x47f1e4["unblockBackground"]();
        }
      } else _0x47f1e4["activateDialog"](_0x47f1e4["getNextVisibleDialog"]());
      $(_0x47f1e4).triggerHandler(new dialogClosedEvent(_0x6bbf75["name"])["getEvent"]());
    }), _0x6bbf75;
  }
  ["activateDialog"](_0x33db72) {
    this["activeDialog"] = _0x33db72, this["container"]["find"](".dialogFocus")["removeClass"]("dialogFocus"), _0x33db72["form"]["addClass"]("dialogFocus");
  }
  ["deactivateDialogs"]() {
    this["container"]["find"](".dialogFocus")["removeClass"]("dialogFocus"), this["activeDialog"] = null;
  }
  ["getNextVisibleDialog"]() {
    var _0x2c90bb = 0,
      _0x5e9642 = null;
    $["each"](this["container"]["find"](".dialogVisible"), function (_0x289689, _0x3a1ca8) {
      parseInt($(this)["parents"](".dialogHolder")["css"]("z-index")) > _0x2c90bb && (_0x2c90bb = parseInt($(this)["parents"](".dialogHolder")["css"]("z-index")), _0x5e9642 = $(this)["attr"]("name"));
    });
    var _0x7d76ba = null;
    return _0x2c90bb > 0 && $["each"](this["dialogs"], function (_0x56ab0b, _0x34367c) {
      _0x56ab0b == _0x5e9642 && (_0x7d76ba = _0x34367c);
    }), _0x7d76ba;
  }
  ["draggingDialog"]() {
    if (this["activeDialog"]) return this.activeDialog["dragging"];
    return false;
  }
  ["resizingDialog"]() {
    if (this["activeDialog"]) return this.activeDialog["resizing"];
    return false;
  }
  ["mouseMove"](_0x1d3960, _0x4e6c57) {
    this["activeDialog"] && this["activeDialog"]["mouseMove"](_0x1d3960, _0x4e6c57);
  }
  ["mouseUp"](_0x3732c4, _0xb07606) {
    this.activeDialog && this["activeDialog"]["mouseUp"](_0x3732c4, _0xb07606);
  }
  ["resized"]() {
    this["activeDialog"] && this["activeDialog"].resized();
  }
  ["createConfirmation"](_0x462a42, _0x23ebf9 = null) {
    this["destroyConfirmation"]();
    _0x23ebf9 == null && (_0x23ebf9 = [], _0x23ebf9["push"](new ButtonType("ok", textManager["getString"]("messages.btnYes"), "btn-success", "fa-check")), _0x23ebf9["push"](new ButtonType("cancel", textManager["getString"]("messages.btnNo"), "btn-danger", "fa-times")));
    var _0x5b8da4 = "";
    $["each"](_0x23ebf9, function (_0x25aded, _0x281aa8) {
      _0x5b8da4 += "<a href=\"#\" name=\"" + _0x281aa8["name"] + "\" class=\"btn btn-sm " + _0x281aa8.style + ' m-2">' + new Icon(_0x281aa8.icon).html() + " " + _0x281aa8["caption"] + "</a>";
    });
    var _0xa40bed = $("<div class=\"confirmContent\"><p>" + _0x462a42 + "</p>" + _0x5b8da4 + "</div>");
    return this["confirmationContainer"]["append"](_0xa40bed), this["confirmationContainer"]["addClass"]("blockConfirmation bgConfirmation"), _0xa40bed["find"]("a").on(UI["pointerEvent"]("click", "confirmation"), function (_0x1e831a) {
      _0x1e831a["preventDefault"]();
      var _0x38d399 = $(this).attr("name");
      $(_0xa40bed)["triggerHandler"](new confirmationClosedEvent(_0x38d399)["getEvent"]());
    }), _0xa40bed;
  }
  ["destroyConfirmation"]() {
    this["confirmationContainer"]["empty"](), this.confirmationContainer["removeClass"]("blockConfirmation bgConfirmation");
  }
  ["showAlert"](_0x30b6f2, _0x46123b = undefined) {
    this.alertManager.showAlert(_0x30b6f2, _0x46123b);
  }
  ["getActiveDialogName"]() {
    if (this["activeDialog"]) return this["activeDialog"]["constructor"]["name"];
    return null;
  }
  ["getDialog"](_0x509c1a) {
    return $["each"](this["dialogs"], function (_0x3b4234, _0xbc8321) {
      if (_0x3b4234 == _0x509c1a) return _0xbc8321;
    }), null;
  }
  ["showDialog"](_0x5cb818, _0x319874 = undefined) {
    $["each"](this["dialogs"], function (_0x515372, _0x5e329d) {
      _0x515372 == _0x5cb818 && _0x5e329d["show"](_0x319874);
    });
  }
  ["hideDialog"](_0x2eac78) {
    $["each"](this["dialogs"], function (_0x2cf261, _0x3a0074) {
      _0x2cf261 == _0x2eac78 && _0x3a0074["hide"]();
    });
  }
  ["toggleDialog"](_0x829958) {
    if (this["activeDialog"] && this["activeDialog"] == this["dialogs"][_0x829958]) this["activeDialog"]["closable"] && this["activeDialog"].hide(); else {
      var _0x587f91 = true;
      this["activeDialog"] && (this["activeDialog"].closable ? this["activeDialog"]["hide"]() : _0x587f91 = false), _0x587f91 && this.showDialog(_0x829958);
    }
  }
  ["hideAll"]() {
    $["each"](this.dialogs, function (_0x4258df, _0x332af1) {
      _0x332af1["hide"]();
    });
  }
  ["show"]() {
    this["dialogContainer"]["show"](), this["activeDialog"] && this.activeDialog["show"]();
  }
  ["hide"]() {
    this.dialogContainer["hide"]();
  }
}
class Dialog {
  constructor(_0x3a2b19, _0x1204b3) {
    this["active"] = false, this.maximizable = true, this["closable"] = true, this.draggable = true, this["resizable"] = true, this["languageSelector"] = false, this.helpLink = null, this["name"] = _0x1204b3, this.icon = "fa-city", this["caption"] = "", this.titlebar = true, this["isModal"] = true, this["blockBackground"] = false, this["blockStyle"] = null, this.blockOpacity = null, this["formPreferences"] = {}, this["initializing"] = true, this["forcedMaximized"] = false, this["maximized"] = false, this["resizing"] = false, this["resizingFrom"] = null, this["resizeRect"] = null, this["resizePoint"] = null, this.dragging = false, this["dragPoint"] = null, this["formHolder"] = $("<div/>"), this["formHolder"]["addClass"]("dialogHolder fullscreen"), this["formHolder"]["hide"](), this["form"] = $("<div/>"), this["form"]["addClass"]("dialog dialogInvisible"), this["parent"] = _0x3a2b19, this["previousFocus"] = null, this["title"] = $("<div/>"), this.content = $("<div/>"), this["form"]["append"](this.title), this["form"]["append"](this["content"]), this.formHolder.append(this["form"]), _0x3a2b19.append(this["formHolder"]), this["createResizingEdge"](), this["setResize"](this["resizable"]), this["createTitlebar"](), this.setDrag(this["draggable"]), this["hideContentResizing"] = false, this["width"] = 850, this["height"] = 550, this.minWidth = 400, this["minHeight"] = 400, this.windowWidth, this["windowHeight"], this["sizeType"] = "lg", this.modal = $("<div />"), this["modal"].addClass("submodal"), this["resizeBorder"] = _0x3a2b19["find"](".resizeBorder"), this["resizeBorderWidth"] = 1, this["previousRect"], this["wasMaximized"] = false;
    var _0x483f6f = this;
    this["formHolder"]["contextmenu"](function (_0x3fe1e2) {
      _0x3fe1e2["preventDefault"]();
    }), this["formHolder"].on(UI["pointerEvent"]("dragstart"), function (_0x2a019e) {
      _0x2a019e.preventDefault();
    }), this["title"]["contextmenu"](function (_0x5ad36d) {
      _0x5ad36d["preventDefault"]();
    }), this.title.on(UI.pointerEvent("down"), function (_0x1dcc37) {
      if (!UI["onFocus"]) return;
      if (!_0x1dcc37["which"] || _0x1dcc37["which"] == 1) {
        if (_0x483f6f["draggable"] && !_0x483f6f["maximized"] && !($(_0x1dcc37["target"]).hasClass("titleButton") || $(_0x1dcc37["target"])["hasClass"]("btn"))) {
          var _0x1e847d = UI["getInputPosition"](_0x1dcc37),
            _0x561119 = _0x483f6f.form["offset"]();
          _0x483f6f["dragPoint"] = new Point(_0x1e847d.x - _0x561119["left"], _0x1e847d.y - _0x561119.top), !_0x483f6f.dragging && (_0x483f6f["dragging"] = true, $(_0x483f6f)["triggerHandler"](new dialogDraggingStartedEvent()["getEvent"]())), _0x483f6f["mouseMove"](_0x1e847d.x, _0x1e847d.y);
        }
      }
    }), this["title"].on(UI["pointerEvent"]("dblclick"), function (_0x306df3) {
      _0x306df3["preventDefault"](), _0x483f6f["maximizable"] && _0x483f6f["toggleMaximize"]();
    }), this["form"].on(UI["pointerEvent"]("down"), ".dialogSize", function (_0x5329c6) {
      _0x5329c6.preventDefault();
      if (!_0x5329c6.which || _0x5329c6["which"] == 1) {
        if (_0x483f6f["resizable"] && !_0x483f6f["maximized"]) {
          var _0xf36325 = UI["getInputPosition"](_0x5329c6),
            _0x55ac2d = _0x483f6f["form"]["offset"]();
          _0x483f6f["resizePoint"] = new Point(_0xf36325.x - _0x55ac2d.left, _0xf36325.y - _0x55ac2d["top"]), _0x483f6f["resizeRect"] = new Rect(_0x55ac2d["left"], _0x55ac2d["top"], _0x483f6f["form"]["width"](), _0x483f6f["form"].height());
          !_0x483f6f.resizing && (_0x483f6f["resizing"] = true, $(_0x483f6f)["triggerHandler"](new dialogResizingStartedEvent()["getEvent"]()));
          if ($(_0x5329c6["target"])["hasClass"]("sbLeft")) _0x483f6f["resizingFrom"] = "W"; else {
            if ($(_0x5329c6["target"]).hasClass("sbRight")) _0x483f6f["resizingFrom"] = "E"; else {
              if ($(_0x5329c6["target"])["hasClass"]("sbTop")) _0x483f6f.resizingFrom = "N"; else {
                if ($(_0x5329c6["target"])["hasClass"]("sbBottom")) _0x483f6f["resizingFrom"] = "S"; else {
                  if ($(_0x5329c6["target"]).hasClass("sbTopLeft")) _0x483f6f["resizingFrom"] = "NW"; else {
                    if ($(_0x5329c6["target"]).hasClass("sbTopRight")) _0x483f6f["resizingFrom"] = "NE"; else {
                      if ($(_0x5329c6.target)["hasClass"]("sbBottomLeft")) _0x483f6f["resizingFrom"] = "SW"; else $(_0x5329c6["target"])["hasClass"]("sbBottomRight") && (_0x483f6f.resizingFrom = "SE");
                    }
                  }
                }
              }
            }
          }
          _0x483f6f["mouseMove"](_0xf36325.x, _0xf36325.y);
        }
      }
    }), this["content"].on(UI.pointerEvent("click"), ".subcloseButton", function (_0x4d2c3d) {
      _0x4d2c3d.preventDefault(), _0x483f6f["disableModal"]();
    }), this["title"].on("change", 'select[name="languagebutton"]', function (_0x5b41be) {
      _0x5b41be["preventDefault"]();
      let _0x195681 = _0x483f6f.title["find"]('select[name="languagebutton"]')["val"]();
      UI.userPreferences["setProperty"]("language", _0x195681), textManager["changeLocale"](_0x195681), textManager.updateElement($("body"));
    }), this["title"].on(UI["pointerEvent"]("click"), ".maximizeButton", function (_0x4a1e01) {
      _0x4a1e01["preventDefault"](), _0x483f6f["maximizable"] && _0x483f6f["toggleMaximize"]();
    }), this["title"].on(UI["pointerEvent"]("click"), ".helpButton", function (_0x15d5e9) {
      _0x15d5e9["preventDefault"](), _0x483f6f["helpLink"] && UI["helpDialog"]["show"](_0x483f6f.helpLink);
    }), this["title"].on(UI.pointerEvent("click"), ".closeButton", function (_0xfcde) {
      _0xfcde.preventDefault(), _0x483f6f.closable && _0x483f6f["hide"]();
    }), $(this).on("dialogResizingStarted dialogDraggingStarted", function (_0x5a2c7e) {
      _0x483f6f["hideContentResizing"] && _0x483f6f.content["fadeOut"](250), _0x483f6f["form"]["addClass"]("noMouseInteraction");
    }), $(this).on("dialogResizingEnded dialogDraggingEnded", function (_0x4af6d2) {
      _0x483f6f["hideContentResizing"] && _0x483f6f["content"]["fadeIn"](250), _0x483f6f["form"]["removeClass"]("noMouseInteraction");
    }), $(this).on("dialogResizingStarted", function (_0x6c71a4) {
      _0x6c71a4["resizeType"] == "Dialog" && _0x483f6f["resizeBorder"]["show"]();
    }), $(this).on("dialogResizingEnded", function (_0x1fb493) {
      var _0xfbf29c = _0x483f6f["resizeBorder"]["offset"]();
      _0x483f6f["setPosition"](_0xfbf29c["left"], _0xfbf29c["top"]), _0x483f6f["setSize"](_0x483f6f["resizeBorder"]["width"]() + _0x483f6f["resizeBorderWidth"] * 2, _0x483f6f["resizeBorder"]["height"]() + _0x483f6f["resizeBorderWidth"] * 2), _0x483f6f["resizeBorder"]["hide"]();
    }), $(this).on("dialogSizeTypeChanged", function (_0x2fe0e6) {
      _0x483f6f["processSizeType"](_0x2fe0e6["current"]);
    }), $(this).on("dialogModalEnabled", function (_0x54af9b) {
      _0x483f6f["processSizeType"](_0x483f6f.sizeType);
    }), $(this).on("dialogResizingEnded dialogMaximized dialogRestored dialogContentChanged", function (_0x598c11) {
      _0x483f6f["content"]["find"]("[data-anchortarget]")["each"](function (_0x37599b, _0x452dff) {
        var _0x5f070b = $(_0x452dff)["data"]("anchortarget") ? $(_0x452dff)["data"]("anchortarget") : "",
          _0x515092 = $(_0x452dff)["data"]("anchorpoints") ? $(_0x452dff)["data"]("anchorpoints") : "",
          _0x6a7e6b = $(_0x452dff)["data"]("anchormargin") ? $(_0x452dff).data("anchormargin") : 0;
        if (_0x515092 != "" && _0x5f070b != "") {
          var _0xac542e = _0x483f6f["content"]["find"](_0x5f070b);
          if (_0xac542e) {
            var _0x24a8b3 = _0xac542e["offset"](),
              _0x50ee65 = $(_0x452dff)["offset"]();
            if (_0x24a8b3 && _0x50ee65) {
              var _0x406c47 = new Rect(_0x24a8b3["left"], _0x24a8b3["top"], _0xac542e.width(), _0xac542e["height"]()),
                _0x412dda = new Rect(0, 0, _0xac542e["outerWidth"](true), _0xac542e["outerHeight"](true)),
                _0x37cef4 = (_0x412dda.width - _0x406c47["width"]) / 2,
                _0x3cc89d = (_0x412dda["height"] - _0x406c47.height) / 2;
              _0x515092["includes"]("b") && _0x515092["includes"]("t") && $(_0x452dff).css("height", _0x406c47["height"] - (_0x50ee65.top - _0x406c47.y) - _0x6a7e6b + _0x3cc89d - 1), _0x515092.includes("l") && _0x515092.includes("r") && $(_0x452dff)["css"]("width", _0x406c47["width"] - (_0x50ee65.left - _0x406c47.x) - _0x6a7e6b + _0x37cef4 - 1);
            }
          }
        }
      }), _0x483f6f["alignModal"](), _0x483f6f.calculateSizeType(this["form"]["width"](), this["form"]["height"]()), _0x483f6f["onResize"]();
    }), $(UI).on("windowFocused", function (_0x457196) {
      _0x483f6f.title["find"](".dialogTitlebar").removeClass("inactive"), _0x483f6f.onFocus();
    }), $(UI).on("windowBlurred", function (_0x4ba005) {
      _0x483f6f.title["find"](".dialogTitlebar").addClass("inactive"), _0x483f6f["onBlur"]();
    });
  }
  ["setResize"](_0x930a56) {
    this.form["find"](".dialogSize")["removeClass"]("noResize"), !_0x930a56 && this["form"]["find"](".dialogSize")["addClass"]("noResize");
  }
  ["setDrag"](_0x4a6f27) {
    this["form"].find(".dialogTitlebar")["removeClass"]("movable"), _0x4a6f27 && this.form["find"](".dialogTitlebar")["addClass"]("movable");
  }
  ["setPreference"](_0x322ed5, _0xfe9645) {
    this["formPreferences"][_0x322ed5] = _0xfe9645;
  }
  ["getPreference"](_0x1c5f51) {
    if (_0x1c5f51 in this.formPreferences) return this.formPreferences[_0x1c5f51];
    return undefined;
  }
  ["createResizingEdge"]() {
    var _0xd05442 = $("<div/>");
    _0xd05442.addClass("dialogSize dsBar sbTop"), this["form"]["append"](_0xd05442);
    var _0x15239 = $("<div/>");
    _0x15239["addClass"]("dialogSize dsBar sbBottom"), this.form["append"](_0x15239);
    var _0x3cbe4f = $("<div/>");
    _0x3cbe4f["addClass"]("dialogSize dsBar sbLeft"), this["form"].append(_0x3cbe4f);
    var _0x1de518 = $("<div/>");
    _0x1de518["addClass"]("dialogSize dsBar sbRight"), this["form"]["append"](_0x1de518);
    var _0x294f44 = $("<div/>");
    _0x294f44["addClass"]("dialogSize dsCorner sbTopLeft"), this["form"]["append"](_0x294f44);
    var _0x2ad22b = $("<div/>");
    _0x2ad22b["addClass"]("dialogSize dsCorner sbTopRight"), this["form"].append(_0x2ad22b);
    var _0x4c13d3 = $("<div/>");
    _0x4c13d3.addClass("dialogSize dsCorner sbBottomLeft"), this["form"]["append"](_0x4c13d3);
    var _0xd7514a = $("<div/>");
    _0xd7514a["addClass"]("dialogSize dsCorner sbBottomRight"), this["form"].append(_0xd7514a);
  }
  ["createTitlebar"]() {
    var _0x4e7bd2 = "";
    $["each"](textManager["getSupportedLanguages"](), function (_0x275392, _0x26618d) {
      _0x4e7bd2 += "<option value=\"" + _0x275392 + '">' + _0x26618d + "</option>";
    });
    var _0x1860f2 = "";
    this["titlebar"] && (_0x1860f2 = '<div class="dialogTitlebar' + (this.draggable ? " movable" : "") + "\"><div class=\"dialogTitle\"><div class=\"pull-left\">" + new Icon(this["icon"]).html() + " " + this["caption"] + "</div> <div class=\"dialogTitleButtons\"><div style=\"text-align: right;\"><select name=\"languagebutton\" href=\"#\" class=\"btn btn-sm btn-transparent\">" + _0x4e7bd2 + "</select>" + (this.helpLink ? "<a href=\"#\" class=\"btn btn-md helpButton\" data-tooltip=\"" + textManager["getString"]("tooltip.lblHelp", null, false) + '">' + new Icon("fa-circle-question", "fas", "titleButton")["html"]() + "</a>" : "") + (this["maximizable"] ? "<a href=\"#\" class=\"btn btn-md maximizeButton\" data-tooltipcallback=\"tooltipShortcut\" data-tooltipparam=\"" + textManager.getString("tooltip.lblMaximize", null, false) + ";maximizedialog\">" + new Icon(this["maximized"] ? "fa-window-restore" : "fa-window-maximize", "fas", "titleButton")["html"]() + "</a>" : "") + (this["closable"] ? "<a href=\"#\" class=\"btn btn-md closeButton\" data-tooltipcallback=\"tooltipShortcut\" data-tooltipparam=\"" + textManager.getString("tooltip.lblClose", null, false) + ";closedialog\">" + new Icon("fa-window-close", "fas", "titleButton")["html"]() + "</a>" : "") + "</div></div></div></div>"), this.title["html"](_0x1860f2);
  }
  loadFile(filePath) {
    if (embeddedHTML[filePath]) {
      return embeddedHTML[filePath];
    } else {
      console.warn("Missing embedded file:", filePath);
      return `
        <h1 class="text-center pt-2">
          <i class="fa fa-exclamation-triangle"></i><br />Error: File not found
        </h1>
      `;
    }
  }
  
  ["mouseMove"](_0x4a3d11, _0x38fc93) {
    if (!this["maximized"]) {
      if (this["dragging"] && this["dragPoint"]) {
        var _0x2f163c = new Point(_0x4a3d11 - this.dragPoint.x, _0x38fc93 - this["dragPoint"].y),
          _0x4ac350 = this["parent"].offset();
        _0x2f163c.x < _0x4ac350["left"] && (_0x2f163c.x = _0x4ac350["left"]), _0x2f163c.y < _0x4ac350["top"] && (_0x2f163c.y = _0x4ac350["top"]), _0x2f163c.x + this["form"]["width"]() > this.parent["width"]() && (_0x2f163c.x = this["parent"]["width"]() - this["form"].width()), _0x2f163c.y + this["form"].height() > this["parent"]["height"]() && (_0x2f163c.y = this["parent"]["height"]() - this["form"]["height"]()), this["setPosition"](_0x2f163c.x, _0x2f163c.y);
      } else {
        if (this["resizing"] && this["resizePoint"]) {
          var _0xb9fb1f = this["form"]["offset"](),
            _0x498306 = new Rect(_0xb9fb1f.left, _0xb9fb1f.top, this.form["width"](), this["form"]["height"]());
          for (var _0x20e7c0 = 0; _0x20e7c0 < this.resizingFrom["length"]; _0x20e7c0++) {
            var _0x459b00 = this["resizingFrom"][_0x20e7c0];
            if (_0x459b00 == "N") _0x498306.y = _0x38fc93, _0x498306["height"] = this["resizeRect"]["height"] - (_0x38fc93 - this["resizeRect"].y), _0x498306["height"] < this["minHeight"] && (_0x498306.y -= this["minHeight"] - _0x498306["height"], _0x498306["height"] = this["minHeight"]); else {
              if (_0x459b00 == "S") _0x498306.height = _0x38fc93 - _0x498306.y, _0x498306["height"] < this.minHeight && (_0x498306["height"] = this.minHeight); else {
                if (_0x459b00 == "W") _0x498306.x = _0x4a3d11, _0x498306["width"] = this["resizeRect"]["width"] - (_0x4a3d11 - this["resizeRect"].x), _0x498306["width"] < this.minWidth && (_0x498306.x -= this["minWidth"] - _0x498306["width"], _0x498306.width = this["minWidth"]); else _0x459b00 == "E" && (_0x498306["width"] = _0x4a3d11 - _0x498306.x, _0x498306.width < this["minWidth"] && (_0x498306["width"] = this["minWidth"]));
              }
            }
          }
          this.setResizeBorder(_0x498306.x, _0x498306.y, _0x498306["width"], _0x498306["height"]);
        }
      }
    }
  }
  ["setPosition"](_0x462d88, _0x39cb2c) {
    this["form"]["css"]({
      top: _0x39cb2c,
      left: _0x462d88
    });
  }
  ["setSize"](_0x57f571, _0x39a091) {
    this["form"]["css"]({
      width: _0x57f571,
      height: _0x39a091
    });
  }
  ["setResizeBorder"](_0x57c536, _0x316233, _0x5a398e, _0x2a538c) {
    this["resizeBorder"]["css"]({
      top: _0x316233,
      left: _0x57c536,
      width: _0x5a398e,
      height: _0x2a538c
    });
  }
  ["setLimit"](_0x197863, _0x569dae) {
    this["form"]["css"]({
      "min-width": _0x197863,
      "min-height": _0x569dae
    });
  }
  ["calculateSizeType"](_0x2e31f4, _0x17df61) {
    var _0x2c72ab;
    if (_0x2e31f4 >= 0 && _0x2e31f4 < 577) _0x2c72ab = "xs"; else {
      if (_0x2e31f4 >= 577 && _0x2e31f4 < 768) _0x2c72ab = "sm"; else {
        if (_0x2e31f4 >= 768 && _0x2e31f4 < 992) _0x2c72ab = "md"; else {
          if (_0x2e31f4 >= 992 && _0x2e31f4 < 1200) _0x2c72ab = "lg"; else {
            if (_0x2e31f4 >= 1200 && _0x2e31f4 < 1400) _0x2c72ab = "xl"; else _0x2e31f4 >= 1400 && (_0x2c72ab = "xxl");
          }
        }
      }
    }
    var _0x4b8c7a = this["sizeType"];
    _0x2c72ab != _0x4b8c7a && (this.sizeType = _0x2c72ab, $(this)["triggerHandler"](new dialogSizeTypeChangedEvent(_0x2c72ab, _0x4b8c7a)["getEvent"]()));
  }
  ["processSizeType"](_0x8b86e6) {
    try {
      this.content["find"]("[data-size]").each(function (_0x528849, _0x4eeffd) {
        var _0x2bffb2 = $(_0x4eeffd)["data"]("size")["split"](" "),
          _0x3d64fe = {};
        $["each"](_0x2bffb2, function (_0x45be95, _0x47a574) {
          var _0x5f5562 = _0x47a574["match"](/col\-([A-z]{2})\-([0-9]+)/i);
          _0x5f5562 && (_0x3d64fe[_0x5f5562[1]] = parseInt(_0x5f5562[2]));
        }), _0x3d64fe = processSizes(_0x3d64fe), $.each(_0x4eeffd["classList"], function (_0x1cea86, _0x4d447b) {
          _0x4d447b && _0x4d447b["startsWith"]("col-") && $(_0x4eeffd).removeClass(_0x4d447b);
        }), $(_0x4eeffd)["addClass"]("col-" + _0x3d64fe[_0x8b86e6]);
      });
    } catch (_0x1b34a8) { }
    try {
      this["content"]["find"]("[data-display]")["each"](function (_0x4c7e29, _0x7cb462) {
        var _0x585b4c = $(_0x7cb462)["data"]("display")["split"](" "),
          _0x731625 = {};
        $["each"](_0x585b4c, function (_0x24d9a3, _0x20372d) {
          var _0x453a6d = _0x20372d.match(/d\-([A-z]{2})\-(block|inline|none)/i);
          _0x453a6d && (_0x731625[_0x453a6d[1]] = _0x453a6d[2]);
        }), _0x731625 = processSizes(_0x731625), $.each(_0x7cb462["classList"], function (_0x51a6bb, _0x1dbbeb) {
          _0x1dbbeb && _0x1dbbeb["startsWith"]("d-") && (_0x1dbbeb.endsWith("-block") || _0x1dbbeb["endsWith"]("-inline") || _0x1dbbeb["endsWith"]("-none")) && $(_0x7cb462)["removeClass"](_0x1dbbeb);
        }), $(_0x7cb462).addClass("d-" + _0x731625[_0x8b86e6]);
      });
    } catch (_0x2775d2) { }
    try {
      this["content"]["find"]("[data-css]")["each"](function (_0x5856f8, _0x2c8b81) {
        var _0x47cf73 = $(_0x2c8b81)["data"]("css").split(" "),
          _0xb4f4e6 = {};
        $["each"](_0x47cf73, function (_0x8fb45b, _0x1d40c1) {
          var _0x401f15 = _0x1d40c1["match"](/d\-([A-z]{2})\[(.+)\]$/i);
          _0x401f15 && (_0xb4f4e6[_0x401f15[1]] = _0x401f15[2]);
        }), _0xb4f4e6 = processSizes(_0xb4f4e6), $.each(_0xb4f4e6, function (_0x552989, _0x50f449) {
          var _0xac9eb4 = _0x50f449.split(" ");
          $["each"](_0xac9eb4, function (_0x32ae09, _0x552f0a) {
            $(_0x2c8b81)["removeClass"](_0x552f0a);
          });
        });
        var _0x2faa97 = _0xb4f4e6[_0x8b86e6]["split"](" ");
        $["each"](_0x2faa97, function (_0x4a2b1b, _0x3e8b40) {
          $(_0x2c8b81).addClass(_0x3e8b40);
        });
      });
    } catch (_0x27808f) { }
  }
  ["forceMaximize"]() {
    this["forcedMaximized"] = true, this.title.find("a.maximizeButton")["addClass"]("disabled"), this["wasMaximized"] = this["maximized"], this.maximize();
  }
  ["unforceMaximize"]() {
    this["forcedMaximized"] = false, this["title"]["find"]("a.maximizeButton").removeClass("disabled"), !this["wasMaximized"] && (this["restore"](), this["form"]["removeClass"]("noMouseInteraction"));
  }
  ["maximize"]() {
    if (!this.maximized) {
      var _0x3cf151 = this["form"]["offset"]();
      this["previousRect"] = new Rect(_0x3cf151["left"], _0x3cf151["top"], this["form"]["width"](), this.form["height"]()), this["maximized"] = true, this["form"]["find"](".dialogSize").addClass("noMouseInteraction"), this["form"]["addClass"]("dialogMaximized"), this.title["find"]("a.maximizeButton")["html"](new Icon("fa-window-restore")["html"]()), $(this)["triggerHandler"](new dialogMaximizedEvent().getEvent());
    }
  }
  ["restore"]() {
    this["maximized"] && (this["maximized"] = false, this["form"]["removeClass"]("dialogMaximized"), this["form"]["find"](".dialogSize")["removeClass"]("noMouseInteraction"), this["title"].find("a.maximizeButton")["html"](new Icon("fa-window-maximize")["html"]()), this.setSize(this["previousRect"].width, this["previousRect"].height), this["setPosition"](this["previousRect"].x, this.previousRect.y), this["setLimit"](this["minWidth"], this["minHeight"]), $(this)["triggerHandler"](new dialogRestoredEvent()["getEvent"]()));
  }
  ["toggleMaximize"]() {
    this["maximized"] ? !this.forcedMaximized && this["restore"]() : this["maximize"]();
  }
  ["mouseUp"](_0x3cd0b8, _0x21c4ed) {
    this["dragging"] && (this["dragging"] = false, this["dragPoint"] = null, $(this).triggerHandler(new dialogDraggingEndedEvent()["getEvent"]())), this["resizing"] && this["endResize"]();
  }
  ["endResize"]() {
    this["resizing"] = false, this.resizeRect = null, this["resizePoint"] = null, $(this)["triggerHandler"](new dialogResizingEndedEvent()["getEvent"]());
  }
  ["resized"]() {
    this.calculateSizeType(this.form.width(), this.form["height"]());
  }
  ["center"]() {
    var _0x4e7f25 = new Point(this["form"]["parent"]()["outerWidth"]() / 2 - this["form"]["outerWidth"]() / 2, this["form"]["parent"]()["outerHeight"]() / 2 - this["form"]["outerHeight"]() / 2);
    this["setPosition"](_0x4e7f25.x, _0x4e7f25.y);
  }
  ["show"]() {
    this["initializing"] && (this["initializing"] = false, this["setSize"](this.width, this["height"]), this["setLimit"](this["minWidth"], this["minHeight"]), this["center"]());
    var _0x3a6952 = this["title"].height() || 37;
    this["content"]["css"]({
      height: "calc(100% - " + _0x3a6952 + "px)",
      position: "relative",
      overflow: "hidden"
    }), this["helpLink"] != null ? this["title"]["find"](".helpButton").show() : this["title"].find(".helpButton")["hide"](), !this.active && (this["active"] = true, this["isModal"] ? this["formHolder"]["addClass"]("dialogModal") : this.formHolder["removeClass"]("dialogModal"), this["formHolder"]["fadeIn"](200), this["form"]["removeClass"]("dialogInvisible")["addClass"]("dialogVisible"), $(this).triggerHandler(new dialogOpenedEvent(this["name"])["getEvent"]()), this["createTitlebar"](), this.disableModal(), this["previousFocus"] = UI["getFocusElement"](), UI["setFocusElement"](null), this.loading(false), this["title"]["find"]("select[name=\"languagebutton\"]").val(textManager["getLocale"]()), this["title"]["find"]("select[name=\"languagebutton\"]")["toggle"](this["languageSelector"]), this["onShow"].apply(this, arguments), this["checkSizeRequirements"]() && this["outOfBounds"]() && this["resizeToFit"](), this["dragging"] = false, this["dragPoint"] = null);
  }
  ["hide"]() {
    this.active && (this.active = false, this.formHolder["fadeOut"](200), this["form"]["removeClass"]("dialogVisible")["addClass"]("dialogInvisible"), window["getSelection"] && window["getSelection"]()["removeAllRanges"](), this["resizing"] && this["endResize"](), $(this)["triggerHandler"](new dialogClosedEvent(this["name"])["getEvent"]()), this["onHide"](), UI["setFocusElement"](this["previousFocus"]));
  }
  ["changed"]() {
    textManager["updateElement"](this["form"]), $(this)["triggerHandler"](new dialogContentChangedEvent()["getEvent"]());
  }
  ["loading"](_0x163f5c) {
    if (_0x163f5c) {
      if (this["content"].find(".dialogLoader")["length"] == 0) {
        var _0x2d20d3 = $("<div />");
        _0x2d20d3["addClass"]("dialogLoader loadingSpinner"), _0x2d20d3["append"]("<p class=\"progressText\"><span class=\"icon\">" + new Icon("fa-spinner", "fas", "fa-spin")["html"]() + "</span></div>"), this.content["append"](_0x2d20d3);
      }
    } else this["content"]["find"](".dialogLoader")["remove"]();
  }
  ["alignModal"]() {
    if (this["modal"].is(":visible")) {
      var _0x201b53 = this["modal"]["find"](".subcontent");
      _0x201b53 && (_0x201b53["height"]() > this["modal"].height() ? (_0x201b53["removeClass"]("verticalAlign modalBorder"), this["modal"]["css"]("overflow", "auto")) : (!_0x201b53["hasClass"]("verticalAlign") && _0x201b53.addClass("verticalAlign modalBorder"), this["modal"].css("overflow", "hidden")));
    }
  }
  ["enableModal"](_0x3ebe67) {
    this["modal"].html(_0x3ebe67), this["content"]["append"](this["modal"]), this.modal.fadeIn(250), this.alignModal(), textManager["updateElement"](this["modal"]), $(this)["triggerHandler"](new dialogModalEnabledEvent()["getEvent"]());
  }
  ["disableModal"]() {
    this["modal"]["hide"](), this["content"]["remove"](this["modal"]), $(this)["triggerHandler"](new dialogModalDisabledEvent()["getEvent"]());
  }
  ["onWindowResize"](_0x43011d) {
    this["windowWidth"] = $(window)["width"](), this["windowHeight"] = $(window)["height"](), this["maximized"] && (_0x43011d ? $(this).triggerHandler(new dialogResizingStartedEvent("Screen")["getEvent"]()) : $(this)["triggerHandler"](new dialogResizingEndedEvent("Screen")["getEvent"]())), this["checkSizeRequirements"]() && this["outOfBounds"]() && this.resizeToFit();
  }
  ["checkSizeRequirements"]() {
    var _0x1f37c5 = this["windowWidth"] < this.minWidth || this["windowHeight"] < this["minHeight"];
    if (_0x1f37c5) return !this["forcedMaximized"] && this["forceMaximize"](), false; else this["forcedMaximized"] && this.unforceMaximize();
    return true;
  }
  ["outOfBounds"]() {
    var _0x311d22 = this.form["offset"]();
    return _0x311d22["left"] < 0 || this["windowWidth"] > _0x311d22.left || _0x311d22["top"] < 0 || this["windowHeight"] > _0x311d22["top"];
  }
  ["resizeToFit"]() {
    this.setSize(Math["min"](this["form"]["width"](), this.windowWidth || $(window).width()), Math["min"](this["form"]["height"](), this["windowHeight"] || $(window).height())), this["center"](), this["changed"]();
  }
  ["getFormWidth"]() {
    return this["form"]["width"]() + this.resizeBorderWidth * 2;
  }
  ["getFormHeight"]() {
    return this["form"].height() + this["resizeBorderWidth"] * 2;
  }
  ["hasModal"]() {
    return this["modal"].is(":visible");
  }
  ["onFocus"]() { }
  ["onBlur"]() { }
  ["onShow"]() { }
  ["onHide"]() { }
  ["onResize"]() { }
}
class SubDialog {
  constructor(_0x19a476, _0x268692 = null) {
    this.dialog = _0x19a476, _0x268692 == null && (_0x268692 = $("<div />"), _0x268692["addClass"]("h-100")), this.subContent = _0x268692;
  }
  ["load"]() { }
  ["unload"]() { }
}
class ConfigDialog extends Dialog {
  constructor(_0x1f7d54) {
    super(_0x1f7d54), this.icon = "fa-cog", this["caption"] = textManager["getString"]("config.title"), this["helpLink"] = "https://flockmod.com/help/tools/config/", this["loadContent"](this["loadFile"]("forms/config.main.html")), this["table"], this["elementCB"], this["changingPrimary"] = true;
    var _0x26c3eb = this;
    this["content"].on(UI.pointerEvent("click"), ".subcontentOption", function (_0x327b47) {
      _0x327b47["preventDefault"]();
      var _0x564200 = $(this).data("subcontent");
      _0x26c3eb["loadPage"](_0x564200);
    }), this["content"].on(UI.pointerEvent("click"), "#editShortcut", function (_0x5f2718) {
      _0x5f2718["preventDefault"](), _0x26c3eb["editShortcut"]();
    }), this["content"].on(UI["pointerEvent"]("click"), "#loadDefaults", function (_0x1510c3) {
      _0x1510c3["preventDefault"](), UI.shortcutManager.loadDefaults(), _0x26c3eb["loadPage"]("shortcuts");
    }), this["content"].on(UI["pointerEvent"]("click"), "#changeButton, #changeButton2", function (_0x344232) {
      _0x344232.preventDefault(), _0x26c3eb["content"].find("#changeButton")["html"](textManager["getString"]("config.btnChange")), _0x26c3eb["content"].find("#changeButton2")["html"](textManager["getString"]("config.btnChange")), UI.shortcutManager["setupMode"] ? UI["shortcutManager"]["setupMode"] = false : (UI["shortcutManager"]["setupMode"] = true, _0x26c3eb["changingPrimary"] = $(_0x344232["target"])["attr"]("id") == "changeButton", $(_0x344232["target"]).html(textManager["getString"]("config.lblListening")));
    }), this["content"].on(UI["pointerEvent"]("click"), "#clearButton, #clearButton2", function (_0x5076fb) {
      _0x5076fb.preventDefault(), _0x26c3eb["setShortcut"]("", $(_0x5076fb.target)["attr"]("id") == "clearButton");
    }), this["content"].on(UI["pointerEvent"]("click"), "#applyShortcut", function (_0x40182d) {
      _0x40182d["preventDefault"]();
      var _0x5b961e = _0x26c3eb.table["getSelected"](),
        _0x1f1e95 = _0x26c3eb["content"]["find"]("input[name=\"shortcut\"]").val(),
        _0x50cba6 = _0x26c3eb["content"].find("input[name=\"shortcut2\"]").val();
      if (!UI["shortcutManager"]["shortcutExists"](_0x1f1e95, _0x5b961e[0].ID) && !UI["shortcutManager"]["shortcutExists"](_0x50cba6, _0x5b961e[0].ID)) {
        if (!UI["shortcutManager"]["shortcutReserved"](_0x1f1e95) && !UI["shortcutManager"].shortcutReserved(_0x50cba6)) {
          if (UI.shortcutManager["changeShortcut"](_0x5b961e[0].ID, _0x1f1e95, true)) {
            var _0x1c0231 = {};
            _0x1c0231[_0x26c3eb["table"]["getColumnId"]("Shortcut")] = _0x1f1e95, _0x1c0231[_0x26c3eb.table["getColumnId"]("Hotkey")] = shortcutToKeys(_0x1f1e95), _0x26c3eb.table.updateRow(_0x5b961e[0]["rowId"], _0x1c0231);
          }
          if (UI["shortcutManager"]["changeShortcut"](_0x5b961e[0].ID, _0x50cba6, false)) {
            var _0x1c0231 = {};
            _0x1c0231[_0x26c3eb["table"]["getColumnId"]("Shortcut2")] = _0x50cba6, _0x1c0231[_0x26c3eb["table"]["getColumnId"]("Hotkey 2")] = shortcutToKeys(_0x50cba6), _0x26c3eb["table"]["updateRow"](_0x5b961e[0]["rowId"], _0x1c0231);
          }
          _0x26c3eb["disableModal"]();
        } else UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtReservedHotkey"));
      } else UI.dialogHandler["showAlert"](textManager["getString"]("alerts.txtHotkeyInUse"));
    }), $(this).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x45a556) {
      _0x26c3eb["table"] && _0x26c3eb["table"]["updated"]();
    }), $(this).on("dialogModalDisabled", function (_0x1282c0) {
      UI.shortcutManager["setupMode"] = false;
    });
  }
  ["loadContent"](_0x31af06) {
    this["content"].html(_0x31af06), $(this["content"])["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    });
  }
  ["loadSubcontent"](_0x5b6afb) {
    this.content.find(".dynamicDialogArea").html(_0x5b6afb);
  }
  ["loadPage"](_0x4f3c20) {
    var _0x1b75b3 = this;
    if (_0x4f3c20 !== undefined) {
      this["form"]["find"](".subcontentOption")["removeClass"]("selected"), this.form.find(".subcontentOption[data-subcontent=" + _0x4f3c20 + "]")["addClass"]("selected"), this.loading(true);
      if (_0x4f3c20 == "settings") {
        this.loadSubcontent(this["loadFile"]("forms/config.settings.html")), $["each"](textManager["getSupportedLanguages"](), function (_0x204d6f, _0x17f9b6) {
          _0x1b75b3["content"].find("select[name=\"language\"]")["append"](new Option(_0x17f9b6, _0x204d6f));
        }), this["sidebarSelector"] = new Selector(this["content"]["find"]("div[name=\"sidebar\"]"), {
          left: textManager["getString"]("config.optLeft"),
          right: textManager["getString"]("config.optRight")
        }), this.volumeSlider = new Slider(this["content"].find("div[name=\"volume\"]"), 0, 1, 0.01, zeroToOnePercentage), this["volumeSlider"].setValue(UI["userPreferences"]["getProperty"]("soundvolume", 1)), this["sidebarSelector"].select(UI.toolbarSide), this["content"]["find"]("select[name=\"language\"]")["val"](textManager["getLocale"]()), this.content["find"]("select[name=\"theme\"]")["val"](UI["userPreferences"]["getProperty"]("theme", "dark")), this["content"].find('select[name="strokequality"]')["val"](UI["userPreferences"].getProperty("strokequality", "high")), this["elementCB"] = [], this["content"]["find"](".check")["each"](function (_0xf4d5ab, _0x3b7b1c) {
          _0x3b7b1c = $(_0x3b7b1c), _0x3b7b1c.addClass("smallCheckbox");
          var _0x68c161 = _0x3b7b1c["attr"]("name"),
            _0x6871c0 = _0x3b7b1c["data"]("caption-i18n") ? textManager.getString(_0x3b7b1c["data"]("caption-i18n")) : _0x3b7b1c.data("caption"),
            _0x865dcf = _0x3b7b1c.data("group"),
            _0x51f93f = _0x3b7b1c["data"]("value") ? _0x3b7b1c["data"]("value") == "1" : false,
            _0x51c234 = new Checkbox(_0x3b7b1c, _0x6871c0);
          _0x51c234["setValue"](UI["userPreferences"]["getGroupOption"](_0x865dcf, _0x68c161, _0x51f93f)), _0x1b75b3["elementCB"]["push"](_0x51c234);
        }), this["content"]["find"]("#uploadConfig").on("change", function (_0x4b927a) {
          var _0x1bd1b6 = _0x4b927a["target"].files,
            _0x57aad3 = _0x1bd1b6[0];
          if (getExtension(_0x57aad3["name"]) == "FMC") {
            var _0xa7365b = new FileReader();
            _0xa7365b.onload = function (_0x15dc30) {
              let _0x14a8da = JSON["parse"](atob(_0x15dc30.target["result"]));
              _0x14a8da && typeof _0x14a8da === "object" && (storage["data"] = _0x14a8da, storage["saveData"](), UI["reloadStorage"](), _0x1b75b3["loadPage"]("settings"), _0x1b75b3["applySettings"](true));
            }, _0xa7365b["readAsText"](_0x57aad3);
          } else UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtIncorrectFileType"));
        }), this["content"]["find"]("#importSettings").on(UI.pointerEvent("click"), function (_0x4b8d64) {
          _0x4b8d64["preventDefault"](), _0x1b75b3["content"]["find"]("#uploadConfig").click();
        }), this["content"]["find"]("#exportSettings").on(UI.pointerEvent("click"), function (_0x3c0a64) {
          _0x3c0a64["preventDefault"](), storage["exportData"]();
        }), this["content"].find("#applySettings").on(UI.pointerEvent("click"), function (_0x1cf445) {
          _0x1cf445.preventDefault(), _0x1b75b3["applySettings"](), UI["dialogHandler"].showAlert(textManager["getString"]("alerts.txtSaved"));
        });
        var _0x4d53c3 = this["content"].find(".dialogContentArea")["overlayScrollbars"]({
          className: "os-theme-light",
          overflowBehavior: {
            x: "hidden"
          }
        })["overlayScrollbars"]();
        _0x4d53c3.addExt("fmExtension"), this["changed"](), this["loading"](false);
      } else {
        if (_0x4f3c20 == "shortcuts") this["loadSubcontent"](this["loadFile"]("forms/config.shortcuts.html")), this.shortcutList(), this["changed"](), this["table"]["updated"](), this.content["find"]("#editShortcut").addClass("disabled"), this["loading"](false); else {
          if (_0x4f3c20 == "aboutus") {
            this["loadSubcontent"](this.loadFile("forms/config.aboutus.html")), this.content["find"]("div[name=\"build\"]")["text"]("Build: " + UI["version"]), this["content"]["find"](".btn.usefulLink").on(UI["pointerEvent"]("click"), function (_0x50eda1) {
              _0x50eda1["preventDefault"]();
              let _0x1e978e = $(_0x50eda1["target"])["attr"]("name");
              if (_0x1e978e == "gallery") window["open"]("https://flockmod.com/gallery/", "_blank"); else {
                if (_0x1e978e == "news") UI["helpDialog"]["show"]("https://flockmod.com/news/"); else {
                  if (_0x1e978e == "feedback") UI["feedbackDialog"]["show"](); else {
                    if (_0x1e978e == "ideas") window["open"]("http://ideas.flockmod.com", "_blank"); else _0x1e978e == "help" && window.open("https://flockmod.com/help/", "_blank");
                  }
                }
              }
            });
            var _0x2c1e46 = new Table(this["content"]["find"]("#specialThanks"), null, "thanksTable", "fmTable");
            _0x2c1e46["rowsPerPage"] = 20, _0x2c1e46["selectable"] = false, _0x2c1e46.setFilterable(false), _0x2c1e46["setTitle"](textManager["getString"]("config.lblSpecialThanks")), _0x2c1e46["clear"](), _0x2c1e46["setHeader"](["Name"]), _0x2c1e46.headerCaption(1, textManager.getString("config.rowThanksName"));
            var _0x156ccd = ["Josh", "Maka", "TnT"];
            $["each"](_0x156ccd, function (_0x5e6e9e, _0x120e5d) {
              _0x2c1e46["addRow"]([_0x120e5d], false);
            }), _0x2c1e46["updated"](), _0x2c1e46["sort"](1), this.changed(), this.loading(false);
          }
        }
      }
      this.processSizeType(this.sizeType);
    }
  }
  ["applySettings"](_0x2bfb5a = false) {
    var _0x2d6980 = {};
    $["each"](this["elementCB"], function (_0x13c733, _0x4b2666) {
      !(_0x4b2666["container"].data("group") in _0x2d6980) && (_0x2d6980[_0x4b2666["container"]["data"]("group")] = {}), _0x2d6980[_0x4b2666["container"].data("group")][_0x4b2666["container"]["attr"]("name")] = _0x4b2666["checked"];
    }), $["each"](_0x2d6980, function (_0x3024f3, _0xf9cde7) {
      UI.userPreferences["setGroupOptions"](_0x3024f3, _0xf9cde7);
    });
    var _0x3b82cf = this["content"]["find"]("select[name=\"language\"]").val();
    _0x3b82cf != textManager.getLocale() && (textManager["changeLocale"](_0x3b82cf), textManager["updateElement"]($("body")));
    var _0x5ca105 = this["content"]["find"]("select[name=\"theme\"]")["val"]();
    (_0x5ca105 != UI["userPreferences"]["getProperty"]("theme", "dark") || _0x2bfb5a) && UI["loadTheme"](_0x5ca105);
    UI.userPreferences.setProperty("language", _0x3b82cf), UI["userPreferences"]["setProperty"]("theme", _0x5ca105), UI["userPreferences"]["setProperty"]("strokequality", this["content"]["find"]("select[name=\"strokequality\"]").val()), UI["userPreferences"]["setProperty"]("soundvolume", this["volumeSlider"]["value"]);
    var _0x151a9e = this["sidebarSelector"].getSelected();
    UI.moveSidebar(_0x151a9e), UI["userPreferences"].setProperty("toolbarside", _0x151a9e), UI.userPreferences["getGroupOption"]("graphics", "showusername", true) ? room["myself"]["surface"]["cursor"]["showUsername"]() : room["myself"]["surface"]["cursor"]["hideUsername"]();
  }
  ["shortcutPressed"](_0x1ac25e) {
    var _0x35c4b4 = this["table"]["getSelected"](),
      _0x294cbb = UI["shortcutManager"]["shortcutExists"](_0x1ac25e, _0x35c4b4[0].ID),
      _0x10ff18 = UI["shortcutManager"]["shortcutReserved"](_0x1ac25e);
    this["setShortcut"](_0x1ac25e, this.changingPrimary, !_0x294cbb && !_0x10ff18);
  }
  ["setShortcut"](_0x22f8ef = "", _0x4ed9aa = true, _0x4d53af = true) {
    _0x4ed9aa ? (this.content["find"]('input[name="shortcut"]')["val"](_0x22f8ef), this["content"].find("div[name=\"shortcutKeys\"]")["html"](shortcutToKeys(_0x22f8ef)), _0x4d53af ? this["content"]["find"]("div[name=\"shortcutKeys\"]").removeClass("prohibitedShortcut") : this["content"]["find"]("div[name=\"shortcutKeys\"]").addClass("prohibitedShortcut")) : (this["content"]["find"]('input[name="shortcut2"]')["val"](_0x22f8ef), this.content["find"]('div[name="shortcutKeys2"]').html(shortcutToKeys(_0x22f8ef)), _0x4d53af ? this.content["find"]("div[name=\"shortcutKeys2\"]").removeClass("prohibitedShortcut") : this.content["find"]("div[name=\"shortcutKeys2\"]")["addClass"]("prohibitedShortcut"));
  }
  ["shortcutList"]() {
    var _0x4b93a3 = new Table(this["content"]["find"]("#configShurtcuts"), null, "shortcutsTable", "fmTable");
    _0x4b93a3["rowsPerPage"] = 40, _0x4b93a3["selectable"] = true, _0x4b93a3.setFilterable(true), _0x4b93a3["setTitle"](textManager["getString"]("config.lblHotkeys")), _0x4b93a3["clear"](), _0x4b93a3.setHeader(["ID", "Description", "Shortcut", "Shortcut2", "Hotkey", "Hotkey 2"]), _0x4b93a3["headerCaption"](2, textManager.getString("config.rowDescription")), _0x4b93a3["headerCaption"](5, textManager["getString"]("config.rowHotkey")), _0x4b93a3["headerCaption"](6, textManager["getString"]("config.rowHotkey2"));
    var _0x3a0aa1 = this;
    $["each"](UI["shortcutManager"]["shortcuts"], function (_0x1da69f, _0x562d0d) {
      _0x4b93a3["addRow"]([_0x562d0d.id, textManager["getString"]("config.sc." + _0x562d0d.id + "." + _0x562d0d.stype, _0x562d0d.description), _0x562d0d.shortcut, _0x562d0d["shortcut2"], shortcutToKeys(_0x562d0d.shortcut), shortcutToKeys(_0x562d0d["shortcut2"])], false);
    }), $(_0x4b93a3).on("tableRowDoubleClick", function (_0xfe7d80) {
      _0x3a0aa1["editShortcut"]();
    }), $(_0x4b93a3).on("tableRowSelected tableRowUnselected", function (_0x5db8d1) {
      _0x5db8d1["type"] == "tableRowSelected" ? _0x3a0aa1["content"]["find"]("#editShortcut")["removeClass"]("disabled") : _0x3a0aa1["content"].find("#editShortcut")["addClass"]("disabled");
    }), _0x4b93a3["hideColumns"]([1, 3, 4]), _0x4b93a3["updated"](), this["table"] = _0x4b93a3;
  }
  ["editShortcut"]() {
    var _0x569962 = this["table"]["getSelected"]();
    this["enableModal"](this.loadFile("forms/config.modal.editshortcut.html")), this["content"]["find"]("input[name=\"description\"]")["val"](_0x569962[0]["Description"]), this["setShortcut"](_0x569962[0].Shortcut, true), this["setShortcut"](_0x569962[0].Shortcut2, false);
  }
  ["clearSubcontent"]() {
    this["content"].find(".dynamicDialogArea")["empty"]();
  }
  ["onShow"]() {
    this["loadPage"]("settings");
  }
  ["onHide"]() {
    this["clearSubcontent"](), this.table && this.table.reset();
  }
}
class LoginDialog extends Dialog {
  constructor(_0x5202d4) {
    super(_0x5202d4), this["icon"] = "fa-university", this["caption"] = textManager["getString"]("login.title"), this.closable = false, this["maximizable"] = true, this["languageSelector"] = true, /*https://flockmod.com/help/*/ this["helpLink"] = "https://google.ca", this["isModal"] = false, this["blockBackground"] = true, this["blockStyle"] = "blockwelcome", this["blockOpacity"] = 1, this["rooms"] = {}, this["table"], this["width"] = 650, this["height"] = 550, this["defaultUsername"] = "Anonymous", this.defaultRoom = "fallback", this["requestedRoom"] = null, this["confirmedAccount"] = false, this.loadContent(this["loadFile"]("forms/login.main.html")), this.table = new Table(this["content"].find("#roomList"), null, "roomTable", "fmTable"), this["table"]["selectable"] = true, this["content"]["find"](".modal-body")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    });
    var _0x3017c7 = this;
    $(this["table"]).on("tableRowSelected", function (_0x1c5441) {
      var _0x1a602a = _0x1c5441["selection"][0];
      _0x3017c7["content"]["find"]("#loginRoom")["val"](_0x1a602a["Room"]), _0x3017c7.content["find"](".thumbBox")["empty"](), _0x3017c7["content"]["find"](".thumbBox")["css"]("background-color", _0x1a602a["Background"]);
      var _0x19600e = _0x1a602a["Password"] == "" ? "" : new Icon("fa-lock").html() + " ";
      _0x3017c7.content["find"](".nameBox").html(_0x19600e + " #" + _0x1a602a.Room), _0x3017c7["content"]["find"](".typeBox")["html"](_0x1a602a["Size"]), _0x3017c7["content"].find(".descriptionBox")["html"](nl2br(parseURL(escapeHTML(_0x1a602a["Description"]))));
      var _0x5ab250 = {};
      _0x5ab250.command = "OFFROOM", _0x5ab250["option"] = "GETTHUMB", _0x5ab250.room = _0x1a602a["Room"], socket["send"](_0x5ab250, true);
    }), $(this).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x5758cc) {
      _0x3017c7["table"] && _0x3017c7.table["updated"]();
    }), $(UI["account"]).on("usernameChanged", function (_0x33d818) {
      _0x3017c7["content"]["find"]('a[name="accountbutton"]').html(new Icon("fa-user")["html"]() + " " + _0x33d818["newname"]);
    });
  }
  ["loadContent"](_0x3e1c43) {
    var _0x403ac1 = this;
    this["content"]["html"](_0x3e1c43), this["content"].on(UI["pointerEvent"]("click"), "button[name=\"okaccount\"]", function (_0x161420) {
      _0x161420["preventDefault"]();
      let _0x3e9274 = _0x403ac1["content"]["find"]("input[name=\"loginUsername\"]").val();
      UI.account.change(_0x3e9274 == "" ? "Anonymous" : _0x3e9274, _0x403ac1.content["find"]('input[name="loginPassword"]')["val"]()), _0x403ac1["content"]["find"]('input[name="loginUsername"]')["val"](""), _0x403ac1["content"]["find"]('input[name="loginPassword"]')["val"](""), _0x403ac1["disableModal"](), _0x403ac1.confirmedAccount = true, _0x403ac1["content"].find("#loginRoom")["focus"](), _0x403ac1["content"]["find"]("form[name=\"loginForm\"]")["submit"](function (_0x58db17) {
        _0x58db17["preventDefault"]();
      }), $(this)["hasClass"]("joinRoom") && _0x403ac1.doLogin();
    }), this["content"].on(UI["pointerEvent"]("click"), "button[name=\"newaccount\"]", function (_0x2e5006) {
      _0x2e5006["preventDefault"]();
      if (_0x403ac1["content"].find("input[name=\"registerUsername\"]")["val"]().length >= 3) {
        if (/(\p{Emoji_Presentation}|\p{Extended_Pictographic})/u.test(_0x403ac1.content["find"]("input[name=\"registerUsername\"]")["val"]())) UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtUsernameContainsEmojis")); else {
          if (_0x403ac1["content"]["find"]("input[name=\"registerPassword\"]")["val"]()["length"] >= 5) {
            if (_0x403ac1.content["find"]("input[name=\"registerQuestion\"]")["val"]() != "" && _0x403ac1["content"]["find"]("input[name=\"registerAnswer\"]").val() != "") {
              if (_0x403ac1["content"]["find"]("input[name=\"registerQuestion\"]")["val"]() != _0x403ac1["content"].find('input[name="registerAnswer"]')["val"]()) {
                if (_0x403ac1.content["find"]("input[name=\"registerPassword\"]")["val"]() == _0x403ac1.content.find("input[name=\"registerPassword2\"]")["val"]()) {
                  var _0x1a912b = {};
                  _0x1a912b.command = "OFFROOM", _0x1a912b["option"] = "ACCOUNTCREATE", _0x1a912b["username"] = _0x403ac1["content"]["find"]("input[name=\"registerUsername\"]").val(), _0x1a912b["password"] = _0x403ac1.content["find"]('input[name="registerPassword"]')["val"](), _0x1a912b.email = _0x403ac1.content["find"]("input[name=\"registerEmail\"]").val(), _0x1a912b["question"] = _0x403ac1["content"]["find"]('input[name="registerQuestion"]')["val"](), _0x1a912b.answer = _0x403ac1.content.find("input[name=\"registerAnswer\"]")["val"](), socket["send"](_0x1a912b, true), _0x403ac1["loading"](true);
                } else UI["dialogHandler"].showAlert(textManager.getString("alerts.txtPasswordDontMatch"));
              } else UI["dialogHandler"]["showAlert"](textManager.getString("alerts.txtSecretsMatch"));
            } else UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtFillSecrets"));
          } else UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtPasswordTooShort"));
        }
      } else UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtUsernameTooShort"));
    }), this["content"].on("keydown", ".usernameAccount, .roomName", function (_0x22c354) {
      let _0x15abca = _0x22c354["which"] || _0x22c354["keyCode"],
        _0x3e1816 = _0x22c354.key,
        _0x1dc0ab = _0x15abca == 32;
      if (_0x1dc0ab || _0x15abca > 32 && (_0x3e1816 == "<" || _0x3e1816 == ">" || _0x3e1816 == "'" || _0x3e1816 == '"' || _0x3e1816 == "/" || _0x3e1816 == "\\" || _0x3e1816 == "@")) return _0x22c354["stopPropagation"](), _0x22c354["preventDefault"](), false;
    }), this.content.find("a[name=\"loginbutton\"]").on(UI.pointerEvent("click"), function (_0x3ef794) {
      _0x3ef794.preventDefault(), _0x403ac1.attemptJoin();
    }), this["content"].find("a[name=\"refreshbutton\"]").on(UI["pointerEvent"]("click"), function (_0x165b81) {
      _0x165b81.preventDefault(), _0x403ac1["refresh"]();
    }), this.content["find"]("#loginRoom").on("keydown", function (_0x468f19) {
      _0x468f19.which == 13 && (_0x468f19["preventDefault"](), _0x403ac1["attemptJoin"]());
    }), this.content.on(UI["pointerEvent"]("click"), "button[name=\"enterRoom\"]", function (_0x348a4d) {
      _0x348a4d["preventDefault"](), _0x403ac1["attemptJoin"]();
    }), this["content"].on(UI["pointerEvent"]("click"), "a[name=\"forgotPassword\"]", function (_0x2d718a) {
      _0x2d718a["preventDefault"](), UI["dialogHandler"]["showAlert"](textManager.getString("alerts.txtNotAvailableYet"));
    }), this.content.on(UI.pointerEvent("click"), '[name="accountRegister"]', function (_0x420858) {
      _0x420858.preventDefault(), _0x403ac1["enableModal"](_0x403ac1["loadFile"]("forms/login.modal.registeraccount.html")), _0x403ac1["content"]["find"]("input.usernameAccount")["focus"]();
    }), this["content"]["find"]("a[name=\"accountbutton\"]").on(UI["pointerEvent"]("click"), function (_0x12121e) {
      _0x12121e["preventDefault"](), _0x403ac1["loading"](true), _0x403ac1["enableModal"](_0x403ac1["loadFile"]("forms/login.modal.username.html")), _0x403ac1.content["find"]("input[name=\"loginUsername\"]")["focus"](), _0x403ac1["content"]["find"]("button[name=\"okaccount\"]:not(.joinRoom)").show(), _0x403ac1["content"]["find"]('button[name="okaccount"].joinRoom').hide(), _0x403ac1["loading"](false);
    });
  }
  ["attemptJoin"]() {
    this["doLogin"](this["content"]["find"]("input[name=\"roompassword\"]")["val"]());
  }
  ["roomThumb"](_0xaf35ac, _0x5602e9) {
    if (_0x5602e9) {
      var _0x3a1330 = this;
      $["each"](_0x5602e9, function (_0x34fdfd, _0x451878) {
        var _0x580c87 = new Image();
        _0x580c87["src"] = _0x451878, $(_0x580c87)["addClass"]("thumb"), _0x3a1330["content"].find(".thumbBox")["append"](_0x580c87);
      });
    }
  }
  ["registerResponse"](_0x4ab7fe) {
    _0x4ab7fe == "OK" ? (UI["account"].change(this["content"]["find"]("input[name=\"registerUsername\"]")["val"](), this["content"]["find"]("input[name=\"registerPassword\"]")["val"]()), this["confirmedAccount"] = true, this.disableModal()) : UI["dialogHandler"]["showAlert"](_0x4ab7fe), this.loading(false);
  }
  ["roomPassword"]() {
    this["loading"](false), this.enableModal(this.loadFile("forms/login.modal.roompassword.html")), this["content"]["find"]("form[name=\"loginForm\"]")["submit"](function (_0xd384df) {
      _0xd384df["preventDefault"]();
    });
    var _0x553bd7 = this;
    this["content"].find("input[name=\"roompassword\"]").on("keydown", function (_0xc8e4a9) {
      _0xc8e4a9["which"] == 13 && (_0xc8e4a9["preventDefault"](), _0x553bd7.attemptJoin());
    }), this["content"].find('input[name="roompassword"]').focus();
  }
  ["roomList"](_0x2e5e6f) {
    this["table"]["reset"](), this.table["setHeader"](["Room", "Roomname", "Type", "Background", "Size", "Password", new Icon("fa-users")["html"](), "Description", "Users", "Size"]), this["table"]["hideColumns"]([1, 3, 4, 5, 6, 8, 9, 10]), this.table["headerCaption"](2, textManager["getString"]("login.rowRoomName")), this["table"]["columnAlignment"](7, "right");
    var _0x5612d4 = 0,
      _0x48837f = 0,
      _0x458b21 = null,
      _0x2dd484 = this;
    $["each"](_0x2e5e6f.rooms, function (_0x586497, _0xb8ae30) {
      _0x2dd484.requestedRoom != null && _0xb8ae30["name"] == _0x2dd484["requestedRoom"] && (_0x458b21 = _0x5612d4);
      _0xb8ae30.name == _0x2dd484["defaultRoom"] && (_0x48837f = _0x5612d4);
      _0x5612d4++;
      var _0x32388c = _0xb8ae30["password"] ? " " + new Icon("fa-lock")["html"]() : "";
      _0x2dd484["table"]["addRow"]([_0xb8ae30.name, _0xb8ae30["name"] + _0x32388c, _0xb8ae30.type, _0xb8ae30["background"], _0xb8ae30["size"], _0xb8ae30["password"], _0xb8ae30["usercount"], escapeHTML(_0xb8ae30["description"]), _0xb8ae30["users"], _0xb8ae30["size"]], false);
    }), _0x2e5e6f["rooms"]["length"] > 0 && this["content"]["find"]("#loginRoom")["val"]() == "" && (this["requestedRoom"] == null ? this["table"].select(_0x48837f) : _0x458b21 != null && this["table"]["select"](_0x458b21)), this["loading"](false), this.changed(), this["table"]["updated"](), this["table"]["sort"](7, false), this["processSizeType"](this.sizeType);
  }
  ["doLogin"](_0x56689c = "") {
    this.loading(true);
    if (!this["confirmedAccount"]) this["enableModal"](this["loadFile"]("forms/login.modal.username.html")), this["content"].find("button[name=\"okaccount\"].joinRoom")["show"](), this["content"]["find"]("button[name=\"okaccount\"]:not(.joinRoom)")["hide"](), this["content"]["find"]("input[name=\"loginUsername\"]")["focus"](), this["loading"](false); else {
      var _0x45d75b = {};
      _0x45d75b["command"] = "OFFROOM", _0x45d75b.option = "ENTER", _0x45d75b["room"] = this["content"]["find"]("#loginRoom")["val"]() != "" ? this["content"]["find"]("#loginRoom").val() : this.defaultRoom, _0x45d75b["username"] = UI["account"]["username"] != "" ? UI["account"]["username"] : this["defaultUsername"], _0x45d75b["password"] = UI["account"]["password"], _0x56689c != "" && (_0x45d75b["roompwd"] = _0x56689c), socket["send"](_0x45d75b, true);
    }
  }
  ["refresh"]() {
    var _0x453f19 = {};
    _0x453f19.command = "OFFROOM", _0x453f19.option = "ROOMS", socket["send"](_0x453f19, true);
  }
  ["onShow"]() {
    if (room && room["connected"]) {
      var _0x2b0524 = {};
      _0x2b0524.command = "USERFUNCTIONS", _0x2b0524["option"] = "LEAVE", socket.send(_0x2b0524, true);
    }
    this["loading"](false), this["content"].find('a[name="accountbutton"]')["html"](new Icon("fa-user")["html"]() + " " + (UI["account"]["username"] == "" ? "Anonymous" : UI.account["username"])), this["changed"](), this.table["updated"](), this["content"].find("#loginRoom")["focus"]();
    let _0x588829 = getRoomFromURL("r");
    this["requestedRoom"] = _0x588829, _0x588829 != null && (this.content["find"]("#loginRoom")["val"](this["requestedRoom"]), this["attemptJoin"]());
  }
  ["onResize"]() {
    this["getFormHeight"]() < this.minHeight ? this.hidePreview() : this["showPreview"]();
  }
  ["showPreview"]() {
    !this["content"].find(".previewThumb").is(":visible") && (this["content"]["find"](".previewThumb")["show"](), this["changed"]());
  }
  ["hidePreview"]() {
    this["content"]["find"](".previewThumb").is(":visible") && (this["content"]["find"](".previewThumb")["hide"](), this.changed());
  }
  ["forceJoin"](_0x16b186, _0x152216 = "") {
    this["content"]["find"]("#loginRoom")["val"](_0x16b186), this["doLogin"](_0x152216);
  }
}
class ChatDialog extends Dialog {
  constructor(_0x478345) {
    super(_0x478345), this["currentChannel"] = null, this["channels"] = {}, this["icon"] = "fa-comment", this["caption"] = textManager.getString("chat.title"), this["helpLink"] = /*https://flockmod.com/help/tools/social/*/ "", this["fontSize"] = 13, this["spamLimit"] = 25, this["loadContent"](this.loadFile("forms/chat.main.html")), this.sidebarScroll = this.content["find"](".chatBar")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"](), this["sidebarScroll"]["addExt"]("fmExtension"), this["scroll"] = this.content["find"](".chatBox")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"](), this["scroll"]["addExt"]("fmExtension"), this["content"]["find"](".sidebarElements")["empty"](), this["content"]["find"]("a[name=\"newPM\"]")["hide"](), this["addChannel"]("public", "room"), this["addChannel"]("staff", "room"), this["selectChannel"]("public", "room"), this["changeFontSize"](this.fontSize), this["previews"] = new ImagePreview(), this["emojiList"] = new EmojiSelector(this["content"]["find"](".emojiContainer")), this["userTag"] = new UserTag(this["content"]["find"](".userTagContainer"));
    var _0x3c18d9 = this;
    $(this.emojiList).on("dialogClosed", function (_0x1356ba) {
      _0x3c18d9["content"]["find"]("input[name=\"text\"]")["focus"]();
    }), $(this.userTag).on("userTagged", function (_0x4f983a) {
      _0x3c18d9["content"]["find"]("input[name=\"text\"]")["focus"](), _0x3c18d9.acceptTag(_0x4f983a["username"], _0x4f983a["filter"]), _0x3c18d9.userTag["hide"]();
    }), $["contextMenu"]({
      selector: ".chatBox",
      build: function (_0x4ec8b5) {
        var _0x37dc5a = {
          callback: function (_0xb9907f, _0x2ac854) {
            if (_0xb9907f == "clear") {
              var _0x15a529 = _0x3c18d9["getChannelString"](_0x3c18d9["channels"][_0x3c18d9["currentChannel"]].name, _0x3c18d9["channels"][_0x3c18d9["currentChannel"]]["type"]);
              _0x3c18d9.content["find"](".channelMessages[name=\"" + _0x15a529 + '"]')["empty"]();
            } else {
              if (_0xb9907f == "copy") document["execCommand"]("copy", false, null); else {
                if (_0xb9907f == "select") try {
                  var _0x13d5dd = document["createRange"]();
                  _0x13d5dd.selectNode(document["getElementById"]("chatMessages")), window["getSelection"]()["removeAllRanges"](), window.getSelection()["addRange"](_0x13d5dd);
                } catch (_0x467606) { }
              }
            }
          },
          items: {
            copy: {
              name: "Copy text",
              icon: "fa-copy"
            },
            select: {
              name: "Select all",
              icon: "fa-i-cursor"
            },
            "-": {
              type: "cm_separator"
            },
            clear: {
              name: "Clear text",
              icon: "fa-broom"
            }
          }
        };
        return $["each"](_0x37dc5a["items"], function (_0x53e384, _0x1fe8fb) {
          _0x37dc5a.items[_0x53e384]["name"] && (_0x37dc5a["items"][_0x53e384]["name"] = function () {
            return textManager["getString"]("menu.textbox." + _0x53e384, null, false);
          });
        }), _0x37dc5a;
      }
    }), $["contextMenu"]({
      selector: ".chatBox a",
      build: function (_0x5f1fa6) {
        var _0x13a79e = {
          callback: function (_0x4d2859, _0x599f83) {
            if (_0x4d2859 == "copylink") {
              var _0x393eb2 = _0x599f83["$trigger"];
              navigator.clipboard["writeText"](_0x393eb2["attr"]("href"));
            } else {
              if (_0x4d2859 == "openlink") {
                var _0x393eb2 = _0x599f83["$trigger"];
                window.open(_0x393eb2["attr"]("href"), "_blank");
              }
            }
          },
          items: {
            copylink: {
              name: "Copy link",
              icon: "fa-copy"
            },
            openlink: {
              name: "Open link",
              icon: "fa-arrow-up-right-from-square"
            }
          }
        };
        return $.each(_0x13a79e["items"], function (_0x5c232c, _0xac530a) {
          _0x13a79e["items"][_0x5c232c].name && (_0x13a79e["items"][_0x5c232c]["name"] = function () {
            return textManager["getString"]("menu.textbox." + _0x5c232c, null, false);
          });
        }), _0x13a79e;
      }
    }), $(this.emojiList).on("emojiSelected", function (_0x26c31e) {
      _0x3c18d9["content"].find("input[name=\"text\"]").val(_0x3c18d9["content"]["find"]("input[name=\"text\"]")["val"]() + _0x26c31e["emoji"]);
    }), this["content"].find("button[name=\"submit\"]").on(UI.pointerEvent("click"), function (_0x4e5a3c) {
      _0x4e5a3c["preventDefault"](), _0x3c18d9["sendMessage"](), _0x3c18d9["content"]["find"]('input[name="text"]').focus();
    }), this["content"]["find"](".chatBox").on("copy", function (_0x2949c3) {
      _0x3c18d9["content"]["find"](".msgTime")["hide"](), setTimeout(function () {
        _0x3c18d9["content"]["find"](".msgTime")["show"]();
      }, 100);
    }), this["content"].find("input[name=\"text\"]").on("blur", function (_0x1875c9) {
      !_0x3c18d9.userTag["isHovering"]() && setTimeout(function () {
        _0x3c18d9.userTag["hide"]();
      }, 250);
    }), this["content"].find("input[name=\"text\"]").on("focus", function (_0x36880c) {
      var _0xf3b9be = _0x3c18d9["currentWord"](this),
        _0x3d8d3f = _0xf3b9be["word"];
      _0x3d8d3f[0] == "@" && _0x3c18d9["showUserTag"](_0x3d8d3f["slice"](1));
    }), this["content"].find("input[name=\"text\"]").on("click", function (_0x2b7b32) {
      var _0x19debb = _0x3c18d9["currentWord"](this),
        _0x50b60c = _0x19debb["word"];
      _0x50b60c[0] == "@" ? _0x3c18d9["showUserTag"](_0x50b60c["slice"](1)) : _0x3c18d9["userTag"]["hide"]();
    }), this["content"].find("input[name=\"text\"]").on("keydown", function (_0x4f4210) {
      if (_0x3c18d9.userTag["isVisible"]()) {
        var _0x51b7bf = ["ArrowUp", "ArrowDown", "Enter"];
        if (_0x51b7bf["indexOf"](_0x4f4210["key"]) > -1) {
          _0x4f4210.preventDefault();
          if (_0x4f4210["key"] == "ArrowUp") _0x3c18d9["userTag"].up(); else _0x4f4210.key == "ArrowDown" && _0x3c18d9.userTag["down"]();
          return;
        }
      }
      _0x4f4210["which"] == 13 && (_0x4f4210["preventDefault"](), _0x3c18d9.sendMessage());
    }), this["content"].find("input[name=\"text\"]").on("keyup", function (_0x552e20) {
      var _0x79dfaf = _0x3c18d9.currentWord(this),
        _0x5ddf8e = _0x79dfaf.word;
      _0x5ddf8e[0] == "@" ? (_0x3c18d9["showUserTag"](_0x5ddf8e.slice(1)), _0x552e20["key"] == "Enter" && _0x3c18d9["userTag"].accept()) : _0x3c18d9["userTag"].hide();
    }), this["content"].on(UI["pointerEvent"]("click"), ".closePM", function (_0x1b7a66) {
      _0x1b7a66.preventDefault(), _0x1b7a66["stopPropagation"]();
      var _0x49d42d = _0x3c18d9.getChannelObject($(this)["attr"]("name"));
      _0x3c18d9["closeChannel"](_0x49d42d["name"], _0x49d42d["type"]);
    }), this["content"]["find"](".fontIncrease").on(UI["pointerEvent"]("click"), function (_0x50c90d) {
      _0x50c90d["preventDefault"](), _0x3c18d9["fontIncrease"]();
    }), this["content"].find(".fontDecrease").on(UI["pointerEvent"]("click"), function (_0x1289c1) {
      _0x1289c1.preventDefault(), _0x3c18d9["fontDecrease"]();
    }), this["content"].find("a[name=\"newPM\"]").on(UI["pointerEvent"]("click"), function (_0x2067f2) {
      _0x2067f2["preventDefault"]();
      var _0xcd1dc0 = 0;
      $.each(room.users, function (_0x352b6f, _0x5cd95c) {
        !_0x3c18d9.existsChannel(_0x5cd95c["username"], "user") && _0xcd1dc0++;
      });
      if (_0xcd1dc0 > 0) {
        _0x3c18d9["enableModal"](_0x3c18d9["loadFile"]("forms/chat.modal.newpm.html")), _0x3c18d9["content"]["find"]("select[name=\"userspm\"]")["focus"]();
        var _0x44bc7b = _0x3c18d9["content"]["find"]("select[name=\"userspm\"]");
        _0x3c18d9["content"]["find"]("a[name=\"addPM\"]").on(UI.pointerEvent("click"), function (_0x8e7cb2) {
          _0x8e7cb2["preventDefault"](), !_0x3c18d9["existsChannel"](_0x44bc7b["val"](), "user") && (_0x3c18d9.addChannel(_0x44bc7b.val(), "user"), _0x3c18d9["selectChannel"](_0x44bc7b["val"](), "user"), _0x3c18d9["disableModal"]());
        }), $["each"](room["users"], function (_0x46d8bd, _0x5008d0) {
          !_0x3c18d9["existsChannel"](_0x5008d0["username"], "user") && _0x44bc7b["append"](new Option(_0x5008d0["username"], _0x5008d0["username"]));
        });
      } else UI["dialogHandler"]["showAlert"](textManager.getString("alerts.txtNoMoreUsers"));
    }), this["content"].on(UI["pointerEvent"]("up"), ".channelTitle", function (_0x374780) {
      _0x374780["preventDefault"]();
      var _0x12e1d0 = $(this)["attr"]("name"),
        _0x19573e = _0x3c18d9["getChannelObject"](_0x12e1d0);
      _0x374780["which"] && _0x374780["which"] == 2 ? _0x3c18d9["closeChannel"](_0x19573e.name, _0x19573e["type"]) : _0x3c18d9["selectChannel"](_0x19573e["name"], _0x19573e.type);
    }), this["content"].on(UI["pointerEvent"]("click"), 'button[name="emoji"]', function (_0x44a1b9) {
      _0x44a1b9["preventDefault"](), _0x3c18d9["showEmojiSelector"]();
    }), $(this).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x1d89f8) {
      _0x3c18d9.scroll["scroll"]({
        y: "100%"
      }), _0x3c18d9["emojiList"]["isVisible"]() && _0x3c18d9.showEmojiSelector(), _0x3c18d9["userTag"]["isVisible"]() && _0x3c18d9.showUserTag();
    }), this["content"].on(UI.pointerEvent("click"), 'a[data-thumb-service="fmgallery"]', function (_0x1fc851) {
      _0x1fc851["preventDefault"](), UI["galleryImageDialog"].show($(this)["data"]("thumb-id"));
    }), this["content"].on(UI["pointerEvent"]("click"), 'a[data-thumb-service="fmgalleryuser"]', function (_0x187c69) {
      _0x187c69["preventDefault"](), UI["userGalleryDialog"]["show"]({
        uid: $(this)["data"]("thumb-id")
      });
    });
  }
  ["closeChannel"](_0x358b0b, _0x56efdb) {
    var _0x448749 = this.getChannelString(_0x358b0b, _0x56efdb);
    this["existsChannel"](_0x358b0b, _0x56efdb) && this["channels"][_0x448749]["closable"] && (this["deleteChannel"](_0x358b0b, _0x56efdb), this["currentChannel"] == _0x448749 && this["selectChannel"]("public", "room"));
  }
  ["isVisible"]() {
    return this["content"].is(":visible");
  }
  ["acceptTag"](_0x50751b, _0x27eab2 = "") {
    var _0x16aa25 = this.content["find"]("input[name=\"text\"]"),
      _0x2a5e3b = _0x16aa25.val(),
      _0x2af666 = this["currentWord"](_0x16aa25[0]),
      _0x1e1b8e = _0x2a5e3b["substring"](0, _0x2af666.start),
      _0x2c2b54 = _0x2a5e3b["substring"](_0x2af666["end"]),
      _0x35d599 = _0x1e1b8e + "@" + _0x50751b + (_0x2c2b54 == "" ? " " : _0x2c2b54),
      _0x25b695 = (_0x1e1b8e + "@" + _0x50751b).length + 1;
    _0x16aa25["val"](_0x35d599), setCaretPosition(_0x16aa25[0], _0x25b695);
  }
  ["getWordLimits"](_0x2d42d0, _0x585f94) {
    var _0xe05ad8 = _0x585f94,
      _0x387436 = _0x585f94,
      _0x247195 = _0x585f94,
      _0x229ce4 = _0x2d42d0.substring(0, _0x585f94),
      _0x12819e = "";
    if (_0x229ce4["indexOf"](" ") > 0) {
      let _0x221023 = _0x229ce4["split"](" ");
      _0x12819e = _0x221023[_0x221023["length"] - 1];
    } else _0x12819e = _0x229ce4;
    var _0x5b7dcb = "",
      _0x58bb74 = "";
    if (_0x2d42d0["length"] > _0x585f94 && _0x2d42d0[_0x585f94] != " ") {
      _0x5b7dcb = _0x2d42d0["substring"](_0x585f94);
      if (_0x5b7dcb["indexOf"](" ") > 0) {
        let _0xa495ba = _0x5b7dcb["split"](" ");
        _0x58bb74 = _0xa495ba[0];
      } else _0x58bb74 = _0x5b7dcb;
    }
    return {
      word: _0x12819e + _0x58bb74,
      start: _0x585f94 - _0x12819e["length"],
      end: _0x585f94 + _0x58bb74["length"],
      caret: _0x585f94
    };
  }
  ["currentWord"](_0x43e847) {
    var _0x24b0e3 = getCaretPosition(_0x43e847);
    return this["getWordLimits"](_0x43e847.value, _0x24b0e3);
  }
  ["showEmojiSelector"]() {
    var _0x1da018 = this.content["offset"](),
      _0x59bc53 = this["content"]["find"]("button[name=\"emoji\"]")["offset"]();
    this["emojiList"]["move"](_0x59bc53["left"] - _0x1da018.left, _0x59bc53.top - _0x1da018["top"] - this.emojiList["height"]()), this.emojiList["show"]();
  }
  ["showUserTag"](_0x360007 = "") {
    var _0x38237d = this["content"]["offset"](),
      _0x2bfa4a = this["content"]["find"](".chatText .chatTextGroup")["offset"](),
      _0x4c379e = this.content["find"](".chatText .chatTextGroup").width();
    this["userTag"].setWidth(_0x4c379e), this.userTag.move(_0x2bfa4a["left"] - _0x38237d["left"], this["content"]["find"](".chatText")["outerHeight"]() + 10), this["userTag"]["show"](), this["userTag"]["filter"](_0x360007);
  }
  ["updateWarnings"]() {
    if (room) {
      this["content"].find("div[name=\"channelWarnings\"]").text("");
      var _0x3cbf2d = this["getChannelObject"](this["currentChannel"]);
      if (_0x3cbf2d["type"] == "room") {
        if (!room["connected"]) this["content"]["find"]("div[name=\"channelWarnings\"]")["text"]("NOT CONNECTED"); else room["myself"].silenced && this["content"]["find"]("div[name=\"channelWarnings\"]").text("SILENCED");
      } else {
        if (_0x3cbf2d["name"] in room["users"]) {
          let _0x5cf1e3 = room["users"][_0x3cbf2d["name"]];
          _0x5cf1e3["ignored"] && this.content.find("div[name=\"channelWarnings\"]")["text"]("IGNORED");
        } else this["content"]["find"]("div[name=\"channelWarnings\"]")["text"]("OFFLINE");
      }
      this["changed"]();
    }
  }
  ["bindRoomEvents"]() {
    this["setChannelProperty"]("public", "room", "closable", false), this["setChannelProperty"]("staff", "room", "closable", false), this["setChannelProperty"]("public", "room", "silenced", room["myself"].silenced), this["setChannelProperty"]("staff", "room", "locked", !room.can("modmessageuse"));
    var _0x4a7a89 = this;
    $(room).on("userRenamed.chatevents", function (_0x54f726) {
      _0x4a7a89.updateWarnings();
    }), $(room).on("userIgnored.chatevents userUnignored.chatevents", function (_0x31d112) {
      _0x31d112["type"] == "userIgnored" ? _0x4a7a89["registerEvent"](textManager["getString"]("events.txtIgnore", _0x31d112["username"], false)) : _0x4a7a89.registerEvent(textManager["getString"]("events.txtUnignore", _0x31d112["username"], false)), _0x4a7a89["existsChannel"](_0x31d112["username"], "user") && (_0x4a7a89["setChannelProperty"](_0x31d112["username"], "user", "ignored", _0x31d112["type"] == "userIgnored"), _0x4a7a89.updateWarnings());
    }), $(room).on("roomPrivilegesChanged", function (_0x2ba20d) {
      var _0x3cbe85 = room["can"]("modmessageuse");
      _0x4a7a89["setChannelProperty"]("staff", "room", "locked", !_0x3cbe85);
    }), $(room).on("userLeft.chatevents userJoined.chatevents", function (_0x360a51) {
      let _0x193aeb = Object.keys(room["users"]).length;
      _0x193aeb > 0 ? _0x4a7a89["content"]["find"]('a[name="newPM"]')["show"]() : _0x4a7a89["content"]["find"]('a[name="newPM"]')["hide"](), _0x4a7a89["existsChannel"](_0x360a51["username"], "user") && _0x4a7a89.setChannelProperty(_0x360a51.username, "user", "offline", _0x360a51["type"] == "userLeft"), _0x4a7a89["userTag"]["userlistChanged"](), _0x4a7a89["updateWarnings"]();
    }), $(room).on("usernameChanged.chatevents", function (_0x45a976) {
      _0x4a7a89["existsChannel"](_0x45a976["oldname"], "user") && _0x4a7a89["setChannelProperty"](_0x45a976["oldname"], "user", "offline", true), _0x4a7a89["existsChannel"](_0x45a976["newname"], "user") && _0x4a7a89["setChannelProperty"](_0x45a976["newname"], "user", "offline", false), _0x4a7a89["userTag"]["userlistChanged"](), _0x4a7a89["updateWarnings"]();
    }), $(room["myself"]).on("silenceChanged.chatevents", function (_0x5d3f64) {
      _0x4a7a89["setChannelProperty"]("public", "room", "silenced", _0x5d3f64["status"]), _0x4a7a89["updateWarnings"]();
    });
  }
  ["unbindRoomEvents"]() {
    $(room)["off"](".chatevents"), $(room["myself"])["off"](".chatevents");
  }
  ["addChannel"](_0x2cbb42, _0x2a5e66) {
    var _0x2e76d1 = this["getChannelString"](_0x2cbb42, _0x2a5e66);
    this["channels"][_0x2e76d1] = new ChatChannel(_0x2cbb42, _0x2a5e66);
    var _0x463e18 = this;
    $(this["channels"][_0x2e76d1]).on("chatChannelPropertyChanged", function (_0x223269) {
      if (_0x223269["prop"] == "closable") _0x223269["value"] ? _0x463e18.content["find"](".sidebarElements .channelTitle[name=\"" + _0x2e76d1 + "\"] .channelClose")["show"]() : _0x463e18["content"]["find"]('.sidebarElements .channelTitle[name="' + _0x2e76d1 + "\"] .channelClose").hide(); else {
        if (_0x223269.prop == "locked") _0x223269["value"] ? !_0x463e18["channelHasIcon"](_0x2cbb42, _0x2a5e66, "fa-lock") && (_0x463e18["content"].find('.sidebarElements .channelTitle[name="' + _0x2e76d1 + "\"] .channelIcons")["append"](new Icon("fa-lock")["html"]()), _0x463e18["content"]["find"]('.sidebarElements .channelTitle[name="' + _0x2e76d1 + '"]')["addClass"]("locked")) : (_0x463e18.content.find(".sidebarElements .channelTitle[name=\"" + _0x2e76d1 + "\"] .channelIcons > .fa-lock")["remove"](), _0x463e18["content"]["find"](".sidebarElements .channelTitle[name=\"" + _0x2e76d1 + '"]')["removeClass"]("locked")); else {
          if (_0x223269["prop"] == "silenced" || _0x223269["prop"] == "ignored") _0x223269["value"] ? !_0x463e18.channelHasIcon(_0x2cbb42, _0x2a5e66, "fa-comment-slash") && _0x463e18["content"]["find"](".sidebarElements .channelTitle[name=\"" + _0x2e76d1 + '"] .channelIcons')["append"](new Icon("fa-comment-slash").html()) : _0x463e18["content"]["find"](".sidebarElements .channelTitle[name=\"" + _0x2e76d1 + "\"] .channelIcons > .fa-comment-slash").remove(); else _0x223269.prop == "offline" && _0x463e18["currentChannel"] == _0x2e76d1 && (_0x223269["value"] ? _0x463e18["lockMessageBar"]() : _0x463e18["unlockMessageBar"]());
        }
      }
    }), $(this["channels"][_0x2e76d1]).on("unreadMessages", function (_0x16dd92) {
      _0x16dd92["messages"] > 0 ? _0x463e18.content["find"](".sidebarElements .channelTitle[name=\"" + _0x2e76d1 + '"] .channelIcons > .badge')["length"] > 0 ? _0x463e18["content"]["find"](".sidebarElements .channelTitle[name=\"" + _0x2e76d1 + "\"] .channelIcons > .badge")["html"](_0x16dd92["messages"]) : _0x463e18["content"]["find"](".sidebarElements .channelTitle[name=\"" + _0x2e76d1 + '"] .channelIcons')["append"]("<span class=\"badge badge-danger\">" + _0x16dd92["messages"] + "</span>") : _0x463e18.content.find(".sidebarElements .channelTitle[name=\"" + _0x2e76d1 + "\"] .channelIcons > .badge")["remove"]();
    });
    var _0x229739 = "channelTypeRoom",
      _0x188148 = "#";
    let _0x27659 = _0x2cbb42;
    _0x2a5e66 == "user" ? (_0x229739 = "channelTypeUser", _0x188148 = "@") : _0x27659 = textManager["getString"]("chat.room." + _0x2cbb42);
    this["content"]["find"](".sidebarElements")["append"]("<div name=\"" + _0x188148 + _0x2cbb42 + "\" data-type=\"" + _0x2a5e66 + "\" data-name=\"" + _0x2cbb42 + "\" class=\"channelTitle " + _0x229739 + "\"><div class=\"channelCaption\">" + _0x188148 + _0x27659 + "</div><div class=\"channelClose\"><a href=\"#\" name=\"" + _0x188148 + _0x2cbb42 + '" class="closePM"><i class="fas fa-times"></i></a></div><div class="channelIcons"></div></div>'), this["content"]["find"]("#chatMessages")["append"]('<div class="channelMessages" name="' + _0x188148 + _0x2cbb42 + '"></div>'), this["content"]["find"]("#chatMessages div.channelMessages[name=\"" + _0x188148 + _0x2cbb42 + '"]')["hide"]();
    if (room) {
      if (_0x2a5e66 == "room") this["setChannelProperty"](_0x2cbb42, _0x2a5e66, "closable", false), this["setChannelProperty"](_0x2cbb42, _0x2a5e66, "silenced", room && room.myself ? room["myself"]["silenced"] : false), _0x2cbb42 == "staff" && this.setChannelProperty(_0x2cbb42, _0x2a5e66, "locked", !room["can"]("modmessageuse")); else _0x2a5e66 == "user" && (this.setChannelProperty(_0x2cbb42, _0x2a5e66, "closable", true), this["setChannelProperty"](_0x2cbb42, _0x2a5e66, "ignored", room["users"][_0x2cbb42]["ignored"]));
    }
  }
  ["setChannelProperty"](_0x25bc6b, _0x3d63a2, _0x59d72, _0x197de0) {
    var _0xd5f31c = this["getChannelString"](_0x25bc6b, _0x3d63a2);
    this["channels"][_0xd5f31c]["setProperty"](_0x59d72, _0x197de0);
  }
  ["channelHasIcon"](_0x4abeec, _0x2bc8e0, _0x2b23c2) {
    var _0x251e49 = this["getChannelString"](_0x4abeec, _0x2bc8e0);
    return this["content"]["find"](".sidebarElements .channelTitle[name=\"" + _0x251e49 + '"] .channelIcons > .' + _0x2b23c2)["length"] > 0;
  }
  ["deleteChannel"](_0x1e8180, _0x2a3c52) {
    var _0x45fc6f = this["getChannelString"](_0x1e8180, _0x2a3c52);
    this.content["find"](".sidebarElements .channelTitle[name=\"" + _0x45fc6f + '"]')["remove"](), this["content"]["find"]("#chatMessages div.channelMessages[name=\"" + _0x45fc6f + '"]')["remove"](), delete this.channels[_0x45fc6f];
  }
  ["selectChannel"](_0x5806b2, _0x3b345f) {
    var _0x1f5de4 = this["getChannelString"](_0x5806b2, _0x3b345f);
    if (this.currentChannel != _0x1f5de4) {
      if (this["existsChannel"](_0x5806b2, _0x3b345f)) {
        if (!this["channelHasIcon"](_0x5806b2, _0x3b345f, "fa-lock")) {
          this["content"]["find"]("#chatMessages div.channelMessages")["hide"](), this["content"]["find"]("#chatMessages div.channelMessages[name=\"" + _0x1f5de4 + '"]').show(), this["content"]["find"](".sidebarElements .channelTitle")["removeClass"]("selected"), this["content"]["find"](".sidebarElements .channelTitle[name=\"" + _0x1f5de4 + '"]').addClass("selected");
          if (_0x3b345f == "room") {
            let _0x5e0acf = this.getChannelObject(_0x1f5de4);
            this["content"]["find"]("#chatTitle .title").html(_0x5e0acf.prefix + textManager["getString"]("chat.room." + _0x5806b2));
          } else this["content"]["find"]("#chatTitle .title")["text"](_0x1f5de4);
          this["scroll"]["scroll"]({
            y: "100%"
          }), this["currentChannel"] && this["currentChannel"] in this["channels"] && (this.channels[this["currentChannel"]].input = this["content"]["find"]("input[name=\"text\"]")["val"]()), this["content"]["find"]("input[name=\"text\"]").val(this.channels[_0x1f5de4]["input"]), this["currentChannel"] = _0x1f5de4, this["setUnreadMessages"](_0x5806b2, _0x3b345f, 0), this["channels"][this["currentChannel"]]["offline"] ? this["lockMessageBar"]() : this["unlockMessageBar"](), this["content"]["find"]("input[name=\"text\"]")["focus"](), this["updateWarnings"]();
        }
      }
    }
  }
  ["existsChannel"](_0x411f1a, _0x39dee5) {
    var _0x737d7 = this["getChannelString"](_0x411f1a, _0x39dee5);
    return _0x737d7 in this.channels;
  }
  ["getChannelString"](_0x5f03f5, _0x5c6412) {
    let _0x2f588d = "#";
    return _0x5c6412 == "user" && (_0x2f588d = "@"), _0x2f588d + _0x5f03f5;
  }
  ["getChannelObject"](_0x16bafe) {
    var _0x31b26b = _0x16bafe[0],
      _0x16bafe = _0x16bafe["substring"](1),
      _0x34a796 = _0x31b26b == "@" ? "user" : "room";
    return {
      prefix: _0x31b26b,
      name: _0x16bafe,
      type: _0x34a796
    };
  }
  ["composeHTML"](_0x4c0c28, _0x36ae82, _0x137f60 = null) {
    var _0x28b003 = {},
      _0xe944f4 = dateToObj(),
      _0x5487f6 = _0xe944f4["hours"] + ":" + _0xe944f4["minutes"];
    if (_0x4c0c28 == "MYMSG" || _0x4c0c28 == "MSG") {
      var _0x228cf4 = room["myself"];
      _0x4c0c28 == "MSG" && (_0x228cf4 = room["users"][_0x137f60]), _0x28b003["block"] = "<div class=\"chatBlock messageBlock\" data-type=\"" + _0x4c0c28 + "\" data-username=\"" + _0x228cf4.username + "\"><div class=\"msgTime\" data-timestamp = \"" + _0x5487f6 + '">' + _0x5487f6 + "</div><div data-timestamp=\"" + _0x5487f6 + "\" class=\"msgUsername " + UI["rankToStyle"](_0x228cf4.rank) + '">' + _0x228cf4["username"] + "</div><div class=\"msgContent\"></div></div>";
    } else {
      if (_0x4c0c28 == "EVENT") _0x28b003["block"] = "<div class=\"chatBlock eventBlock\"><div class=\"msgTime\" data-timestamp = \"" + _0x5487f6 + '">' + _0x5487f6 + "</div><div class=\"msgContent\"></div></div>"; else {
        if (_0x4c0c28 == "MOTD") _0x28b003["block"] = "<div class=\"chatBlock motdBlock\"><div class=\"msgTime\" data-timestamp = \"" + _0x5487f6 + '">' + _0x5487f6 + "</div><div class=\"msgContent\"></div></div>"; else _0x4c0c28 == "GM" && (_0x28b003.block = "<div class=\"chatBlock gmBlock\"><div class=\"msgTime\" data-timestamp = \"" + _0x5487f6 + '">' + _0x5487f6 + '</div><div class="msgContent"></div></div>');
      }
    }
    return _0x28b003["text"] = "<div class=\"msgLine\"><div class=\"msgTime\" data-timestamp = \"" + _0x5487f6 + "\"></div><div class=\"msgText\">" + _0x36ae82 + "</div></div>", _0x28b003;
  }
  ["createMessage"](_0x58faa0, _0x30c6e2, _0x4add1e, _0x4534bd, _0xacf0f3 = null) {
    var _0x2164c2 = null,
      _0x5373dd = false;
    if (_0x4add1e == "MYMSG") _0x2164c2 = room["myself"]; else {
      if (_0xacf0f3 != null) {
        _0x2164c2 = room["users"][_0xacf0f3];
        var _0x575c3d = parseInt(new Date()["getTime"]() / 1e3);
        !_0x2164c2["ignored"] && _0x2164c2.lastMessage >= _0x575c3d - 30 ? _0x2164c2["chatMessages"]++ : (_0x2164c2.lastMessage = _0x575c3d, _0x2164c2["chatMessages"] = 1), _0x2164c2["chatMessages"] >= this["spamLimit"] && (this.registerEvent(textManager["getString"]("events.txtAutoIgnore", _0x2164c2.username, false)), room["ignoreUser"](_0x2164c2["username"]));
      }
    }
    _0x2164c2 != null && (_0x4534bd = escapeHTML(_0x4534bd), _0x5373dd = _0x2164c2.ignored);
    if (!_0x5373dd) {
      var _0x10cc15 = null;
      UI["userPreferences"]["getGroupOption"]("graphics", "chatpreviews", false) && (_0x10cc15 = this["previews"]["containsImage"](_0x4534bd));
      _0x10cc15 != null && (_0x4534bd = "<div class=\"chatThumb unloaded\" name=\"" + _0x10cc15["service"] + ":" + _0x10cc15["value"] + "\"></div> " + _0x4534bd);
      var _0x37c097 = [],
        _0x3814fd,
        _0x7b11b8 = false;
      const _0x26d145 = /(?:^|\s?)@([^\s]+?)([,\.¡\!¿\?'"\:\;]*?)(?:$|\s)/g;
      _0x4534bd = _0x4534bd["replace"](_0x26d145, function (_0x5939c2, _0x337760, _0x56ac54) {
        let _0x43ca11 = "";
        if (room.myself["username"] == _0x337760) _0x7b11b8 = true, _0x43ca11 = " chatTagYou"; else !room["userExists"](_0x337760) && (_0x43ca11 = " chatTagUnknown");
        return _0x37c097.push(_0x337760), " <span class=\"chatTag" + _0x43ca11 + '">@' + _0x337760 + "</span>" + _0x56ac54 + " ";
      }), _0x4534bd = _0x4534bd["replace"](/(\p{Emoji_Presentation}|\p{Extended_Pictographic})(?![^<]*>|[^<>]*<\/)/gu, "<span class=\"chatEmoji\">$&</span>");
      var _0x4fe1e8 = this["composeHTML"](_0x4add1e, nl2br(parseURL(_0x4534bd)), _0xacf0f3),
        _0xa73837 = $(_0x4fe1e8.block);
      _0xa73837.find(".msgContent")["append"](_0x4fe1e8.text);
      var _0x20f4a2 = this["lastMessage"](_0x58faa0, _0x30c6e2);
      if (_0x20f4a2.type == _0x4add1e && _0x2164c2 && _0x20f4a2["username"] == _0x2164c2.username) {
        var _0x3984ef = $(_0x4fe1e8["text"]);
        _0x20f4a2["timestamp"] != _0x3984ef.find(".msgTime")["data"]("timestamp") && _0x3984ef["find"](".msgTime").text(_0x3984ef["find"](".msgTime")["data"]("timestamp")), this.addLine(_0x58faa0, _0x30c6e2, _0x4add1e, _0x3984ef, _0x7b11b8, true);
      } else this.addLine(_0x58faa0, _0x30c6e2, _0x4add1e, _0xa73837, _0x7b11b8);
      if (!this["isVisible"]()) {
        var _0x2f045f;
        _0xacf0f3 ? _0x2f045f = '<span class="notify' + _0x4add1e + "_" + _0x30c6e2 + "\"><span class=\"" + UI["rankToStyle"](room["users"][_0xacf0f3]["rank"]) + '">' + room["users"][_0xacf0f3]["username"] + "</span>:&nbsp;" + $(_0x4fe1e8["text"]).find(".msgText")["html"]() + "</span>" : _0x2f045f = _0x4fe1e8["text"];
        var _0x23243e = _0x4add1e;
        if (_0x4add1e == "MSG") {
          if (_0x30c6e2 == "room") _0x58faa0 == "public" ? _0x23243e = "PUBLICROOM" : _0x23243e = "STAFFROOM"; else _0x30c6e2 == "user" && (_0x23243e = "PM");
        }
        this["showNotification"](_0x23243e, _0x2f045f, 5);
      }
      _0x10cc15 != null && this["requestThumb"](_0x10cc15);
    }
  }
  ["showNotification"](_0x591356, _0x3b4275, _0x3675da) {
    UI["topbar"].setText(_0x591356, _0x3b4275, _0x3675da);
  }
  ["requestThumb"](_0x5e7bee) {
    var _0x455064 = this;
    this.previews["getThumb"](_0x5e7bee).then(function (_0x520e0a) {
      _0x455064["embedImage"](_0x520e0a);
    });
  }
  ["embedImage"](_0x41dbe1) {
    var _0x239825 = this,
      _0x4cb47e = this["content"]["find"]("div.chatThumb.unloaded[name=\"" + _0x41dbe1["service"] + ":" + _0x41dbe1.id + '"]');
    if (_0x4cb47e["length"] > 0) {
      _0x4cb47e["removeClass"]("unloaded");
      var _0x3aa3f9 = new Image();
      _0x3aa3f9["onload"] = function () {
        var _0x341f8a = _0x239825["scroll"].scroll(),
          _0x2f1666 = parseInt(_0x341f8a["ratio"].y * 100) >= 97 || _0x341f8a["max"].y === 0;
        _0x4cb47e["append"]("<a data-thumb-service=\"" + _0x41dbe1["service"] + "\" data-thumb-id=\"" + _0x41dbe1.id + "\" href=\"" + _0x41dbe1["url"] + "\" target=\"_blank\"></a>").find("a").append(this), _0x2f1666 && setTimeout(function (_0x3233e3) {
          _0x239825["scroll"]["scroll"]({
            y: "100%"
          });
        }, 250);
      }, _0x3aa3f9["src"] = _0x41dbe1.image;
    }
  }
  ["sendMessage"]() {
    var _0x14d612 = this["content"].find("input[name=\"text\"]")["val"]()["slice"](0, 250);
    if (_0x14d612 != "") {
      var _0x58b151 = this["getChannelObject"](this["currentChannel"]);
      this.createMessage(_0x58b151["name"], _0x58b151.type, "MYMSG", _0x14d612), this["content"]["find"]("input[name=\"text\"]")["val"]("");
      var _0x3a5da0 = {};
      _0x3a5da0["command"] = "USERFUNCTIONS", _0x3a5da0["option"] = "CHAT", _0x3a5da0.chattype = _0x58b151.type, _0x3a5da0["chatname"] = _0x58b151["name"], _0x3a5da0["message"] = _0x14d612, socket["send"](_0x3a5da0, true);
    }
    this["scroll"]["scroll"]({
      y: "100%"
    });
  }
  ["lastMessage"](_0x5743e4, _0x1ad67b) {
    var _0x4ff3e7 = this.getChannelString(_0x5743e4, _0x1ad67b),
      _0x2b2e7d = this.content.find("#chatMessages div.channelMessages[name=\"" + _0x4ff3e7 + "\"] .chatBlock:last"),
      _0x3184ee = _0x2b2e7d["find"](".msgContent .msgLine:last");
    if (_0x2b2e7d) return {
      type: _0x2b2e7d.data("type"),
      username: _0x2b2e7d["data"]("username"),
      timestamp: _0x3184ee["find"](".msgTime").data("timestamp")
    };
    return null;
  }
  ["addLine"](_0x440501, _0x10aa35, _0x425a8e, _0x589cdd, _0x2f242f = false, _0x5c11f3 = false) {
    !this["existsChannel"](_0x440501, _0x10aa35) && this.addChannel(_0x440501, _0x10aa35);
    var _0x175755 = this["scroll"].scroll(),
      _0x2a7e37 = parseInt(_0x175755.ratio.y * 100) >= 97 || _0x175755["max"].y === 0,
      _0x1cbfac = this["getChannelString"](_0x440501, _0x10aa35);
    _0x5c11f3 ? this.content["find"]("#chatMessages div.channelMessages[name=\"" + _0x1cbfac + "\"] .messageBlock:last .msgContent")["append"](_0x589cdd) : this["content"]["find"]("#chatMessages div.channelMessages[name=\"" + _0x1cbfac + '"]')["append"](_0x589cdd);
    if (_0x2a7e37) {
      var _0x1896a1 = this;
      setTimeout(function (_0xf1f4f7) {
        _0x1896a1.scroll["scroll"]({
          y: "100%"
        });
      }, 250);
    }
    _0x425a8e != "EVENT" && (!this["active"] || this["currentChannel"] != _0x1cbfac) && this["setUnreadMessages"](_0x440501, _0x10aa35, this.channels[_0x1cbfac]["unread"] + 1);
    if (!this["active"]) {
      if (_0x425a8e != "EVENT" && _0x425a8e != "MOTD") {
        if (_0x10aa35 == "user" || _0x2f242f) UI["playSound"]("pm"); else _0x10aa35 == "room" && (_0x440501 == "staff" ? UI.playSound("staff") : UI.playSound("chat"));
      }
    }
  }
  ["lockMessageBar"]() {
    this["content"]["find"]("input[name=\"text\"]")["attr"]("disabled", "disabled"), this["content"]["find"]("button[name=\"submit\"]").attr("disabled", "disabled"), this["content"]["find"]("button[name=\"emoji\"]").attr("disabled", "disabled"), this["content"]["find"]("input[name=\"text\"]").addClass("disabled"), this["content"]["find"]("button[name=\"submit\"]")["addClass"]("disabled"), this["content"].find("button[name=\"emoji\"]")["addClass"]("disabled");
  }
  ["unlockMessageBar"]() {
    this["content"]["find"]("input[name=\"text\"]")["removeAttr"]("disabled"), this["content"].find("button[name=\"submit\"]")["removeAttr"]("disabled"), this["content"].find("button[name=\"emoji\"]")["removeAttr"]("disabled"), this["content"]["find"]("input[name=\"text\"]")["removeClass"]("disabled"), this["content"]["find"]('button[name="submit"]').removeClass("disabled"), this["content"]["find"]("button[name=\"emoji\"]")["removeClass"]("disabled");
  }
  ["fontIncrease"]() {
    this["changeFontSize"](this["fontSize"] + 1);
  }
  ["fontDecrease"]() {
    this.changeFontSize(this["fontSize"] - 1);
  }
  ["changeFontSize"](_0x20f5d8) {
    let _0x311727 = 10,
      _0x54485f = 20;
    this["fontSize"] = Math["min"](Math["max"](_0x20f5d8, _0x311727), _0x54485f), this["content"]["find"]("#chatMessages")["css"]("font-size", this["fontSize"] + "px");
  }
  ["loadContent"](_0x47a6e8) {
    this["content"]["html"](_0x47a6e8);
  }
  ["reset"]() {
    this["content"]["find"]("#chatMessages div.channelMessages").empty(), this["setUnreadMessages"]("public", "room", 0), this.setUnreadMessages("staff", "room", 0), this.selectChannel("public", "room");
    var _0x20925a = this;
    Object["keys"](this["channels"])["forEach"](function (_0x32d0b5) {
      var _0xfca6e7 = _0x20925a["channels"][_0x32d0b5];
      _0xfca6e7.type == "user" && _0x20925a["deleteChannel"](_0xfca6e7["name"], _0xfca6e7["type"]);
    });
  }
  ["onShow"]() {
    this["changed"]();
    var _0x1fc4d3 = this;
    setTimeout(function (_0x85cf39) {
      _0x1fc4d3["scroll"]["scroll"]({
        y: "100%"
      });
    }, 250);
    var _0x3e520c = _0x1fc4d3["getChannelObject"](this["currentChannel"]);
    this["setUnreadMessages"](_0x3e520c.name, _0x3e520c["type"], 0), this["content"]["find"]("input[name=\"text\"]")["focus"](), this.updateWarnings();
  }
  ["setUnreadMessages"](_0x1008fa, _0xf5ca9c, _0x50739e) {
    var _0x5c1d19 = this["getChannelString"](_0x1008fa, _0xf5ca9c);
    _0x5c1d19 in this.channels && this.channels[_0x5c1d19]["setUnread"](_0x50739e);
    var _0x365d2b = 0,
      _0x59768f = false,
      _0x626f9e = this;
    Object["keys"](this["channels"]).forEach(function (_0x369b8d) {
      _0x365d2b += _0x626f9e["channels"][_0x369b8d].unread, _0x626f9e.channels[_0x369b8d]["type"] == "user" && _0x626f9e["channels"][_0x369b8d]["unread"] > 0 && _0x59768f++;
    });
    var _0x5a280e = "msg";
    _0x59768f > 0 && (_0x5a280e = "pm"), $(this).triggerHandler(new unreadMessagesEvent(_0x365d2b, _0x5a280e).getEvent());
  }
  ["registerEvent"](_0x48728f) {
    this["createMessage"]("public", "room", "EVENT", _0x48728f);
  }
  ["registerGlobalMessage"](_0x2598f1) {
    this["createMessage"]("public", "room", "GM", _0x2598f1);
  }
  ["onFocus"]() {
    this["scroll"]["scroll"]({
      y: "100%"
    });
  }
  ["disableModal"]() {
    this["emojiList"]["hide"](), this["modal"]["hide"](), this.content["remove"](this["modal"]), $(this)["triggerHandler"](new dialogModalDisabledEvent()["getEvent"]());
  }
  ["hasModal"]() {
    return this["modal"].is(":visible") || this.emojiList["isVisible"]();
  }
}
class ChatChannel {
  constructor(_0x2dce94, _0x37e4b8) {
    this["name"] = _0x2dce94, this["type"] = _0x37e4b8, this.unread = 0, this["closable"] = false, this["silenced"] = false, this["locked"] = false, this.offline = false, this["input"] = "";
  }
  ["setUnread"](_0x5a1fc0) {
    this["unread"] = _0x5a1fc0, $(this)["triggerHandler"](new unreadMessagesEvent(_0x5a1fc0).getEvent());
  }
  ["setProperty"](_0x48f835, _0x4c419e) {
    this[_0x48f835] = _0x4c419e, $(this).triggerHandler(new chatChannelPropertyChangedEvent(_0x48f835, _0x4c419e)["getEvent"]());
  }
}
class UndoDialog extends Dialog {
  constructor(_0x336cfa) {
    super(_0x336cfa), this["icon"] = "fa-undo", this["caption"] = textManager.getString("undo.title"), this["helpLink"] = /*https://flockmod.com/help/basics/drawing/*/"", this.width = 770, this.height = 600, this["enabled"] = false, this["defaultInterval"] = 5, this["defaultMax"] = 20, this["roomName"] = null, this.intervalInput, this["maxInput"], this.boards = new Array(), this["maxBoards"], this["secInterval"], this["slider"] = null, this["layers"] = null, this.layersCheckbox = null, this["undoInterval"] = null, this["lastSaveTime"] = null, this["selection"], this["currentTool"] = "rectangle", this.selectionPrevious = null, this["selectionInitial"] = null, this.loadContent(this.loadFile("forms/undo.main.html"));
    var _0x374491 = this;
    this["content"].on(UI.pointerEvent("click"), ".subcontentOption", function (_0xd2df42) {
      _0xd2df42["preventDefault"]();
      var _0x103131 = $(this).data("subcontent");
      _0x374491["loadPage"](_0x103131);
    });
  }
  ["loadContent"](_0x557220) {
    this["content"]["html"](_0x557220);
  }
  ["loadSubcontent"](_0x535d33) {
    this["content"]["find"](".dynamicDialogArea").html(_0x535d33);
  }
  ["loadPage"](_0x509fd8) {
    var _0x183e07 = this;
    if (_0x509fd8 !== undefined) {
      this["form"]["find"](".subcontentOption")["removeClass"]("selected"), this["form"].find(".subcontentOption[data-subcontent=" + _0x509fd8 + "]")["addClass"]("selected"), this["loading"](true);
      if (_0x509fd8 == "preview") {
        this["loadSubcontent"](this["loadFile"]("forms/undo.preview.html")), $(this["content"]).overlayScrollbars({
          className: "os-theme-light",
          overflowBehavior: {
            x: "hidden"
          }
        }), this["slider"] = new Slider(this["content"].find("#undoPosition"), 0, 1, 1, function (_0x117b30) {
          return isNaN(_0x117b30) ? "" : _0x117b30 + 1;
        }), this["slider"]["setValue"](0), this["slider"]["focus"](), $(this.slider).on("sliderMoved", function (_0x29e3d8) {
          _0x183e07["boards"][_0x29e3d8["value"]] && _0x183e07["preview"](_0x29e3d8["value"]);
        });
        !this["enabled"] && (this["content"]["find"]("#undoNow")["addClass"]("disabled"), this["slider"]["setReadOnly"](true));
        this["content"]["find"]("#undoNow").on(UI.pointerEvent("click"), function (_0x5ed8f9) {
          _0x5ed8f9["preventDefault"](), _0x183e07["doUndo"](_0x183e07.slider["getValue"]());
        }), $(this.content.find(".dialogContentArea"))["overlayScrollbars"]({
          className: "os-theme-light",
          overflowBehavior: {
            x: "hidden"
          }
        }), this["content"].find("#undoBox")["css"]("background-color", room["backgroundColor"]), this["content"].find("#undoPreview")["css"]({
          width: room["board"]["canvasWidth"] + "px",
          height: room["board"]["canvasHeight"] + "px"
        }), this.content["find"]("#undoLayers").empty(), this["layers"] = new Array(), this["layersCheckbox"] = new Array();
        for (var _0x367262 = 0; _0x367262 < room["board"]["nLayers"]; _0x367262++) {
          var _0x23263e = new Layer(_0x367262, room["board"]["canvasWidth"], room["board"].canvasHeight);
          _0x23263e["advCanvas"]["canvas"]["attr"]("name", _0x367262), this["layers"]["push"](_0x23263e), this["content"]["find"]("#undoPreview")["append"](_0x23263e["advCanvas"]["canvas"]);
          var _0x13ba8b = $("<div />");
          _0x13ba8b.css({
            float: "left",
            width: 100 / room["board"]["nLayers"] + "%"
          }), _0x13ba8b["addClass"]("smallCheckbox"), _0x13ba8b["attr"]("name", _0x367262), this["content"].find("#undoLayers").prepend(_0x13ba8b);
          var _0x515921 = new Checkbox(_0x13ba8b, textManager["getString"]("undo.preview.lblLayer", _0x367262 + 1, false));
          _0x515921["setValue"](true), this["layersCheckbox"]["push"](_0x515921), $(_0x515921).on("checkboxChanged", function (_0x18d039) {
            _0x183e07.preview(_0x183e07["slider"]["getValue"]());
          });
        }
        this["selection"] = new SelectionTool(this["content"].find("#undoPreview"), room["board"]["canvasWidth"], room["board"].canvasHeight), this.selectionTool = new Switch(this["content"]["find"]("#selectionTool"), lassoRectFunction), $(this.selectionTool).on("checkboxChanged", function (_0x2f020a) {
          _0x183e07["selection"]["currentTool"] = _0x2f020a["checked"] ? "lasso" : "rectangle", _0x183e07["selection"]["clear"](), _0x183e07["currentTool"] = _0x183e07.selection["currentTool"];
        }), this["changePartialSelection"](this.currentTool), $["contextMenu"]({
          selector: "#undoPreview",
          build: function (_0x559830) {
            var _0x434650 = {
              callback: function (_0x39bec8, _0x5c608f) {
                if (_0x39bec8 == "save") {
                  var _0x5cc64f = new Array();
                  for (var _0x270c80 = 0; _0x270c80 < room["board"].nLayers; _0x270c80++) {
                    _0x183e07["layersCheckbox"][_0x270c80]["getValue"]() && _0x5cc64f["push"](_0x183e07["boards"][_0x183e07["slider"]["getValue"]()][_0x270c80]);
                  }
                  UI.saveDialog["show"]("custom", _0x5cc64f);
                }
              },
              items: {
                save: {
                  name: "Save selected layers",
                  icon: "fa-floppy-disk"
                }
              }
            };
            return $["each"](_0x434650["items"], function (_0x25db86, _0x5702fc) {
              _0x434650.items[_0x25db86]["name"] && (_0x434650["items"][_0x25db86]["name"] = function () {
                return textManager.getString("menu.undoPreview." + _0x25db86, null, false);
              });
            }), _0x434650;
          }
        }), this.content.find("#undoPreview").on(UI.pointerEvent("down"), function (_0x569b60) {
          _0x569b60["which"] && _0x569b60["which"] == 2 && (_0x569b60["preventDefault"](), _0x183e07["selection"]["currentTool"] = _0x183e07["selection"]["currentTool"] == "rectangle" ? "lasso" : "rectangle", _0x183e07["selectionTool"]["setValue"](!_0x183e07["selectionTool"]["checked"]));
        }), this["slider"]["setup"](0, this["boards"].length - 1, 1), this["slider"]["setValue"](this["slider"].max), this["preview"](this.slider["getValue"]()), this["changed"](), this.loading(false);
      } else _0x509fd8 == "settings" && (this["loadSubcontent"](this.loadFile("forms/undo.settings.html")), this["intervalInput"] = new NumericInput(this["content"]["find"]("div[name=\"intervalinput\"]"), this["secInterval"], 3, 999, textManager.getString("undo.settings.lblSeconds")), this.maxInput = new NumericInput(this.content.find('div[name="maxinput"]'), this["maxBoards"], 1, 50, textManager["getString"]("undo.settings.lblSavedBoards")), this["enableUndo"] = new Switch(this.content["find"]("#enableUndo"), function (_0x25e8ff) {
        return _0x25e8ff ? textManager["getString"]("global.enabled") : textManager["getString"]("global.disabled");
      }), this["enableUndo"].setValue(this["enabled"]), this.intervalInput.focus(), this["content"]["find"]("#applyUndoSettings").on(UI["pointerEvent"]("click"), function (_0x1c6a5d) {
        _0x1c6a5d["preventDefault"]();
        var _0x3cfe15 = _0x183e07["enableUndo"]["getValue"]();
        _0x183e07["enabled"] != _0x3cfe15 && (_0x3cfe15 ? _0x183e07.enable() : _0x183e07["disable"]()), _0x183e07["secInterval"] = _0x183e07["intervalInput"]["getValue"](), _0x183e07.maxBoards = _0x183e07.maxInput["getValue"](), UI["userPreferences"]["setProperty"]("undoInterval", _0x183e07["secInterval"]), UI["userPreferences"]["setProperty"]("undoMax", _0x183e07.maxBoards), UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtSaved"));
      }), this.content["find"]("#defaultUndoSettings").on(UI["pointerEvent"]("click"), function (_0x27b84f) {
        _0x27b84f["preventDefault"](), _0x183e07["intervalInput"]["setValue"](_0x183e07["defaultInterval"]), _0x183e07["maxInput"]["setValue"](_0x183e07["defaultMax"]);
      }), this["scroll"] = this.content.find(".dialogContentArea")["overlayScrollbars"]({
        className: "os-theme-light",
        overflowBehavior: {
          x: "hidden"
        }
      })["overlayScrollbars"](), this["scroll"].addExt("fmExtension"), this["changed"](), this["loading"](false));
      this["processSizeType"](this.sizeType);
    }
  }
  ["enable"](_0x28d3bf = "") {
    this["enabled"] = true, this.secInterval = UI["userPreferences"].getProperty("undoInterval", this["defaultInterval"]), this["maxBoards"] = UI["userPreferences"]["getProperty"]("undoMax", this["defaultMax"]);
    if (!this["undoInterval"]) {
      var _0x593c2c = this;
      this["roomName"] != _0x28d3bf && (this["boards"] = new Array()), this["roomName"] = _0x28d3bf, this["undoInterval"] = window["setInterval"](function () {
        if (room["board"] && room["connected"]) {
          if (_0x593c2c["lastSaveTime"] == null || room.board["lastChangeTime"]["getTime"]() > _0x593c2c["lastSaveTime"]["getTime"]()) {
            var _0x454587 = new Array();
            for (var _0x4f4c79 = 0; _0x4f4c79 < room["board"]["nLayers"]; _0x4f4c79++) {
              var _0x3ce6b8 = room["board"]["layers"][_0x4f4c79].getContext();
              _0x454587[_0x4f4c79] = _0x3ce6b8["getImageData"](0, 0, room["board"]["canvasWidth"], room["board"]["canvasHeight"]);
            }
            _0x593c2c["pushBoards"](_0x454587), _0x593c2c["slider"] && _0x593c2c["slider"]["setup"](0, _0x593c2c.boards["length"] - 1, 1);
          }
        }
      }, _0x593c2c.secInterval * 1e3);
    }
  }
  ["pause"]() {
    this["enabled"] = false, this.undoInterval && (clearInterval(this["undoInterval"]), this.undoInterval = null);
  }
  ["disable"]() {
    this["pause"](), this["boards"] = new Array();
  }
  ["reset"]() {
    this["enabled"] && (this.disable(), this["enable"]());
  }
  ["pushBoards"](_0x58b443) {
    if (this["enabled"]) {
      var _0x12a3e3 = 0;
      this["slider"] != null && (_0x12a3e3 = this["slider"]["value"]), this["boards"].length >= this["maxBoards"] && (this["boards"].shift(), _0x12a3e3--), this["boards"]["push"](_0x58b443), this.lastSaveTime = new Date(), this["slider"] != null && this["active"] && this["slider"]["setValue"](_0x12a3e3 >= 0 ? _0x12a3e3 : 0, true);
    }
  }
  ["preview"](_0x182eb2) {
    if (this["boards"]["length"] > 0) {
      var _0x15d671 = this["boards"][_0x182eb2]["length"];
      for (var _0x5f3bd0 = 0; _0x5f3bd0 < _0x15d671; _0x5f3bd0++) {
        this["layers"][_0x5f3bd0]["clear"]();
        if (this["layersCheckbox"][_0x5f3bd0].getValue()) {
          var _0x39d9c2 = this["content"]["find"]("#undoPreview canvas[name=\"" + _0x5f3bd0 + '"]');
          if (_0x39d9c2["length"] > 0) {
            var _0x12f5dc = _0x39d9c2[0]["getContext"]("2d");
            _0x12f5dc["putImageData"](this["boards"][_0x182eb2][_0x5f3bd0], 0, 0);
          }
        }
      }
    }
  }
  ["doUndo"](_0x5d71d4) {
    if (_0x5d71d4 in this["boards"]) {
      var _0x2a9d2b = 0;
      for (var _0x5447c1 = 0; _0x5447c1 < room["board"].nLayers; _0x5447c1++) {
        _0x2a9d2b += this["layersCheckbox"][_0x5447c1]["getValue"]() ? 1 : 0;
      }
      if (_0x2a9d2b > 0) {
        var _0x56eebc = new Transfer("BROADCAST", null, "undo", new Date()["getTime"](), true);
        $(_0x56eebc).on("transferStart transferChunkReady", sendChunk);
        if (this.selection.hasSelection()) {
          var _0x2c08dc = 0,
            _0xaa0fe1 = this;
          for (var _0x5447c1 = 0; _0x5447c1 < room["board"].nLayers; _0x5447c1++) {
            var _0x3a3be2 = _0xaa0fe1["getSelectedImage"](_0x5d71d4, _0x5447c1);
            _0x3a3be2["then"](function (_0x1256c6) {
              _0xaa0fe1["layersCheckbox"][_0x1256c6["layer"]].getValue() && (_0x56eebc.addData(_0x1256c6.layer, _0x1256c6.position.x, _0x1256c6["position"].y, _0x1256c6.position["width"], _0x1256c6["position"].height, 0, btoa(_0x1256c6["img"])), ++_0x2c08dc >= _0x2a9d2b && (_0x1256c6["mask"]["length"] > 0 && _0x56eebc["addMask"](_0x1256c6["mask"]), _0x56eebc["send"](), room["addTransfer"](_0x56eebc), _0xaa0fe1.hide()));
            });
          }
        } else {
          for (var _0x5447c1 = 0; _0x5447c1 < room["board"].nLayers; _0x5447c1++) {
            this["layersCheckbox"][_0x5447c1]["getValue"]() && _0x56eebc["addData"](_0x5447c1, 0, 0, room["board"].canvasWidth, room["board"]["canvasHeight"], 0, btoa(this["layers"][_0x5447c1]["getData"]()));
          }
          _0x56eebc["send"](), room["addTransfer"](_0x56eebc), this["hide"]();
        }
      } else UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtSelectOneLayer"));
    }
  }
  ["getSelectedImage"](_0x4fd71a, _0x107049) {
    var _0x43abf5 = this;
    return new Promise(function (_0xb0154c, _0x47d8d5) {
      var _0x1fa4ca = new AdvancedCanvas(room["board"]["canvasWidth"], room["board"].canvasHeight);
      _0x1fa4ca["putImageData"](_0x43abf5["boards"][_0x4fd71a][_0x107049]);
      var _0x21aa4c = _0x43abf5.selection.getContext(),
        _0x5b3d61,
        _0xd80cf5;
      _0x43abf5["selection"]["currentTool"] == "lasso" ? (_0x5b3d61 = getLimits(_0x43abf5.selection.clickX), _0xd80cf5 = getLimits(_0x43abf5.selection["clickY"])) : (_0x5b3d61 = getLimits(new Array(_0x43abf5["selection"]["initialPosition"].x, _0x43abf5["selection"]["clickX"][0])), _0xd80cf5 = getLimits(new Array(_0x43abf5["selection"].initialPosition.y, _0x43abf5.selection.clickY[0])));
      var _0x24793d = new Rect(_0x5b3d61.x, _0xd80cf5.x, _0x5b3d61.y, _0xd80cf5.y),
        _0x17d6c3 = new Image();
      _0x17d6c3["onload"] = function () {
        _0x21aa4c["save"](), _0x43abf5["selection"]["redraw"](false, false), _0x21aa4c["closePath"](), _0x21aa4c["clip"](), _0x43abf5["selection"]["layer"]["advCanvas"]["drawImage"](_0x17d6c3, 0, 0), _0x21aa4c["restore"]();
        var _0x152896 = new Image();
        _0x152896["onload"] = function (_0x3fdb74) {
          var _0x163b7d = {};
          _0x163b7d["position"] = _0x24793d, _0x163b7d["img"] = cropImage(this, _0x24793d.x, _0x24793d.y, _0x24793d["width"] - _0x24793d.x, _0x24793d.height - _0x24793d.y), _0x163b7d.layer = _0x107049, _0x163b7d["mask"] = _0x43abf5["selection"]["getMask"](), _0xb0154c(_0x163b7d);
        }, _0x152896["src"] = _0x43abf5["selection"]["getData"]();
      }, _0x17d6c3.src = _0x1fa4ca["getData"](), _0x1fa4ca.remove();
    });
  }
  ["onResize"]() {
    var _0x2645b2 = this["content"].find("#undoBox")["width"](),
      _0x14e25f = this["content"]["find"]("#undoPreview")["width"](),
      _0x43af05 = this.content.find("#undoPreview")["height"](),
      _0x143755 = this["content"]["find"]("#undoContent").width(),
      _0x507a99 = this.content["find"]("#undoContent")["height"](),
      _0x2c1e7d = calculateAspectRatioFit(room["board"]["canvasWidth"], room["board"].canvasHeight, _0x143755, _0x507a99),
      _0x4087fd = _0x2c1e7d["width"] / room.board["canvasWidth"];
    this["content"]["find"]("#undoPreview")["css"]("transform", "scale(" + _0x4087fd + ")"), this["content"].find("#undoBox")["css"]({
      width: _0x2c1e7d["width"],
      height: _0x2c1e7d.height
    }), this.selection["setScale"](_0x4087fd);
  }
  ["clearSubcontent"]() {
    this["content"].find(".dynamicDialogArea")["empty"]();
  }
  ["changePartialSelection"](_0x57280b) {
    this["selectionTool"]["setValue"](_0x57280b == "lasso");
  }
  ["onShow"]() {
    this["loadPage"]("preview");
    if (this.selectionPrevious) try {
      this["selection"]["setClicks"](this.selectionPrevious), this["selection"]["initialPosition"] = this.selectionInitial, (this.currentTool == "lasso" || this["currentTool"] == "rectangle" && this.selection["initialPosition"] != null) && this["selection"]["redraw"]();
    } catch (_0xc7c2bd) { }
    $(this.content["find"](".sidebar"))["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    });
  }
  ["onHide"]() {
    this["selectionPrevious"] = this.selection.getClicks(), this.selectionInitial = this.selection["initialPosition"], this["selection"]["remove"](), this["layers"] = null, this["layersCheckbox"] = null, this["clearSubcontent"]();
  }
}
class RoomManagerDialog extends Dialog {
  constructor(_0x5da791) {
    super(_0x5da791), this["icon"] = "fa-wrench", this["caption"] = textManager.getString("roommanager.title"), this.helpLink = "https://flockmod.com/help/room/", this["banLengths"] = [0, 900, 1800, 3600, 10800, 21600, 43200, 86400, 259200, 604800, 1209600, 2592e3, 7776e3, 15552e3, 23328e3, 31536e3], this["muteLengths"] = [300, 900, 1800, 3600, 7200, 10800, 14400, 18e3, 21600, 43200, 86400, 259200, 345600, 432e3, 518400, 604800], this.loadContent(this["loadFile"]("forms/roommanager.main.html")), $(this["content"]["find"](".sidebar"))["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    }), this["currentSubDialog"] = null, this["settingsSubDialog"] = new RoomManagerSettingsSubDialog(this), this["staffSubDialog"] = new RoomManagerStaffSubDialog(this), this["privilegesSubDialog"] = new RoomManagerPrivilegesSubDialog(this), this["toolsSubDialog"] = new RoomManagerToolsSubDialog(this), this["bansSubDialog"] = new RoomManagerBansSubDialog(this);
    var _0x4823d3 = this;
    this.content.on(UI.pointerEvent("click"), ".subcontentOption", function (_0x4f22e8) {
      _0x4f22e8.preventDefault();
      var _0x2a6f69 = $(this)["data"]("subcontent");
      _0x4823d3.loadPage(_0x2a6f69);
    });
  }
  ["loadContent"](_0x3a34a3) {
    this["content"]["html"](_0x3a34a3);
  }
  ["loadSubcontent"](_0x26aa0a) {
    this.content["find"](".dynamicDialogArea")["html"](_0x26aa0a);
  }
  ["clearSubcontent"]() {
    this.content["find"](".dynamicDialogArea")["empty"]();
  }
  ["loadSubDialog"](_0x28309d) {
    var _0x24bb3f = this["content"]["find"](".dynamicDialogArea");
    _0x24bb3f.empty(), _0x24bb3f["hide"]();
    this["currentSubDialog"] && this["currentSubDialog"]["unload"]();
    if (_0x28309d == "settings") this.settingsSubDialog["load"](), _0x24bb3f.append(this.settingsSubDialog.subContent), this["currentSubDialog"] = this["settingsSubDialog"]; else {
      if (_0x28309d == "staff") this["staffSubDialog"]["load"](), _0x24bb3f["append"](this["staffSubDialog"]["subContent"]), this["currentSubDialog"] = this["staffSubDialog"]; else {
        if (_0x28309d == "privileges") this.privilegesSubDialog.load(), _0x24bb3f["append"](this["privilegesSubDialog"].subContent), this["currentSubDialog"] = this["privilegesSubDialog"]; else {
          if (_0x28309d == "tools") this["toolsSubDialog"].load(), _0x24bb3f.append(this["toolsSubDialog"]["subContent"]), this.currentSubDialog = this["toolsSubDialog"]; else _0x28309d == "bans" && (this["bansSubDialog"]["load"](), _0x24bb3f["append"](this.bansSubDialog.subContent), this.currentSubDialog = this["bansSubDialog"]);
        }
      }
    }
    this.changed(), _0x24bb3f["fadeIn"](500);
  }
  ["loadPage"](_0x3399e8) {
    var _0x1ebcf3 = this;
    _0x3399e8 !== undefined && (this["content"]["find"](".subcontentOption.selected")["removeClass"]("selected"), this["content"]["find"](".subcontentOption[data-subcontent=" + _0x3399e8 + "]")["addClass"]("selected"), this["loadSubDialog"](_0x3399e8), this.processSizeType(this.sizeType));
  }
  ["unloadPage"]() {
    this["currentSubDialog"] && this["currentSubDialog"]["unload"]();
  }
  ["roomSettings"]() {
    this["settingsSubDialog"]["data"]();
  }
  ["staffList"](_0x27ef86) {
    this["staffSubDialog"]["data"](_0x27ef86);
  }
  ["privilegeList"](_0x36d334, _0x2010d2) {
    this["privilegesSubDialog"].data(_0x36d334, _0x2010d2);
  }
  ["toolList"](_0x31209e, _0x30aa6c) {
    this["toolsSubDialog"]["data"](_0x31209e, _0x30aa6c);
  }
  ["banList"](_0x2e5943) {
    this["bansSubDialog"]["data"](_0x2e5943);
  }
  ["gotResponse"](_0x1e9d31) {
    if (_0x1e9d31["action"] == "RoomBans") this["bansSubDialog"].gotResponse(_0x1e9d31); else {
      if (_0x1e9d31.action == "RoomStaff") this["staffSubDialog"].gotResponse(_0x1e9d31); else {
        if (_0x1e9d31.action == "RoomPrivileges") this["privilegesSubDialog"]["gotResponse"](_0x1e9d31); else _0x1e9d31["action"] == "RoomTools" && this["toolsSubDialog"].gotResponse(_0x1e9d31);
      }
    }
  }
  ["onShow"]() {
    this.loadPage("settings");
  }
  ["onHide"]() {
    this["clearSubcontent"](), this["unloadPage"]();
  }
}
class RoomManagerSettingsSubDialog extends SubDialog {
  constructor(_0x5d4c1e, _0x17ccb5) {
    super(_0x5d4c1e, _0x17ccb5), this.privateCheckbox, this["backgroundSelector"], this.layersNumericInput, this.capacityNumericInput;
  }
  ["load"]() {
    this.dialog.loading(true), this["subContent"]["html"](this.dialog["loadFile"]("forms/roommanager.settings.html"));
    !room["can"]("unregisterroom") && this.subContent["find"]("#unregRoom").hide();
    !room.can("roommanager") && this.subContent.find("#applySettings").addClass("disabled");
    this.privateCheckbox = new Switch(this.subContent.find("#privateRoom"), function (_0x42d77f) {
      return _0x42d77f ? textManager.getString("roommanager.settings.optPrivateRoom") : textManager["getString"]("roommanager.settings.optPublicRoom");
    }), this.backgroundSelector = new Selector(this["subContent"]["find"]("div[name=\"background\"]"), {
      "#FFFFFF": textManager["getString"]("roommanager.settings.optWhite"),
      "#4A4A4A": textManager["getString"]("roommanager.settings.optGray"),
      "#000000": textManager["getString"]("roommanager.settings.optBlack")
    }), this["bottomtransparencySelector"] = new Selector(this.subContent["find"]("div[name=\"bottomtransparency\"]"), {
      1: textManager.getString("roommanager.settings.optTransparent"),
      0: textManager.getString("roommanager.settings.optOpaque")
    }), this["layersNumericInput"] = new NumericInput(this["subContent"]["find"]("div[name=\"numlayers\"]"), 3, 1, 5), this["rowsNumericInput"] = new NumericInput(this["subContent"].find("div[name=\"animrows\"]"), 3, 2, 8), this.colsNumericInput = new NumericInput(this.subContent["find"]("div[name=\"animcols\"]"), 3, 2, 8), this["capacityNumericInput"] = new NumericInput(this["subContent"]["find"]('div[name="capacity"]'), 45, 1, 45, textManager.getString("roommanager.settings.lblUsers"));
    var _0x1e13be = this;
    this["scroll"] = this["subContent"]["find"](".dialogContentArea")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"](), this.scroll.addExt("fmExtension"), this["subContent"]["find"]("select[name=\"roomtype\"]").on("change", function (_0x253fd7) {
      _0x1e13be["animationMode"]($(_0x253fd7["target"]).val() == "A");
    }), this.subContent["find"]("#applySettings").on(UI.pointerEvent("click", "settingsSubdialog"), function (_0x3e005e) {
      _0x3e005e["preventDefault"]();
      var _0x4ecb65 = {};
      _0x4ecb65["description"] = _0x1e13be.subContent["find"]("textarea[name=\"description\"]").val(), _0x4ecb65["roomtype"] = _0x1e13be["subContent"]["find"]('select[name="roomtype"]').val(), _0x4ecb65.size = _0x1e13be["subContent"]["find"]("select[name=\"canvassize\"]")["val"](), _0x4ecb65["mute"] = _0x1e13be["subContent"].find("select[name=\"mute\"]")["val"](), _0x4ecb65.knownproxy = _0x1e13be.subContent["find"]("select[name=\"knownproxy\"]")["val"](), _0x4ecb65.mutetime = _0x1e13be["subContent"]["find"]("select[name=\"mutetime\"]")["val"](), _0x4ecb65["bantime"] = _0x1e13be["subContent"]["find"]("select[name=\"bantime\"]")["val"](), _0x4ecb65.password = _0x1e13be.subContent["find"]("input[name=\"password\"]").val(), _0x4ecb65["hidden"] = _0x1e13be["privateCheckbox"].checked, _0x4ecb65["background"] = _0x1e13be["backgroundSelector"].getSelected(), _0x4ecb65["bottomtransparency"] = _0x1e13be["bottomtransparencySelector"]["getSelected"]() == "1", _0x4ecb65["numlayers"] = _0x1e13be["layersNumericInput"]["getValue"](), _0x4ecb65["animrows"] = _0x1e13be["rowsNumericInput"]["getValue"](), _0x4ecb65["animcols"] = _0x1e13be["colsNumericInput"].getValue(), _0x4ecb65["capacity"] = _0x1e13be["capacityNumericInput"].getValue();
      var _0x68e682 = {};
      _0x68e682["command"] = "ROOMCHANGE", _0x68e682["action"] = "RoomSettings", _0x68e682["options"] = _0x4ecb65, socket.send(_0x68e682, true), UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtSaved"));
    }), this["subContent"].find("#unregRoom").on(UI["pointerEvent"]("click", "settingsSubdialog"), function (_0x3c2f34) {
      _0x3c2f34.preventDefault();
      var _0x31fcae = UI["dialogHandler"]["createConfirmation"](textManager.getString("messages.lblUnregisterRoom"));
      _0x31fcae.on("confirmationClosed", function (_0x807e74) {
        if (_0x807e74["response"] == "ok") {
          var _0x28f421 = {};
          _0x28f421.command = "ROOMREQUEST", _0x28f421.action = "Unregister", socket["send"](_0x28f421, true), _0x1e13be.dialog["hide"]();
        }
        UI["dialogHandler"]["destroyConfirmation"]();
      });
    });
    var _0x2ff8aa = {};
    _0x2ff8aa["command"] = "ROOMREQUEST", _0x2ff8aa["action"] = "RoomSettings", socket["send"](_0x2ff8aa, true);
  }
  ["animationMode"](_0x30b7a2) {
    _0x30b7a2 ? (this.rowsNumericInput["setReadOnly"](false), this.colsNumericInput["setReadOnly"](false)) : (this.rowsNumericInput["setReadOnly"](true), this["colsNumericInput"]["setReadOnly"](true));
  }
  ["unload"]() {
    this.dialog.modal["off"](".settingsSubdialog"), this.subContent.find("input[name=\"password\"]").val("");
  }
  ["data"]() {
    var _0xd17ec3 = this["subContent"]["find"]("select[name=\"bantime\"]");
    _0xd17ec3["empty"](), $["each"](this.dialog["banLengths"], function (_0x4efcef, _0x1ec5f3) {
      let _0x2b031c = getLengthDescription(_0x1ec5f3);
      _0xd17ec3["append"](new Option(_0x2b031c, _0x1ec5f3));
    }), _0xd17ec3.val(room["bantime"]);
    var _0x45d2c0 = this.subContent["find"]("select[name=\"mutetime\"]");
    _0x45d2c0.empty(), $["each"](this["dialog"]["muteLengths"], function (_0x5538bf, _0x4bbbe1) {
      let _0x2409fb = getLengthDescription(_0x4bbbe1);
      _0x45d2c0["append"](new Option(_0x2409fb, _0x4bbbe1));
    }), _0x45d2c0["val"](room["mutetime"]), this["subContent"]["find"]("textarea[name=\"description\"]")["val"](room["description"]), this.subContent["find"]("select[name=\"roomtype\"]")["val"](room["type"]), this["subContent"]["find"]('select[name="canvassize"]')["val"](room["size"]), this["subContent"]["find"]("select[name=\"mute\"]")["val"](room["mute"]), this["subContent"]["find"]("select[name=\"knownproxy\"]").val(room["knownproxy"]), this["subContent"]["find"]("input[name=\"password\"]")["val"](room["password"]), this["privateCheckbox"]["setValue"](room.hidden), this.backgroundSelector.select(room.backgroundColor), this["bottomtransparencySelector"]["select"](room["bottomTransparency"] ? "1" : "0"), this.capacityNumericInput.setValue(room["capacity"]), this["layersNumericInput"]["setValue"](room["numLayers"]), this["colsNumericInput"].setValue(room["animCols"]), this["rowsNumericInput"]["setValue"](room["animRows"]), this.animationMode(room["type"] == "A"), this["dialog"]["changed"](), this["dialog"]["loading"](false);
  }
}
class RoomManagerStaffSubDialog extends SubDialog {
  constructor(_0x2680b8, _0x162122) {
    super(_0x2680b8, _0x162122), this.table;
  }
  ["load"]() {
    this.dialog.loading(true), this.subContent["html"](this.dialog["loadFile"]("forms/roommanager.staff.html"));
    !room["can"]("addmod") && this["subContent"]["find"]("#addUser")["addClass"]("disabled");
    this["subContent"]["find"]("#removeUser")["addClass"]("disabled"), this.subContent["find"]("#editUser")["addClass"]("disabled"), this["table"] = new Table(this["subContent"]["find"]("#staffTable"), null, "staffTable", "fmTable"), this["table"].selectable = true, this["table"]["setFilterable"](true), this["table"]["setTitle"](textManager["getString"]("roommanager.staff.lblStaff")), this["table"]["setHeader"](["UID", "Username", "Code", "Rank", "Promoted by", "PromoterUsername", "Timestamp", "Date"]), this["table"]["hideColumns"]([1, 3, 6, 7]), this.table.headerCaption(2, textManager["getString"]("roommanager.staff.rowUsername")), this["table"]["headerCaption"](4, textManager["getString"]("roommanager.staff.rowRank")), this["table"]["headerCaption"](5, textManager["getString"]("roommanager.staff.rowPromotedBy")), this.table["headerCaption"](8, textManager["getString"]("roommanager.staff.rowDate")), this["table"].columnLink(5, 6), this["table"].columnLink(8, 7);
    var _0x5c40d2 = this;
    $(this["dialog"]).on("dialogResizingEnded.settingsSubdialog dialogMaximized.settingsSubdialog dialogRestored.settingsSubdialog", function (_0x1656e6) {
      _0x5c40d2["table"] && _0x5c40d2["table"]["updated"]();
    }), this["subContent"].on(UI["pointerEvent"]("click", "settingsSubdialog"), "#addUser", function (_0x4ef4c1) {
      _0x4ef4c1.preventDefault(), _0x5c40d2["dialog"]["enableModal"](_0x5c40d2["dialog"]["loadFile"]("forms/roommanager.modal.adduser.html")), _0x5c40d2["dialog"]["modal"]["find"]("input[name=\"username\"]")["focus"](), _0x5c40d2["dialog"]["modal"]["find"]("select[name=\"rank\"]").empty();
      for (var _0x519a36 = UI.rankToIndex("TU"); _0x519a36 <= UI.rankToIndex("CO"); _0x519a36++) {
        _0x519a36 < UI["rankToIndex"](room["myself"]["rank"]) && _0x5c40d2["dialog"].modal.find('select[name="rank"]').append(new Option(UI["userRank"](UI.indexToRank(_0x519a36), false), UI["indexToRank"](_0x519a36)));
      }
    }), this["subContent"].on(UI["pointerEvent"]("click", "settingsSubdialog"), "#editUser", function (_0x5db161) {
      _0x5db161["preventDefault"](), _0x5c40d2.editStaff();
    }), this["subContent"].on(UI.pointerEvent("click", "settingsSubdialog"), "#removeUser", function (_0x360495) {
      _0x360495["preventDefault"]();
      var _0x415727 = _0x5c40d2["table"]["getSelected"]();
      if (_0x415727) {
        _0x5c40d2["dialog"]["loading"](true);
        var _0x18f73b = {};
        _0x18f73b.command = "ROOMCHANGE", _0x18f73b["action"] = "RoomStaff", _0x18f73b["perform"] = "delete", _0x18f73b["uid"] = _0x415727[0]["UID"], _0x18f73b["username"] = _0x415727[0]["Username"], _0x18f73b["rank"] = _0x415727[0]["Code"], socket["send"](_0x18f73b, true);
      }
    }), this.dialog.modal.on(UI["pointerEvent"]("click", "settingsSubdialog"), "#updateStaff", function (_0x45fa06) {
      _0x45fa06["preventDefault"]();
      var _0x9c3a14 = {};
      _0x9c3a14["command"] = "ROOMCHANGE", _0x9c3a14["action"] = "RoomStaff", _0x9c3a14["perform"] = "update", _0x9c3a14["username"] = _0x5c40d2["dialog"]["modal"]["find"]('input[name="username"]')["val"](), _0x9c3a14.rank = _0x5c40d2.dialog.modal["find"]("select[name=\"rank\"]").val(), socket["send"](_0x9c3a14, true), _0x5c40d2["dialog"]["loading"](true);
    });
    var _0x1cd7e7 = {};
    _0x1cd7e7["command"] = "ROOMREQUEST", _0x1cd7e7["action"] = "RoomStaff", socket.send(_0x1cd7e7, true);
  }
  ["unload"]() {
    this["dialog"]["modal"]["off"](".staffSubdialog"), this["table"]["reset"]();
  }
  ["editStaff"]() {
    this["dialog"]["enableModal"](this.dialog.loadFile("forms/roommanager.modal.edituser.html")), this["dialog"].modal.find('input[name="username"]')["focus"](), this["dialog"]["modal"]["find"]('select[name="rank"]')["empty"]();
    for (var _0x4e9e2f = UI.rankToIndex("TU"); _0x4e9e2f <= UI["rankToIndex"]("CO"); _0x4e9e2f++) {
      _0x4e9e2f < UI["rankToIndex"](room["myself"].rank) && this.dialog["modal"].find("select[name=\"rank\"]")["append"](new Option(UI["userRank"](UI["indexToRank"](_0x4e9e2f), false), UI["indexToRank"](_0x4e9e2f)));
    }
    var _0x4e32da = this.table["getSelected"]();
    this["dialog"].modal["find"]("input[name=\"username\"]")["val"](_0x4e32da[0]["Username"]), this.dialog["modal"].find("select[name=\"rank\"]")["val"](_0x4e32da[0]["Code"]);
  }
  ["data"](_0x47d898) {
    this["table"]["clear"]();
    var _0x33c455 = this;
    $.each(_0x47d898, function (_0x2a8670, _0x542008) {
      var _0x57e48e = _0x542008["date"] == 0 ? textManager["getString"]("global.lblUnknown") : formatTimestamp(_0x542008.date),
        _0x14a9f7;
      _0x542008.promoterUid == 0 ? _0x14a9f7 = textManager["getString"]("global.lblUnknown") : _0x14a9f7 = "<span class=\"" + UI["rankToStyle"](_0x542008["promoterRank"]) + '">' + (_0x542008.promoterUsername || textManager.getString("global.lblUnknown")) + "</span>", _0x33c455["table"]["addRow"]([_0x542008["uid"], _0x542008["username"], _0x542008.rank, '<span class="' + UI["rankToStyle"](_0x542008["rank"]) + "\"> " + UI["userRank"](_0x542008.rank) + "</span>", _0x14a9f7, _0x542008["promoterUsername"], _0x542008["date"], _0x57e48e], false);
    }), $(this["table"]).on("tableRowDoubleClick", function (_0x55f713) {
      !_0x33c455["subContent"]["find"]("#editUser")["hasClass"]("disabled") && _0x33c455["editStaff"]();
    }), $(this["table"]).on("tableRowSelected.banSubdialog tableRowUnselected.banSubdialog", function (_0x2eac14) {
      var _0x7bf585 = _0x33c455["table"]["getSelected"](),
        _0x5e12e6 = false;
      room["can"]("addmod") && _0x2eac14["type"] == "tableRowSelected" && (_0x5e12e6 = _0x7bf585[0]["Code"] != "RO" && UI.rankToIndex(_0x7bf585[0]["Code"]) < UI["rankToIndex"](room.myself["rank"])), _0x5e12e6 ? (_0x33c455.subContent["find"]("#removeUser")["removeClass"]("disabled"), _0x33c455.subContent["find"]("#editUser")["removeClass"]("disabled")) : (_0x33c455["subContent"]["find"]("#removeUser")["addClass"]("disabled"), _0x33c455["subContent"]["find"]("#editUser")["addClass"]("disabled"));
    }), this.dialog["changed"](), this["table"]["updated"](), this["table"]["sort"](7), this["dialog"]["loading"](false);
  }
  ["gotResponse"](_0x1bff61) {
    if (_0x1bff61["option"] == "Rsc") {
      if (_0x1bff61.perform == "update") {
        if (_0x1bff61["code"] == "OK") {
          this["dialog"]["disableModal"]();
          var _0x4b7e05 = this.table.find(this["table"]["getColumnId"]("UID"), _0x1bff61["user"].uid),
            _0x19d2f8 = _0x1bff61.date == 0 ? textManager.getString("global.lblUnknown") : formatTimestamp(_0x1bff61["date"]);
          if (_0x4b7e05 != null) {
            var _0x43464b = {};
            _0x43464b[this["table"]["getColumnId"]("Code")] = _0x1bff61.user["rank"], _0x43464b[this["table"]["getColumnId"]("Rank")] = '<span class="' + UI.rankToStyle(_0x1bff61["user"].rank) + '">' + UI["userRank"](_0x1bff61.user["rank"]) + "</span>", _0x43464b[this["table"]["getColumnId"]("PromoterUsername")] = _0x1bff61["promoter"]["username"], _0x43464b[this["table"].getColumnId("Promoted by")] = "<span class=\"" + UI["rankToStyle"](_0x1bff61["promoter"]["rank"]) + '">' + _0x1bff61["promoter"].username + "</span>", _0x43464b[this["table"]["getColumnId"]("Timestamp")] = _0x1bff61["date"], _0x43464b[this["table"]["getColumnId"]("Date")] = _0x19d2f8, this["table"]["updateRow"](_0x4b7e05, _0x43464b);
          } else {
            var _0x34dd7e = "<span class=\"" + UI["rankToStyle"](_0x1bff61.promoter["rank"]) + '">' + (_0x1bff61["promoter"].username || textManager["getString"]("global.lblUnknown")) + "</span>";
            _0x4b7e05 = this["table"]["addRow"]([_0x1bff61["user"]["uid"], _0x1bff61["user"]["username"], _0x1bff61["user"]["rank"], '<span class="' + UI["rankToStyle"](_0x1bff61["user"]["rank"]) + '">' + UI["userRank"](_0x1bff61["user"]["rank"]) + "</span>", _0x34dd7e, _0x1bff61.promoter["username"], _0x1bff61["date"], _0x19d2f8], false);
          }
          this["table"].locate(_0x4b7e05), UI["dialogHandler"].showAlert(textManager["getString"]("alerts.txtSuccess"));
        } else UI["dialogHandler"]["showAlert"]("Error: " + _0x1bff61["code"]);
        this["table"]["updated"](), this["dialog"]["loading"](false);
      } else {
        if (_0x1bff61["perform"] == "delete") {
          if (_0x1bff61["code"] == "OK") {
            var _0x4b7e05 = this["table"]["find"](this["table"]["getColumnId"]("UID"), _0x1bff61.user.uid);
            this["table"]["deleteRow"](_0x4b7e05), this["load"](), UI.dialogHandler.showAlert(textManager.getString("alerts.txtSuccess"));
          } else UI["dialogHandler"]["showAlert"]("Error: " + _0x1bff61["code"]);
        }
      }
    }
  }
}
class RoomManagerPrivilegesSubDialog extends SubDialog {
  constructor(_0x4160e0, _0x5c0bb5) {
    super(_0x4160e0, _0x5c0bb5), this["table"];
  }
  ["load"]() {
    this["dialog"]["loading"](true), this["subContent"]["html"](this["dialog"].loadFile("forms/roommanager.privileges.html"));
    !room["can"]("changeprivileges") && (this.subContent.find("#applyPrivileges")["addClass"]("disabled"), this["subContent"]["find"]("#defaultPrivileges")["addClass"]("disabled"));
    this["table"] = new Table(this["subContent"]["find"]("#privilegeContent"), null, "privilegesTable", "fmTable"), this.table["selectable"] = false;
    var _0x49bb28 = this;
    $(this.dialog).on("dialogResizingEnded.privSubdialog dialogMaximized.privSubdialog dialogRestored.privSubdialog", function (_0x17696a) {
      _0x49bb28["table"] && _0x49bb28["table"]["updated"]();
    }), this.subContent["find"]("#defaultPrivileges").on(UI.pointerEvent("click", "privSubdialog"), function (_0x14c3d5) {
      _0x14c3d5["preventDefault"]();
      var _0x2a9b95 = {};
      _0x2a9b95["command"] = "ROOMREQUEST", _0x2a9b95["action"] = "RoomPrivileges", _0x2a9b95["perform"] = "default", socket.send(_0x2a9b95, true), _0x49bb28["dialog"].loading(true);
    }), this.subContent["find"]("#applyPrivileges").on(UI["pointerEvent"]("click", "privSubdialog"), function (_0x4bb9ed) {
      _0x4bb9ed["preventDefault"]();
      var _0x5cf881 = _0x49bb28["table"]["getColumnId"]("ID"),
        _0x8ff77d = UI["rankToIndex"](room["myself"]["rank"]),
        _0x4252dd = _0x49bb28["table"].headerFields["length"] - 1,
        _0x4d2ede = {};
      for (var _0x8f5434 = 2; _0x8f5434 <= _0x4252dd; _0x8f5434++) {
        var _0xacc26c = _0x49bb28.table["headerFields"][_0x8f5434];
        UI["rankToIndex"](_0xacc26c) < _0x8ff77d && (_0x4d2ede[_0xacc26c] = {});
      }
      for (var _0x3087be = 0; _0x3087be < _0x49bb28["table"]["rowCount"]; _0x3087be++) {
        for (var _0x8f5434 = 2; _0x8f5434 <= _0x4252dd; _0x8f5434++) {
          var _0x38b174 = _0x49bb28["table"]["rows"][_0x3087be][_0x8f5434],
            _0xacc26c = _0x49bb28["table"].headerFields[_0x8f5434];
          UI["rankToIndex"](_0xacc26c) < _0x8ff77d && (_0x4d2ede[_0xacc26c][_0x49bb28["table"]["rows"][_0x3087be][_0x5cf881]] = _0x38b174["checked"]);
        }
      }
      var _0x2c9160 = {};
      _0x2c9160["command"] = "ROOMCHANGE", _0x2c9160.action = "RoomPrivileges", _0x2c9160["privileges"] = _0x4d2ede, socket["send"](_0x2c9160, true), UI["dialogHandler"]["showAlert"](textManager.getString("alerts.txtSaved"));
    });
    var _0x2b4fb4 = {};
    _0x2b4fb4["command"] = "ROOMREQUEST", _0x2b4fb4["action"] = "RoomPrivileges", _0x2b4fb4["perform"] = "get", socket.send(_0x2b4fb4, true);
  }
  ["unload"]() {
    this["dialog"]["modal"]["off"](".privSubdialog"), this["table"]["reset"]();
  }
  ["gotResponse"](_0x3c0e52) {
    _0x3c0e52["option"] == "Rpc" && this.dialog["loading"](false);
  }
  ["data"](_0x3850ac, _0x237c2a) {
    var _0x102350 = UI.rankToIndex(room["myself"]["rank"]);
    this.table["reset"]();
    var _0x37bf49 = ["ID", "Privilege"],
      _0x5c8d2a = _0x37bf49["length"] + 1;
    $["each"](_0x3850ac, function (_0x4950e9, _0x2fc352) {
      _0x37bf49["push"](_0x2fc352);
    }), this["table"]["setHeader"](_0x37bf49), this.table["headerCaption"](2, textManager["getString"]("roommanager.privileges.rowPrivilege"));
    var _0x2a1a4f = this;
    $["each"](_0x3850ac, function (_0x3426dd, _0x35cd59) {
      _0x2a1a4f["table"]["headerClass"](_0x3426dd + _0x5c8d2a, UI["rankToStyle"](_0x35cd59)), _0x2a1a4f["table"].headerTooltip(_0x3426dd + _0x5c8d2a, UI.userRank(_0x35cd59)), _0x2a1a4f["table"].headerCaption(_0x3426dd + _0x5c8d2a, textManager["getString"]("global.shortRank." + _0x35cd59));
    }), $["each"](_0x237c2a, function (_0x348cd6, _0x38c07c) {
      var _0x2896be = [_0x348cd6, UI.userPrivilege(_0x348cd6)];
      $["each"](_0x38c07c, function (_0x284c5a, _0x6dc44d) {
        var _0x2b5be3 = $("<div />");
        _0x2b5be3["addClass"]("smallCheckbox");
        var _0x222619 = new Checkbox(_0x2b5be3);
        _0x222619["setValue"](_0x6dc44d), UI.rankToIndex(_0x284c5a) >= _0x102350 && _0x222619["setReadOnly"](true), _0x2896be["push"](_0x222619);
      }), _0x2a1a4f["table"]["addRow"](_0x2896be, false);
    }), this.table["hideColumn"](1), this["dialog"].changed(), this["table"]["updated"](), this["dialog"]["loading"](false);
  }
}
class RoomManagerToolsSubDialog extends SubDialog {
  constructor(_0x3ee547, _0x50254c) {
    super(_0x3ee547, _0x50254c), this["table"];
  }
  ["load"]() {
    this["dialog"]["loading"](true), this["subContent"]["html"](this["dialog"]["loadFile"]("forms/roommanager.tools.html"));
    !room["can"]("changetools") && (this.subContent["find"]("#applyChanged")["addClass"]("disabled"), this.subContent["find"]("#defaultTools")["addClass"]("disabled"));
    this["table"] = new Table(this["subContent"]["find"]("#toolsContent"), null, "roomTable", "fmTable"), this["table"]["selectable"] = false;
    var _0x3804a8 = this;
    $(this["dialog"]).on("dialogResizingEnded.toolsSubdialog dialogMaximized.toolsSubdialog dialogRestored.toolsSubdialog", function (_0x288072) {
      _0x3804a8["table"] && _0x3804a8["table"].updated();
    }), this["subContent"]["find"]("#defaultTools").on(UI["pointerEvent"]("click", "toolsSubdialog"), function (_0x3b56b1) {
      _0x3b56b1["preventDefault"](), _0x3804a8["dialog"]["loading"](true);
      var _0x470fa6 = {};
      _0x470fa6["command"] = "ROOMREQUEST", _0x470fa6["action"] = "RoomTools", _0x470fa6["perform"] = "default", socket["send"](_0x470fa6, true), _0x3804a8["dialog"]["loading"](true);
    }), this["subContent"]["find"]("#applyChanges").on(UI["pointerEvent"]("click", "toolsSubdialog"), function (_0x401e52) {
      _0x401e52["preventDefault"](), _0x3804a8["dialog"].loading(true);
      var _0x2ed90d = _0x3804a8["table"]["getColumnId"]("ID"),
        _0x367266 = UI["rankToIndex"](room["myself"].rank),
        _0xf55eb8 = _0x3804a8.table["headerFields"]["length"] - 1,
        _0x297cd3 = {};
      for (var _0xc5aa3f = 2; _0xc5aa3f <= _0xf55eb8; _0xc5aa3f++) {
        var _0x3e60ec = _0x3804a8["table"]["headerFields"][_0xc5aa3f];
        UI.rankToIndex(_0x3e60ec) < _0x367266 && (_0x297cd3[_0x3e60ec] = {});
      }
      for (var _0x243d4b = 0; _0x243d4b < _0x3804a8["table"]["rowCount"]; _0x243d4b++) {
        for (var _0xc5aa3f = 2; _0xc5aa3f <= _0xf55eb8; _0xc5aa3f++) {
          var _0x5a6478 = _0x3804a8["table"]["rows"][_0x243d4b][_0xc5aa3f],
            _0x3e60ec = _0x3804a8.table["headerFields"][_0xc5aa3f];
          UI.rankToIndex(_0x3e60ec) < _0x367266 && (_0x297cd3[_0x3e60ec][_0x3804a8["table"]["rows"][_0x243d4b][_0x2ed90d]] = _0x5a6478["checked"]);
        }
      }
      var _0x482683 = {};
      _0x482683["command"] = "ROOMCHANGE", _0x482683["action"] = "RoomTools", _0x482683["tools"] = _0x297cd3, socket.send(_0x482683, true), UI["dialogHandler"]["showAlert"](textManager.getString("alerts.txtSaved"));
    });
    var _0x56aa70 = {};
    _0x56aa70["command"] = "ROOMREQUEST", _0x56aa70["action"] = "RoomTools", _0x56aa70.perform = "get", socket["send"](_0x56aa70, true);
  }
  ["unload"]() {
    this["dialog"]["modal"].off(".toolsSubdialog"), this["table"]["reset"]();
  }
  ["gotResponse"](_0x1be22b) {
    _0x1be22b["option"] == "Rtc" && this["dialog"]["loading"](false);
  }
  ["data"](_0x411798, _0x1d51ee) {
    var _0x45248e = UI["rankToIndex"](room["myself"]["rank"]);
    this.table["reset"]();
    var _0xdac174 = ["ID", "Tool"],
      _0x4473d6 = _0xdac174["length"] + 1;
    $.each(_0x411798, function (_0x2d02ba, _0x46879e) {
      _0xdac174.push(_0x46879e);
    }), this["table"]["setHeader"](_0xdac174), this["table"].headerCaption(2, textManager["getString"]("roommanager.tools.rowTool"));
    var _0x17b117 = this;
    $.each(_0x411798, function (_0x400dbc, _0x4c32a0) {
      _0x17b117["table"]["headerClass"](_0x400dbc + _0x4473d6, UI["rankToStyle"](_0x4c32a0)), _0x17b117["table"]["headerTooltip"](_0x400dbc + _0x4473d6, UI.userRank(_0x4c32a0)), _0x17b117["table"]["headerCaption"](_0x400dbc + _0x4473d6, textManager["getString"]("global.shortRank." + _0x4c32a0));
    }), $.each(_0x1d51ee, function (_0x3618f6, _0x183e04) {
      var _0x2aa574 = [_0x3618f6, UI["brushToIcon"](_0x3618f6)["html"]() + " " + UI["brushToName"](_0x3618f6)];
      $["each"](_0x183e04, function (_0x52cf1d, _0x1c8735) {
        var _0x53bd4b = $("<div />");
        _0x53bd4b["addClass"]("smallCheckbox");
        var _0x3e2d58 = new Checkbox(_0x53bd4b);
        _0x3e2d58["setValue"](_0x1c8735), (UI["rankToIndex"](_0x52cf1d) >= _0x45248e || _0x3618f6 == UI["defaultBrush"]) && _0x3e2d58.setReadOnly(true), _0x2aa574["push"](_0x3e2d58);
      }), _0x17b117["table"]["addRow"](_0x2aa574, false);
    }), this["table"].hideColumn(1), this.table["columnLink"](2, 1), this.dialog["changed"](), this["table"]["updated"](), this["dialog"]["loading"](false);
  }
}
class RoomManagerBansSubDialog extends SubDialog {
  constructor(_0x550a84, _0x35ea7b) {
    super(_0x550a84, _0x35ea7b), this["table"];
  }
  ["load"]() {
    this.dialog["loading"](true), this["subContent"]["html"](this["dialog"]["loadFile"]("forms/roommanager.bans.html"));
    !room["can"]("ban") && this["subContent"]["find"]("#addBan")["addClass"]("disabled");
    this.subContent["find"]("#removeBan")["addClass"]("disabled"), this["subContent"]["find"]("#editBan")["addClass"]("disabled"), this["table"] = new Table(this.subContent["find"]("#banContent"), null, "banManagerTable", "fmTable"), this["table"].setFilterable(true), this["table"]["setTitle"](textManager["getString"]("roommanager.bans.lblBans")), this.table["setHeader"](["ID", "Address", "Username", "Timestamp", "Staffname", "Staffrank", "Staffuid", "IP", "Banned by", "Length"]), this["table"]["hideColumns"]([1, 2, 3, 4, 5, 6, 7]), this["table"]["columnLink"](9, 5), this["table"]["columnLink"](10, 4), this.table["headerCaption"](8, textManager["getString"]("roommanager.bans.rowIP")), this["table"]["headerCaption"](9, textManager.getString("roommanager.bans.rowBannedBy")), this["table"]["headerCaption"](10, textManager["getString"]("roommanager.bans.rowLength"));
    var _0x1faf74 = this;
    $(this["dialog"]).on("dialogResizingEnded.banSubdialog dialogMaximized.banSubdialog dialogRestored.banSubdialog", function (_0xa93d6d) {
      _0x1faf74.table && _0x1faf74["table"].updated();
    }), this["subContent"].on(UI["pointerEvent"]("click", "banSubdialog"), "#addBan", function (_0x478cbd) {
      _0x478cbd["preventDefault"](), _0x1faf74["dialog"]["enableModal"](_0x1faf74["dialog"].loadFile("forms/roommanager.modal.addban.html")), _0x1faf74["dialog"]["modal"]["find"]("input[name=\"address\"]")["focus"]();
      var _0x533169 = _0x1faf74["dialog"]["modal"].find("select[name=\"banLength\"]");
      _0x533169["empty"](), $.each(_0x1faf74["dialog"]["banLengths"], function (_0x13c1ae, _0x540c9c) {
        let _0x4d1043 = getLengthDescription(_0x540c9c);
        _0x533169.append(new Option(_0x4d1043, _0x540c9c));
      }), _0x533169.val(room.bantime);
    }), this["subContent"].on(UI["pointerEvent"]("click", "banSubdialog"), "#editBan", function (_0x296a42) {
      _0x296a42["preventDefault"](), _0x1faf74["editBan"]();
    }), this.subContent.on(UI["pointerEvent"]("click", "banSubdialog"), "#removeBan", function (_0xa48d1b) {
      _0xa48d1b["preventDefault"]();
      var _0xf13098 = _0x1faf74.table["getSelected"]();
      if (_0xf13098) {
        _0x1faf74["dialog"].loading(true);
        var _0x1e871f = {};
        _0x1e871f["command"] = "ROOMCHANGE", _0x1e871f.action = "RoomBans", _0x1e871f.perform = "delete", _0x1e871f["banid"] = _0xf13098[0].ID, socket["send"](_0x1e871f, true);
      }
    }), this["dialog"]["modal"].on(UI["pointerEvent"]("click", "banSubdialog"), "#insertBan", function (_0x3668d9) {
      _0x3668d9["preventDefault"]();
      let _0x41c582 = _0x1faf74["dialog"]["modal"]["find"]("input[name=\"address\"]").val();
      if (isValidIP(_0x41c582)) {
        var _0x442d3e = {};
        _0x442d3e["command"] = "ROOMCHANGE", _0x442d3e["action"] = "RoomBans", _0x442d3e["perform"] = "update", _0x442d3e["username"] = _0x1faf74["dialog"]["modal"]["find"]("input[name=\"username\"]")["val"](), _0x442d3e.ip = _0x41c582, _0x442d3e["expires"] = _0x1faf74["dialog"]["modal"]["find"]("select[name=\"banLength\"]")["val"](), socket["send"](_0x442d3e, true), _0x1faf74["dialog"].loading(true);
      } else UI["dialogHandler"].showAlert(textManager["getString"]("alerts.txtInvalidIP"));
    }), this.dialog["modal"].on(UI.pointerEvent("click", "banSubdialog"), "#updateBan", function (_0x3a767d) {
      _0x3a767d["preventDefault"]();
      let _0x176db0 = _0x1faf74["dialog"]["modal"].find('input[name="address"]')["val"]();
      if (isValidIP(_0x176db0)) {
        var _0x3db856 = {};
        _0x3db856["command"] = "ROOMCHANGE", _0x3db856["action"] = "RoomBans", _0x3db856["perform"] = "update", _0x3db856["banid"] = _0x1faf74["dialog"]["modal"].find("input[name=\"banid\"]")["val"](), _0x3db856["username"] = _0x1faf74["dialog"]["modal"]["find"]('input[name="username"]')["val"](), _0x3db856.ip = _0x176db0, _0x3db856["expires"] = _0x1faf74.dialog["modal"]["find"]("select[name=\"banLength\"]")["val"](), socket.send(_0x3db856, true), _0x1faf74["dialog"]["loading"](true);
      } else UI["dialogHandler"]["showAlert"](textManager.getString("alerts.txtInvalidIP"));
    });
    var _0xb123c5 = {};
    _0xb123c5["command"] = "ROOMREQUEST", _0xb123c5["action"] = "RoomBans", socket["send"](_0xb123c5, true);
  }
  ["unload"]() {
    this["dialog"]["modal"]["off"](".banSubdialog"), this["table"].reset();
  }
  ["data"](_0x6f4f96) {
    var _0x33879d = this;
    $["each"](_0x6f4f96, function (_0x17b370, _0x5c3809) {
      _0x33879d["addBanRow"](_0x5c3809.id, _0x5c3809.ip, _0x5c3809.username, _0x5c3809["expires"], _0x5c3809["staffname"], _0x5c3809["staffrank"], _0x5c3809["uid"]);
    }), $(this["table"]).on("tableRowDoubleClick.banSubdialog", function (_0xbc4133) {
      _0x33879d.editBan();
    }), $(this["table"]).on("tableRowSelected.banSubdialog tableRowUnselected.banSubdialog", function (_0x5971f0) {
      var _0x404d58 = false;
      if (_0x5971f0["type"] == "tableRowSelected") {
        var _0x1a0203 = _0x33879d["table"]["getSelected"]();
        (_0x1a0203[0].Staffuid == room.myself["uid"] || room["can"]("unbanothers")) && (_0x404d58 = true);
      }
      _0x404d58 ? (_0x33879d["subContent"].find("#removeBan")["removeClass"]("disabled"), _0x33879d["subContent"].find("#editBan").removeClass("disabled")) : (_0x33879d["subContent"]["find"]("#removeBan")["addClass"]("disabled"), _0x33879d["subContent"]["find"]("#editBan")["addClass"]("disabled"));
    }), this["dialog"]["changed"](), this.table["updated"](), this["table"]["sort"](4), this["dialog"]["loading"](false);
  }
  ["editBan"]() {
    this.dialog["enableModal"](this["dialog"]["loadFile"]("forms/roommanager.modal.editban.html")), this.dialog.modal["find"]("input[name=\"address\"]")["focus"]();
    var _0x534e1a = this["table"]["getSelected"](),
      _0x5ca804 = this.dialog["modal"].find('select[name="banLength"]');
    _0x5ca804["empty"](), _0x5ca804.append(new Option(_0x534e1a[0]["Length"], -1)), $.each(this.dialog["banLengths"], function (_0x4f9317, _0x396a31) {
      let _0x5c9f69 = getLengthDescription(_0x396a31);
      _0x5ca804["append"](new Option(_0x5c9f69, _0x396a31));
    }), _0x5ca804["val"](-1), this["dialog"]["modal"].find('input[name="banid"]').val(_0x534e1a[0].ID), this["dialog"].modal["find"]("input[name=\"address\"]")["val"](_0x534e1a[0]["Address"]), this["dialog"]["modal"].find("input[name=\"username\"]")["val"](_0x534e1a[0]["Username"]);
  }
  ["addBanRow"](_0x4a6971, _0x4a962d, _0x7667de, _0x2580da, _0x126d5e, _0x1b2865, _0x395448) {
    var _0x46fe96;
    _0x2580da >= 2e9 ? _0x46fe96 = textManager["getString"]("global.lengths.lblPermanent") : _0x46fe96 = formatTimestamp(_0x2580da - UI["timeDiff"]);
    var _0xaf9d33 = _0x4a962d + "<br /><span class=\"smallDate\">" + _0x7667de + "</span>",
      _0x138786 = "<span class=\"" + UI["rankToStyle"](_0x1b2865) + '">' + _0x126d5e + "</span>";
    return this["table"]["addRow"]([_0x4a6971, _0x4a962d, _0x7667de, _0x2580da, _0x126d5e, _0x1b2865, _0x395448, _0xaf9d33, _0x138786, _0x46fe96], false);
  }
  ["updateBanRow"](_0x821e4d, _0xfccd98, _0x2dfb8a, _0xba6d1d, _0x24db33, _0xe95518, _0x57511b) {
    var _0x3e485a = this["table"]["find"](this.table.getColumnId("ID"), _0x821e4d);
    if (_0x3e485a != null) {
      var _0x4a6db3;
      _0xba6d1d >= 2e9 ? _0x4a6db3 = textManager["getString"]("global.lengths.lblPermanent") : _0x4a6db3 = formatTimestamp(_0xba6d1d - UI["timeDiff"]);
      var _0x2acd49 = _0xfccd98 + "<br /><span class=\"smallDate\">" + _0x2dfb8a + "</span>",
        _0x4aa905 = "<span class=\"" + UI["rankToStyle"](_0xe95518) + '">' + _0x24db33 + "</span>",
        _0x4860f0 = {};
      _0x4860f0[this.table.getColumnId("Address")] = _0xfccd98, _0x4860f0[this.table["getColumnId"]("Username")] = _0x2dfb8a, _0x4860f0[this["table"]["getColumnId"]("Timestamp")] = _0xba6d1d, _0x4860f0[this["table"].getColumnId("IP")] = _0x2acd49, _0x4860f0[this["table"]["getColumnId"]("Staffname")] = _0x24db33, _0x4860f0[this.table["getColumnId"]("Staffrank")] = _0xe95518, _0x4860f0[this["table"]["getColumnId"]("Staffuid")] = _0x57511b, _0x4860f0[this["table"]["getColumnId"]("Banned by")] = _0x4aa905, _0x4860f0[this["table"].getColumnId("Length")] = _0x4a6db3, this.table["updateRow"](_0x3e485a, _0x4860f0);
    }
  }
  ["gotResponse"](_0x286ab7) {
    if (_0x286ab7["option"] == "Rba") {
      if (_0x286ab7["code"] == "OK") {
        this["dialog"]["disableModal"]();
        var _0x221875 = this["addBanRow"](_0x286ab7["ban"].id, _0x286ab7["ban"].ip, _0x286ab7["ban"]["username"], _0x286ab7["ban"]["time"], _0x286ab7.ban["staffname"], _0x286ab7["ban"].staffrank, _0x286ab7["ban"]["staffuid"]),
          _0x221875 = this["table"]["find"](this["table"]["getColumnId"]("ID"), _0x286ab7.ban.id);
        _0x221875 != null && this.table["locate"](_0x221875);
      } else UI["dialogHandler"].showAlert("Error: " + _0x286ab7["code"]);
      this["table"]["updated"]();
    } else {
      if (_0x286ab7["option"] == "Rbu") {
        if (_0x286ab7.code == "OK") {
          this.dialog.disableModal(), this["updateBanRow"](_0x286ab7["ban"].id, _0x286ab7["ban"].ip, _0x286ab7.ban["username"], _0x286ab7.ban.time, _0x286ab7["ban"]["staffname"], _0x286ab7["ban"]["staffrank"]);
          var _0x221875 = this["table"]["find"](this.table["getColumnId"]("ID"), _0x286ab7["ban"].id);
          _0x221875 != null && this.table["locate"](_0x221875);
        } else UI["dialogHandler"]["showAlert"]("Error: " + _0x286ab7["code"]);
      } else {
        if (_0x286ab7["option"] == "Rbd") {
          if (_0x286ab7["code"] == "OK") {
            var _0x221875 = this["table"].find(this["table"]["getColumnId"]("ID"), _0x286ab7["ban"].id);
            _0x221875 != null && this["table"]["deleteRow"](_0x221875);
          } else UI["dialogHandler"]["showAlert"]("Error: " + _0x286ab7["code"]);
        }
      }
    }
    this["dialog"].loading(false);
  }
}
class SaveDialog extends Dialog {
  constructor(_0xb478db) {
    super(_0xb478db), this["icon"] = "fa-image", this.caption = textManager["getString"]("save.title"), this["width"] = 705, this["height"] = 590, this.canvasWidth, this["canvasHeight"], this.selectionPrevious = null, this["selectionInitial"] = null, this["gallerySaves"] = 0, this.galleryLimit = 10, this["loadContent"](this["loadFile"]("forms/save.main.html")), this["canvas"] = new AdvancedCanvas(1, 1), this.content["find"]("#savePreview")["append"](this.canvas["canvas"]), $(this.content).overlayScrollbars({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    });
    var _0x18eb07 = this;
    this["content"]["find"]("a[name=\"saveGallery\"]").on(UI["pointerEvent"]("click"), function (_0x5e315e) {
      _0x5e315e["preventDefault"](), _0x18eb07["selection"]["hasSelection"]() ? (_0x18eb07.selectionPrevious = _0x18eb07["selection"]["getClicks"](), _0x18eb07.selectionInitial = _0x18eb07["selection"]["initialPosition"]) : (_0x18eb07.selectionPrevious = null, _0x18eb07.selectionInitial = null), _0x18eb07["save"]("gallery"), _0x18eb07["content"]["find"]('input[name="url"]')["focus"]();
    }), this["content"]["find"]('a[name="saveFile"]').on(UI["pointerEvent"]("click"), function (_0x131b96) {
      _0x131b96["preventDefault"](), _0x18eb07["selection"].hasSelection() ? (_0x18eb07["selectionPrevious"] = _0x18eb07["selection"]["getClicks"](), _0x18eb07["selectionInitial"] = _0x18eb07.selection["initialPosition"]) : (_0x18eb07["selectionPrevious"] = null, _0x18eb07["selectionInitial"] = null), _0x18eb07.save("disk");
    }), this["selection"] = new SelectionTool(this.content["find"]("#savePreview"), 0, 0), this["background"] = new Switch(this["content"].find("#saveBackground"), function (_0x126d6a) {
      return _0x126d6a ? textManager["getString"]("global.transparent") : textManager.getString("global.opaque");
    }), $(this["background"]).on("checkboxChanged", function (_0x4902b3) {
      _0x18eb07["content"]["find"]("#savePreview").css("background", _0x4902b3["checked"] ? "" : room["board"]["backgroundColor"]), _0x18eb07["setPreference"]("background", _0x4902b3["checked"]);
    }), this["selectionTool"] = new Switch(this["content"]["find"]("#selectionTool"), lassoRectFunction), this["currentTool"] = "rectangle", $(this["selectionTool"]).on("checkboxChanged", function (_0x14bdba) {
      _0x18eb07["selection"]["currentTool"] = _0x14bdba["checked"] ? "lasso" : "rectangle", _0x18eb07.selection.clear(), _0x18eb07["currentTool"] = _0x18eb07["selection"].currentTool, _0x18eb07["setPreference"]("tool", _0x14bdba["checked"]);
    }), this["content"]["find"]("#savePreview")["contextmenu"](function (_0x38e2c6) {
      _0x38e2c6["preventDefault"]();
    }), this["content"]["find"]("#savePreview").on(UI["pointerEvent"]("down"), function (_0x73ad3a) {
      _0x73ad3a["which"] && _0x73ad3a.which == 2 && (_0x73ad3a["preventDefault"](), !_0x18eb07.selectionTool["readOnly"] && (_0x18eb07["selection"]["currentTool"] = _0x18eb07.selection["currentTool"] == "rectangle" ? "lasso" : "rectangle", _0x18eb07["selectionTool"]["setValue"](!_0x18eb07["selectionTool"]["checked"]), _0x18eb07["currentTool"] = _0x18eb07["selection"]["currentTool"]));
    }), this["content"].find("button[name=\"visitImage\"]").on(UI["pointerEvent"]("click"), function (_0x550880) {
      _0x550880["preventDefault"]();
      var _0x5f2fa7 = _0x18eb07["content"]["find"]('input[name="url"]').val();
      _0x5f2fa7 != "" && window["open"](_0x5f2fa7, "_blank");
    });
  }
  ["loadContent"](_0x153f16) {
    this.content["html"](_0x153f16);
  }
  ["saveToGallery"](_0x3b9710 = false) {
    var _0xcb3cc4 = this;
    if (this["gallerySaves"] >= this["galleryLimit"] && !_0x3b9710) {
      this["enableModal"](this["loadFile"]("forms/system.captcha.html"));
      var _0x44a37f = new Captcha();
      this["modal"].find("form[name=\"captchaForm\"]").submit(function (_0x115cad) {
        _0x115cad.preventDefault(), _0x44a37f["verify"](_0x334e7c.val()) ? (_0xcb3cc4["saveToGallery"](true), _0xcb3cc4["disableModal"](), _0xcb3cc4.gallerySaves = 0) : (_0x44a37f["newCode"](), UI["dialogHandler"].showAlert(textManager["getString"]("alerts.txtCaptchaFailed"))), _0x334e7c["val"]("");
      }), this["modal"]["find"](".captchaContainer p").append(_0x44a37f["canvas"]);
      var _0x334e7c = this["modal"]["find"]("input[name=\"code\"]");
      _0x334e7c["focus"](), this["modal"]["find"]("#confirmCaptcha").on(UI["pointerEvent"]("down"), function (_0x215c56) {
        _0x215c56.preventDefault(), _0xcb3cc4.modal["find"]('form[name="captchaForm"]')["submit"]();
      }), _0x334e7c.on("keydown", function (_0x40c5c4) {
        _0x40c5c4.which == 13 && (_0x40c5c4["preventDefault"](), _0xcb3cc4["modal"].find("form[name=\"captchaForm\"]").submit());
      });
    } else {
      this["loading"](true);
      var _0x53dac4 = this["getDataURL"](),
        _0x4ae672 = new FormData(),
        _0x1951fe = this["getExtension"]();
      _0x4ae672.append("file", canvas2blob(_0x53dac4), "whiteboard." + _0x1951fe), _0x4ae672["append"]("tags", _0x1951fe == "gif" ? "animation" : ""), _0x4ae672.append("filename", "whiteboard." + _0x1951fe), _0x4ae672["append"]("extension", _0x1951fe), _0x4ae672["append"]("username", UI["account"]["username"]), _0x4ae672["append"]("password", UI["account"].password), $.ajax({
        type: "POST",
        enctype: "multipart/form-data",
        url: "https://flockmod.com/gallery/index.php?q=/upload",
        data: _0x4ae672,
        processData: false,
        contentType: false,
        cache: false,
        timeout: 6e5
      })["done"](function (_0x563b7a) {
        var _0x2d88e8 = /(to \.\/index\.php\?q\=\/post\/view\/([0-9]*)?)/g,
          _0x368665 = _0x2d88e8["exec"](_0x563b7a);
        if (_0x368665) {
          var _0x67388e = _0x368665[2];
          _0xcb3cc4.content["find"]("input[name=\"url\"]")["val"]("https://flockmod.com/img/?" + _0x67388e), _0xcb3cc4["content"]["find"]("input[name=\"url\"]")["focus"]();
        }
        $(_0xcb3cc4).triggerHandler(new processFinishedEvent()["getEvent"]()), _0xcb3cc4.gallerySaves++, _0xcb3cc4["loading"](false);
      })["fail"](function (_0x149fd0) {
        UI.dialogHandler["showAlert"](textManager.getString("alerts.txtGallerySaveFailed")), _0xcb3cc4.loading(false);
      });
    }
  }
  ["saveToDisk"]() {
    this.loading(true), UI["warnExit"] = false;
    var _0x32366d = formatDateString(new Date()),
      _0x2bf6fa = $("<a />");
    _0x2bf6fa.addClass("invisible"), _0x2bf6fa["attr"]("download", "savedfile_" + _0x32366d + "." + this.getExtension()), _0x2bf6fa["attr"]("href", this.makeDownloadable(this.getDataURL())), this["content"]["append"](_0x2bf6fa), _0x2bf6fa[0].click(), _0x2bf6fa.remove(), UI["warnExit"] = true, $(this).triggerHandler(new processFinishedEvent()["getEvent"]()), this.loading(false);
  }
  ["getExtension"]() {
    return this["content"]["find"]("#savePreview canvas:visible")["length"] > 0 ? "png" : "gif";
  }
  ["makeDownloadable"](_0xf88738) {
    return _0xf88738["replace"]("image/png", "image/octet-stream").replace("image/gif", "image/octet-stream");
  }
  ["getDataURL"]() {
    return this["content"]["find"]("#savePreview canvas:visible")["length"] > 0 ? this["canvas"]["getData"]() : this["content"].find("#savePreview img").attr("src");
  }
  ["save"](_0x15c4a3) {
    if (this.selection["hasSelection"]()) this["saveSelection"](_0x15c4a3); else {
      if (!this.background["checked"]) {
        var _0x3b80b5 = this["canvas"]["getImageData"](),
          _0x479345 = this,
          _0x418738 = new Image();
        _0x418738["onload"] = function () {
          _0x479345["canvas"]["clear"](room["board"]["backgroundColor"]), _0x479345["canvas"].drawImage(_0x418738, 0, 0), _0x479345["doSave"](_0x15c4a3);
        }, _0x418738["src"] = this["canvas"]["getData"](), $(_0x479345).on("processFinished.savedialog", function (_0x110993) {
          _0x479345.canvas["putImageData"](_0x3b80b5), $(_0x479345).off(".savedialog");
        });
      } else this["doSave"](_0x15c4a3);
    }
  }
  ["doSave"](_0x3f24c5) {
    _0x3f24c5 == "disk" ? this.saveToDisk() : this["saveToGallery"]();
  }
  ["saveSelection"](_0x40bb30) {
    if (this.selection.hasSelection()) {
      var _0x23b9b2 = this,
        _0x187f1d = this["getSelectedImage"]();
      _0x187f1d.then(function (_0x2f6731) {
        var _0xfc7a92 = parseInt(_0x2f6731["position"]["width"] - _0x2f6731["position"].x),
          _0x2335f3 = parseInt(_0x2f6731["position"]["height"] - _0x2f6731["position"].y);
        _0x23b9b2["canvasWidth"] = _0xfc7a92, _0x23b9b2.canvasHeight = _0x2335f3, _0x23b9b2["content"]["find"]("#saveBox")["css"]({
          width: _0x23b9b2.canvasWidth / 2 + "px",
          height: _0x23b9b2["canvasHeight"] / 2 + "px"
        }), _0x23b9b2["content"].find("#savePreview")["css"]({
          width: _0x23b9b2["canvasWidth"] + "px",
          height: _0x23b9b2["canvasHeight"] + "px"
        }), _0x23b9b2.resizeCanvas(_0xfc7a92, _0x2335f3), _0x23b9b2.canvas["clear"](), _0x23b9b2["selection"]["clear"]();
        var _0xc3e143 = new Image();
        _0xc3e143["onload"] = function () {
          _0x23b9b2["canvas"]["drawImage"](_0xc3e143, 0, 0), _0x23b9b2["save"](_0x40bb30);
        }, _0xc3e143["src"] = _0x2f6731["img"];
      });
    }
  }
  ["getSelectedImage"]() {
    var _0x5b9f5a = this;
    return new Promise(function (_0x35cbcd, _0x42d857) {
      var _0x37f1ae = _0x5b9f5a["selection"]["layer"].advCanvas["getContext"](),
        _0x139d6e,
        _0x21ffa6;
      _0x5b9f5a.selection["currentTool"] == "lasso" ? (_0x139d6e = getLimits(_0x5b9f5a["selection"]["clickX"]), _0x21ffa6 = getLimits(_0x5b9f5a.selection["clickY"])) : (_0x139d6e = getLimits(new Array(_0x5b9f5a["selection"].initialPosition.x, _0x5b9f5a.selection["clickX"][0])), _0x21ffa6 = getLimits(new Array(_0x5b9f5a["selection"]["initialPosition"].y, _0x5b9f5a["selection"].clickY[0])));
      var _0x244363 = new Rect(_0x139d6e.x, _0x21ffa6.x, _0x139d6e.y, _0x21ffa6.y),
        _0x599818 = new Image();
      _0x599818["onload"] = function () {
        _0x37f1ae["save"](), _0x5b9f5a["selection"]["redraw"](false, false), _0x37f1ae.closePath(), _0x37f1ae["clip"](), _0x37f1ae["drawImage"](_0x599818, 0, 0), _0x37f1ae["restore"]();
        var _0x31cd13 = new Image();
        _0x31cd13["onload"] = function (_0x54a651) {
          var _0x57b044 = {};
          _0x57b044["position"] = _0x244363, _0x57b044["img"] = cropImage(this, _0x244363.x, _0x244363.y, _0x244363["width"] - _0x244363.x, _0x244363.height - _0x244363.y), _0x35cbcd(_0x57b044);
        }, _0x31cd13["src"] = _0x5b9f5a["selection"]["layer"]["advCanvas"]["getData"]();
      }, _0x599818["src"] = _0x5b9f5a["canvas"]["getData"]();
    });
  }
  ["getBrushSelection"](_0x6c157c = null) {
    var _0x561787 = room["myself"].surface["brushHandler"].brush,
      _0x3edc48 = _0x561787["getBounds"]();
    this["resizeCanvas"](_0x3edc48["width"] - _0x3edc48.x, _0x3edc48.height - _0x3edc48.y), this.canvas.clear();
    var _0x2b3f51 = this,
      _0x4fd6f3 = new Array();
    if (_0x561787.getOption("multilayer")) for (var _0x33f5b5 = 0; _0x33f5b5 < room["board"].nLayers; _0x33f5b5++) {
      UI.layerIsVisible(_0x33f5b5) && (_0x6c157c == null || _0x6c157c == _0x33f5b5) && _0x4fd6f3["push"](_0x33f5b5);
    } else _0x4fd6f3["push"](_0x6c157c == null ? room["myself"]["surface"]["currentLayer"] : _0x6c157c);
    var _0x3c38eb = _0x4fd6f3["length"],
      _0x5eac71 = {},
      _0x52d22d = 0;
    $["each"](_0x4fd6f3, function (_0x594a53, _0x55a8cb) {
      var _0x2fcf26 = _0x561787.getSelectedImage(_0x55a8cb);
      _0x2fcf26["then"](function (_0x207bb1) {
        _0x5eac71[_0x207bb1["layer"]] = _0x207bb1;
        if (++_0x52d22d == _0x3c38eb) {
          for (var _0x5990c1 = 0; _0x5990c1 < room.board["nLayers"]; _0x5990c1++) {
            _0x5990c1 in _0x5eac71 && UI["layerIsVisible"](_0x5990c1) && (_0x2b3f51["canvas"]["drawImage"](_0x5eac71[_0x5990c1]["img"], 0, 0), room.myself.surface["brushParameter"]({
              action: "save"
            }));
          }
          $(_0x2b3f51)["triggerHandler"](new imageLoadedEvent()["getEvent"]());
        }
      });
    });
  }
  ["gif"](_0x59dde8) {
    $(_0x59dde8)["addClass"]("noMouseInteraction"), this["simpleMode"](true), this["content"]["find"]("#savePreview")["append"](_0x59dde8), this["canvasWidth"] = $(_0x59dde8)["width"](), this["canvasHeight"] = $(_0x59dde8)["height"](), $(this)["triggerHandler"](new imageLoadedEvent().getEvent());
  }
  ["simpleMode"](_0x5e72e6) {
    _0x5e72e6 ? (this["content"]["find"]("#savePreview canvas")["hide"](), this.selectionTool["setReadOnly"](true), this.background["setReadOnly"](true)) : (this.content["find"]("#savePreview canvas").show(), this.selectionTool["setReadOnly"](false), this.background["setReadOnly"](false));
  }
  ["custom"](_0x4db591) {
    var _0x319cee = this;
    $["each"](_0x4db591, function (_0x1ca477, _0x3e7d00) {
      _0x1ca477 == 0 && (_0x319cee["resizeCanvas"](_0x3e7d00["width"], _0x3e7d00["height"]), _0x319cee["canvas"].clear());
      var _0x1f2a7a = new AdvancedCanvas(_0x3e7d00["width"], _0x3e7d00["height"]);
      _0x1f2a7a["putImageData"](_0x3e7d00);
      var _0x448589 = new Image();
      _0x448589["onload"] = function () {
        _0x319cee.canvas["drawImage"](_0x448589, 0, 0);
      }, _0x448589["src"] = _0x1f2a7a["getData"](), _0x1f2a7a["remove"]();
    }), $(this).triggerHandler(new imageLoadedEvent()["getEvent"]());
  }
  ["getFullBoard"](_0x5a2fc7 = null) {
    this["resizeCanvas"](room["board"]["canvasWidth"], room["board"]["canvasHeight"]), this["canvas"]["clear"]();
    var _0x401250 = this,
      _0xe1599b = _0x5a2fc7 == null ? room["board"].getAllLayers(0, 0, this["canvasWidth"], this.canvasHeight) : room["board"]["getImgLayers"]({}, 0, 0, this["canvasWidth"], this.canvasHeight, _0x5a2fc7 - 1);
    _0xe1599b["then"](function (_0x1f21fc) {
      var _0x32b892 = Object.keys(_0x1f21fc).length,
        _0x11ff6d = {},
        _0x2bb8e5 = 0;
      $["each"](_0x1f21fc, function (_0x55bfbe, _0x226c81) {
        var _0x5e13a0 = new Image();
        _0x11ff6d[_0x55bfbe] = _0x5e13a0, _0x5e13a0["onload"] = function () {
          if (++_0x2bb8e5 == _0x32b892) {
            for (var _0x5876bc = 0; _0x5876bc < room["board"]["nLayers"]; _0x5876bc++) {
              _0x5876bc in _0x11ff6d && UI["layerIsVisible"](_0x5876bc) && (_0x5a2fc7 == null || _0x5a2fc7 == _0x5876bc) && _0x401250["canvas"]["drawImage"](_0x11ff6d[_0x5876bc], 0, 0);
            }
            $(_0x401250)["triggerHandler"](new imageLoadedEvent().getEvent());
          }
        }, _0x5e13a0["src"] = _0x226c81;
      });
    });
  }
  ["preview"](_0x11348d = "full", _0x433e4f = null) {
    if (_0x11348d == "full") this["getFullBoard"](_0x433e4f); else {
      if (_0x11348d == "selection") this["getBrushSelection"](_0x433e4f); else {
        if (_0x11348d == "custom") this["custom"](_0x433e4f); else _0x11348d == "gif" && this.gif(_0x433e4f);
      }
    }
  }
  ["onResize"]() {
    var _0x4f8e11 = this["content"]["find"]("#saveBox")["width"](),
      _0x42d8e5 = this["content"]["find"]("#savePreview")["width"](),
      _0x3a741a = this["content"]["find"]("#savePreview")["height"](),
      _0x554cae = this["content"]["find"]("#previewDiv")["width"](),
      _0x1287d4 = this["content"]["find"]("#previewDiv")["height"](),
      _0x1c27d3 = calculateAspectRatioFit(this.canvasWidth, this.canvasHeight, _0x554cae, _0x1287d4),
      _0x10361c = _0x1c27d3["width"] / this.canvasWidth;
    this["content"]["find"]("#savePreview")["css"]("transform", "scale(" + _0x10361c + ")"), this["content"]["find"]("#saveBox")["css"]({
      width: _0x1c27d3["width"],
      height: _0x1c27d3["height"]
    }), this["selection"]["setScale"](_0x10361c);
  }
  ["onShow"](_0x2c062b = "full", _0x4a4ec5 = null) {
    var _0x3c32fc = this;
    this.loading(true), this["simpleMode"](false), $(this).on("imageLoaded", function (_0x261855) {
      _0x3c32fc["loading"](false), _0x3c32fc["changed"]();
    }), this["preview"](_0x2c062b, _0x4a4ec5), this["selectionPrevious"] && (this["selection"]["setClicks"](this["selectionPrevious"]), this["selection"].initialPosition = this["selectionInitial"], this["selection"].redraw()), this["content"]["find"]("input[name=\"url\"]").val(""), this["getPreference"]("background") !== undefined ? this["background"].setValue(this.getPreference("background")) : (this["background"]["setValue"](false), this["content"]["find"]("#savePreview").css("background", room["board"]["backgroundColor"])), this.getPreference("tool") !== undefined && this["selectionTool"]["setValue"](this["getPreference"]("tool")), this.changed();
  }
  ["onHide"]() {
    this["layers"] = null, this.layersCheckbox = null, this["resizeCanvas"](1, 1), this.content["find"]("#savePreview img").remove();
  }
  ["resizeCanvas"](_0x3a661a, _0x557be4) {
    this["canvasWidth"] = _0x3a661a, this["canvasHeight"] = _0x557be4, this["content"]["find"]("#savePreview")["css"]({
      width: this["canvasWidth"] + "px",
      height: this.canvasHeight + "px"
    }), this["canvas"]["changeSize"](this["canvasWidth"], this.canvasHeight), this.selection["changeSize"](this["canvasWidth"], this["canvasHeight"]), this["onResize"]();
  }
}
class UploadDialog extends Dialog {
  constructor(_0x51a84a) {
    super(_0x51a84a), this["icon"] = "fa-image", this["caption"] = textManager["getString"]("upload.title"), this["width"] = 705, this["height"] = 450, this["loadContent"](this["loadFile"]("forms/upload.main.html"));
    var _0x31bab7 = this;
    this["content"]["find"]("#dropArea").on("dragover dragenter", function (_0x32e25c) {
      _0x31bab7["active"] && (_0x32e25c["preventDefault"](), $(this)["css"]("border", "3px solid red"));
    }), this.content["find"]("#dropArea").on("dragleave", function (_0xf6a489) {
      _0x31bab7["active"] && (_0xf6a489["preventDefault"](), $(this)["css"]("border", "3px solid #505050"));
    }), this["content"]["find"]("#dropArea").on("drop", function (_0x29846f) {
      _0x31bab7["active"] && (_0x29846f["preventDefault"](), $(this).css("border", "3px solid #505050"), UI["uploader"]["uploadFile"](_0x29846f["originalEvent"]["dataTransfer"]["files"]), _0x31bab7["hide"]());
    }), this["content"]["find"]("#dropArea").on("click", function (_0x4a928c) {
      _0x31bab7.active && (_0x4a928c["preventDefault"](), $("#uploadFile")["click"](), _0x31bab7["hide"]());
    }), this["content"]["find"]('a[name="uploadFile"]').on("click", function (_0x502a6f) {
      _0x502a6f.preventDefault(), $("#uploadFile")["click"](), _0x31bab7["hide"]();
    });
  }
  ["onShow"]() {
    this["changed"]();
  }
  ["loadContent"](_0x2ef8db) {
    this["content"]["html"](_0x2ef8db);
  }
}
class BrushDesignerDialog extends Dialog {
  constructor(_0x1a7a29) {
    super(_0x1a7a29), this["icon"] = "fa-paint-brush", this["caption"] = textManager["getString"]("brushdesigner.title"), this["canvasSize"] = 140, this["brushSize"] = 10, this.brushAlpha = 1, this["brushType"], this.brushColor = "#000000", this["designerScale"] = 2.5, this["width"] = 740, this["height"] = 520, this.minWidth = 440, this["colorSelector"], this["sliderSize"], this["sliderAlpha"], this["from"], this.brush = new AdvancedCanvas(this["canvasSize"], this["canvasSize"]), this.brush.canvas.addClass("pixelArt noPixelSmoothing transparentBG noMouseInteraction"), this["slate"] = new AdvancedCanvas(this["canvasSize"], this["canvasSize"]), this["slate"]["canvas"]["addClass"]("pixelArt noPixelSmoothing"), this["slate"]["canvas"]["css"]({
      "z-index": 999
    }), this["loadContent"](this["loadFile"]("forms/brushdesigner.main.html")), this["drawing"] = false, this["clicks"] = new Array(), this.selectBrush("pen"), this["cursorPos"] = new Point(0, 0), this["cursor"] = $("<div />"), this["cursor"]["addClass"]("cursor designerPointer"), this["cursor"]["css"]({
      width: this["brushSize"],
      height: this["brushSize"]
    }), this["content"].find(".brushPreview")["append"](this["cursor"]);
    var _0x1c0c0f = this;
    this["content"]["find"]("div[name=\"dropBrush\"]").on("dragover dragenter", function (_0xf8f7ce) {
      _0xf8f7ce.preventDefault(), _0xf8f7ce.stopPropagation(), $(this)["css"]("border", "2px solid red");
    }), this["content"].find("div[name=\"dropBrush\"]").on("dragleave", function (_0x507055) {
      _0x507055["preventDefault"](), _0x507055["stopPropagation"](), $(this)["css"]("border", "2px solid #505050");
    }), this["content"].find("div[name=\"dropBrush\"]").on("drop", function (_0x2211c9) {
      _0x2211c9.preventDefault(), _0x2211c9["stopPropagation"](), $(this)["css"]("border", "2px solid #505050"), _0x1c0c0f["upload"](_0x2211c9["originalEvent"]["dataTransfer"]["files"][0]);
    });
  }
  ["upload"](_0xc3678d) {
    var _0x3bc155 = this,
      _0x2e2a4a = _0xc3678d,
      _0x1fa181 = new FileReader();
    _0x1fa181.onloadend = function (_0x3a149f) {
      _0x3bc155.brush["clear"](), _0x3bc155["brush"].putData(_0x3a149f["target"]["result"], 0, 0, _0x3bc155["canvasSize"], _0x3bc155["canvasSize"]);
    }, _0x2e2a4a && _0x1fa181["readAsDataURL"](_0x2e2a4a);
  }
  ["loadContent"](_0x3e7add) {
    var _0x386e33 = this;
    this["content"].html(_0x3e7add), $(this.content)["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    }), this.content["find"](".brushPreview")["append"](this["slate"]["canvas"]).append(this.brush["canvas"]);
    var _0x26b6dd = this["brush"].getContext(),
      _0xc8bff9 = this.slate.getContext();
    this["sliderSize"] = new Slider(this["content"]["find"]("#designerSize"), 1, 40, 1), this["sliderSize"]["setValue"](5), $(this.sliderSize).on("sliderChanged", function (_0x21bba4) {
      _0x386e33["brushSize"] = _0x21bba4.value, _0x386e33.cursor["css"]({
        width: _0x386e33["brushSize"],
        height: _0x386e33.brushSize
      });
    }), this.sliderAlpha = new Slider(this["content"].find("#designerAlpha"), 0, 1, 0.1, zeroToOnePercentage), this.sliderAlpha["setValue"](1), $(this["sliderAlpha"]).on("sliderChanged", function (_0x43255c) {
      _0x386e33["brushAlpha"] = _0x43255c["value"];
    }), this["colorSelector"] = new ColorSelector(this["content"]["find"]("#designerColor"), "#000000"), $(this.colorSelector).on("colorChanged", function (_0x2b7fed) {
      _0x386e33["brushColor"] = _0x2b7fed["color"];
    }), this["content"]["find"]("#designerColor").on("click", function (_0x465671) {
      _0x465671["preventDefault"](), UI["colorDialog"]["show"](_0x386e33["brushColor"]);
    }), this["changeScale"](this.designerScale), this["content"]["find"](".brushPreview").on("wheel", function (_0x1bbfac) {
      _0x1bbfac["preventDefault"](), _0x1bbfac["originalEvent"]["deltaY"] < 0 ? _0x386e33["sliderSize"]["increase"]() : _0x386e33.sliderSize["decrease"]();
    }), this["content"]["find"](".designerBrush").on(UI.pointerEvent("click"), function (_0x13b006) {
      _0x13b006.preventDefault(), _0x386e33["selectBrush"]($(this)["attr"]("name"));
    }), this["content"]["find"](".designerOption").on(UI["pointerEvent"]("click"), function (_0x59ec20) {
      _0x59ec20.preventDefault();
      var _0x251b1a = $(this)["attr"]("name");
      if (_0x251b1a == "clear") _0x386e33["brush"]["clear"](); else {
        if (_0x251b1a == "load") _0x386e33["form"]["find"]("input[name=\"uploadBrush\"]").click(); else {
          if (_0x251b1a == "save") _0x386e33["save"](); else {
            if (_0x251b1a == "zoomin") _0x386e33["changeScale"](_0x386e33["designerScale"] + 0.1); else {
              if (_0x251b1a == "zoomout") _0x386e33["changeScale"](_0x386e33["designerScale"] - 0.1); else _0x251b1a == "center" && _0x386e33["centerCanvas"]();
            }
          }
        }
      }
      $(_0x59ec20.target)["blur"]();
    }), $(document).on(UI.pointerEvent("up"), function (_0x5a3da8) {
      if (_0x386e33["brushType"] == "picker") {
        var _0x30bcc9 = _0x386e33["brush"]["getContext"](),
          _0x399501 = _0x30bcc9["getImageData"](_0x386e33["cursorPos"].x, _0x386e33["cursorPos"].y, 1, 1)["data"];
        _0x386e33["colorSelector"].set(rgb2hex("rgba(" + _0x399501[0] + "," + _0x399501[1] + "," + _0x399501[2] + "," + _0x399501[3] / 255 + ")")), _0x386e33["cancelStroke"]();
      } else _0x386e33["drawing"] && (_0x386e33.drawing = false, _0x386e33["drawStroke"]());
      _0x386e33["canvasDragPoint"] = null;
    }), $(document).on(UI["pointerEvent"]("move"), function (_0xe1b70d) {
      var _0x40ae4c = UI["getInputPosition"](_0xe1b70d),
        _0x246acc = _0x386e33["content"]["find"](".brushPreview")["offset"]();
      if (_0x386e33["drawing"]) {
        var _0x200aa1 = $(_0x386e33["brush"].canvas).offset(),
          _0x3a5164 = new Point((_0x40ae4c.x - _0x200aa1["left"]) / _0x386e33.designerScale, (_0x40ae4c.y - _0x200aa1["top"]) / _0x386e33["designerScale"]);
        _0x386e33["clicks"]["push"](_0x3a5164);
        if (_0x386e33.brushType == "eraser") _0x386e33["clicks"]["push"](_0x386e33.from), _0x386e33["drawStroke"](); else _0x386e33.brushType == "picker" ? _0x386e33["cursorPos"] = new Point(_0x3a5164.x, _0x3a5164.y) : (_0xc8bff9.lineTo(_0x3a5164.x, _0x3a5164.y), _0xc8bff9.stroke());
        _0x386e33["from"] = _0x3a5164;
      } else _0x386e33["canvasDragPoint"] && _0x386e33.moveCanvas((_0x40ae4c.x - _0x246acc.left) / _0x386e33["designerScale"] - _0x386e33["canvasDragPoint"].x, (_0x40ae4c.y - _0x246acc["top"]) / _0x386e33["designerScale"] - _0x386e33["canvasDragPoint"].y);
      var _0x3a5164 = new Point((_0x40ae4c.x - _0x246acc["left"]) / _0x386e33["designerScale"], (_0x40ae4c.y - _0x246acc["top"]) / _0x386e33.designerScale);
      _0x386e33["cursor"]["css"]({
        top: _0x3a5164.y,
        left: _0x3a5164.x
      });
    }), $(this["slate"]["canvas"]).contextmenu(function (_0x372075) {
      _0x372075["preventDefault"](), _0x386e33["cancelStroke"]();
    }), $(this["slate"]["canvas"]).on(UI["pointerEvent"]("down"), function (_0x366b66) {
      if (!_0x366b66["which"] || _0x366b66["which"] == 1) {
        var _0x1d595d = $(_0x386e33["brush"]["canvas"])["offset"](),
          _0x54dad3 = UI["getInputPosition"](_0x366b66);
        if (_0x386e33.brushType == "drag") {
          var _0x3713b6 = _0x386e33.brush["canvas"][0].getBoundingClientRect();
          _0x386e33.canvasDragPoint = new Point((_0x54dad3.x - _0x3713b6.left) / _0x386e33["designerScale"], (_0x54dad3.y - _0x3713b6["top"]) / _0x386e33["designerScale"]);
        } else {
          _0x386e33["drawing"] = true, _0x386e33["from"] = new Point((_0x54dad3.x - _0x1d595d["left"]) / _0x386e33.designerScale, (_0x54dad3.y - _0x1d595d.top) / _0x386e33.designerScale), _0x386e33["clicks"]["push"](_0x386e33["from"]);
          if (_0x386e33.brushType == "eraser") _0x386e33["drawStroke"](); else _0x386e33.brushType == "picker" ? _0x386e33.cursorPos = _0x386e33["from"] : (_0x386e33["slate"].setCanvasProperties({
            linejoin: "round",
            linecap: "round",
            linewidth: _0x386e33["brushSize"],
            strokestyle: _0x386e33["brushColor"],
            alpha: 1,
            blendmode: "normal",
            blur: 0,
            linedash: []
          }), _0x386e33.slate.setCSSProperties({
            alpha: _0x386e33["brushAlpha"]
          }), _0xc8bff9["beginPath"](), _0xc8bff9.moveTo(_0x386e33["from"].x, _0x386e33["from"].y));
        }
      }
    }), this["form"]["find"]("a[name=\"ok\"]").on(UI["pointerEvent"]("click"), function (_0x1dfb1e) {
      _0x1dfb1e["preventDefault"]();
      var _0x3349ba = UI["brushDesignerDialog"]["brush"]["getData"]();
      UI["setCustomBrush"](_0x3349ba), _0x386e33["hide"]();
    }), this["form"].find("a[name=\"cancel\"]").on(UI["pointerEvent"]("click"), function (_0x2b4e5f) {
      _0x2b4e5f["preventDefault"](), _0x386e33["hide"]();
    }), this.form["find"]("input[name=\"uploadBrush\"]").on("change", function (_0x2502fb) {
      _0x386e33["upload"](_0x2502fb["target"].files[0]), _0x386e33["form"].find("input[name=\"uploadBrush\"]")["val"]("");
    });
  }
  ["selectBrush"](_0x27f3fc) {
    this["brushType"] = _0x27f3fc, this["content"]["find"](".selected").removeClass("selected"), this["content"]["find"]("a.designerBrush[name=\"" + _0x27f3fc + '"]')["addClass"]("selected");
    var _0x5dc4d9 = this["content"]["find"](".brushPreview");
    if (_0x27f3fc == "drag") _0x5dc4d9.css("cursor", "grab"), _0x5dc4d9.find(".cursor")["hide"](); else _0x27f3fc == "picker" ? (_0x5dc4d9["css"]("cursor", "crosshair"), _0x5dc4d9["find"](".cursor")["hide"]()) : (_0x5dc4d9.css("cursor", "none"), _0x5dc4d9.find(".cursor").show());
  }
  ["cancelStroke"]() {
    this["drawing"] = false, this["slate"]["clear"](), this.clicks = new Array();
  }
  ["drawStroke"]() {
    if (this["clicks"]["length"] > 0) {
      var _0x38e478 = this["brush"]["getContext"]();
      this["slate"]["clear"](), this["brush"]["setCanvasProperties"]({
        linejoin: "round",
        linecap: "round",
        linewidth: this["brushSize"],
        strokestyle: this["brushColor"],
        alpha: this["brushAlpha"],
        blendmode: this["brushType"] == "eraser" ? "destination-out" : "normal",
        blur: 0,
        linedash: []
      }), _0x38e478.beginPath(), _0x38e478["moveTo"](this.clicks[0].x, this["clicks"][0].y);
      for (var _0x506042 = 0; _0x506042 < this.clicks["length"]; _0x506042++) {
        _0x38e478["lineTo"](this["clicks"][_0x506042].x, this.clicks[_0x506042].y);
      }
      _0x38e478["stroke"](), this.clicks = new Array();
    }
  }
  ["moveCanvas"](_0x4b5cf5, _0x578c54) {
    this["content"]["find"](".brushPreview canvas")["css"]({
      left: _0x4b5cf5 + "px",
      top: _0x578c54 + "px"
    });
  }
  ["changeScale"](_0x3d0fca) {
    this["designerScale"] = _0x3d0fca, this.content["find"](".brushPreview")["css"]({
      transform: "translateZ(0) scale(" + _0x3d0fca + ", " + _0x3d0fca + ")",
      "transform-origin": "top left"
    }), this["content"]["find"]("span[name=\"zoom\"]")["text"](parseInt(100 * _0x3d0fca) + "%"), this["centerCanvas"]();
  }
  ["save"]() {
    var _0x4ac530 = this["brush"]["getContext"](),
      _0x30ef7e = _0x4ac530["getImageData"](0, 0, _0x4ac530["canvas"].width, _0x4ac530["canvas"]["height"]);
    UI.saveDialog.show("custom", [_0x30ef7e]);
  }
  ["centerCanvas"]() {
    let _0x7613da = this["content"]["find"](".brushPreview")["parent"]()["width"](),
      _0x3a4a98 = this["content"]["find"](".brushPreview")["parent"]()["height"]();
    this["moveCanvas"]((_0x7613da / 2 - this["canvasSize"] * this.designerScale / 2) / this["designerScale"], (_0x3a4a98 / 2 - this["canvasSize"] * this["designerScale"] / 2) / this["designerScale"]);
  }
  ["setImage"](_0x40ed38) {
    _0x40ed38 != null && (this["brush"]["clear"](), this["brush"]["putData"](_0x40ed38));
  }
  ["previewCanvas"](_0x506e59) {
    this.brush["clear"](), this["brush"]["drawImage"](_0x506e59, 0, 0, this["canvasSize"], this["canvasSize"]);
  }
  ["onShow"]() {
    this["changed"](), this.centerCanvas();
  }
  ["onResize"]() {
    this["centerCanvas"]();
  }
}
class BrushGalleryDialog extends Dialog {
  constructor(_0x38a621) {
    super(_0x38a621), this["icon"] = "fa-th-list", this["caption"] = textManager["getString"]("brushgallery.title"), this["canvasScale"] = 80, this["canvasSize"] = 140, this.brushesDir = "brushes/custom/", this["width"] = 690, this["loadContent"](this.loadFile("forms/brushgallery.main.html"));
    var _0x361be4 = this;
    this["content"].on(UI["pointerEvent"]("click"), ".brush a", function (_0x4dbdce) {
      _0x4dbdce["preventDefault"](), _0x361be4.content["find"](".brush.selected").removeClass("selected"), $(this)["parent"]()["addClass"]("selected");
    }), this["content"].on(UI["pointerEvent"]("dblclick"), ".brush a", function (_0x2e68f4) {
      _0x2e68f4["preventDefault"](), _0x361be4["loadBrush"](), _0x361be4["hide"]();
    }), this["form"].find('a[name="ok"]').on(UI.pointerEvent("click"), function (_0x3c37a1) {
      _0x3c37a1["preventDefault"](), _0x361be4["loadBrush"](), _0x361be4["hide"]();
    }), this["form"]["find"]('a[name="cancel"]').on(UI["pointerEvent"]("click"), function (_0x1bbce0) {
      _0x1bbce0["preventDefault"](), _0x361be4.hide();
    });
  }
  ["initialize"]() {
    this["initialized"] = true, this.brushes = this["loadFile"](this["brushesDir"] + "brushes.json");
    var _0x1c4d6b = this;
    this["scroll"] && this["scroll"]["destroy"](), this["content"].find("div.brushGalleryArea").empty(), $["each"](this["brushes"], function (_0x5849d4, _0x3b0554) {
      _0x1c4d6b.content["find"]("div.brushGalleryArea")["append"]('<div class="brush" data-tooltip="<strong>' + _0x3b0554["description"] + "</strong><br />" + textManager["getString"]("brushgallery.lblBy", _0x3b0554["author"], false) + '"><a href="#"><img style="width: ' + _0x1c4d6b["canvasSize"] * _0x1c4d6b["canvasScale"] / 100 + "px; height: " + _0x1c4d6b["canvasSize"] * _0x1c4d6b["canvasScale"] / 100 + "px;\" class=\"transparentBG\" loading=\"lazy\" src=\"" + UI["baseDir"] + _0x1c4d6b["brushesDir"] + _0x3b0554.file + "\" /></a></div>");
    }), this["scroll"] = this["content"]["find"](".brushGalleryArea")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"]();
  }
  ["loadBrush"]() {
    if (this["content"]["find"](".brush.selected")["length"] == 1) {
      var _0x23d200 = new AdvancedCanvas(this["canvasSize"], this["canvasSize"]);
      _0x23d200["drawImage"](this["content"].find(".brush.selected a img")[0]), UI["setCustomBrush"](_0x23d200["getData"]()), _0x23d200["remove"]();
    }
  }
  ["loadContent"](_0x5416f0) {
    this["content"]["html"](_0x5416f0);
  }
  ["onShow"]() {
    !this["initialized"] && this["initialize"](), this["changed"]();
  }
}
class DebugDialog extends Dialog {
  constructor(_0x9bcf67) {
    super(_0x9bcf67), this["name"], this["width"] = 620, this["icon"] = "fa-bug", this["caption"] = textManager["getString"]("debug.title"), this["loadContent"](this.loadFile("forms/debug.main.html")), this["table"] = new Table(this["content"]["find"]("#debugTable"), null, "debugTable", "fmTable"), this["table"]["setFilterable"](true), this["table"]["setHeader"](["Parameter", "Value"]), this["table"]["selectable"] = false, this["table"]["headerCaption"](1, textManager.getString("debug.rowParameter")), this.table["headerCaption"](2, textManager.getString("debug.rowValue"));
    var _0x346eb0 = this;
    $(this).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x4593b7) {
      _0x346eb0["table"] && _0x346eb0.table["updated"]();
    });
  }
  ["loadContent"](_0x2ce764) {
    this["content"].html(_0x2ce764), $(this["content"]).overlayScrollbars({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    });
  }
  ["onShow"]() {
    this["changed"](), this["table"]["updated"]();
  }
  ["onHide"]() {
    this["table"]["reset"](), this["table"].setHeader(["Parameter", "Value"]);
  }
}
class UserGalleryDialog extends Dialog {
  constructor(_0x4f405d) {
    super(_0x4f405d), this["name"], this["width"] = 770, this["target"], this.pagination, this["scroll"], this["icon"] = "fa-image", this["caption"] = textManager["getString"]("usergallery.title"), this["loadContent"](this.loadFile("forms/usergallery.main.html"));
  }
  ["loadContent"](_0x5730a1) {
    this["content"]["html"](_0x5730a1), this["content"]["find"]("#profileGallery").on(UI["pointerEvent"]("click"), "img", function (_0x1295bb) {
      _0x1295bb.preventDefault(), UI["galleryImageDialog"]["show"]($(_0x1295bb.target).attr("name"));
    }), this["pagination"] = new Pagination(this["content"].find("#galleryPages")), this["content"]["find"]("#galleryPages")["hide"]();
    var _0x3719c9 = this;
    $(this["pagination"]).on("pageSelected", function (_0x437f8c) {
      _0x3719c9["requestGalleryPage"](_0x437f8c["page"]);
    }), this["scroll"] = this["content"]["find"]("#profileGallery").overlayScrollbars({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"](), this.scroll["addExt"]("fmExtension"), this["requestGalleryPage"](1);
  }
  ["galleryImages"](_0x18b4c6, _0x4880e2, _0x105fa4) {
    this["target"] = _0x18b4c6, this.content["find"]("h4.galleryTitle")["text"](textManager["getString"]("usergallery.lblGalleryTitle", this["target"]["username"], false)), this["content"]["find"]("#profileGallery div[name=\"images\"]").empty(), this["pagination"]["update"](_0x4880e2);
    _0x4880e2 > 1 && this.content.find("#galleryPages")["fadeIn"](800);
    var _0x1fcd03 = this;
    $(_0x105fa4).each(function (_0x36b518, _0x5b36f6) {
      var _0x595032 = new Image();
      _0x595032["src"] = _0x5b36f6["thumb"];
      var _0x54058a = Math.round(_0x5b36f6.width * 100 / _0x5b36f6.height);
      $(_0x595032)["css"]({
        width: _0x54058a + "px"
      }), $(_0x595032).attr("name", _0x5b36f6.id), _0x1fcd03["content"]["find"]("#profileGallery div[name=\"images\"]").append(_0x595032);
    }), this.scroll["scroll"]({
      y: 0
    }), this["loading"](false), this["changed"]();
  }
  ["requestGalleryPage"](_0x1b91fb) {
    if (this["target"]) {
      this["loading"](true);
      var _0x12a58 = {};
      _0x12a58.command = "USERREQUEST", _0x12a58.action = "UserGallery", this["target"]["uid"] ? _0x12a58.uid = this["target"]["uid"] : _0x12a58["username"] = this["target"]["username"], _0x12a58.page = _0x1b91fb, socket["send"](_0x12a58, true);
    }
  }
  ["onShow"](_0x3dd44a) {
    this["target"] = _0x3dd44a, this["requestGalleryPage"](1);
  }
  ["onHide"]() {
    this["content"]["find"]("h4.galleryTitle")["text"](""), this["content"].find("#profileGallery div[name=\"images\"]")["empty"](), this["pagination"].setPage(1);
  }
}
class ProfileDialog extends Dialog {
  constructor(_0x39495d) {
    super(_0x39495d), this["width"] = 850, this["table"], this["icon"] = "fa-user-tie", this["caption"] = textManager["getString"]("profile.title"), this["loadContent"](this["loadFile"]("forms/profile.main.html"));
    var _0x1b379f = this;
    this["content"].on(UI.pointerEvent("click"), ".subcontentOption", function (_0x2e76f4) {
      _0x2e76f4["preventDefault"]();
      var _0x27635 = $(this)["data"]("subcontent");
      _0x1b379f["loadPage"](_0x27635);
    }), $(this).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x335461) {
      _0x1b379f["table"] && _0x1b379f.table["updated"]();
    }), this["content"].on(UI["pointerEvent"]("click"), "#confirmUsername", function (_0x58c8f0) {
      _0x58c8f0["preventDefault"](), _0x1b379f["changeAccount"]();
    }), this["content"].on("keydown", "input[type=\"text\"], input[type=\"password\"]", function (_0x3f3eb0) {
      _0x3f3eb0.which == 13 && _0x1b379f["modal"].is(":visible") && (_0x3f3eb0.preventDefault(), _0x1b379f.changeAccount());
    }), this["content"].on("keydown", ".usernameAccount", function (_0x399d83) {
      let _0x989cfb = _0x399d83["which"] || _0x399d83["keyCode"],
        _0x87014e = String["fromCharCode"](_0x989cfb);
      if (_0x989cfb == 32 || _0x87014e == "<" || _0x87014e == ">" || _0x87014e == "'" || _0x87014e == '"' || _0x87014e == "/") return _0x399d83["stopPropagation"](), _0x399d83["preventDefault"](), false;
    });
  }
  ["loadContent"](_0x1b2828) {
    this["content"]["html"](_0x1b2828);
  }
  ["loadSubcontent"](_0x5dea70) {
    this.content.find(".dynamicDialogArea").html(_0x5dea70);
  }
  ["loadPage"](_0x417f66) {
    var _0x3bd136 = this;
    if (_0x417f66 !== undefined) {
      this["content"]["find"](".subcontentOption.selected")["removeClass"]("selected"), this.content.find(".subcontentOption[data-subcontent=" + _0x417f66 + "]")["addClass"]("selected"), this["loading"](true);
      if (_0x417f66 == "info") this["loadSubcontent"](this["loadFile"]("forms/profile.info.html")), this["content"]["find"]("input[name=\"username\"]")["val"](room["myself"]["username"]), this.content["find"]('input[name="status"]')["val"](room["myself"].status), this["content"]["find"]("input[name=\"status\"]")["focus"](), this.content["find"]("#applyProfile").on(UI["pointerEvent"]("click"), function (_0x592930) {
        _0x592930["preventDefault"](), room["myself"]["changeStatus"](_0x3bd136["content"]["find"]('input[name="status"]').val());
      }), this["content"].on(UI["pointerEvent"]("click"), "#clearStatus", function (_0x33a29b) {
        _0x33a29b.preventDefault(), _0x3bd136["content"]["find"]("input[name=\"status\"]").val("");
      }), this["content"].on(UI.pointerEvent("click"), "#changeUsername", function (_0x1ff783) {
        _0x1ff783["preventDefault"](), _0x3bd136["enableModal"](_0x3bd136["loadFile"]("forms/profile.modal.changeusername.html")), _0x3bd136.content.find("input[name=\"newUsername\"]")["focus"](), _0x3bd136["content"].find("input[name=\"newUsername\"]").val(UI["account"].username), _0x3bd136["content"]["find"]("input[name=\"newPassword\"]")["val"](UI["account"].password);
      }), this["scroll"] = this["content"]["find"](".dialogContentArea")["overlayScrollbars"]({
        className: "os-theme-light",
        overflowBehavior: {
          x: "hidden"
        }
      })["overlayScrollbars"](), this.scroll["addExt"]("fmExtension"), this["loading"](false), this.changed(); else {
        if (_0x417f66 == "rooms") {
          this["loadSubcontent"](this["loadFile"]("forms/profile.rooms.html")), this["loading"](true);
          var _0x1b575e = {};
          _0x1b575e["command"] = "USERREQUEST", _0x1b575e["action"] = "OwnedRooms", socket["send"](_0x1b575e, true);
        } else {
          if (_0x417f66 == "ranks") {
            this.loadSubcontent(this["loadFile"]("forms/profile.ranks.html")), this["loading"](true);
            var _0x1b575e = {};
            _0x1b575e.command = "USERREQUEST", _0x1b575e["action"] = "RoomRanks", socket["send"](_0x1b575e, true);
          }
        }
      }
      this["processSizeType"](this.sizeType);
    }
  }
  ["changeAccount"]() {
    var _0x64bf01 = {};
    _0x64bf01["command"] = "USERFUNCTIONS", _0x64bf01.option = "RELOG", _0x64bf01["username"] = this["content"]["find"]("input[name=\"newUsername\"]")["val"](), _0x64bf01["password"] = this.content.find("input[name=\"newPassword\"]")["val"](), socket["send"](_0x64bf01, true), this["content"]["find"]("input[name=\"username\"]").val(this["content"].find("input[name=\"newUsername\"]").val()), UI["account"].change(_0x64bf01["username"], _0x64bf01["password"]), this["content"]["find"]("input[name=\"newUsername\"]")["val"](""), this["content"]["find"]('input[name="newPassword"]')["val"](""), this["disableModal"]();
  }
  ["ownedRoomsList"](_0x451498) {
    var _0x546c6c = this.content["find"]("#ownedRoomsContent");
    _0x546c6c["empty"]();
    var _0x2b0bc3 = new Table(_0x546c6c, null, "profileRoomsTable", "fmTable");
    _0x2b0bc3.selectable = false, _0x2b0bc3["clear"](), _0x2b0bc3["setHeader"](["Room"]), _0x2b0bc3["headerCaption"](1, textManager["getString"]("profile.rooms.rowRoom"));
    var _0x5f5dbb = this;
    $["each"](_0x451498, function (_0x24f679, _0x62ee0c) {
      _0x2b0bc3.addRow([_0x62ee0c], false);
    }), this["loading"](false), this["changed"](), _0x2b0bc3["updated"](), this["table"] = _0x2b0bc3;
  }
  ["roomRankList"](_0x394882) {
    var _0x588223 = this.content.find("#roomRanksContent");
    _0x588223["empty"]();
    var _0x2da4f3 = new Table(_0x588223, null, "profileRanksTable", "fmTable");
    _0x2da4f3["selectable"] = false, _0x2da4f3["clear"](), _0x2da4f3["setHeader"](["Room", "Rank"]), _0x2da4f3.headerCaption(1, textManager["getString"]("profile.ranks.rowRoom")), _0x2da4f3.headerCaption(2, textManager["getString"]("profile.ranks.rowRank"));
    var _0x41000e = this;
    $["each"](_0x394882, function (_0x3f98d5, _0x14995f) {
      var _0x461db8 = "<span class=\"" + UI["rankToStyle"](_0x14995f["rank"]) + '">' + UI.userRank(_0x14995f["rank"]) + "</span>";
      _0x2da4f3["addRow"]([_0x14995f["name"], _0x461db8], false);
    }), this["loading"](false), this["changed"](), _0x2da4f3.updated(), this.table = _0x2da4f3;
  }
  ["clearSubcontent"]() {
    this["content"].find(".dynamicDialogArea").empty();
  }
  ["checkAccountType"]() {
    room.myself.rank == "UU" ? (this["content"]["find"]("a.subcontentOption[data-subcontent=\"rooms\"]").parent()["hide"](), this["content"]["find"]("a.subcontentOption[data-subcontent=\"ranks\"]").parent()["hide"]()) : (this.content.find("a.subcontentOption[data-subcontent=\"rooms\"]")["parent"]()["show"](), this.content.find("a.subcontentOption[data-subcontent=\"ranks\"]")["parent"]()["show"]());
  }
  ["onShow"]() {
    this.loadPage("info"), this["content"]["find"](".sidebar")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    }), this["checkAccountType"]();
  }
  ["onHide"]() {
    this.clearSubcontent(), this["table"] && this["table"]["reset"]();
  }
}
class ColorDialog extends Dialog {
  constructor(_0xffbdbc) {
    super(_0xffbdbc), this.icon = "fa-palette", this["caption"] = textManager["getString"]("color.title"), this["width"] = 800, this["height"] = 485, this["loadContent"](this["loadFile"]("forms/color.main.html")), this["color"], this["setupMode"] = false, this["colorR"] = new Slider(this["content"]["find"]("div[name=\"cred\"]"), 0, 255, 1), this["colorG"] = new Slider(this["content"]["find"]("div[name=\"cgreen\"]"), 0, 255, 1), this["colorB"] = new Slider(this["content"]["find"]("div[name=\"cblue\"]"), 0, 255, 1), this["colorH"] = new Slider(this["content"]["find"]('div[name="chue"]'), 0, 360, 1), this["colorS"] = new Slider(this.content["find"]("div[name=\"csaturation\"]"), 0, 100, 1), this["colorV"] = new Slider(this["content"].find("div[name=\"cvalue\"]"), 0, 100, 1), this["colorBubbles"] = new ColorGrid("colordialog", this["content"]["find"](".colorBubbles"), 84, storage);
    var _0x2de098 = this;
    this["colorWheel"] = new ColorWheel(this["content"]["find"](".newColorWheel"), false), $(this["colorWheel"]).on("colorChanged", function (_0x1ed14a) {
      _0x2de098.changeColor(_0x1ed14a["color"]);
    }), $(this["colorBubbles"]).on("bubbleClicked", function (_0x3dedf5) {
      if (_0x3dedf5["etype"] == "load") _0x2de098["changeColor"](_0x3dedf5["obj"]["color"]); else {
        if (_0x3dedf5["etype"] == "save") {
          var _0x2ffb18 = new ColorBubble(_0x2de098["color"]);
          _0x2de098.colorBubbles["saveBubble"](_0x2ffb18, _0x3dedf5.number);
        }
      }
      _0x2de098["content"]["find"]('input[name="hex"]').focus();
    }), this["content"].find("a[name=\"okButton\"]").on(UI["pointerEvent"]("click"), function (_0x1b6c12) {
      _0x1b6c12["preventDefault"](), _0x2de098["confirm"](), _0x2de098["hide"]();
    }), this["content"]["find"]("input[name=\"hex\"]").on("keyup", function (_0x16341d) {
      !_0x2de098["setupMode"] && isHexColor($(this).val()) && _0x2de098["changeColor"]("#" + $(this).val());
    }), this["content"].find('input[name="hex"]').on("keydown", function (_0x430c6a) {
      _0x430c6a["which"] == 13 && (_0x430c6a["preventDefault"](), _0x2de098.confirm(), _0x2de098["hide"]());
    }), $(this["colorR"]).on("sliderMoved", function (_0x2ff3a6) {
      !_0x2de098["setupMode"] && _0x2de098["rgbSlidersChanged"](_0x2ff3a6["value"], null, null);
    }), $(this["colorG"]).on("sliderMoved", function (_0x489e0c) {
      !_0x2de098["setupMode"] && _0x2de098["rgbSlidersChanged"](null, _0x489e0c["value"], null);
    }), $(this["colorB"]).on("sliderMoved", function (_0x1ff7c8) {
      !_0x2de098["setupMode"] && _0x2de098["rgbSlidersChanged"](null, null, _0x1ff7c8["value"]);
    }), $(this.colorR).on("sliderChanged", function (_0x247906) {
      !_0x2de098["setupMode"] && _0x2de098["rgbSlidersChanged"]();
    }), $(this["colorG"]).on("sliderChanged", function (_0x745603) {
      !_0x2de098["setupMode"] && _0x2de098["rgbSlidersChanged"]();
    }), $(this["colorB"]).on("sliderChanged", function (_0xd041d4) {
      !_0x2de098.setupMode && _0x2de098.rgbSlidersChanged();
    }), $(this.colorH).on("sliderMoved", function (_0xd08c6e) {
      !_0x2de098.setupMode && _0x2de098["hsvSlidersChanged"](_0xd08c6e["value"], null, null);
    }), $(this.colorS).on("sliderMoved", function (_0x3f39dc) {
      !_0x2de098["setupMode"] && _0x2de098.hsvSlidersChanged(null, _0x3f39dc["value"], null);
    }), $(this["colorV"]).on("sliderMoved", function (_0x5a23e9) {
      !_0x2de098["setupMode"] && _0x2de098.hsvSlidersChanged(null, null, _0x5a23e9["value"]);
    }), $(this["colorH"]).on("sliderChanged", function (_0x1719de) {
      !_0x2de098["setupMode"] && _0x2de098.hsvSlidersChanged();
    }), $(this["colorS"]).on("sliderChanged", function (_0x81238) {
      !_0x2de098["setupMode"] && _0x2de098["hsvSlidersChanged"]();
    }), $(this["colorV"]).on("sliderChanged", function (_0x46da9e) {
      !_0x2de098["setupMode"] && _0x2de098["hsvSlidersChanged"]();
    });
  }
  ["loadContent"](_0x505133) {
    this.content["html"](_0x505133), $(this["content"]["find"](".rightSide")).overlayScrollbars({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    });
  }
  ["rgbSlidersChanged"](_0x2eabef = null, _0x5147f4 = null, _0x257249 = null) {
    var _0x270d23 = _0x2eabef == null ? this["colorR"]["getValue"]() : _0x2eabef,
      _0x53f93f = _0x5147f4 == null ? this["colorG"]["getValue"]() : _0x5147f4,
      _0x1781e2 = _0x257249 == null ? this["colorB"]["getValue"]() : _0x257249;
    this["setColor"]("rgb(" + _0x270d23 + "," + _0x53f93f + "," + _0x1781e2 + ")");
    var _0x4c6675 = rgb2hsv(_0x270d23, _0x53f93f, _0x1781e2);
    this.setupMode = true, this["colorH"]["setValue"](parseInt(_0x4c6675.h)), this.colorS.setValue(parseInt(_0x4c6675.s)), this["colorV"].setValue(parseInt(_0x4c6675.v)), this["setupMode"] = false;
  }
  ["hsvSlidersChanged"](_0x2ce626 = null, _0x5dd6a4 = null, _0x6965f6 = null) {
    var _0x29d7eb = _0x2ce626 == null ? this["colorH"].getValue() : _0x2ce626,
      _0x5de419 = _0x5dd6a4 == null ? this["colorS"]["getValue"]() : _0x5dd6a4,
      _0x21d1fd = _0x6965f6 == null ? this["colorV"]["getValue"]() : _0x6965f6,
      _0xc915a9 = hsv2rgb(_0x29d7eb, _0x5de419, _0x21d1fd);
    this["setColor"]("rgb(" + _0xc915a9.r + "," + _0xc915a9.g + "," + _0xc915a9.b + ")"), this["setupMode"] = true, this["colorR"].setValue(_0xc915a9.r), this["colorG"]["setValue"](_0xc915a9.g), this["colorB"]["setValue"](_0xc915a9.b), this.setupMode = false;
  }
  ["changeColor"](_0x2204b8) {
    this["setupMode"] = true;
    var _0x546b78;
    _0x2204b8[0] == "#" ? _0x546b78 = hex2rgb(_0x2204b8) : _0x546b78 = rgb2obj(_0x2204b8);
    this["setColor"]("rgb(" + _0x546b78.r + "," + _0x546b78.g + "," + _0x546b78.b + ")");
    if (_0x546b78) {
      this["colorR"]["setValue"](_0x546b78.r), this.colorG["setValue"](_0x546b78.g), this.colorB["setValue"](_0x546b78.b);
      var _0x5677db = rgb2hsv(_0x546b78.r, _0x546b78.g, _0x546b78.b);
      _0x5677db && (this["colorH"].setValue(parseInt(_0x5677db.h)), this["colorS"]["setValue"](parseInt(_0x5677db.s)), this["colorV"]["setValue"](parseInt(_0x5677db.v)));
    }
    this["setupMode"] = false;
  }
  ["setColor"](_0x3f1a95) {
    this["color"] = _0x3f1a95, this.content["find"]("div[name=\"currentColor\"]")["css"]("background-color", _0x3f1a95), _0x3f1a95[0] != "#" && (_0x3f1a95 = rgb2hex(_0x3f1a95)), this["content"]["find"]("input[name=\"hex\"]")["val"](_0x3f1a95["substr"](1)), this["colorWheel"].setColor(_0x3f1a95);
  }
  ["confirm"]() {
    $(this)["triggerHandler"](new colorChangedEvent(this["color"])["getEvent"]());
  }
  ["onShow"](_0x2f985c = null) {
    _0x2f985c && this["changeColor"](_0x2f985c), this.content["find"]("input[name=\"hex\"]").focus();
  }
}
class HelpDialog extends Dialog {
  constructor(_0x48b935) {
    super(_0x48b935), this["icon"] = "fa-circle-question", this["caption"] = textManager["getString"]("help.title"), this["width"] = 770, this["height"] = 600, this.loadContent(this["loadFile"]("forms/help.main.html"));
  }
  ["loadContent"](_0x43d756) {
    this["content"]["html"](_0x43d756);
  }
  ["onShow"](_0x222d5c) {
    this["content"]["find"]("iframe")["attr"]("src", _0x222d5c);
  }
  ["onHide"]() {
    this["content"]["find"]("iframe").attr("src", "");
  }
}
class FeedbackDialog extends Dialog {
  constructor(_0x4ae257) {
    super(_0x4ae257), this.icon = "fa-comment-alt", this["caption"] = textManager["getString"]("feedback.title"), this["width"] = 500, this["height"] = 500, this["loadContent"](this["loadFile"]("forms/feedback.main.html"));
    var _0xbbaf49 = this;
    this["content"]["find"]("a[name=\"send\"]").on(UI.pointerEvent("click"), function (_0x48468d) {
      _0x48468d["preventDefault"]();
      if (_0xbbaf49.content["find"]('textarea[name="comments"]')["val"]() != "") {
        var _0x4be217 = {};
        _0x4be217.command = "USERREQUEST", _0x4be217["action"] = "FEEDBACK", _0x4be217["comments"] = _0xbbaf49["content"].find("textarea[name=\"comments\"]")["val"](), _0x4be217["like"] = 1, socket.send(_0x4be217, true), UI["dialogHandler"]["showAlert"](textManager["getString"]("feedback.lblThankYou"));
      }
      _0xbbaf49.hide();
    });
  }
  ["loadContent"](_0xeb7ae5) {
    this["content"].html(_0xeb7ae5);
  }
  ["onShow"]() {
    this["content"]["find"]("textarea[name=\"comments\"]")["val"](""), this["content"].find("textarea[name=\"comments\"]").focus(), this["changed"]();
  }
}
class AnimationDialog extends Dialog {
  constructor(_0x164580) {
    super(_0x164580), this["icon"] = "fa-film", this.caption = textManager.getString("animation.title"), this["helpLink"] = "https://flockmod.com/help/tools/animation/", this["width"] = 820, this["height"] = 590, this["playing"] = false, this["rows"] = 0, this["cols"] = 0, this.layersCheckbox = [], this["frames"] = [], this["canvas"], this["animationId"], this.intervalId, this["loadContent"](this.loadFile("forms/animation.main.html"));
    var _0x28add0 = this;
    this["content"].on(UI.pointerEvent("click"), ".subcontentOption", function (_0x3c34a3) {
      _0x3c34a3["preventDefault"]();
      var _0x2e6b61 = $(this).data("subcontent");
      _0x28add0["loadPage"](_0x2e6b61);
    });
  }
  ["loadContent"](_0x4ce076) {
    this["content"]["html"](_0x4ce076);
  }
  ["loadSubcontent"](_0x369b14) {
    this.content["find"](".dynamicDialogArea").html(_0x369b14);
  }
  ["loadPage"](_0x3d924c) {
    this.cols = room["animCols"], this["rows"] = room["animRows"];
    var _0x1130a8 = this;
    if (_0x3d924c !== undefined) {
      this["form"].find(".subcontentOption")["removeClass"]("selected"), this["form"]["find"](".subcontentOption[data-subcontent=" + _0x3d924c + "]")["addClass"]("selected"), this["loading"](true), this.stop();
      if (_0x3d924c == "play") {
        this["loadSubcontent"](this["loadFile"]("forms/animation.play.html")), this["content"].find("#frameBox")["css"]("background-color", room.board["backgroundColor"]), this["speedSlider"] = new Slider(this["content"]["find"]('div[name="speed"]'), 0.1, 15, 0.1), $(this.speedSlider).on("sliderChanged", function (_0x5bd58c) {
          _0x1130a8["setPreference"]("speed", _0x5bd58c["value"]), _0x1130a8.playing && (_0x1130a8["stop"](), _0x1130a8["play"]());
        });
        this["getPreference"]("speed") !== undefined ? this.speedSlider["setValue"](this.getPreference("speed")) : this["speedSlider"]["setValue"](1.5);
        this["content"]["find"]("a[name=\"previousFrame\"]").on(UI["pointerEvent"]("click"), function (_0x156c41) {
          _0x156c41["preventDefault"](), _0x1130a8.stop(), _0x1130a8["hideFrames"](), _0x1130a8["previousFrame"](true);
        }), this.content["find"]("a[name=\"nextFrame\"]").on(UI.pointerEvent("click"), function (_0x24d31e) {
          _0x24d31e["preventDefault"](), _0x1130a8.stop(), _0x1130a8["hideFrames"](), _0x1130a8["nextFrame"](true);
        }), this["content"].find("a[name=\"playPauseFrame\"]").on(UI["pointerEvent"]("click"), function (_0xfe2c03) {
          _0xfe2c03["preventDefault"](), _0x1130a8["playing"] ? _0x1130a8["stop"]() : _0x1130a8["play"]();
        }), this.content["find"]("#framePreview")["contextmenu"](function (_0x46c649) {
          _0x46c649["preventDefault"]();
        }), this["content"]["find"]("a[name=\"stopFrame\"]").on(UI.pointerEvent("click"), function (_0x439889) {
          _0x439889["preventDefault"](), _0x1130a8["stop"](), _0x1130a8.showFrame(0);
        }), this["content"]["find"]("a[name=\"generate\"]").on(UI["pointerEvent"]("click"), function (_0x45f3e0) {
          _0x45f3e0["preventDefault"](), _0x1130a8["loading"](true), _0x1130a8["stop"]();
          var _0x2e114b = new FormData();
          _0x2e114b.append("picture", _0x1130a8.canvas.getData()), _0x2e114b["append"]("columns", _0x1130a8["cols"]), _0x2e114b["append"]("rows", _0x1130a8.rows), _0x2e114b["append"]("speed", _0x1130a8["speedSlider"]["getValue"]()), $["ajax"]({
            url: "/api/gif/gifConverter.php",
            data: _0x2e114b,
            cache: false,
            contentType: false,
            processData: false,
            method: "POST"
          })["done"](function (_0x39ced8) {
            var _0x469821 = new Image();
            _0x469821.onload = function () {
              UI.saveDialog.show("gif", this), _0x1130a8["loading"](false);
            }, _0x469821.src = "data:image/gif;base64," + _0x39ced8;
          })["fail"](function () {
            UI.dialogHandler.showAlert(textManager["getString"]("alerts.txtGIFfailed")), _0x1130a8["loading"](false);
          });
        });
        var _0x367bed = room.board["canvasWidth"] / this["cols"],
          _0x17203f = room.board["canvasHeight"] / this["rows"];
        this.content["find"]("#framePreview")["empty"]();
        var _0x1ee627 = room["board"]["getAllLayers"](0, 0, room["board"]["canvasWidth"], room["board"]["canvasHeight"]);
        _0x1ee627["then"](function (_0x4181ac) {
          var _0x380631 = new AdvancedCanvas(room["board"]["canvasWidth"], room["board"]["canvasHeight"]);
          _0x380631["clear"](room["board"]["backgroundColor"]);
          var _0x25edb7 = Object["keys"](_0x4181ac)["length"],
            _0x405c29 = {},
            _0x56cc86 = 0;
          _0x1130a8["frames"] = [], $.each(_0x4181ac, function (_0x45f60e, _0x54e3e9) {
            var _0x12b490 = new Image();
            _0x405c29[_0x45f60e] = _0x12b490, _0x12b490["onload"] = function () {
              if (++_0x56cc86 == _0x25edb7) {
                for (var _0x42c03e = 0; _0x42c03e < room["board"].nLayers; _0x42c03e++) {
                  _0x42c03e in _0x405c29 && _0x380631["drawImage"](_0x405c29[_0x42c03e]);
                }
                var _0x18b7f2 = new Image();
                _0x18b7f2.onload = function () {
                  var _0x1788ea = 0;
                  for (var _0x163890 = 0; _0x163890 < _0x1130a8["rows"]; _0x163890++) {
                    for (var _0x4bee81 = 0; _0x4bee81 < _0x1130a8["cols"]; _0x4bee81++) {
                      var _0x151b23 = new Image();
                      $(_0x151b23).attr("name", _0x1788ea++), $(_0x151b23)["addClass"]("animationPreviewFrame noMouseInteraction"), _0x151b23.onload = function () {
                        _0x1130a8["changed"]();
                      }, _0x151b23["src"] = cropImage(this, _0x4bee81 * _0x367bed, _0x163890 * _0x17203f, _0x367bed, _0x17203f), _0x1130a8["frames"]["push"](_0x151b23), _0x1130a8["content"]["find"]("#framePreview")["append"](_0x151b23);
                    }
                  }
                  _0x1130a8["play"](), _0x1130a8["loading"](false);
                }, _0x18b7f2["src"] = _0x380631["getData"](), _0x1130a8.canvas = _0x380631;
              }
            }, _0x12b490["src"] = _0x54e3e9;
          });
        });
      } else {
        if (_0x3d924c == "frames") {
          this.loadSubcontent(this["loadFile"]("forms/animation.frames.html"));
          var _0x122e2e = this.content.find('select[name="frameSelector"]'),
            _0x5f4769 = this["content"].find("select[name=\"frameSelector2\"]");
          _0x122e2e["empty"](), _0x5f4769["empty"]();
          for (var _0x4cac5b = 0; _0x4cac5b < this["rows"] * this.cols; _0x4cac5b++) {
            _0x122e2e["append"](new Option(_0x4cac5b + 1, _0x4cac5b)), _0x5f4769["append"](new Option(_0x4cac5b + 1, _0x4cac5b));
          }
          this["actionSelector"] = new Selector(this.content["find"]('div[name="action"]'), {
            clear: textManager.getString("animation.frames.optClear"),
            clone: textManager["getString"]("animation.frames.optClone")
          }), this.actionSelector["select"]("clear"), this["opacitySlider"] = new Slider(this["content"]["find"]("div[name=\"opacity\"]"), 0, 1, 0.01, zeroToOnePercentage), this["opacitySlider"].setValue(1), this["content"].find("#animationLayers").empty(), this["layersCheckbox"] = new Array();
          for (var _0x4cac5b = 0; _0x4cac5b < room.board.nLayers; _0x4cac5b++) {
            var _0x28fe0e = $("<div />");
            _0x28fe0e.css({
              float: "left",
              width: 100 / room.board["nLayers"] + "%"
            }), _0x28fe0e.addClass("smallCheckbox"), _0x28fe0e["attr"]("name", _0x4cac5b), this["content"]["find"]("#animationLayers").prepend(_0x28fe0e);
            var _0x9cef49 = new Checkbox(_0x28fe0e, textManager.getString("animation.frames.lblLayer", _0x4cac5b + 1, false));
            _0x9cef49["setValue"](true), this["layersCheckbox"].push(_0x9cef49);
          }
          room["board"].nLayers == 1 ? this.content["find"]("fieldset[name=\"layers\"]")["hide"]() : this["content"]["find"]("fieldset[name=\"layers\"]")["show"](), this.content.find('fieldset[name="cloning"]')["hide"](), $(this["actionSelector"]).on("optionSelected", function (_0x15892d) {
            _0x15892d["option"] == "clear" ? _0x1130a8["content"]["find"]("fieldset[name=\"cloning\"]")["hide"]() : _0x1130a8["content"]["find"]("fieldset[name=\"cloning\"]")["show"]();
          }), this["content"]["find"]('a[name="applyChangesFrames"]').on(UI.pointerEvent("click"), function (_0x4701f0) {
            _0x4701f0.preventDefault();
            for (var _0x5bf0c6 = 0; _0x5bf0c6 < room["board"]["nLayers"]; _0x5bf0c6++) {
              if (_0x1130a8["layersCheckbox"][_0x5bf0c6].getValue()) {
                if (_0x1130a8["actionSelector"].getSelected() == "clear") {
                  var _0x1641a0 = {};
                  _0x1641a0["command"] = "ACTIONREQUEST", _0x1641a0["action"] = "Afc", _0x1641a0["layer"] = _0x5bf0c6, _0x1641a0["source"] = _0x122e2e["val"](), socket["send"](_0x1641a0, true);
                } else {
                  var _0x1641a0 = {};
                  _0x1641a0["command"] = "ACTIONREQUEST", _0x1641a0.action = "Afd", _0x1641a0["layer"] = _0x5bf0c6, _0x1641a0["source"] = _0x122e2e["val"](), _0x1641a0["target"] = _0x5f4769.val(), _0x1641a0["opacity"] = _0x1130a8["opacitySlider"]["getValue"](), socket.send(_0x1641a0, true);
                }
              }
            }
          }), this["scroll"] = this["content"]["find"](".dialogContentArea")["overlayScrollbars"]({
            className: "os-theme-light",
            overflowBehavior: {
              x: "hidden"
            }
          }).overlayScrollbars(), this["scroll"]["addExt"]("fmExtension"), this["loading"](false);
        }
      }
      this["changed"](), this["processSizeType"](this["sizeType"]);
    }
  }
  ["play"]() {
    this["playing"] = true, this["currentFrame"] = 0, this["maxFrames"] = this["rows"] * this["cols"], this["hideFrames"](), this["showFrame"](0), this["content"]["find"]("a[name=\"playPauseFrame\"]").html(new Icon("fa-pause")["html"]());
    var _0x5bea16 = this;
    this["intervalId"] = window["setInterval"](function () {
      _0x5bea16["animationId"] = window["requestAnimationFrame"](function () {
        _0x5bea16["hideFrames"](), _0x5bea16.nextFrame(true);
      });
    }, 1e3 / this["speedSlider"]["getValue"]());
  }
  ["previousFrame"](_0xccba7c = false) {
    this["currentFrame"]--, this["currentFrame"] < 0 && (this.currentFrame = this["rows"] * this.cols - 1), _0xccba7c && this["showFrame"](this["currentFrame"]);
  }
  ["nextFrame"](_0x277c20 = false) {
    this["currentFrame"]++, this["currentFrame"] >= this["rows"] * this["cols"] && (this["currentFrame"] = 0), _0x277c20 && this["showFrame"](this.currentFrame);
  }
  ["hideFrames"]() {
    this.content["find"]("#framePreview")["find"]("img:visible").hide();
  }
  ["showFrame"](_0x610164) {
    this["content"]["find"]("#framePreview")["find"]("img[name=\"" + _0x610164 + '"]')["show"]();
  }
  ["pause"]() {
    this["content"]["find"]('a[name="playPauseFrame"]')["html"](new Icon("fa-play")["html"]());
  }
  ["stop"]() {
    this["playing"] && (window["cancelAnimationFrame"](this["animationId"]), window["clearInterval"](this["intervalId"]), this["content"]["find"]("a[name=\"playPauseFrame\"]").html(new Icon("fa-play")["html"]()), this["playing"] = false);
  }
  ["onResize"]() {
    var _0x55e86d = this["content"]["find"]("#frameBox")["width"](),
      _0x18a5b2 = this["content"]["find"]("#framePreview")["width"](),
      _0x1bd9ea = this["content"].find("#framePreview")["height"](),
      _0x21d962 = this["content"]["find"]("#previewDiv")["width"](),
      _0x583199 = this["content"]["find"]("#previewDiv")["height"](),
      _0xa9e60f = room["board"]["canvasWidth"] / this["cols"],
      _0x547c46 = room["board"]["canvasHeight"] / this.rows,
      _0x33fe16 = calculateAspectRatioFit(_0xa9e60f, _0x547c46, _0x21d962, _0x583199),
      _0x553d5b = _0x33fe16["width"] / this["canvasWidth"];
    this["content"]["find"]("#framePreview")["css"]("transform", "scale(" + _0x553d5b + ")"), this["content"].find("#frameBox").css({
      width: _0x33fe16["width"],
      height: _0x33fe16.height
    });
  }
  ["onShow"](_0x2623b1 = "play") {
    this["loadPage"](_0x2623b1), room["can"]("manageframes") ? this["content"]["find"]("li a[data-subcontent=\"frames\"]")["show"]() : this["content"]["find"]('li a[data-subcontent="frames"]')["hide"]();
  }
  ["onHide"]() {
    this["stop"]();
  }
}
class MessengerDialog extends Dialog {
  constructor(_0x4379f0) {
    super(_0x4379f0), this["icon"] = "fa-envelope", this["caption"] = textManager["getString"]("messenger.title"), this["helpLink"] = "https://flockmod.com/help/tools/social/", this["fontSize"] = 13, this["width"] = 700, this["loadContent"](this["loadFile"]("forms/messenger.main.html")), this["emojiList"] = new EmojiSelector(this.content["find"](".emojiContainer")), this["sidebarScroll"] = this.content["find"](".messengerSideBar")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    }).overlayScrollbars(), this.sidebarScroll["addExt"]("fmExtension"), this["scroll"] = this["content"]["find"](".conversationBox")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"](), this["scroll"]["addExt"]("fmExtension"), this["previews"] = new ImagePreview(), this["selectedUserUID"] = null;
    var _0x2b231c = this;
    $(this["emojiList"]).on("dialogClosed", function (_0x51fb0f) {
      _0x2b231c["content"]["find"]("input[name=\"text\"]")["focus"]();
    }), $["contextMenu"]({
      selector: ".conversationBox",
      build: function (_0x142e4a) {
        var _0x21141a = {
          callback: function (_0x143b05, _0x102713) {
            if (_0x143b05 == "copy") document["execCommand"]("copy", false, null); else {
              if (_0x143b05 == "select") try {
                var _0x15c510 = document["createRange"]();
                _0x15c510["selectNode"](document["getElementById"]("messengerConversation")), window["getSelection"]().removeAllRanges(), window["getSelection"]()["addRange"](_0x15c510);
              } catch (_0x483132) { }
            }
          },
          items: {
            copy: {
              name: "Copy text",
              icon: "fa-copy"
            },
            select: {
              name: "Select all",
              icon: "fa-i-cursor"
            }
          }
        };
        return $["each"](_0x21141a.items, function (_0x5c2ab9, _0x36bee9) {
          _0x21141a["items"][_0x5c2ab9]["name"] && (_0x21141a["items"][_0x5c2ab9]["name"] = function () {
            return textManager["getString"]("menu.textbox." + _0x5c2ab9, null, false);
          });
        }), _0x21141a;
      }
    }), $["contextMenu"]({
      selector: ".conversationBox a",
      build: function (_0x373fad) {
        var _0x452e71 = {
          callback: function (_0x394e52, _0x1a0fc9) {
            if (_0x394e52 == "copylink") {
              var _0x48dfb6 = _0x1a0fc9["$trigger"];
              navigator["clipboard"]["writeText"](_0x48dfb6["attr"]("href"));
            } else {
              if (_0x394e52 == "openlink") {
                var _0x48dfb6 = _0x1a0fc9.$trigger;
                window["open"](_0x48dfb6["attr"]("href"), "_blank");
              }
            }
          },
          items: {
            copylink: {
              name: "Copy link",
              icon: "fa-copy"
            },
            openlink: {
              name: "Open link",
              icon: "fa-arrow-up-right-from-square"
            }
          }
        };
        return $["each"](_0x452e71["items"], function (_0x202e09, _0x11e71d) {
          _0x452e71["items"][_0x202e09]["name"] && (_0x452e71["items"][_0x202e09]["name"] = function () {
            return textManager["getString"]("menu.textbox." + _0x202e09, null, false);
          });
        }), _0x452e71;
      }
    }), $["contextMenu"]({
      selector: "a[name=\"options\"]",
      trigger: "left",
      build: function (_0x47837d) {
        var _0x2d44d1 = {
          callback: function (_0x567d18, _0x3d2359) {
            if (_0x567d18 == "remove") {
              if (_0x2b231c.selectedUserUID != null) {
                var _0x591ba6 = UI["dialogHandler"]["createConfirmation"](textManager.getString("messenger.lblDeleteConversation"));
                _0x591ba6.on("confirmationClosed", function (_0x235959) {
                  _0x235959["response"] == "ok" && _0x2b231c.requestRemoveConversation(_0x2b231c.selectedUserUID), UI["dialogHandler"].destroyConfirmation();
                });
              }
            }
          },
          items: {
            remove: {
              name: "Delete conversation",
              icon: "fa-trash-can"
            }
          }
        };
        return $["each"](_0x2d44d1.items, function (_0x36c216, _0x4acd2c) {
          _0x2d44d1["items"][_0x36c216]["name"] && (_0x2d44d1.items[_0x36c216]["name"] = function () {
            return textManager["getString"]("menu.messenger." + _0x36c216, null, false);
          });
        }), _0x2d44d1;
      }
    }), this["content"]["find"]("button[name=\"submit\"]").on(UI["pointerEvent"]("click"), function (_0x12c008) {
      _0x12c008["preventDefault"](), _0x2b231c.sendMessage(), _0x2b231c["content"].find("input[name=\"text\"]")["focus"]();
    }), this.content["find"]("input[name=\"text\"]").on("keydown", function (_0x5177ef) {
      _0x5177ef.which == 13 && (_0x5177ef.preventDefault(), _0x2b231c["sendMessage"]());
    }), this["content"].on(UI["pointerEvent"]("click"), ".messengerUser", function (_0x4c887b) {
      var _0x2ed690 = $(this)["data"]("uid");
      _0x2b231c["select"](_0x2ed690);
    }), this.content["find"](".fontIncrease").on(UI["pointerEvent"]("click"), function (_0x3ccad2) {
      _0x3ccad2["preventDefault"](), _0x2b231c.fontIncrease();
    }), this.content["find"](".fontDecrease").on(UI["pointerEvent"]("click"), function (_0x199d86) {
      _0x199d86.preventDefault(), _0x2b231c["fontDecrease"]();
    }), $(this["emojiList"]).on("emojiSelected", function (_0x2af97b) {
      _0x2b231c.content["find"]('input[name="text"]').val(_0x2b231c.content["find"]('input[name="text"]')["val"]() + _0x2af97b["emoji"]);
    }), this["content"].on(UI["pointerEvent"]("click"), ".offlineDelete a", function (_0x32b48f) {
      _0x32b48f["preventDefault"]();
      var _0x5175a9 = $(this)["attr"]("name"),
        _0x54e06f = UI["dialogHandler"].createConfirmation(textManager["getString"]("messenger.lblDeleteMessage"));
      _0x54e06f.on("confirmationClosed", function (_0x1a3eee) {
        _0x1a3eee["response"] == "ok" && _0x2b231c["requestDeleteMessage"](_0x2b231c["selectedUserUID"], _0x5175a9), UI["dialogHandler"]["destroyConfirmation"]();
      });
    }), this.content.on(UI.pointerEvent("click"), 'button[name="emoji"]', function (_0x32fefb) {
      _0x32fefb["preventDefault"](), _0x2b231c.showAndResetEmojiSelector();
    }), this["content"]["find"]("a[name=\"newConversation\"]").on(UI["pointerEvent"]("click"), function (_0x2daf6b) {
      _0x2daf6b["preventDefault"](), _0x2b231c["enableModal"](_0x2b231c["loadFile"]("forms/messenger.modal.newconversation.html")), _0x2b231c.content["find"]("input[name=\"findUsername\"]").focus(), _0x2b231c.content["find"]("a[name=\"addConversation\"]").on(UI["pointerEvent"]("click"), function (_0xf33c0e) {
        _0xf33c0e["preventDefault"](), _0x2b231c.content["find"]("input[name=\"findUsername\"]")["val"]() != "" && _0x2b231c["findUsername"](_0x2b231c.content.find("input[name=\"findUsername\"]")["val"]());
      }), _0x2b231c["content"]["find"]("input[name=\"findUsername\"]").on("keydown", function (_0x263c9a) {
        _0x263c9a["which"] == 13 && (_0x263c9a["preventDefault"](), _0x2b231c.content["find"]("input[name=\"findUsername\"]")["val"]() != "" && _0x2b231c["findUsername"](_0x2b231c["content"]["find"]("input[name=\"findUsername\"]")["val"]()));
      });
    }), $(this).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x29a828) {
      _0x2b231c["scroll"].scroll({
        y: "100%"
      }), _0x2b231c["emojiList"]["isVisible"]() && _0x2b231c.showAndResetEmojiSelector();
    }), this.content.on(UI.pointerEvent("click"), 'a[data-thumb-service="fmgallery"]', function (_0xb5f7ad) {
      _0xb5f7ad.preventDefault(), UI["galleryImageDialog"]["show"]($(this)["data"]("thumb-id"));
    }), this.content.on(UI["pointerEvent"]("click"), "a[data-thumb-service=\"fmgalleryuser\"]", function (_0x194c84) {
      _0x194c84["preventDefault"](), UI["userGalleryDialog"]["show"]({
        uid: $(this)["data"]("thumb-id")
      });
    });
  }
  ["showAndResetEmojiSelector"]() {
    var _0x109bcc = this["content"]["offset"](),
      _0x33886e = this.content["find"]("button[name=\"emoji\"]")["offset"]();
    this["emojiList"]["show"](), this["emojiList"]["move"](_0x33886e["left"] - _0x109bcc["left"], _0x33886e["top"] - _0x109bcc["top"] - this.emojiList["height"]());
  }
  ["findUsername"](_0x31a187) {
    var _0x785299 = {};
    _0x785299["command"] = "USERREQUEST", _0x785299["action"] = "Messenger", _0x785299.perform = "find", _0x785299.username = _0x31a187, socket["send"](_0x785299, true);
  }
  ["requestDeleteMessage"](_0x371108, _0x3e7300) {
    var _0x560ba8 = {};
    _0x560ba8.command = "USERREQUEST", _0x560ba8["action"] = "Messenger", _0x560ba8["perform"] = "delete", _0x560ba8["uid"] = _0x371108, _0x560ba8.id = _0x3e7300, socket.send(_0x560ba8, true);
  }
  ["messageReceived"](_0xf8d87e, _0x28b018) {
    this["content"].find(".offlineDelete a[name=\"" + _0x28b018 + '"]')["attr"]("name", _0xf8d87e);
  }
  ["deleteMessage"](_0x42ab6a, _0x15b90f) {
    if (_0x42ab6a == "OK") {
      var _0x65ea6d = this["content"]["find"]('.offlineDelete a[name="' + _0x15b90f + '"]')["parents"](".offlineMessage")["find"](".offlineBlock")["length"];
      _0x65ea6d == 1 ? this["content"].find(".offlineDelete a[name=\"" + _0x15b90f + '"]')["parents"](".offlineMessage")["remove"]() : this["content"]["find"](".offlineDelete a[name=\"" + _0x15b90f + '"]')["parents"](".offlineBlock")["remove"]();
    }
  }
  ["getUnread"](_0xfcae7) {
    return parseInt(this["content"]["find"](".messengerUser[data-uid=\"" + _0xfcae7 + "\"] .messengerBadges").data("unread"));
  }
  ["markAsUnread"](_0x3054f8, _0x3e02ca = 0) {
    this["content"]["find"](".messengerUser[data-uid=\"" + _0x3054f8 + "\"] .messengerBadges")["data"]("unread", _0x3e02ca), _0x3e02ca == 0 ? this["content"]["find"]('.messengerUser[data-uid="' + _0x3054f8 + "\"] .messengerBadges").empty() : this["content"]["find"](".messengerUser[data-uid=\"" + _0x3054f8 + "\"] .messengerBadges")["html"]("<span class=\"badge badge-pill badge-danger\" name=\"counter\">" + _0x3e02ca + "</span>");
  }
  ["markAsRead"](_0x1aa2ec) {
    this.markAsUnread(_0x1aa2ec, 0);
  }
  ["setUnreadMessages"](_0x8e7b6c) {
    $(this).triggerHandler(new unreadMessagesEvent(_0x8e7b6c)["getEvent"]());
  }
  ["conversationRemoved"](_0x4f7143, _0x164f5f) {
    _0x4f7143 == "OK" ? this["removeConversation"](_0x164f5f) : UI["dialogHandler"]["showAlert"](textManager["getString"]("client.codes.usernotfound"));
  }
  ["userFound"](_0x2c6451, _0x51f275) {
    _0x2c6451 == "OK" ? (this["disableModal"](), this["selectOrCreate"](_0x51f275.uid, _0x51f275["username"], _0x51f275["isglobal"])) : UI["dialogHandler"]["showAlert"](textManager["getString"]("client.codes.usernotfound"));
  }
  ["fontIncrease"]() {
    this["changeFontSize"](this["fontSize"] + 1);
  }
  ["fontDecrease"]() {
    this["changeFontSize"](this.fontSize - 1);
  }
  ["changeFontSize"](_0x860f81) {
    let _0x494199 = 10,
      _0x446867 = 20;
    this["fontSize"] = Math["min"](Math.max(_0x860f81, _0x494199), _0x446867), this["content"].find("#messengerConversation").css("font-size", this["fontSize"] + "px");
  }
  ["loadContent"](_0x1d841b) {
    this.content["html"](_0x1d841b);
  }
  ["loadHistory"](_0x3aa172, _0x1fe4cc, _0x585485, _0xffe0d, _0x3c6412) {
    var _0x356208 = null;
    UI["userPreferences"]["getGroupOption"]("graphics", "chatpreviews", false) && (_0x356208 = this.previews.containsImage(_0xffe0d));
    var _0x3faf6e = "";
    _0x356208 != null && (_0x3faf6e = '<div class="messengerThumb unloaded" name="' + _0x356208["service"] + ":" + _0x356208.value + "\"></div> ");
    var _0x2266c5 = this["generateMessage"](_0x1fe4cc, _0x3faf6e, _0xffe0d, _0x3c6412),
      _0x598fd0 = _0x3aa172 == room.myself["uid"];
    this["content"]["find"]("#messengerConversation .offlineMessage:first-child")["data"]("uid") == _0x3aa172 ? this["content"]["find"]("#messengerConversation .offlineMessage:first-child .offlineAuthor")["after"](_0x2266c5) : this.createMessage(_0x3aa172, _0x585485, _0x2266c5, false), _0x356208 != null && this["requestThumb"](_0x356208);
  }
  ["postMessage"](_0x17044c, _0x4f18f2, _0x13af49, _0x175c24, _0x548f5f) {
    var _0x3ab258 = null;
    UI["userPreferences"].getGroupOption("graphics", "chatpreviews", false) && (_0x3ab258 = this.previews["containsImage"](_0x175c24));
    var _0x19bbcd = "";
    _0x3ab258 != null && (_0x19bbcd = "<div class=\"messengerThumb unloaded\" name=\"" + _0x3ab258["service"] + ":" + _0x3ab258.value + "\"></div> ");
    var _0x4bd88b = this["generateMessage"](_0x4f18f2, _0x19bbcd, _0x175c24, _0x548f5f),
      _0x5687a8 = _0x17044c == room["myself"]["uid"];
    this["content"].find("#messengerConversation .offlineMessage:last-child")["data"]("uid") == _0x17044c ? this["content"]["find"]("#messengerConversation .offlineMessage:last-child").append(_0x4bd88b) : this["createMessage"](_0x17044c, _0x13af49, _0x4bd88b, true), _0x3ab258 != null && this["requestThumb"](_0x3ab258), this["moveConversationToTop"](this.selectedUserUID, _0x13af49);
  }
  ["requestRemoveConversation"](_0x30df4a) {
    this["loading"](true);
    var _0x1cc75c = {};
    _0x1cc75c.command = "USERREQUEST", _0x1cc75c["action"] = "Messenger", _0x1cc75c["perform"] = "remove", _0x1cc75c["uid"] = _0x30df4a, socket["send"](_0x1cc75c, true);
  }
  ["removeConversation"](_0x1f1fd5) {
    this["selectedUserUID"] == _0x1f1fd5 && this["content"]["find"]("#messengerConversation").empty(), this.content["find"](".messengerUser[data-uid=\"" + _0x1f1fd5 + '"]')["remove"](), this["empty"](true), this["loading"](false);
  }
  ["generateMessage"](_0x1af2c7, _0x235d21, _0x3b4228, _0xda36e5) {
    var _0x3b4228 = nl2br(parseURL(escapeHTML(_0x3b4228)));
    return _0x3b4228 = _0x3b4228.replace(/(\p{Emoji_Presentation}|\p{Extended_Pictographic})/gu, "<span class=\"chatEmoji\">$&</span>"), "<div class=\"offlineBlock\"><div class=\"offlineDelete\"><a name=\"" + _0x1af2c7 + "\" href=\"#\" class=\"btn btn-xs\"><i class=\"fas fa-times\"></i></a></div><div class=\"offlineMsg\">" + _0x235d21 + _0x3b4228 + "<div class=\"offlineTime\">" + formatHour(_0xda36e5) + "</div></div></div>";
  }
  ["createMessage"](_0x5701a3, _0x477b46, _0x485047, _0x3bba1b = true) {
    var _0x5478eb = _0x5701a3 == room["myself"]["uid"],
      _0x417d09 = "<div class=\"offlineMessage" + (_0x5478eb ? " offlineOwn" : "") + '" data-uid="' + _0x5701a3 + '"><div class="offlineAuthor">' + (_0x5478eb ? textManager["getString"]("messenger.lblYou") : _0x477b46) + "</div>" + _0x485047 + "</div>";
    _0x3bba1b ? this["content"]["find"]("#messengerConversation")["append"](_0x417d09) : this["content"]["find"]("#messengerConversation")["prepend"](_0x417d09);
  }
  ["createConversation"](_0x40e3b7, _0x1226e9, _0x75680c = false, _0x286e71 = false, _0x54fa71 = 0, _0x5f1879 = true) {
    var _0x178319 = $("<div class=\"messengerUser\" data-uid=\"" + _0x40e3b7 + "\"><span class=\"" + (_0x75680c ? "rankGM" : "") + '">' + _0x1226e9 + '</span><div class="messengerBadges"></div></div>');
    _0x178319["data"]("username", _0x1226e9), _0x178319["data"]("isglobal", _0x75680c), _0x286e71 && _0x178319["addClass"]("selected"), _0x5f1879 ? this["content"]["find"](".sidebarElements")["append"](_0x178319) : this["content"].find(".sidebarElements")["prepend"](_0x178319), this["markAsUnread"](_0x40e3b7, _0x54fa71);
  }
  ["requestThumb"](_0x538413) {
    var _0x14b461 = this;
    this["previews"]["getThumb"](_0x538413)["then"](function (_0x3fa78f) {
      _0x14b461.embedImage(_0x3fa78f);
    });
  }
  ["embedImage"](_0x2ccadc) {
    var _0x29817e = this,
      _0x4c1988 = this["content"]["find"]("div.messengerThumb.unloaded[name=\"" + _0x2ccadc["service"] + ":" + _0x2ccadc.id + '"]');
    if (_0x4c1988["length"] > 0) {
      _0x4c1988["removeClass"]("unloaded");
      var _0x129743 = new Image();
      _0x129743["onload"] = function () {
        var _0x2ced45 = _0x29817e["scroll"].scroll(),
          _0x232acf = parseInt(_0x2ced45.ratio.y * 100) >= 97 || _0x2ced45["max"].y === 0;
        _0x4c1988["append"]("<a data-thumb-service=\"" + _0x2ccadc["service"] + "\" data-thumb-id=\"" + _0x2ccadc.id + "\" href=\"" + _0x2ccadc["url"] + "\" target=\"_blank\"></a>")["find"]("a")["append"](this), _0x232acf && setTimeout(function (_0x4a9c93) {
          _0x29817e["scroll"]["scroll"]({
            y: "100%"
          });
        }, 250);
      }, _0x129743["src"] = _0x2ccadc.image;
    }
  }
  ["selectOrCreate"](_0x5e400f, _0x14734d, _0x38ed81 = false) {
    this.content["find"](".messengerUser[data-uid=\"" + _0x5e400f + '"]').length == 0 && this["createConversation"](_0x5e400f, _0x14734d, _0x38ed81, false, 0, false), this.select(_0x5e400f), this.scrollSidebarTo(_0x5e400f);
  }
  ["scrollSidebarTo"](_0x1911c4) {
    var _0x4732dc = this["content"]["find"](".messengerUser[data-uid=\"" + _0x1911c4 + '"]')["position"]();
    this["sidebarScroll"]["scroll"]({
      y: _0x4732dc.top + "px"
    });
  }
  ["select"](_0x71f239) {
    this.loading(true), this["selectedUserUID"] = _0x71f239, this.content["find"](".messengerUser.selected")["removeClass"]("selected"), this.content.find('.messengerUser[data-uid="' + _0x71f239 + '"]')["addClass"]("selected"), this["content"]["find"]("#conversationTitle .title").html("<span class=\"" + (this["content"]["find"](".messengerUser.selected")["data"]("isglobal") ? "rankGM" : "") + '">' + this["content"].find(".messengerUser.selected")["data"]("username") + "</span>"), this["content"]["find"]("#messengerConversation")["empty"](), this.empty(false);
    var _0x385e15 = {};
    _0x385e15["command"] = "USERREQUEST", _0x385e15.action = "Messenger", _0x385e15["perform"] = "read", _0x385e15.uid = _0x71f239, socket["send"](_0x385e15, true), this["content"]["find"]("input[name=\"text\"]")["focus"]();
  }
  ["conversationList"](_0x541339) {
    this["content"]["find"](".sidebarElements").empty();
    var _0x45eb51 = {};
    $["each"](_0x541339, function (_0x41a0bf, _0x1a2f95) {
      var _0x9a841c = _0x1a2f95["lastmessage"];
      while (_0x9a841c in _0x45eb51) {
        _0x9a841c++;
      }
      _0x45eb51[_0x9a841c] = _0x1a2f95;
    });
    var _0x35623e = this;
    $["each"](Object.keys(_0x45eb51)["reverse"](), function (_0x1ecc74, _0x1df285) {
      var _0x41de5a = _0x45eb51[_0x1df285];
      _0x35623e["createConversation"](_0x41de5a["uid"], _0x41de5a["username"], _0x41de5a["isglobal"], false, _0x41de5a["msgunread"], true);
    }), this["loading"](false);
  }
  ["messageList"](_0x30bb73, _0x1c96fd, _0x1f9401) {
    if (this["selectedUserUID"] == _0x30bb73) {
      this.content["find"]("#messengerConversation").empty();
      var _0xbe6d78 = this;
      $["each"](_0x1f9401, function (_0x3c489e, _0x2e8bdd) {
        _0xbe6d78["loadHistory"](_0x2e8bdd["from"], _0x2e8bdd.id, _0x1c96fd, _0x2e8bdd.message, _0x2e8bdd["date"]);
      }), this["scroll"]["scroll"]({
        y: "100%"
      });
    }
    this.markAsRead(_0x30bb73), this["loading"](false);
  }
  ["moveConversationToTop"](_0x5bd19d, _0x424eb7) {
    var _0x53d9c9 = parseInt(this.content.find(".messengerUser:first-child").data("uid"));
    if (_0x53d9c9 != _0x5bd19d) {
      var _0x4fc25c = this["content"]["find"](".messengerUser[data-uid=\"" + _0x5bd19d + '"]');
      _0x4fc25c["length"] > 0 ? this.content.find(".sidebarElements")["prepend"](_0x4fc25c) : this["createConversation"](_0x5bd19d, _0x424eb7, false, false, 0, false);
    }
    this["scrollSidebarTo"](_0x5bd19d);
  }
  ["newMessage"](_0x463ba0) {
    var _0x30f2e9 = true;
    if (this["active"]) {
      this.moveConversationToTop(_0x463ba0.from, _0x463ba0["fromUsername"]);
      if (this.selectedUserUID == _0x463ba0["from"]) {
        _0x30f2e9 = false;
        var _0x155b47 = this["scroll"]["scroll"](),
          _0xf7bb57 = parseInt(_0x155b47.ratio.y * 100) >= 97 || _0x155b47["max"].y === 0;
        this["postMessage"](_0x463ba0["from"], _0x463ba0.id, _0x463ba0.fromUsername, _0x463ba0["message"], _0x463ba0["date"]), this["markMessageAsRead"](this.selectedUserUID, _0x463ba0.id);
        if (_0xf7bb57) {
          var _0x2b4ef7 = this;
          setTimeout(function (_0x368cd4) {
            _0x2b4ef7["scroll"]["scroll"]({
              y: "100%"
            });
          }, 250);
        }
      } else {
        var _0x1ccac9 = this.getUnread(_0x463ba0["from"]);
        this.markAsUnread(_0x463ba0["from"], _0x1ccac9 + 1);
      }
    }
    _0x30f2e9 && UI["playSound"]("chat");
  }
  ["markMessageAsRead"](_0x36103e, _0xc44c1d) {
    var _0x1f7575 = {};
    _0x1f7575.command = "USERREQUEST", _0x1f7575["action"] = "Messenger", _0x1f7575["perform"] = "markmsg", _0x1f7575["uid"] = _0x36103e, _0x1f7575.id = _0xc44c1d, socket["send"](_0x1f7575, true);
  }
  ["sendMessage"]() {
    var _0x3cbe6a = this["content"].find("input[name=\"text\"]")["val"]()["slice"](0, 250);
    if (_0x3cbe6a != "") {
      var _0x24f296 = Math.floor(Math.random() * 999999 + 1) * -1,
        _0xe3b823 = this["selectedUserUID"];
      this["postMessage"](room["myself"]["uid"], _0x24f296, _0xe3b823, _0x3cbe6a, parseInt(Date.now() / 1e3));
      var _0x114949 = {};
      _0x114949.command = "USERREQUEST", _0x114949["action"] = "Messenger", _0x114949["perform"] = "insert", _0x114949.to = _0xe3b823, _0x114949.tempid = _0x24f296, _0x114949["message"] = _0x3cbe6a, socket["send"](_0x114949, true), this.markAsRead(_0xe3b823), this.content["find"]("input[name=\"text\"]")["val"]("");
    }
    this["scroll"]["scroll"]({
      y: "100%"
    });
  }
  ["empty"](_0x5047f2) {
    _0x5047f2 ? (this["selectedUserUID"] = null, this["content"]["find"]("#messengerConversation")["html"]("<h4>" + new Icon("fa-comments")["html"]() + " " + textManager["getString"]("messenger.lblFMMessenger") + "</h4><p>" + textManager["getString"]("messenger.lblNoMessages") + "</p>"), this["content"]["find"]("#conversationTitle")["css"]("visibility", "hidden"), this["lockMessageBar"]()) : (this["content"]["find"]("#conversationTitle").css("visibility", "visible"), this["unlockMessageBar"]());
  }
  ["lockMessageBar"]() {
    this["content"]["find"]("input[name=\"text\"]")["attr"]("disabled", "disabled"), this["content"].find("button[name=\"submit\"]")["attr"]("disabled", "disabled"), this["content"]["find"]("button[name=\"emoji\"]")["attr"]("disabled", "disabled"), this["content"]["find"]("input[name=\"text\"]")["addClass"]("disabled"), this.content["find"]("button[name=\"submit\"]")["addClass"]("disabled"), this.content.find('button[name="emoji"]')["addClass"]("disabled");
  }
  ["unlockMessageBar"]() {
    this["content"].find('input[name="text"]').removeAttr("disabled"), this["content"]["find"]("button[name=\"submit\"]")["removeAttr"]("disabled"), this["content"]["find"]("button[name=\"emoji\"]")["removeAttr"]("disabled"), this["content"]["find"]("input[name=\"text\"]")["removeClass"]("disabled"), this["content"]["find"]("button[name=\"submit\"]").removeClass("disabled"), this["content"]["find"]('button[name="emoji"]').removeClass("disabled");
  }
  ["onShow"]() {
    this["loading"](true), this["changed"](), this.content["find"]("#messengerConversation")["empty"](), this["empty"](true);
    var _0x79c104 = {};
    _0x79c104["command"] = "USERREQUEST", _0x79c104["action"] = "Messenger", _0x79c104.perform = "list", socket.send(_0x79c104, true);
  }
  ["onHide"]() {
    this["setUnreadMessages"](0), this.selectedUserUID = null, this.content["find"](".sidebarElements").empty(), this["content"]["find"]("#messengerConversation").empty();
    var _0x17d323 = {};
    _0x17d323.command = "USERREQUEST", _0x17d323.action = "Messenger", _0x17d323["perform"] = "unread", socket["send"](_0x17d323, true);
  }
  ["disableModal"]() {
    this.emojiList.hide(), this["modal"]["hide"](), this.content["remove"](this.modal), $(this)["triggerHandler"](new dialogModalDisabledEvent()["getEvent"]());
  }
  ["hasModal"]() {
    return this.modal.is(":visible") || this["emojiList"].isVisible();
  }
}
class GalleryImageDialog extends Dialog {
  constructor(_0x4270d2) {
    super(_0x4270d2), this.icon = "fa-image", this["caption"] = textManager["getString"]("galleryimage.title"), this["imageId"], this.width = 850, this.imgWidth, this.imgHeight, this["loadContent"](this["loadFile"]("forms/galleryimage.main.html")), this.content["find"](".commentArea").empty(), this.scroll = this["content"]["find"](".commentSection")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    })["overlayScrollbars"](), this["scroll"]["addExt"]("fmExtension");
    var _0x5a0fb0 = this;
    this["content"]["find"]("button[name=\"visitImage\"]").on(UI["pointerEvent"]("click"), function (_0x2ab947) {
      _0x2ab947["preventDefault"]();
      var _0x53a3c5 = _0x5a0fb0["content"]["find"]("input[name=\"url\"]")["val"]();
      _0x53a3c5 != "" && window["open"](_0x53a3c5, "_blank");
    }), this["content"].find(".btn[name=\"download\"]").on(UI.pointerEvent("click"), function (_0x101ca4) {
      _0x101ca4["preventDefault"](), _0x5a0fb0.saveToDisk();
    }), this["content"]["find"]("button[name=\"submitComment\"]").on(UI.pointerEvent("click"), function (_0x76e1e5) {
      _0x76e1e5["preventDefault"](), _0x5a0fb0["postComment"]();
    }), this.content["find"]("input[name=\"commentText\"]").on("keydown", function (_0x5eceab) {
      _0x5eceab["which"] == 13 && (_0x5eceab.preventDefault(), _0x5a0fb0["postComment"]());
    }), this["content"].find('.btn[name="voteup"]').on(UI["pointerEvent"]("click"), function (_0x57945a) {
      _0x5a0fb0["disableButtons"]();
      var _0x111ffa = "like";
      $(this)["hasClass"]("coloredButton") && (_0x111ffa = "unvote");
      var _0x2885fe = {};
      _0x2885fe["command"] = "GALLERYREQUEST", _0x2885fe["action"] = "Image", _0x2885fe.perform = _0x111ffa, _0x2885fe["image"] = _0x5a0fb0.imageId, socket["send"](_0x2885fe, true), _0x5a0fb0["content"]["find"]("span[name=\"score\"]")["html"](new Icon("fa-spinner", "fas", "fa-pulse")["html"]());
    }), this["content"]["find"](".btn[name=\"votedown\"]").on(UI.pointerEvent("click"), function (_0x55913b) {
      _0x5a0fb0["disableButtons"]();
      var _0x266282 = "dislike";
      $(this).hasClass("coloredButton") && (_0x266282 = "unvote");
      var _0x4b6a1d = {};
      _0x4b6a1d.command = "GALLERYREQUEST", _0x4b6a1d["action"] = "Image", _0x4b6a1d["perform"] = _0x266282, _0x4b6a1d["image"] = _0x5a0fb0["imageId"], socket["send"](_0x4b6a1d, true), _0x5a0fb0.content["find"]("span[name=\"score\"]")["html"](new Icon("fa-spinner", "fas", "fa-pulse")["html"]());
    }), this.content["find"](".btn[name=\"favorite\"]").on(UI.pointerEvent("click"), function (_0x47e2d5) {
      _0x5a0fb0["disableButtons"]();
      var _0x1bbe37 = "favorite";
      $(this)["hasClass"]("coloredButton") && (_0x1bbe37 = "unfavorite");
      var _0x3b5e9e = {};
      _0x3b5e9e.command = "GALLERYREQUEST", _0x3b5e9e["action"] = "Image", _0x3b5e9e["perform"] = _0x1bbe37, _0x3b5e9e.image = _0x5a0fb0["imageId"], socket.send(_0x3b5e9e, true);
    }), this.content.on(UI["pointerEvent"]("click"), ".offlineDelete a", function (_0x595807) {
      _0x595807["preventDefault"]();
      var _0x2e60f8 = $(this)["attr"]("name"),
        _0x215984 = UI["dialogHandler"]["createConfirmation"](textManager["getString"]("galleryimage.lblDeleteComment"));
      _0x215984.on("confirmationClosed", function (_0x4ce866) {
        _0x4ce866["response"] == "ok" && _0x5a0fb0["requestDeleteComment"](_0x2e60f8), UI["dialogHandler"]["destroyConfirmation"]();
      });
    });
  }
  ["requestDeleteComment"](_0x35e1a5) {
    var _0x50e664 = {};
    _0x50e664["command"] = "GALLERYREQUEST", _0x50e664["action"] = "Comment", _0x50e664["perform"] = "delete", _0x50e664.id = _0x35e1a5, _0x50e664["image"] = this["imageId"], socket["send"](_0x50e664, true);
  }
  ["postComment"]() {
    var _0x45495d = nl2br(parseURL(escapeHTML(this["content"]["find"]('input[name="commentText"]')["val"]()))),
      _0x1ed3d6 = Math.floor(Math.random() * 999999 + 1) * -1,
      _0xfafcc2 = {};
    _0xfafcc2["command"] = "GALLERYREQUEST", _0xfafcc2["action"] = "Comment", _0xfafcc2["perform"] = "add", _0xfafcc2["tempId"] = _0x1ed3d6, _0xfafcc2["image"] = this.imageId, _0xfafcc2.message = _0x45495d, socket["send"](_0xfafcc2, true), this["addComment"]({
      owner_id: room.myself["uid"],
      author: room["myself"].username,
      id: _0x1ed3d6,
      message: _0x45495d,
      posted: parseInt(Date["now"]() / 1e3),
      isGlobal: room.myself.rank == "GM"
    }), this["content"]["find"]("input[name=\"commentText\"]")["val"](""), this.scroll["scroll"]({
      y: "100%"
    });
  }
  ["loadContent"](_0x165779) {
    this["content"]["html"](_0x165779);
  }
  ["onResize"]() {
    var _0x43ae52 = this["content"].find("#saveBox")["width"](),
      _0x34da8f = this.content["find"]("#savePreview")["width"](),
      _0x34988f = this["content"]["find"]("#savePreview")["height"](),
      _0x4e4776 = this["content"].find("#previewDiv").width(),
      _0x307f5a = this["content"].find("#previewDiv")["height"](),
      _0xc7600d = calculateAspectRatioFit(this["imgWidth"], this.imgHeight, _0x4e4776, _0x307f5a),
      _0x406cf2 = _0xc7600d["width"] / this.imgWidth;
    this["content"]["find"]("#savePreview")["css"]("transform", "scale(" + _0x406cf2 + ")"), this["content"]["find"]("#saveBox").css({
      width: _0xc7600d["width"],
      height: _0xc7600d["height"]
    });
  }
  ["addComment"](_0x53a15c) {
    var _0x118242 = "<div class=\"offlineMessage\" data-uid=\"" + _0x53a15c["owner_id"] + "\"><div class=\"offlineAuthor " + (_0x53a15c["isGlobal"] ? "rankGM" : "") + '">' + _0x53a15c["author"] + '</div>\n							<div class="offlineBlock">\n								<div class="offlineDelete">\n									<a name="' + _0x53a15c.id + "\" href=\"#\" class=\"btn btn-xs\">" + new Icon("fa-times")["html"]() + "</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"offlineMsg\">" + _0x53a15c["message"] + '<div class="offlineTime">' + formatHour(_0x53a15c["posted"]) + "</div></div>\n\t\t\t\t\t\t\t</div></div>";
    this["content"].find(".commentArea")["append"](_0x118242);
  }
  ["onShow"](_0x430a99) {
    this["imageId"] = _0x430a99, this["loading"](true), this["setupInterface"](room.myself["isLogged"]()), this.content["find"]("input[name=\"commentText\"]").val(""), this["content"]["find"]("#saveBox").css("visibility", "hidden"), this["content"].find(".commentArea")["empty"](), this["changed"]();
    var _0x20ac40 = {};
    _0x20ac40["command"] = "GALLERYREQUEST", _0x20ac40["action"] = "Image", _0x20ac40["perform"] = "get", _0x20ac40.id = _0x430a99, socket.send(_0x20ac40, true);
  }
  ["onHide"]() {
    this.content["find"]("#savePreview img")["remove"]();
  }
  ["saveToDisk"]() {
    this["loading"](true), window.open(this["getDataURL"](), "_blank"), this["loading"](false);
  }
  ["getDataURL"]() {
    return this["content"]["find"]("#savePreview img")["attr"]("src");
  }
  ["deletedComment"](_0x33bec5, _0x4af236) {
    if (_0x33bec5 == "OK") {
      var _0x4c3129 = this["content"]["find"](".offlineDelete a[name=\"" + _0x4af236 + '"]').parents(".offlineMessage")["find"](".offlineBlock")["length"];
      _0x4c3129 == 1 ? this["content"]["find"](".offlineDelete a[name=\"" + _0x4af236 + '"]').parents(".offlineMessage").remove() : this.content["find"]('.offlineDelete a[name="' + _0x4af236 + '"]')["parents"](".offlineBlock").remove();
    }
  }
  ["addedComment"](_0x4b6595, _0x503017) {
    this["content"]["find"]('.offlineDelete a[name="' + _0x503017 + '"]').attr("name", _0x4b6595);
  }
  ["gotUpdated"](_0x563756) {
    this["enableButtons"](), this.imageId == _0x563756["image"].id && (this["content"]["find"]("span[name=\"score\"]")["text"](_0x563756["image"]["score"]), _0x563756["image"]["stats"].youfaved ? this["content"].find("a[name=\"favorite\"]")["addClass"]("coloredButton") : this["content"].find('a[name="favorite"]').removeClass("coloredButton"), _0x563756["image"]["stats"].youliked ? this["content"]["find"]("a[name=\"voteup\"]")["addClass"]("coloredButton") : this["content"]["find"]("a[name=\"voteup\"]")["removeClass"]("coloredButton"), _0x563756.image["stats"]["youdisliked"] ? this["content"].find("a[name=\"votedown\"]")["addClass"]("coloredButton") : this["content"]["find"]("a[name=\"votedown\"]")["removeClass"]("coloredButton"));
  }
  ["enableButtons"]() {
    this.content.find("a[name=\"favorite\"]").removeClass("disabled"), this["content"].find("a[name=\"voteup\"]").removeClass("disabled"), this["content"].find("a[name=\"votedown\"]")["removeClass"]("disabled"), this["content"]["find"]("a[name=\"submitComment\"]")["removeClass"]("disabled");
  }
  ["disableButtons"]() {
    this.content.find("a[name=\"favorite\"]")["addClass"]("disabled"), this["content"]["find"]("a[name=\"voteup\"]")["addClass"]("disabled"), this["content"].find("a[name=\"votedown\"]")["addClass"]("disabled"), this.content.find('a[name="submitComment"]')["addClass"]("disabled");
  }
  ["setupInterface"](_0x5bb7d1) {
    _0x5bb7d1 ? (this["content"]["find"]("a[name=\"favorite\"]")["show"](), this.content["find"]('a[name="voteup"]')["show"](), this["content"]["find"]('a[name="votedown"]')["show"](), this["content"].find("#commentBar")["show"]()) : (this["content"].find('a[name="favorite"]')["hide"](), this.content["find"]('a[name="voteup"]').hide(), this["content"].find('a[name="votedown"]').hide(), this["content"]["find"]("#commentBar")["hide"]()), this["content"]["find"](".offlineMessage")["each"](function (_0x53e13a, _0x24f062) {
      _0x24f062 = $(_0x24f062), !(room["myself"]["isLogged"]() && _0x24f062["data"]("uid") == room["myself"]["uid"] || room["myself"]["rank"] == "GM") && _0x24f062.find(".offlineDelete").remove();
    });
  }
  ["gotResponse"](_0x50de89) {
    var _0x2a8532 = this,
      _0x56f9f1 = new Image();
    _0x56f9f1["onload"] = function () {
      _0x2a8532["imgWidth"] = this.width, _0x2a8532["imgHeight"] = this.height, _0x2a8532["content"].find("#saveBox")["css"]("visibility", "visible"), _0x2a8532["loading"](false), _0x2a8532["changed"]();
    }, _0x56f9f1["src"] = _0x50de89["image"].url, this["content"]["find"]('input[name="url"]')["val"]("https://flockmod.com/gallery/index.php?q=/post/view/" + _0x50de89["image"].id), this["content"].find(".imageTags")["empty"](), $["each"](_0x50de89.image["tags"], function (_0x393b13, _0x37f316) {
      _0x2a8532["content"]["find"](".imageTags")["append"]("<span class=\"badge badge-default\">#" + _0x37f316 + "</span>");
    }), $.each(_0x50de89["image"]["comments"], function (_0x37cf6f, _0x20542f) {
      var _0x3288f2 = _0x20542f["message"]["replace"](/\[\/?(?:b|i|u|url|quote|code|img|color|size)*?.*?\]/gim, "");
      _0x3288f2 = nl2br(parseURL(escapeHTML(_0x3288f2))), _0x20542f["message"] = _0x3288f2, _0x2a8532.addComment(_0x20542f);
    }), this["content"]["find"]("#imageOwner").html(textManager.getString("galleryimage.lblOwner", _0x50de89["owner"]["username"], false) + "<br />" + formatHour(_0x50de89["image"]["posted"])), this.content["find"]("#savePreview")["html"](_0x56f9f1), this["setupInterface"](room.myself.isLogged()), this["gotUpdated"](_0x50de89);
  }
}
class AdminConsoleDialog extends Dialog {
  constructor(_0x41bc28) {
    super(_0x41bc28), this["icon"] = "fa-toolbox", this["caption"] = "Admin Console", this["banLengths"] = {}, this["banLengths"][0] = "Permanent", this["banLengths"][86400] = "1 day", this["banLengths"][259200] = "3 days", this["banLengths"][604800] = "1 week", this["banLengths"][1209600] = "2 weeks", this["banLengths"][2592e3] = "1 month", this["banLengths"][7776e3] = "3 months", this["banLengths"][15552e3] = "6 months", this["banLengths"][23328e3] = "9 months", this["banLengths"][31536e3] = "1 year", this["banLengths"][63072e3] = "2 years", this["banLengths"][94608e3] = "3 years", this["currentSubDialog"] = null, this.loadContent(this.loadFile("forms/adminconsole.main.html")), $(this["content"].find(".sidebar"))["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    }), this["summarySubDialog"] = new AdminConsoleSummarySubDialog(this), this["systemSubDialog"] = new AdminConsoleSystemSubDialog(this), this["clientsSubDialog"] = new AdminConsoleClientsSubDialog(this), this["roomsSubDialog"] = new AdminConsoleRoomsSubDialog(this), this.usersSubDialog = new AdminConsoleUsersSubDialog(this), this["bansSubDialog"] = new AdminConsoleBansSubDialog(this), this.eventsSubDialog = new AdminConsoleEventsSubDialog(this), this.feedbackSubDialog = new AdminConsoleFeedbackSubDialog(this);
    var _0x9b2e5b = this;
    this.content.on(UI["pointerEvent"]("click"), ".subcontentOption", function (_0x1ecbad) {
      _0x1ecbad["preventDefault"]();
      var _0xd899cc = $(this)["data"]("subcontent");
      _0x9b2e5b["loadPage"](_0xd899cc);
    });
  }
  ["loadContent"](_0x4dad13) {
    this["content"]["html"](_0x4dad13);
  }
  ["loadSubcontent"](_0x112c00) {
    this.content.find(".dynamicDialogArea")["html"](_0x112c00);
  }
  ["clearSubcontent"]() {
    this.content["find"](".dynamicDialogArea").empty();
  }
  ["loadSubDialog"](_0x9eae02) {
    var _0x87a151 = this["content"]["find"](".dynamicDialogArea");
    _0x87a151["empty"](), _0x87a151["hide"]();
    this["currentSubDialog"] && this["currentSubDialog"]["unload"]();
    if (_0x9eae02 == "summary") this["summarySubDialog"]["load"](), _0x87a151["append"](this["summarySubDialog"]["subContent"]), this["currentSubDialog"] = this["summarySubDialog"]; else {
      if (_0x9eae02 == "system") this["systemSubDialog"]["load"](), _0x87a151["append"](this["systemSubDialog"]["subContent"]), this["currentSubDialog"] = this.systemSubDialog; else {
        if (_0x9eae02 == "clients") this["clientsSubDialog"].load(), _0x87a151["append"](this["clientsSubDialog"].subContent), this["currentSubDialog"] = this["clientsSubDialog"]; else {
          if (_0x9eae02 == "rooms") this["roomsSubDialog"]["load"](), _0x87a151["append"](this["roomsSubDialog"].subContent), this["currentSubDialog"] = this.roomsSubDialog; else {
            if (_0x9eae02 == "users") this.usersSubDialog["load"](), _0x87a151["append"](this["usersSubDialog"]["subContent"]), this.currentSubDialog = this["usersSubDialog"]; else {
              if (_0x9eae02 == "bans") this.bansSubDialog["load"](), _0x87a151["append"](this["bansSubDialog"]["subContent"]), this["currentSubDialog"] = this["bansSubDialog"]; else {
                if (_0x9eae02 == "events") this["eventsSubDialog"]["load"](), _0x87a151.append(this["eventsSubDialog"].subContent), this["currentSubDialog"] = this.eventsSubDialog; else _0x9eae02 == "feedback" && (this["feedbackSubDialog"].load(), _0x87a151.append(this["feedbackSubDialog"]["subContent"]), this.currentSubDialog = this.feedbackSubDialog);
              }
            }
          }
        }
      }
    }
    _0x87a151["fadeIn"](500), this.changed();
  }
  ["loadPage"](_0x41588d) {
    var _0x1cbc92 = this;
    _0x41588d !== undefined && (this["content"]["find"](".subcontentOption.selected")["removeClass"]("selected"), this["content"]["find"](".subcontentOption[data-subcontent=" + _0x41588d + "]")["addClass"]("selected"), this["loadSubDialog"](_0x41588d), this["processSizeType"](this["sizeType"]));
  }
  ["unloadPage"]() {
    this["currentSubDialog"] && this["currentSubDialog"].unload();
  }
  ["summary"](_0x232ad5) {
    this["summarySubDialog"].data(_0x232ad5);
  }
  ["serverInfo"](_0x39bfb4) {
    this["systemSubDialog"]["data"](_0x39bfb4);
  }
  ["serverStats"](_0xc1a955, _0x4276b9) {
    this["systemSubDialog"]["intervalData"](_0xc1a955, _0x4276b9);
  }
  ["roomList"](_0x3d0017) {
    this["roomsSubDialog"]["data"](_0x3d0017);
  }
  ["feedbackList"](_0x132f0c) {
    this["feedbackSubDialog"]["data"](_0x132f0c);
  }
  ["clientList"](_0x1ac4d5) {
    this.clientsSubDialog["data"](_0x1ac4d5);
  }
  ["banList"](_0x4845d0) {
    this["bansSubDialog"]["data"](_0x4845d0);
  }
  ["eventList"](_0x28ff8b) {
    this["eventsSubDialog"]["data"](_0x28ff8b);
  }
  ["accountInfo"](_0x2bac1d, _0x54d6ce) {
    this["usersSubDialog"]["data"](_0x2bac1d, _0x54d6ce);
  }
  ["gotResponse"](_0x57bd93) {
    if (_0x57bd93["action"] == "AdminBans") this["bansSubDialog"]["gotResponse"](_0x57bd93); else {
      if (_0x57bd93.action == "AdminEvents") this["eventsSubDialog"]["gotResponse"](_0x57bd93); else {
        if (_0x57bd93.action == "AdminAccounts") this["usersSubDialog"]["gotResponse"](_0x57bd93); else _0x57bd93["action"] == "AdminClients" && this["clientsSubDialog"]["gotResponse"](_0x57bd93);
      }
    }
  }
  ["onShow"]() {
    room["myself"]["rank"] != "GM" ? this["content"]["remove"]() : this["loadPage"]("summary");
  }
  ["onHide"]() {
    this["clearSubcontent"](), this.unloadPage();
  }
}
class AdminConsoleRoomsSubDialog extends SubDialog {
  constructor(_0x5e57e3, _0x5684e6) {
    super(_0x5e57e3, _0x5684e6), this.table;
  }
  ["load"]() {
    this["dialog"]["loading"](true), this["subContent"]["html"](this["dialog"].loadFile("forms/adminconsole.rooms.html")), this["table"] = new Table(this.subContent.find("#adminRoomsTable"), null, "roomsTable", "fmTable"), this["table"]["setFilterable"](true), this.table["setTitle"]("Active Rooms"), this["table"]["setHeader"](["Room", "Visibility", '<i class="fas fa-users"></i>']);
    var _0x172fb1 = this;
    $(this.dialog).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x4d8794) {
      _0x172fb1["table"] && _0x172fb1["table"]["updated"]();
    });
    var _0x2df85c = {};
    _0x2df85c["command"] = "ADMINREQUEST", _0x2df85c.action = "RoomList", socket["send"](_0x2df85c, true);
  }
  ["unload"]() {
    this["dialog"]["modal"].off(".adminSubdialog"), this["table"]["reset"]();
  }
  ["data"](_0x2cbc0f) {
    this["table"].clear();
    var _0x38a19f = this;
    $["each"](_0x2cbc0f, function (_0x2a6996, _0x5688e) {
      var _0xe11ab3 = '<span data-tooltip="<strong>Type:</strong> ' + _0x5688e["type"] + "<br /><strong>Background:</strong> " + _0x5688e["background"] + "<br /><strong>Size:</strong> " + _0x5688e.size + "<br /><strong>Password:</strong> " + (_0x5688e["password"] ? "Yes" : "No") + '">' + _0x5688e.name + "</span>";
      _0x38a19f["table"]["addRow"]([_0xe11ab3, _0x5688e["hidden"] ? "Private" : "Public", _0x5688e["usercount"]], false);
    }), this.dialog["changed"](), this["table"]["updated"](), this["table"]["sort"](3, false), this["dialog"]["loading"](false);
  }
}
class AdminConsoleUsersSubDialog extends SubDialog {
  constructor(_0x45ef3e, _0x5d2106) {
    super(_0x45ef3e, _0x5d2106), this.table, this.tableRooms;
  }
  ["load"]() {
    this["dialog"]["loading"](true), this.subContent.html(this.dialog["loadFile"]("forms/adminconsole.users.html")), this["subContent"].find('a[name="changePass"]')["addClass"]("disabled"), this["subContent"].find("a[name=\"toggleEnable\"]").addClass("disabled"), this["table"] = new Table(this["subContent"]["find"]("#adminAccountsTable"), null, "accountsTable", "fmTable"), this["table"]["setFilterable"](false), this["table"]["setHeader"](["Parameter", "Value"]), this.tableRooms = new Table(this["subContent"]["find"]("#adminAccountsRoomsTable"), null, "accountsRoomsTable", "fmTable"), this["tableRooms"]["setFilterable"](false), this["tableRooms"].setHeader(["Room"]);
    var _0x16f008 = this;
    $(this["dialog"]).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x10cb25) {
      _0x16f008["table"] && _0x16f008.table["updated"](), _0x16f008.tableRooms && _0x16f008.tableRooms["updated"]();
    }), this.subContent["find"]("#searchButton").on(UI["pointerEvent"]("click"), function (_0x510b9c) {
      _0x510b9c.preventDefault(), _0x16f008["searchAccount"](_0x16f008["subContent"]["find"]("input[name=\"search\"]")["val"]());
    }), this.subContent.find("input[name=\"search\"]").on("keydown", function (_0x56a29e) {
      _0x56a29e["which"] == 13 && (_0x56a29e["preventDefault"](), _0x16f008.searchAccount(_0x16f008.subContent["find"]("input[name=\"search\"]")["val"]()));
    }), this["subContent"]["find"]("a[name=\"toggleEnable\"]").on(UI["pointerEvent"]("click", "adminSubdialog"), function (_0x5190d1) {
      _0x5190d1["preventDefault"](), _0x16f008["dialog"]["loading"](true);
      var _0x1b328a = {};
      _0x1b328a["command"] = "ADMINREQUEST", _0x1b328a["action"] = "AdminAccounts", _0x1b328a["option"] = "ToggleEnable", _0x1b328a["username"] = _0x16f008["subContent"]["find"]("input[name=\"search\"]")["val"](), socket["send"](_0x1b328a, true);
    }), this["subContent"].find("a[name=\"changePass\"]").on(UI["pointerEvent"]("click", "adminSubdialog"), function (_0x470a09) {
      _0x470a09["preventDefault"](), _0x16f008["dialog"]["enableModal"](_0x16f008["dialog"]["loadFile"]("forms/adminconsole.modal.changepassword.html")), _0x16f008["dialog"].modal["find"]("input[name=\"newpassword\"]")["focus"]();
    }), this.dialog["modal"].on(UI["pointerEvent"]("click", "adminSubdialog"), "a[name=\"applyChange\"]", function (_0x3597ac) {
      _0x3597ac["preventDefault"](), _0x16f008["dialog"]["loading"](true);
      var _0x14add1 = {};
      _0x14add1["command"] = "ADMINREQUEST", _0x14add1["action"] = "AdminAccounts", _0x14add1.option = "ChangePass", _0x14add1["username"] = _0x16f008.subContent["find"]("input[name=\"search\"]")["val"](), _0x14add1["password"] = _0x16f008["dialog"].modal["find"]("input[name=\"newpassword\"]")["val"](), socket["send"](_0x14add1, true);
    }), this["dialog"].loading(false);
  }
  ["searchAccount"](_0x556ae1) {
    this["dialog"].loading(true);
    var _0x3f71f3 = {};
    _0x3f71f3["command"] = "ADMINREQUEST", _0x3f71f3.action = "AccountInfo", _0x3f71f3["username"] = _0x556ae1, socket["send"](_0x3f71f3, true);
  }
  ["unload"]() {
    this["dialog"].modal["off"](".adminSubdialog"), this["table"]["reset"]();
  }
  ["data"](_0x54f221, _0x4e82ac) {
    this["table"]["clear"](), this["tableRooms"]["clear"]();
    var _0x18777 = this;
    $["each"](_0x54f221, function (_0x4e117d, _0x354b84) {
      _0x18777.table["addRow"]([_0x4e117d, _0x354b84], false);
    }), $["each"](_0x4e82ac, function (_0x54b464, _0x2b2a5c) {
      _0x18777["tableRooms"]["addRow"]([_0x2b2a5c], false);
    }), this["dialog"]["changed"](), this.table["updated"](), this.tableRooms["updated"](), this["subContent"].find("a[name=\"changePass\"]").removeClass("disabled"), this.subContent["find"]("a[name=\"toggleEnable\"]")["removeClass"]("disabled"), this["dialog"]["loading"](false);
  }
  ["gotResponse"](_0x72da85) {
    if (_0x72da85["option"] == "ToggleEnable") _0x72da85["code"] == "OK" ? this["searchAccount"](_0x72da85.username) : (UI["dialogHandler"]["showAlert"]("Error: " + _0x72da85.code), this["dialog"]["loading"](false)); else _0x72da85["option"] == "ChangePass" && (_0x72da85["code"] == "OK" ? (UI.dialogHandler["showAlert"]("Password changed successfully"), this.dialog["disableModal"]()) : UI.dialogHandler["showAlert"]("Error: " + _0x72da85["code"]), this.dialog["loading"](false));
  }
}
class AdminConsoleClientsSubDialog extends SubDialog {
  constructor(_0x3390b3, _0x30820c) {
    super(_0x3390b3, _0x30820c), this["table"];
  }
  ["load"]() {
    this["dialog"]["loading"](true), this["subContent"]["html"](this.dialog["loadFile"]("forms/adminconsole.clients.html")), this["subContent"]["find"]("a[name=\"disconnectAddress\"]")["addClass"]("disabled"), this["subContent"]["find"]('a[name="closeConnection"]')["addClass"]("disabled"), this["subContent"].find("a[name=\"moveClient\"]").addClass("disabled"), this["table"] = new Table(this["subContent"].find("#adminClientsTable"), null, "clientsTable", "fmTable"), this["table"].setFilterable(true), this["table"]["setTitle"]("Active Clients"), this["table"]["setHeader"](["uniqueID", "uid", "Username", "Address", "User", "IP", "Room", "Client", "Connected since"]), this["table"]["hideColumns"]([1, 2, 3, 4]);
    var _0x5e40a2 = this;
    $(this["dialog"]).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x259e19) {
      _0x5e40a2["table"] && _0x5e40a2.table["updated"]();
    }), this["subContent"].on(UI["pointerEvent"]("click", "adminSubdialog"), "a[name=\"moveClient\"]", function (_0x2938bb) {
      _0x2938bb["preventDefault"](), _0x5e40a2["dialog"]["enableModal"](_0x5e40a2["dialog"]["loadFile"]("forms/adminconsole.modal.moveclient.html")), _0x5e40a2.dialog["modal"]["find"]("input[name=\"roommove\"]")["focus"]();
    }), this["subContent"].on(UI.pointerEvent("click", "adminSubdialog"), "a[name=\"closeConnection\"]", function (_0x112c9d) {
      _0x112c9d["preventDefault"]();
      var _0x55ceb6 = _0x5e40a2["table"].getSelected();
      let _0x46342a = {};
      _0x46342a["command"] = "ADMINREQUEST", _0x46342a["action"] = "ClientClose", _0x46342a["uniqueid"] = _0x55ceb6[0]["uniqueID"], socket["send"](_0x46342a, true);
    }), this["subContent"].on(UI["pointerEvent"]("click", "adminSubdialog"), "a[name=\"disconnectAddress\"]", function (_0x1b60eb) {
      _0x1b60eb["preventDefault"]();
      var _0xbcc16f = _0x5e40a2["table"].getSelected();
      let _0x220b03 = {};
      _0x220b03["command"] = "ADMINREQUEST", _0x220b03["action"] = "ClientIPDisconnect", _0x220b03.address = _0xbcc16f[0]["Address"], socket["send"](_0x220b03, true);
    }), this["dialog"]["modal"].on(UI["pointerEvent"]("click", "adminSubdialog"), 'a[name="confirmMoveClient"]', function (_0x3bd3fc) {
      _0x3bd3fc["preventDefault"](), _0x5e40a2["moveClient"](), _0x5e40a2.dialog["disableModal"]();
    }), this.dialog["modal"].on(UI["pointerEvent"]("keydown", "adminSubdialog"), "input[name=\"roommove\"]", function (_0x33f5a1) {
      _0x33f5a1["which"] == 13 && (_0x33f5a1["preventDefault"](), _0x5e40a2["moveClient"](), _0x5e40a2["dialog"]["disableModal"]());
    });
    var _0x5ca19d = {};
    _0x5ca19d["command"] = "ADMINREQUEST", _0x5ca19d["action"] = "ClientList", socket.send(_0x5ca19d, true), $["contextMenu"]({
      selector: "#clientsTable tr",
      build: function (_0x5abecb) {
        var _0x21c1ef = {
          callback: function (_0x178bd1, _0xd0964d) {
            var _0x17e018 = _0xd0964d["$trigger"]["attr"]("data-rowid");
            _0x5e40a2["table"]["select"](_0x17e018);
            if (_0x178bd1 == "Ugd") {
              var _0x55795a = _0x5e40a2.table["getRow"](_0x17e018);
              parseInt(_0x55795a[2]) != 0 && UI["userGalleryDialog"].show({
                uid: _0x55795a[2]
              });
            } else _0x178bd1 == "Dbg" && _0x5e40a2["debugClient"]();
          },
          items: {
            Dbg: {
              name: "Debug",
              icon: "fa-bug"
            },
            Ugd: {
              name: "Gallery",
              icon: "fa-image"
            }
          }
        };
        return $["each"](_0x21c1ef["items"], function (_0x42333e, _0x4930b7) {
          _0x21c1ef.items[_0x42333e]["name"] && (_0x21c1ef["items"][_0x42333e].name = function () {
            return textManager["getString"]("menu.userList." + _0x42333e, null, false);
          });
        }), _0x21c1ef;
      }
    });
  }
  ["moveClient"]() {
    var _0x33f3dd = this["table"].getSelected(),
      _0x2d7065 = {};
    _0x2d7065["command"] = "ADMINREQUEST", _0x2d7065.action = "MoveClient", _0x2d7065.uniqueid = _0x33f3dd[0]["uniqueID"], _0x2d7065["room"] = this["dialog"].modal["find"]("input[name=\"roommove\"]")["val"](), _0x2d7065["roompassword"] = this["dialog"].modal["find"]("input[name=\"roommovepass\"]").val(), socket["send"](_0x2d7065, true);
  }
  ["debugClient"]() {
    var _0x5e999e = this.table.getSelected(),
      _0x4e7efd = {};
    _0x4e7efd["command"] = "GLOBALFUNCTIONS", _0x4e7efd["option"] = "DEBUG", _0x4e7efd["target"] = _0x5e999e[0]["Username"], _0x4e7efd.room = _0x5e999e[0]["Room"], socket["send"](_0x4e7efd, true);
  }
  ["unload"]() {
    this["dialog"]["modal"]["off"](".adminSubdialog"), this["table"]["reset"]();
  }
  ["data"](_0x2f60d0) {
    this.table["clear"]();
    var _0x32cfc4 = this;
    $["each"](_0x2f60d0, function (_0x18ff8f, _0x1f874d) {
      var _0x443815,
        _0x30da03 = "";
      _0x1f874d["rank"] != "UU" && (_0x30da03 = "<strong>Reg. Username:</strong> " + _0x1f874d["regusername"] + "<br /><strong>Rank:</strong> " + UI.userRank(_0x1f874d["rank"], null, false) + "<br />");
      _0x443815 = "<span class=\"" + UI["rankToStyle"](_0x1f874d["rank"]) + "\" data-tooltip=\"<strong>UID:</strong> " + _0x1f874d["uid"] + "<br />" + _0x30da03 + "<strong>Silenced:</strong> " + (_0x1f874d["silenced"] ? "Yes" : "No") + "<br /><strong>Muted:</strong> " + (_0x1f874d["muted"] ? "Yes" : "No") + "<br /><strong>Group:</strong> " + _0x1f874d["group"] + "<br /><strong>SID:</strong> " + (_0x1f874d.info ? _0x1f874d.info["software"] : "") + "<br /><strong>HID:</strong> " + (_0x1f874d["info"] ? _0x1f874d["info"].hardware : "") + "<br /><strong>CID:</strong> " + (_0x1f874d["info"] ? _0x1f874d["info"]["cookie"] : "") + "<br /><strong>FP:</strong> " + (_0x1f874d.info ? _0x1f874d["info"].fingerprint : "") + "<br /><strong>Serv:</strong> " + (_0x1f874d["info"] ? _0x1f874d.info["serv"] : "") + "<br/><strong>Bst:</strong> " + (_0x1f874d.info ? _0x1f874d["info"].bst : "") + "<br /><strong>Tst:</strong> " + (_0x1f874d["info"] ? _0x1f874d["info"]["tst"] : "") + "<br /><strong>Languages:</strong> " + (_0x1f874d["info"] ? _0x1f874d["info"]["acceptLanguage"] : "") + '">' + (_0x1f874d.username || "") + "</span>";
      var _0x59ff06 = '<span data-tooltip="<strong>Version:</strong> ' + _0x1f874d["version"] + "<br /><strong>Encryption:</strong> " + _0x1f874d["encryption"] + '">' + (_0x1f874d.client || "") + "</span>",
        _0x4d8ef8 = "<span data-tooltip=\"<strong>Visibility: </strong>" + (_0x1f874d["hiddenroom"] ? "Private" : "Public") + '">' + (_0x1f874d["room"] || "") + "</span>",
        _0x31d004 = "<span data-tooltip=\"<strong>IP Address:</strong> " + _0x1f874d.ip + "<br /><strong>Public IP:</strong> " + _0x1f874d["publicip"] + "<br /><strong>Proxy:</strong> " + (_0x1f874d["proxy"] ? "Yes" : "No") + "<br /><strong>Hosting:</strong> " + (_0x1f874d["hosting"] ? "Yes" : "No") + "<br /><strong>Country:</strong> " + _0x1f874d["country"] + "<br /><strong>Shadowbanned:</strong> " + (_0x1f874d["ghostbanned"] ? "Yes" : "No") + '">' + (isIPv4(_0x1f874d.ip) ? "IPv4" : "IPv6") + "</span>",
        _0x5ed491 = formatTimestamp(_0x1f874d["connectedSince"]);
      _0x32cfc4["table"].addRow([_0x1f874d["uniqueID"], _0x1f874d["uid"], _0x1f874d.username, _0x1f874d.ip, _0x443815, _0x31d004, _0x4d8ef8, _0x59ff06, _0x5ed491], false);
    }), this["dialog"].changed(), this["table"]["updated"](), $(this["table"]).on("tableRowSelected.banSubdialog tableRowUnselected.banSubdialog", function (_0x88f5eb) {
      _0x32cfc4["subContent"]["find"]('a[name="disconnectAddress"]').removeClass("disabled"), _0x32cfc4["subContent"]["find"]("a[name=\"closeConnection\"]").removeClass("disabled"), _0x32cfc4["subContent"]["find"]('a[name="moveClient"]')["removeClass"]("disabled");
    }), this["dialog"]["loading"](false);
  }
  ["gotResponse"](_0x538728) {
    if (_0x538728["option"] == "xxx") {
      if (_0x538728["perform"] == "update") { }
      this["dialog"].loading(false);
    }
  }
}
class AdminConsoleBansSubDialog extends SubDialog {
  constructor(_0x3767bf, _0x27af62) {
    super(_0x3767bf, _0x27af62), this["table"], this.bantypeCheckbox;
  }
  ["load"]() {
    this["dialog"]["loading"](true), this["subContent"]["html"](this.dialog["loadFile"]("forms/adminconsole.bans.html")), this["subContent"]["find"]("a[name=\"removeServerBan\"]")["addClass"]("disabled"), this["table"] = new Table(this["subContent"].find("#adminBansTable"), null, "bansTable", "fmTable"), this["table"]["setFilterable"](true), this["table"]["setTitle"]("Active Bans"), this["table"]["setHeader"](["ID", "IP", "Username", "Type", "Expires", "Banned by"]), this["table"]["hideColumns"]([1, 6]);
    var _0x1d59c2 = this;
    $(this["dialog"]).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x1f5d8b) {
      _0x1d59c2["table"] && _0x1d59c2["table"]["updated"]();
    }), this["subContent"]["find"]("a[name=\"removeServerBan\"]").on(UI["pointerEvent"]("click", "adminSubdialog"), function (_0x51df63) {
      _0x51df63["preventDefault"]();
      var _0x33be8f = _0x1d59c2.table["getSelected"](),
        _0x4ed027 = {};
      _0x4ed027["command"] = "ADMINREQUEST", _0x4ed027.action = "AdminBans", _0x4ed027["option"] = "IPServBan", _0x4ed027.perform = "delete", _0x4ed027.id = _0x33be8f[0].ID, socket.send(_0x4ed027, true);
    }), this["subContent"]["find"]("a[name=\"addServerBan\"]").on(UI.pointerEvent("click", "adminSubdialog"), function (_0x3df6de) {
      _0x3df6de["preventDefault"](), _0x1d59c2["dialog"]["enableModal"](_0x1d59c2["dialog"]["loadFile"]("forms/adminconsole.modal.addban.html")), _0x1d59c2["bantypeCheckbox"] = new Switch(_0x1d59c2["dialog"]["modal"]["find"]("div[name=\"banType\"]"), function (_0x32bf41) {
        return _0x32bf41 ? "Shadowban" : "Serverban";
      }), _0x1d59c2["dialog"].modal["find"]("input[name=\"address\"]").focus();
      var _0x419879 = _0x1d59c2["dialog"]["modal"].find("select[name=\"banLength\"]");
      _0x419879["empty"](), $["each"](_0x1d59c2["dialog"].banLengths, function (_0x4203e7, _0x267e18) {
        _0x419879["append"](new Option(_0x267e18, _0x4203e7));
      }), _0x419879.val(0);
    }), this.dialog["modal"].on(UI["pointerEvent"]("click", "adminSubdialog"), "#insertBan", function (_0x4265f2) {
      _0x4265f2["preventDefault"]();
      var _0x87576d = _0x1d59c2["dialog"]["modal"]["find"]('input[name="address"]')["val"]();
      if (isValidIP(_0x87576d)) {
        var _0x24a51d = {};
        _0x24a51d["command"] = "ADMINREQUEST", _0x24a51d["action"] = "AdminBans", _0x24a51d.option = "IPServBan", _0x24a51d["perform"] = "insert", _0x24a51d["comment"] = _0x1d59c2["dialog"]["modal"]["find"]('input[name="comment"]')["val"](), _0x24a51d.ip = _0x87576d, _0x24a51d["ghost"] = _0x1d59c2["bantypeCheckbox"]["checked"], _0x24a51d.expires = _0x1d59c2["dialog"]["modal"]["find"]("select[name=\"banLength\"]")["val"](), socket.send(_0x24a51d, true), _0x1d59c2["dialog"].loading(true);
      } else UI["dialogHandler"]["showAlert"](textManager.getString("alerts.txtInvalidIP"));
    });
    var _0xf94385 = {};
    _0xf94385["command"] = "ADMINREQUEST", _0xf94385.action = "BanList", socket["send"](_0xf94385, true);
  }
  ["unload"]() {
    this["dialog"]["modal"]["off"](".adminSubdialog"), this["table"].reset();
  }
  ["data"](_0x3012ea) {
    this["table"]["clear"]();
    var _0x570e02 = this;
    $.each(_0x3012ea, function (_0x2c4e92, _0x1dbb78) {
      _0x570e02["addBanRow"](_0x1dbb78.id, _0x1dbb78.ip, _0x1dbb78.username, _0x1dbb78["type"] == 1, _0x1dbb78["expires"], _0x1dbb78["staffname"], _0x1dbb78["staffrank"], _0x1dbb78["staffuid"]);
    }), this["dialog"]["changed"](), this.table["updated"](), $(this["table"]).on("tableRowSelected.adminSubdialog tableRowUnselected.adminSubdialog", function (_0x598b62) {
      _0x570e02.subContent["find"]("a[name=\"removeServerBan\"]")["removeClass"]("disabled");
    }), this["dialog"]["loading"](false);
  }
  ["addBanRow"](_0x448257, _0x4ce1e4, _0x1c7b2f, _0x47cf59, _0x3b805a, _0x1e113b, _0x3e3a62, _0x57f456) {
    var _0x2ac79c = "<span class=\"" + UI["rankToStyle"](_0x3e3a62) + '">' + _0x1e113b + "</span>",
      _0x4daa88 = _0x3b805a == 0 ? "Never" : formatTimestamp(_0x3b805a);
    return this["table"].addRow([_0x448257, _0x4ce1e4, _0x1c7b2f, _0x47cf59 ? "Shadowban" : "Serverban", _0x4daa88, _0x2ac79c], false);
  }
  ["gotResponse"](_0x4537b9) {
    if (_0x4537b9.option == "IPSba") {
      if (_0x4537b9["code"] == "OK") {
        this["dialog"]["disableModal"]();
        var _0xdb7de3 = this["addBanRow"](_0x4537b9.ban.id, _0x4537b9.ban.ip, _0x4537b9["ban"]["comment"], _0x4537b9["ban"]["ghost"], _0x4537b9["ban"]["expires"], _0x4537b9["ban"].staffname, _0x4537b9["ban"].staffrank, _0x4537b9["ban"]["staffuid"]),
          _0xdb7de3 = this["table"]["find"](this["table"].getColumnId("ID"), _0x4537b9["ban"].id);
        _0xdb7de3 != null && this["table"].locate(_0xdb7de3);
      } else UI["dialogHandler"]["showAlert"]("Error: " + _0x4537b9["code"]);
      this["table"]["updated"](), this["dialog"]["loading"](false);
    } else {
      if (_0x4537b9["option"] == "IPSbd") {
        if (_0x4537b9.code == "OK") {
          var _0xdb7de3 = this["table"]["find"](this["table"]["getColumnId"]("ID"), _0x4537b9["ban"].id);
          _0xdb7de3 != null && this.table["deleteRow"](_0xdb7de3);
        } else UI["dialogHandler"]["showAlert"]("Error: " + _0x4537b9.code);
        this["dialog"]["loading"](false);
      }
    }
  }
}
class AdminConsoleEventsSubDialog extends SubDialog {
  constructor(_0x541a0f, _0x34dce7) {
    super(_0x541a0f, _0x34dce7), this["events"] = ["BEFORE_JOIN_ROOM", "BEFORE_ACCOUNT_CREATE", "BEFORE_ROOM_CREATE", "BEFORE_SERVERBAN", "AFTER_ROOMBAN", "AFTER_SHADOWBAN", "AFTER_NEGOTIATION", "AFTER_FEEDBACK", "AFTER_LOGIN_FAILED", "AFTER_EXCEPTION"], this["table"], this.bantypeCheckbox;
  }
  ["load"]() {
    this["dialog"]["loading"](true), this.subContent.html(this.dialog["loadFile"]("forms/adminconsole.events.html")), this.subContent["find"]("a[name=\"editServerEvent\"]")["addClass"]("disabled"), this["subContent"].find("a[name=\"removeServerEvent\"]")["addClass"]("disabled"), this["table"] = new Table(this.subContent["find"]("#adminEventsTable"), null, "eventsTable", "fmTable"), this["table"].setFilterable(true), this["table"]["setTitle"]("Events"), this["table"]["setHeader"](["ID", "Description", "Event", "Condition", "Action", "Enabled", "Active", "Added by"]), this["table"]["hideColumns"]([4, 5, 6, 8]);
    var _0x23cf4b = this;
    $(this["dialog"]).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x52f9b5) {
      _0x23cf4b["table"] && _0x23cf4b.table["updated"]();
    }), this["subContent"]["find"]("a[name=\"removeServerEvent\"]").on(UI["pointerEvent"]("click", "eventsSubdialog"), function (_0xc3f95) {
      _0xc3f95["preventDefault"]();
      var _0x25a6f5 = _0x23cf4b["table"].getSelected(),
        _0x8da1e = {};
      _0x8da1e["command"] = "ADMINREQUEST", _0x8da1e["action"] = "AdminEvents", _0x8da1e["option"] = "Event", _0x8da1e["perform"] = "delete", _0x8da1e["evid"] = _0x25a6f5[0].ID, socket["send"](_0x8da1e, true);
    }), this["subContent"]["find"]("a[name=\"addServerEvent\"]").on(UI["pointerEvent"]("click", "eventsSubdialog"), function (_0x3fa963) {
      _0x3fa963["preventDefault"](), _0x23cf4b["dialog"]["enableModal"](_0x23cf4b["dialog"]["loadFile"]("forms/adminconsole.modal.addevent.html"));
      var _0x3899dc = _0x23cf4b.dialog["modal"].find('select[name="eventType"]');
      _0x3899dc.focus(), _0x3899dc.empty(), $["each"](_0x23cf4b.events, function (_0x422ccf, _0x55c616) {
        _0x3899dc["append"](new Option(_0x55c616, _0x55c616));
      }), _0x3899dc.val(_0x23cf4b.events[0]), _0x23cf4b.dialog["modal"]["find"]("select[name=\"enabled\"]")["val"](1);
    }), this.subContent["find"]('a[name="editServerEvent"]').on(UI.pointerEvent("click", "eventsSubdialog"), function (_0x4ba050) {
      _0x4ba050.preventDefault(), _0x23cf4b["editEvent"]();
    }), this["dialog"].modal.on(UI.pointerEvent("click", "adminSubdialog"), "#insertEvent", function (_0xf321dd) {
      _0xf321dd["preventDefault"]();
      var _0x22ef5f = {};
      _0x22ef5f["command"] = "ADMINREQUEST", _0x22ef5f.action = "AdminEvents", _0x22ef5f["option"] = "Event", _0x22ef5f["perform"] = "insert", _0x22ef5f["evevent"] = _0x23cf4b["dialog"]["modal"]["find"]("select[name=\"eventType\"]")["val"](), _0x22ef5f.evdescription = _0x23cf4b["dialog"]["modal"]["find"]("input[name=\"description\"]").val(), _0x22ef5f.evcondition = _0x23cf4b["dialog"]["modal"]["find"]('textarea[name="condition"]').val();
      ;
      _0x22ef5f["evaction"] = _0x23cf4b["dialog"]["modal"]["find"]("textarea[name=\"action\"]")["val"](), _0x22ef5f.evenabled = parseInt(_0x23cf4b["dialog"]["modal"]["find"]("select[name=\"enabled\"]")["val"]()), socket.send(_0x22ef5f, true), _0x23cf4b["dialog"]["loading"](true);
    }), this["dialog"]["modal"].on(UI["pointerEvent"]("click", "adminSubdialog"), "#editEvent", function (_0xecc457) {
      _0xecc457.preventDefault();
      var _0x2c7543 = {};
      _0x2c7543.command = "ADMINREQUEST", _0x2c7543["action"] = "AdminEvents", _0x2c7543["option"] = "Event", _0x2c7543["perform"] = "edit", _0x2c7543["evid"] = _0x23cf4b["dialog"]["modal"]["find"]('input[name="eventid"]').val(), _0x2c7543["evevent"] = _0x23cf4b["dialog"]["modal"].find("select[name=\"eventType\"]").val(), _0x2c7543["evdescription"] = _0x23cf4b.dialog["modal"]["find"]("input[name=\"description\"]").val(), _0x2c7543.evcondition = _0x23cf4b.dialog["modal"].find("textarea[name=\"condition\"]").val(), _0x2c7543["evaction"] = _0x23cf4b.dialog["modal"].find("textarea[name=\"action\"]")["val"](), _0x2c7543["evenabled"] = parseInt(_0x23cf4b["dialog"]["modal"]["find"]("select[name=\"enabled\"]").val()), socket.send(_0x2c7543, true), _0x23cf4b["dialog"]["loading"](true);
    });
    var _0x1491ea = {};
    _0x1491ea.command = "ADMINREQUEST", _0x1491ea["action"] = "EventList", socket["send"](_0x1491ea, true);
  }
  ["editEvent"]() {
    this.dialog["enableModal"](this["dialog"]["loadFile"]("forms/adminconsole.modal.editevent.html"));
    var _0x25bb28 = this.table["getSelected"](),
      _0x146dbe = this.dialog.modal["find"]("select[name=\"eventType\"]");
    _0x146dbe.focus(), _0x146dbe.empty(), $["each"](this["events"], function (_0x4015e3, _0x53b486) {
      _0x146dbe["append"](new Option(_0x53b486, _0x53b486));
    }), _0x146dbe.val(_0x25bb28[0]["Event"]), this.dialog.modal["find"]("input[name=\"description\"]")["val"](_0x25bb28[0]["Description"]), this["dialog"]["modal"]["find"]("textarea[name=\"condition\"]")["val"](_0x25bb28[0]["Condition"]), this.dialog["modal"]["find"]('textarea[name="action"]')["val"](_0x25bb28[0]["Action"]), this.dialog["modal"]["find"]('input[name="eventid"]')["val"](_0x25bb28[0].ID), this["dialog"]["modal"]["find"]("select[name=\"enabled\"]")["val"](_0x25bb28[0]["Enabled"] ? 1 : 0);
  }
  ["unload"]() {
    this.dialog["modal"]["off"](".eventsSubdialog"), this["table"].reset();
  }
  ["data"](_0x74018c) {
    this.table["clear"]();
    var _0x3e4a39 = this;
    $(this.table).on("tableRowDoubleClick.eventsSubdialog", function (_0x155f86) {
      _0x3e4a39["editEvent"]();
    }), $["each"](_0x74018c, function (_0x22759e, _0xc0ac8f) {
      _0x3e4a39["addEventRow"](_0xc0ac8f.id, _0xc0ac8f.description, _0xc0ac8f.event, _0xc0ac8f.condition, _0xc0ac8f["action"], _0xc0ac8f.enabled, _0xc0ac8f["staffuid"]);
    }), this["dialog"].changed(), this["table"]["updated"](), $(this.table).on("tableRowSelected.eventsSubdialog tableRowUnselected.eventsSubdialog", function (_0x2d7920) {
      _0x3e4a39.subContent.find("a[name=\"editServerEvent\"]").removeClass("disabled"), _0x3e4a39["subContent"]["find"]('a[name="removeServerEvent"]')["removeClass"]("disabled");
    }), this["dialog"]["loading"](false);
  }
  ["addEventRow"](_0x51d276, _0x5b1ac0, _0x1499e5, _0x2eeae9, _0x4ccec5, _0x54f7a0, _0x55490e) {
    return this.table["addRow"]([_0x51d276, _0x5b1ac0, _0x1499e5, _0x2eeae9, _0x4ccec5, _0x54f7a0, _0x54f7a0 ? "yes" : "no", _0x55490e]);
  }
  ["updateEventRow"](_0x4b07dd, _0x2df8fe, _0x309e3d, _0x248c0b, _0xcc698e, _0x35d26c, _0x316e05) {
    var _0x3cbd21 = this["table"].find(this["table"]["getColumnId"]("ID"), _0x4b07dd);
    if (_0x3cbd21 != null) {
      var _0x4bd058 = {};
      _0x4bd058[this["table"]["getColumnId"]("Description")] = _0x2df8fe, _0x4bd058[this["table"]["getColumnId"]("Event")] = _0x309e3d, _0x4bd058[this.table.getColumnId("Condition")] = _0x248c0b, _0x4bd058[this["table"]["getColumnId"]("Action")] = _0xcc698e, _0x4bd058[this.table["getColumnId"]("Enabled")] = _0x35d26c, _0x4bd058[this["table"]["getColumnId"]("Active")] = _0x35d26c ? "yes" : "no", _0x4bd058[this["table"]["getColumnId"]("Staffuid")] = _0x316e05, this["table"]["updateRow"](_0x3cbd21, _0x4bd058);
    }
  }
  ["gotResponse"](_0x265405) {
    if (_0x265405["option"] == "EventA") {
      if (_0x265405.code == "OK") {
        this["dialog"]["disableModal"]();
        var _0x30c7d8 = this["addEventRow"](_0x265405["event"].id, _0x265405["event"]["description"], _0x265405["event"]["event"], _0x265405["event"]["condition"], _0x265405["event"]["action"], _0x265405["event"]["enabled"], _0x265405["event"].staffuid, false),
          _0x30c7d8 = this["table"]["find"](this["table"]["getColumnId"]("ID"), _0x265405["event"].id);
        _0x30c7d8 != null && this.table.locate(_0x30c7d8);
      } else UI["dialogHandler"]["showAlert"]("Error: " + _0x265405.code);
      this["table"]["updated"](), this.dialog["loading"](false);
    } else {
      if (_0x265405["option"] == "EventD") {
        if (_0x265405["code"] == "OK") {
          var _0x30c7d8 = this.table.find(this["table"]["getColumnId"]("ID"), _0x265405.event.id);
          _0x30c7d8 != null && this.table["deleteRow"](_0x30c7d8);
        } else UI["dialogHandler"].showAlert("Error: " + _0x265405["code"]);
        this.dialog["loading"](false);
      } else {
        if (_0x265405["option"] == "EventU") {
          if (_0x265405["code"] == "OK") {
            this["dialog"]["disableModal"](), this["updateEventRow"](_0x265405.event.id, _0x265405["event"].description, _0x265405["event"]["event"], _0x265405["event"]["condition"], _0x265405["event"]["action"], _0x265405["event"]["enabled"], _0x265405["event"]["staffuid"]);
            var _0x30c7d8 = this.table.find(this.table["getColumnId"]("ID"), _0x265405["event"].id);
            _0x30c7d8 != null && this["table"]["locate"](_0x30c7d8);
          } else UI["dialogHandler"]["showAlert"]("Error: " + _0x265405.code);
          this["dialog"]["loading"](false);
        }
      }
    }
  }
}
class AdminConsoleFeedbackSubDialog extends SubDialog {
  constructor(_0x200479, _0x5d2fb1) {
    super(_0x200479, _0x5d2fb1), this["table"];
  }
  ["load"]() {
    this["dialog"]["loading"](true), this["subContent"]["html"](this.dialog["loadFile"]("forms/adminconsole.feedback.html")), this["subContent"]["find"]('a[name="readFeedback"]')["addClass"]("disabled");
    var _0x3cb57b = this;
    this.subContent.on(UI.pointerEvent("click", "adminSubdialog"), "a[name=\"readFeedback\"]", function (_0x526115) {
      _0x526115.preventDefault(), _0x3cb57b["viewFeedback"]();
    }), this["table"] = new Table(this["subContent"]["find"]("#adminFeedbackTable"), null, "feedbackTable", "fmTable"), this["table"].setFilterable(true), this.table["setTitle"]("Feedback"), this["table"].setHeader(["Id", "Version", "Date", "From", "IP", "Time", "Comments"]), this["table"]["hideColumns"]([5, 6, 7]), $(this.dialog).on("dialogResizingEnded dialogMaximized dialogRestored", function (_0x594e2e) {
      _0x3cb57b.table && _0x3cb57b["table"]["updated"]();
    });
    var _0x58505e = {};
    _0x58505e["command"] = "ADMINREQUEST", _0x58505e["action"] = "FeedbackList", socket.send(_0x58505e, true);
  }
  ["viewFeedback"]() {
    this["dialog"]["enableModal"](this["dialog"]["loadFile"]("forms/adminconsole.modal.readfeedback.html"));
    var _0xea5ccb = this.table["getSelected"]();
    this["dialog"]["modal"]["find"]('input[name="fbversion"]')["val"](_0xea5ccb[0]["Version"]), this["dialog"].modal["find"]("input[name=\"fbfrom\"]").val(_0xea5ccb[0].From + " (" + _0xea5ccb[0].IP + ")"), this["dialog"].modal["find"]("input[name=\"fbdate\"]")["val"](_0xea5ccb[0]["Date"]), this["dialog"]["modal"].find("textarea[name=\"fbcomments\"]")["val"](_0xea5ccb[0].Comments);
  }
  ["unload"]() {
    this.dialog["modal"].off(".feedbackSubdialog"), this["table"]["reset"]();
  }
  ["data"](_0x5fced) {
    this.table["clear"]();
    var _0x26980e = this;
    $["each"](_0x5fced, function (_0xe4fc85, _0x8cc570) {
      _0x26980e["table"].addRow([_0x8cc570.id, _0x8cc570.version, formatTimestamp(_0x8cc570["time"]), _0x8cc570["from_user"], _0x8cc570["from_ip"], _0x8cc570["time"], _0x8cc570["comments"]], false);
    }), this.dialog["changed"](), this["table"]["updated"](), this["table"]["sort"](1, false), $(this["table"]).on("tableRowSelected.feedbackSubdialog tableRowUnselected.feedbackSubdialog", function (_0x453577) {
      _0x26980e["subContent"].find("a[name=\"readFeedback\"]").removeClass("disabled");
    }), $(this["table"]).on("tableRowDoubleClick.feedbackSubdialog", function (_0x2261fe) {
      _0x26980e.viewFeedback();
    }), this.dialog["loading"](false);
  }
}
class AdminConsoleSystemSubDialog extends SubDialog {
  constructor(_0x138952, _0x599b21) {
    super(_0x138952, _0x599b21), this.chart, this["visible"] = false;
  }
  ["load"]() {
    this["visible"] = true, this["subContent"].html(this["dialog"]["loadFile"]("forms/adminconsole.system.html"));
    var _0x4a99b3 = this;
    setTimeout(function () {
      var _0x13f82e = {
        red: "rgb(255, 99, 132)",
        orange: "rgb(255, 159, 64)",
        yellow: "rgb(255, 205, 86)",
        green: "rgb(75, 192, 192)",
        blue: "rgb(54, 162, 235)",
        purple: "rgb(153, 102, 255)",
        grey: "rgb(201, 203, 207)"
      },
        _0x31a7dd = Chart["helpers"]["color"],
        _0x3a2e72 = {
          type: "line",
          data: {
            datasets: [{
              label: "CPU",
              backgroundColor: _0x31a7dd(_0x13f82e["blue"])["alpha"](0.5)["rgbString"](),
              borderColor: _0x13f82e["blue"],
              fill: false,
              cubicInterpolationMode: "monotone",
              data: []
            }, {
              label: "RAM",
              backgroundColor: _0x31a7dd(_0x13f82e["orange"])["alpha"](0.5)["rgbString"](),
              borderColor: _0x13f82e.orange,
              fill: false,
              cubicInterpolationMode: "monotone",
              data: []
            }]
          },
          options: {
            title: {
              display: false
            },
            scales: {
              x: {
                type: "realtime",
                realtime: {
                  duration: 2e4,
                  refresh: 5e3,
                  delay: 8e3,
                  onRefresh: function () {
                    if (_0x4a99b3["visible"]) {
                      var _0x558d81 = {};
                      _0x558d81["command"] = "ADMINREQUEST", _0x558d81.action = "Stats", socket["send"](_0x558d81, true);
                    }
                  }
                }
              },
              y: {
                min: 0,
                max: 100,
                scaleLabel: {
                  display: false
                },
                ticks: {
                  suggestedMin: 0,
                  suggestedMax: 100
                }
              }
            }
          }
        },
        _0x4a03cf = _0x4a99b3["subContent"].find("#systemChart")[0]["getContext"]("2d");
      _0x4a99b3["chart"] = new Chart(_0x4a03cf, _0x3a2e72), _0x4a99b3.chart["update"]();
    }, 500);
    var _0x1b6b48 = {};
    _0x1b6b48["command"] = "ADMINREQUEST", _0x1b6b48["action"] = "SystemInfo", socket["send"](_0x1b6b48, true);
  }
  ["unload"]() {
    var _0x36c38e = this["chart"]["scales"].x;
    _0x36c38e.destroy();
  }
  ["data"](_0x1c076) {
    this["subContent"]["find"]("h1[name=\"platform\"]").text(_0x1c076["platform"]), this["subContent"].find('h1[name="cpucount"]')["text"](_0x1c076["cpuCount"]), this["subContent"]["find"]("h1[name=\"uptime\"]")["text"](_0x1c076.uptime);
  }
  ["intervalData"](_0x2f2e83, _0x51f004) {
    if (this["chart"]) {
      var _0x469193 = Date.now();
      this.chart["config"]["data"]["datasets"][0]["data"].push({
        x: _0x469193,
        y: _0x2f2e83
      }), this["chart"]["config"]["data"]["datasets"][1].data["push"]({
        x: _0x469193,
        y: _0x51f004
      });
    }
  }
}
class AdminConsoleSummarySubDialog extends SubDialog {
  constructor(_0x585f60, _0x17465e) {
    super(_0x585f60, _0x17465e), this.table;
  }
  ["load"]() {
    this["dialog"]["loading"](true), this["subContent"]["html"](this.dialog["loadFile"]("forms/adminconsole.summary.html")), this["allowIPv4Checkbox"] = new Switch(this["subContent"]["find"]("div[name=\"allowIPv4\"]")), this["allowIPv6Checkbox"] = new Switch(this.subContent["find"]("div[name=\"allowIPv6\"]")), this["allowProxyCheckbox"] = new Switch(this["subContent"]["find"]("div[name=\"allowProxy\"]")), this.newUsersCheckbox = new Switch(this["subContent"]["find"]('div[name="newUsers"]')), this["newRoomsCheckbox"] = new Switch(this["subContent"]["find"]("div[name=\"newRooms\"]")), this.consoleOutputSelector = new Selector(this["subContent"]["find"]("div[name=\"consoleOutput\"]"), {
      0: "Minimal",
      1: "Extended",
      2: "Debug"
    });
    var _0x13d47b = this;
    this["subContent"].find(".dialogContentArea")["overlayScrollbars"]({
      className: "os-theme-light",
      overflowBehavior: {
        x: "hidden"
      }
    }), this["subContent"].find("a[name=\"sendGM\"]").on(UI["pointerEvent"]("click", "systemSubdialog"), function (_0x869267) {
      _0x869267["preventDefault"]();
      if (_0x13d47b["subContent"]["find"]("input[name=\"textGM\"]").val() != "") {
        var _0x50a5f0 = {};
        _0x50a5f0["command"] = "ADMINREQUEST", _0x50a5f0["action"] = "GlobalMessage", _0x50a5f0["text"] = _0x13d47b["subContent"]["find"]("input[name=\"textGM\"]")["val"](), socket["send"](_0x50a5f0, true);
      }
    }), this["subContent"]["find"]("a[name=\"applySettings\"]").on(UI["pointerEvent"]("click", "systemSubdialog"), function (_0x4508f6) {
      _0x4508f6["preventDefault"]();
      var _0x404098 = {};
      _0x404098["command"] = "ADMINREQUEST", _0x404098["action"] = "ServerSettings", _0x404098["allowIPv4"] = _0x13d47b.allowIPv4Checkbox["checked"], _0x404098["allowIPv6"] = _0x13d47b["allowIPv6Checkbox"]["checked"], _0x404098["allowProxy"] = _0x13d47b["allowProxyCheckbox"]["checked"], _0x404098["allowNewUsers"] = _0x13d47b["newUsersCheckbox"]["checked"], _0x404098["allowNewRooms"] = _0x13d47b["newRoomsCheckbox"]["checked"], _0x404098.consoleOutput = _0x13d47b.consoleOutputSelector["getSelected"](), socket["send"](_0x404098, true);
    });
    var _0x53cfa0 = {};
    _0x53cfa0["command"] = "ADMINREQUEST", _0x53cfa0["action"] = "Summary", socket["send"](_0x53cfa0, true);
  }
  ["unload"]() {
    this["dialog"].modal["off"](".adminSubdialog");
  }
  ["data"](_0x41c2b1) {
    this["subContent"]["find"]("h1[name=\"activeClients\"]")["text"](_0x41c2b1["activeClients"]), this["subContent"]["find"]("h1[name=\"activeRooms\"]")["text"](_0x41c2b1["activeRooms"]), this.subContent["find"]("h1[name=\"users\"]")["text"](_0x41c2b1["users"]), this["subContent"].find('h1[name="rooms"]').text(_0x41c2b1["rooms"]), this.allowIPv4Checkbox["setValue"](_0x41c2b1.allowIPv4), this.allowIPv6Checkbox["setValue"](_0x41c2b1["allowIPv6"]), this["allowProxyCheckbox"]["setValue"](_0x41c2b1["allowProxy"]), this["newUsersCheckbox"]["setValue"](_0x41c2b1["allowNewUsers"]), this["newRoomsCheckbox"]["setValue"](_0x41c2b1.allowNewRooms), this["consoleOutputSelector"]["select"](_0x41c2b1["consoleOutput"]), this["dialog"]["changed"](), this["dialog"]["loading"](false);
  }
}
function log(_0x527162) {
  console["log"](_0x527162);
}
function GetVariable(_0x548422) {
  var _0x47bfbf = null,
    _0x15b6f7 = location["search"]["replace"]("?", "")["split"]("&");
  return $["each"](_0x15b6f7, function (_0x3198e7, _0x3a8c01) {
    value = _0x3a8c01.split("=");
    if (value[0] == _0x548422) _0x47bfbf = value[1];
  }), _0x47bfbf;
}
function rgb2obj(_0x3b82b6) {
  return _0x3b82b6 = _0x3b82b6["match"](/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/), {
    r: parseInt(_0x3b82b6[1]),
    g: parseInt(_0x3b82b6[2]),
    b: parseInt(_0x3b82b6[3])
  };
}
function rgb2hex(_0x16fc8a) {
  _0x16fc8a = _0x16fc8a["match"](/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/);
  function _0x19280d(_0x51d826) {
    return ("0" + parseInt(_0x51d826)["toString"](16))["slice"](-2);
  }
  return "#" + _0x19280d(_0x16fc8a[1]) + _0x19280d(_0x16fc8a[2]) + _0x19280d(_0x16fc8a[3]);
}
function hex2rgb(_0x437c44) {
  _0x437c44.length == 4 && (_0x437c44 = _0x437c44[1] + _0x437c44[1] + _0x437c44[2] + _0x437c44[2] + _0x437c44[3] + _0x437c44[3]);
  var _0x5800b6 = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i["exec"](_0x437c44);
  if (_0x5800b6) return {
    r: parseInt(_0x5800b6[1], 16),
    g: parseInt(_0x5800b6[2], 16),
    b: parseInt(_0x5800b6[3], 16)
  };
  return null;
}
function rgb2hsl(_0x1eae40, _0x1702f5, _0x2aea8e) {
  _0x1eae40 /= 255, _0x1702f5 /= 255, _0x2aea8e /= 255;
  var _0x51da49 = Math["max"](_0x1eae40, _0x1702f5, _0x2aea8e),
    _0x61e637 = Math["min"](_0x1eae40, _0x1702f5, _0x2aea8e),
    _0x134053,
    _0x4e474e,
    _0x4c8602 = (_0x51da49 + _0x61e637) / 2;
  if (_0x51da49 == _0x61e637) _0x134053 = _0x4e474e = 0; else {
    var _0x3708cc = _0x51da49 - _0x61e637;
    _0x4e474e = _0x4c8602 > 0.5 ? _0x3708cc / (2 - _0x51da49 - _0x61e637) : _0x3708cc / (_0x51da49 + _0x61e637);
    switch (_0x51da49) {
      case _0x1eae40:
        _0x134053 = (_0x1702f5 - _0x2aea8e) / _0x3708cc + (_0x1702f5 < _0x2aea8e ? 6 : 0);
        break;
      case _0x1702f5:
        _0x134053 = (_0x2aea8e - _0x1eae40) / _0x3708cc + 2;
        break;
      case _0x2aea8e:
        _0x134053 = (_0x1eae40 - _0x1702f5) / _0x3708cc + 4;
        break;
    }
    _0x134053 /= 6;
  }
  return {
    h: Math["floor"](_0x134053 * 360),
    s: Math["floor"](_0x4e474e * 100),
    l: Math["floor"](_0x4c8602 * 100)
  };
}
function hsl2rgb(_0x1638b1, _0x5a389d, _0x39d6f7) {
  var _0x51cd3c, _0x16c2ae, _0x371d7;
  _0x1638b1 /= 360, _0x5a389d /= 100, _0x39d6f7 /= 100;
  if (_0x5a389d == 0) _0x51cd3c = _0x16c2ae = _0x371d7 = _0x39d6f7; else {
    var _0x54bd27 = function _0x13c7dc(_0x414c4f, _0x4d4eac, _0x588a6c) {
      if (_0x588a6c < 0) _0x588a6c += 1;
      if (_0x588a6c > 1) _0x588a6c -= 1;
      if (_0x588a6c < 0.16666666666666666) return _0x414c4f + (_0x4d4eac - _0x414c4f) * 6 * _0x588a6c;
      if (_0x588a6c < 0.5) return _0x4d4eac;
      if (_0x588a6c < 0.6666666666666666) return _0x414c4f + (_0x4d4eac - _0x414c4f) * (0.6666666666666666 - _0x588a6c) * 6;
      return _0x414c4f;
    },
      _0x598257 = _0x39d6f7 < 0.5 ? _0x39d6f7 * (1 + _0x5a389d) : _0x39d6f7 + _0x5a389d - _0x39d6f7 * _0x5a389d,
      _0x1f3c8e = 2 * _0x39d6f7 - _0x598257;
    _0x51cd3c = _0x54bd27(_0x1f3c8e, _0x598257, _0x1638b1 + 0.3333333333333333), _0x16c2ae = _0x54bd27(_0x1f3c8e, _0x598257, _0x1638b1), _0x371d7 = _0x54bd27(_0x1f3c8e, _0x598257, _0x1638b1 - 0.3333333333333333);
  }
  return {
    r: Math["round"](_0x51cd3c * 255),
    g: Math["round"](_0x16c2ae * 255),
    b: Math["round"](_0x371d7 * 255)
  };
}
function rgb2hsv(_0x3041f5, _0x134085, _0x41e42b) {
  let _0x1b27f6, _0x1d01a3, _0x17c29e, _0x58fce4, _0x451169, _0x99dea3, _0x4b6c69, _0x3ab5c6, _0x5ab288, _0x1eab59, _0x53c525, _0x440b2a;
  _0x1b27f6 = _0x3041f5 / 255, _0x1d01a3 = _0x134085 / 255, _0x17c29e = _0x41e42b / 255, _0x5ab288 = Math.max(_0x1b27f6, _0x1d01a3, _0x17c29e), _0x1eab59 = _0x5ab288 - Math["min"](_0x1b27f6, _0x1d01a3, _0x17c29e), _0x53c525 = _0x34c3c9 => (_0x5ab288 - _0x34c3c9) / 6 / _0x1eab59 + 0.5, _0x440b2a = _0x2b8c04 => Math["round"](_0x2b8c04 * 100) / 100;
  if (_0x1eab59 == 0) _0x4b6c69 = _0x3ab5c6 = 0; else {
    _0x3ab5c6 = _0x1eab59 / _0x5ab288, _0x58fce4 = _0x53c525(_0x1b27f6), _0x451169 = _0x53c525(_0x1d01a3), _0x99dea3 = _0x53c525(_0x17c29e);
    if (_0x1b27f6 === _0x5ab288) _0x4b6c69 = _0x99dea3 - _0x451169; else {
      if (_0x1d01a3 === _0x5ab288) _0x4b6c69 = 0.3333333333333333 + _0x58fce4 - _0x99dea3; else _0x17c29e === _0x5ab288 && (_0x4b6c69 = 0.6666666666666666 + _0x451169 - _0x58fce4);
    }
    if (_0x4b6c69 < 0) _0x4b6c69 += 1; else _0x4b6c69 > 1 && (_0x4b6c69 -= 1);
  }
  return {
    h: Math.round(_0x4b6c69 * 360),
    s: _0x440b2a(_0x3ab5c6 * 100),
    v: _0x440b2a(_0x5ab288 * 100)
  };
}
function hsv2rgb(_0x5cb03b, _0x2d07ed, _0x482f27) {
  _0x5cb03b = _0x5cb03b / 360, _0x2d07ed = _0x2d07ed / 100, _0x482f27 = _0x482f27 / 100;
  var _0x425b5e, _0x332354, _0x100c04, _0x1e5b99, _0xbd5109, _0x51c44e, _0x14711f, _0x79d69c;
  _0x1e5b99 = Math["floor"](_0x5cb03b * 6), _0xbd5109 = _0x5cb03b * 6 - _0x1e5b99, _0x51c44e = _0x482f27 * (1 - _0x2d07ed), _0x14711f = _0x482f27 * (1 - _0xbd5109 * _0x2d07ed), _0x79d69c = _0x482f27 * (1 - (1 - _0xbd5109) * _0x2d07ed);
  switch (_0x1e5b99 % 6) {
    case 0:
      _0x425b5e = _0x482f27, _0x332354 = _0x79d69c, _0x100c04 = _0x51c44e;
      break;
    case 1:
      _0x425b5e = _0x14711f, _0x332354 = _0x482f27, _0x100c04 = _0x51c44e;
      break;
    case 2:
      _0x425b5e = _0x51c44e, _0x332354 = _0x482f27, _0x100c04 = _0x79d69c;
      break;
    case 3:
      _0x425b5e = _0x51c44e, _0x332354 = _0x14711f, _0x100c04 = _0x482f27;
      break;
    case 4:
      _0x425b5e = _0x79d69c, _0x332354 = _0x51c44e, _0x100c04 = _0x482f27;
      break;
    case 5:
      _0x425b5e = _0x482f27, _0x332354 = _0x51c44e, _0x100c04 = _0x14711f;
      break;
  }
  return {
    r: Math["round"](_0x425b5e * 255),
    g: Math["round"](_0x332354 * 255),
    b: Math["round"](_0x100c04 * 255)
  };
}
function isHexColor(_0x425b48) {
  return typeof _0x425b48 === "string" && (_0x425b48["length"] === 3 || _0x425b48["length"] === 6) && !isNaN(Number("0x" + _0x425b48));
}
function sizeToName(_0x3b33c5) {
  if (_0x3b33c5 >= 0 && _0x3b33c5 <= 767) return "xs"; else {
    if (_0x3b33c5 >= 768 && _0x3b33c5 <= 991) return "sm"; else return _0x3b33c5 >= 992 && _0x3b33c5 <= 1199 ? "md" : "lg";
  }
}
function cropImage(_0x21717d, _0xf61bda, _0x1832ff, _0x398cac, _0x5e39d7) {
  _0xf61bda = parseInt(_0xf61bda), _0x1832ff = parseInt(_0x1832ff);
  var _0x50c7b5 = $("<canvas />");
  _0x50c7b5.attr("width", _0x398cac), _0x50c7b5.attr("height", _0x5e39d7);
  var _0x50d529 = _0x50c7b5[0]["getContext"]("2d");
  _0x50d529.drawImage(_0x21717d, _0xf61bda, _0x1832ff, _0x398cac, _0x5e39d7, 0, 0, _0x398cac, _0x5e39d7);
  var _0x8add46 = _0x50c7b5[0]["toDataURL"]("image/png");
  return _0x50c7b5.remove(), _0x8add46;
}
function getLimits(_0x307082) {
  var _0x508b8f = _0x307082[0],
    _0x152473 = _0x307082[0];
  for (var _0x453895 = 1; _0x453895 < _0x307082["length"]; _0x453895++) {
    if (_0x307082[_0x453895] > _0x152473) _0x152473 = _0x307082[_0x453895];
    if (_0x307082[_0x453895] < _0x508b8f) _0x508b8f = _0x307082[_0x453895];
  }
  return new Point(_0x508b8f, _0x152473);
}
function imagedataEqual(_0x1af2bc, _0x13b62e, _0x2c9401, _0xbfb11f) {
  for (var _0x3fee81 = 0; _0x3fee81 < _0x1af2bc["length"]; _0x3fee81++) {
    for (var _0x2e019b = 0; _0x2e019b < _0x2c9401; _0x2e019b++) {
      for (var _0x4e8092 = 0; _0x4e8092 < _0xbfb11f; _0x4e8092++) {
        var _0xa3802b = getPixel(_0x1af2bc[_0x3fee81], _0x2e019b, _0x4e8092),
          _0x44234e = getPixel(_0x13b62e[_0x3fee81], _0x2e019b, _0x4e8092);
        if (!(_0xa3802b[0] == _0x44234e[0] && _0xa3802b[1] == _0x44234e[1] && _0xa3802b[2] == _0x44234e[2] && _0xa3802b[3] == _0x44234e[3])) return false;
      }
    }
  }
  return true;
}
function getPixelIndex(_0x3aa269, _0x249942) {
  var _0x531b7e = _0x3aa269["data"],
    _0x171407 = _0x249942 * 4;
  return [_0x531b7e[_0x171407], _0x531b7e[_0x171407 + 1], _0x531b7e[_0x171407 + 2], _0x531b7e[_0x171407 + 3]];
}
function getPixel(_0x97835f, _0x383894, _0x5c74c9) {
  return getPixelIndex(_0x97835f, _0x5c74c9 * _0x97835f["width"] + _0x383894);
}
function blurPercentage(_0x38aa28) {
  var _0x1f1dca = 10;
  return parseInt(_0x38aa28 * 100 / _0x1f1dca);
}
function yesnoFunction(_0x22e83a) {
  return _0x22e83a ? textManager["getString"]("global.lblYes") : textManager["getString"]("global.lblNo");
}
function lassoRectFunction(_0x31c4f4) {
  return _0x31c4f4 ? textManager.getString("global.lblLasso") : textManager["getString"]("global.lblRectangle");
}
function canvas2blob(_0x11a8bc) {
  var _0x2fddf2 = atob(_0x11a8bc["split"](",")[1]),
    _0x485390 = new Uint8Array(_0x2fddf2["length"]);
  for (var _0x305ff7 = 0; _0x305ff7 < _0x2fddf2.length; _0x305ff7++) {
    _0x485390[_0x305ff7] = _0x2fddf2["charCodeAt"](_0x305ff7);
  }
  return new Blob([_0x485390], {
    type: "image/png"
  });
}
function tooltipShortcut(_0x1f53b5) {
  var _0x2394de = _0x1f53b5[0];
  if (_0x1f53b5["length"] > 1) {
    var _0x2a8998 = UI["shortcutManager"]["getShortcut"](_0x1f53b5[1]);
    if (_0x2a8998) return textManager["getString"](_0x2394de) + "<br />" + (_0x2a8998["shortcut2"] ? textManager["getString"]("global.shortcut.lblOr", [shortcutToKeys(_0x2a8998["shortcut"]), shortcutToKeys(_0x2a8998["shortcut2"])], false) : shortcutToKeys(_0x2a8998["shortcut"]));
  }
  return textManager["getString"](_0x2394de);
}
function tooltipText(_0x52fd2d) {
  var _0x321ea2 = _0x52fd2d[0];
  return textManager["getString"](_0x321ea2);
}
function colorBubbleTooltip(_0xa9a418) {
  var _0x2a9826 = UI["bottombar"].colorBubbles["getColor"](_0xa9a418),
    _0x1c412f = "<div class=\"params\">";
  return _0x2a9826 && (_0x1c412f += "<div class=\"paramRow\"><div class=\"paramName\">" + textManager.getString("global.lblColor") + '</div><div class="paramValue" style="background-color: ' + _0x2a9826.color + "\">&nbsp;</div></div>"), _0x1c412f += tooltipShortcut(["", "pickcolor" + (_0xa9a418 + 1)]), _0x1c412f += "</div>", _0x1c412f;
}
function presetBubbleTooltip(_0x2b74f8) {
  var _0x13d01f = UI["sidebar"]["presets"]["getPreset"](_0x2b74f8),
    _0x286f85 = '<div class="params">';
  return _0x13d01f && (_0x286f85 += '<div class="paramRow"><div class="paramName">' + textManager.getString("global.lblTool") + "</div><div class=\"paramValue\">" + UI["brushToIcon"](_0x13d01f.brush)["html"]() + " " + UI["brushToName"](_0x13d01f["brush"]) + "</div></div>", _0x286f85 += '<div class="paramRow"><div class="paramName">' + textManager.getString("global.lblColor") + "</div><div class=\"paramValue\" style=\"background-color: " + _0x13d01f["color"] + '">&nbsp;</div></div>', $["each"](_0x13d01f["options"], function (_0x1c8827, _0x3e0a3a) {
    var _0x2b04bd = UI["optionToObject"](_0x1c8827, _0x3e0a3a);
    if (!_0x2b04bd.hidden) {
      if (_0x3e0a3a === true) _0x3e0a3a = textManager.getString("global.lblYes"); else _0x3e0a3a === false && (_0x3e0a3a = textManager["getString"]("global.lblNo"));
      _0x2b04bd["callbackFunction"] && (_0x3e0a3a = _0x2b04bd.callbackFunction(_0x3e0a3a)), _0x2b04bd["type"] == "list" && (_0x3e0a3a = _0x2b04bd["list"][_0x3e0a3a]), _0x286f85 += "<div class=\"paramRow\"><div class=\"paramName\">" + UI["optionToName"](_0x1c8827) + "</div><div class=\"paramValue\">" + _0x3e0a3a + "</div></div>";
    } else _0x1c8827 == "image" && (_0x286f85 += "<div class=\"paramRow\"><div class=\"paramName\">" + UI["optionToName"](_0x1c8827) + '</div><div class="paramValue"><img style="width: 30px; height: 30px; padding: 2px;" src="' + _0x3e0a3a + "\" /></div></div>");
  })), _0x286f85 += tooltipShortcut(["", "loadpreset" + (_0x2b74f8 + 1)]), _0x286f85 += "</div>", _0x286f85;
}
function openBrushDesigner() {
  UI["dialogHandler"].showDialog("brushdesigner"), UI["brushDesignerDialog"]["setImage"](room["myself"]["surface"].brushHandler["brush"]["getOption"]("image"));
}
function openBrushGallery() {
  UI.dialogHandler["showDialog"]("brushgallery");
}
function angleSnap(_0x7ab342) {
  _0x7ab342 = _0x7ab342 % 360 + 180;
  if (_0x7ab342 <= 22.5 || _0x7ab342 >= 337.5) _0x7ab342 = 0; else {
    if (_0x7ab342 <= 67.5) _0x7ab342 = 45; else {
      if (_0x7ab342 <= 112.5) _0x7ab342 = 90; else {
        if (_0x7ab342 <= 157.5) _0x7ab342 = 135; else {
          if (_0x7ab342 <= 202.5) _0x7ab342 = 180; else {
            if (_0x7ab342 <= 247.5) _0x7ab342 = 225; else {
              if (_0x7ab342 <= 292.5) _0x7ab342 = 270; else {
                if (_0x7ab342 < 337.5) _0x7ab342 = 315;
              }
            }
          }
        }
      }
    }
  }
  return _0x7ab342 -= 180, _0x7ab342;
}
function rot13(_0x379013) {
  var _0x17b7e4 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",
    _0xceddc = "NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm",
    _0x311db9 = _0x3f9de0 => _0x17b7e4["indexOf"](_0x3f9de0),
    _0x4b3c98 = _0x3bf7ae => _0x311db9(_0x3bf7ae) > -1 ? _0xceddc[_0x311db9(_0x3bf7ae)] : _0x3bf7ae;
  return _0x379013["split"]("")["map"](_0x4b3c98).join("");
}
function encryptMessage(_0x36f537, _0x5e597c = "none") {
  return _0x5e597c == "rot13" && (_0x36f537 = rot13(_0x36f537)), _0x36f537;
}
function decryptMessage(_0x17e229, _0xc2d07 = "none") {
  return _0xc2d07 == "rot13" && (_0x17e229 = rot13(_0x17e229)), _0x17e229;
}
function firstMatch(_0x73e110, _0x2e721f) {
  var _0x17dfe9 = null;
  return $.each(_0x73e110, function (_0x4567be, _0x5f9352) {
    _0x17dfe9 == null && _0x2e721f["indexOf"](_0x5f9352) > -1 && (_0x17dfe9 = _0x5f9352);
  }), _0x17dfe9;
}
function processSizes(_0x118953) {
  var _0x2f369b = ["xs", "sm", "md", "lg", "xl", "xxl"],
    _0x209cfc = {};
  $.each(_0x2f369b, function (_0x26db8c, _0x3d2e1d) {
    _0x209cfc[_0x3d2e1d] = _0x118953[_0x3d2e1d] ? _0x118953[_0x3d2e1d] : 0;
  });
  var _0x530aa3 = true,
    _0xa6667b = 0;
  return $["each"](_0x209cfc, function (_0x111d6e, _0x1e52f4) {
    _0x1e52f4 != 0 && (_0x530aa3 = false, _0xa6667b == 0 && (_0xa6667b = _0x1e52f4));
  }), _0x530aa3 ? null : (_0x209cfc[_0x2f369b[0]] == 0 && (_0x209cfc[_0x2f369b[0]] = _0xa6667b), $["each"](_0x209cfc, function (_0x17356f, _0x539a41) {
    if (_0x2f369b["indexOf"](_0x17356f) < _0x2f369b["length"] - 1) {
      var _0xa3fecd = _0x2f369b[_0x2f369b["indexOf"](_0x17356f) + 1];
      _0x209cfc[_0xa3fecd] == 0 && (_0x209cfc[_0xa3fecd] = _0x539a41);
    }
  }), _0x209cfc);
}
function formatHour(_0x4e6581, _0x35d642 = true, _0x521cac = true) {
  var _0x335504 = dateToObj(moment["unix"](_0x4e6581)),
    _0x4d6a89 = [];
  for (var _0xf3921b = 1; _0xf3921b <= 12; _0xf3921b++) {
    _0x4d6a89["push"](textManager["getString"]("global.months." + _0xf3921b, null, _0x521cac));
  }
  var _0x1abc2d = _0x335504.year,
    _0x594f78 = _0x4d6a89[parseInt(_0x335504.month) - 1],
    _0x35d642 = parseInt(_0x335504.day)["toString"](),
    _0xa175a5 = _0x335504["hours"],
    _0x3a26d9 = _0x335504["minutes"],
    _0x5e896e = _0x335504["seconds"],
    _0x37c032 = _0xa175a5 + ":" + _0x3a26d9;
  if (_0x35d642) {
    var _0xc41b4a = dateToObj(moment["unix"](Date["now"]() / 1e3)),
      _0x4d2287 = dateToObj(moment["unix"](Date["now"]() / 1e3 - 86400)),
      _0x33a597 = "";
    if (_0xc41b4a["year"] == _0x335504["year"] && _0xc41b4a["month"] == _0x335504["month"] && _0xc41b4a["day"] == _0x335504["day"]) _0x33a597 = textManager["getString"]("global.days.today", null, _0x521cac); else _0x4d2287["year"] == _0x335504["year"] && _0x4d2287["month"] == _0x335504["month"] && _0x4d2287["day"] == _0x335504["day"] ? _0x33a597 = textManager["getString"]("global.days.yesterday", null, _0x521cac) : _0x33a597 = _0x35d642 + " " + _0x594f78 + " " + _0x1abc2d;
    _0x37c032 = _0x37c032 + " | " + _0x33a597;
  }
  return _0x37c032;
}
function formatTimestamp(_0x1c730f, _0x55d2a4 = true) {
  var _0x4d17d8 = dateToObj(moment.unix(_0x1c730f)),
    _0x4f304e = [];
  for (var _0x4ee013 = 1; _0x4ee013 <= 12; _0x4ee013++) {
    _0x4f304e.push(textManager.getString("global.months." + _0x4ee013, null, _0x55d2a4));
  }
  var _0x142b69 = _0x4d17d8.year,
    _0x702b04 = _0x4f304e[parseInt(_0x4d17d8.month) - 1],
    _0x37adbe = parseInt(_0x4d17d8["day"])["toString"](),
    _0x3a97de = _0x4d17d8["hours"],
    _0x31aeec = _0x4d17d8["minutes"],
    _0x114f34 = _0x4d17d8.seconds;
  return _0x37adbe + " " + _0x702b04 + " " + _0x142b69 + " " + _0x3a97de + ":" + _0x31aeec;
}
function formatSeconds(_0x2a745d) {
  var _0x5dd61d = Math["floor"](_0x2a745d / 3600),
    _0x5816e5 = Math.floor(_0x2a745d % 3600 / 60),
    _0xbab6cd = Math.ceil(_0x2a745d % 3600 % 60),
    _0x1b4c93 = "";
  if (_0x5dd61d >= 1) _0x1b4c93 += " " + textManager["getString"]("global.lengths.lblHour", _0x5dd61d, false);
  if (_0x5816e5 >= 1) _0x1b4c93 += " " + textManager["getString"]("global.lengths.lblMinute", _0x5816e5, false);
  return _0x1b4c93 += " " + textManager.getString("global.lengths.lblSecond", _0xbab6cd, false), _0x1b4c93["substr"](1);
}
function dateToObj(_0x2e7e1e = null) {
  _0x2e7e1e == null && (_0x2e7e1e = moment());
  var _0x553d58 = {};
  return _0x553d58["year"] = _0x2e7e1e["format"]("YYYY"), _0x553d58["month"] = _0x2e7e1e["format"]("MM"), _0x553d58["day"] = _0x2e7e1e["format"]("DD"), _0x553d58.hours = _0x2e7e1e.format("HH"), _0x553d58["minutes"] = _0x2e7e1e.format("mm"), _0x553d58["seconds"] = _0x2e7e1e["format"]("ss"), _0x553d58;
}
function formatDateString(_0xc16db9) {
  var _0xc16db9 = moment();
  return _0xc16db9["format"]("YYYYMMDDHHmmss");
}
function hash(_0xe57a3c) {
  var _0x4cebcb = 0,
    _0x503fc4,
    _0x10a12e;
  if (_0xe57a3c["length"] === 0) return _0x4cebcb;
  for (_0x503fc4 = 0; _0x503fc4 < _0xe57a3c.length; _0x503fc4++) {
    _0x10a12e = _0xe57a3c["charCodeAt"](_0x503fc4), _0x4cebcb = (_0x4cebcb << 5) - _0x4cebcb + _0x10a12e, _0x4cebcb |= 0;
  }
  return _0x4cebcb;
}
function getNewListOfObjects(_0x260203, _0x11baa0) {
  var _0x4ced6b = [];
  return $["each"](_0x260203, function (_0x5f2f71, _0x5ecd5c) {
    _0x4ced6b["push"](getNewObject(_0x5ecd5c, _0x11baa0));
  }), _0x4ced6b;
}
function getNewObject(_0x58c288, _0x558dda) {
  var _0x121733 = {};
  return $["each"](_0x58c288, function (_0x582993, _0x2ea8dc) {
    _0x558dda["indexOf"](_0x582993) > -1 && (_0x121733[_0x582993] = _0x2ea8dc);
  }), _0x121733;
}
function calculateAspectRatioFit(_0x48b15a, _0x393056, _0x4fb073, _0x2814f6) {
  var _0x3cea74 = Math.min(_0x4fb073 / _0x48b15a, _0x2814f6 / _0x393056);
  return {
    width: _0x48b15a * _0x3cea74,
    height: _0x393056 * _0x3cea74
  };
}
function getRadialAvg(_0x4b49e9, _0x3e9113, _0x32816c, _0x352597, _0x74d5cb = "#FFFFFF") {
  var _0x17a5e4 = _0x352597 * _0x352597,
    _0x349cb5 = 0,
    _0x24adc9 = 0,
    _0x36ab82 = 0,
    _0x365189 = 0,
    _0x2b6fa2 = 0,
    _0x7432c7 = [];
  for (var _0x566cca = -_0x352597; _0x566cca <= _0x352597; _0x566cca++) {
    for (var _0x1d7c6e = -_0x352597; _0x1d7c6e <= _0x352597; _0x1d7c6e++) {
      if (_0x1d7c6e * _0x1d7c6e + _0x566cca * _0x566cca < _0x17a5e4) {
        if (!(_0x3e9113 + _0x1d7c6e < 0 || _0x3e9113 + _0x1d7c6e > _0x4b49e9["width"] || _0x32816c + _0x566cca > _0x4b49e9.height || _0x32816c + _0x566cca < 0)) {
          _0x7432c7 = getPixel(_0x4b49e9, parseInt(_0x3e9113 + _0x1d7c6e), parseInt(_0x32816c + _0x566cca));
          if (_0x7432c7[0] == 0 && _0x7432c7[1] == 0 && _0x7432c7[2] == 0 && _0x7432c7[3] == 0 || _0x7432c7[0] == undefined && _0x7432c7[1] == undefined && _0x7432c7[2] == undefined && _0x7432c7[3] == undefined) {
            var _0x48a600 = hex2rgb(_0x74d5cb);
            _0x7432c7 = [_0x48a600.r, _0x48a600.g, _0x48a600.b, 255];
          }
          _0x349cb5 += _0x7432c7[0], _0x24adc9 += _0x7432c7[1], _0x36ab82 += _0x7432c7[2], _0x365189 += _0x7432c7[3], _0x2b6fa2++;
        }
      }
    }
  }
  return [parseInt(_0x349cb5 / _0x2b6fa2), parseInt(_0x24adc9 / _0x2b6fa2), parseInt(_0x36ab82 / _0x2b6fa2), parseInt(_0x365189 / _0x2b6fa2)];
}
function leadingZeros(_0x293764, _0xa0bd3c = 1) {
  var _0x501bdd = _0x293764["toString"](),
    _0x5d44a4 = "";
  for (var _0x16b026 = Math["max"](_0x501bdd.length, _0xa0bd3c) - 1; _0x16b026 >= 0; _0x16b026--) {
    _0x5d44a4 += _0x16b026 < _0x501bdd.length ? _0x501bdd[_0x16b026] : "0";
  }
  return _0x5d44a4;
}
function loopValue(_0x3713f2, _0x24af8c) {
  do {
    if (_0x3713f2 >= _0x24af8c) _0x3713f2 = _0x3713f2 - _0x24af8c; else _0x3713f2 < 0 && (_0x3713f2 = _0x24af8c + _0x3713f2);
  } while (_0x3713f2 > _0x24af8c || _0x3713f2 < 0);
  return _0x3713f2;
}
function parseURL(_0x323e46) {
  var _0x40b8d6 = /(https?:\/\/[^\s]+)/g;
  return _0x323e46.replace(_0x40b8d6, function (_0x2581a3) {
    return '<a href="' + _0x2581a3 + "\" target=\"_blank\">" + _0x2581a3 + "</a>";
  });
}
function nl2br(_0x59690e, _0x101513) {
  if (typeof _0x59690e === "undefined" || _0x59690e === null) return "";
  var _0x5de4f4 = _0x101513 || typeof _0x101513 === "undefined" ? "<br />" : "<br>";
  return (_0x59690e + "").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, "$1" + _0x5de4f4 + "$2");
}
function shortcutToKeys(_0x4ddc07) {
  var _0x17562c = "";
  if (_0x4ddc07 && _0x4ddc07 != "") {
    var _0x11beca;
    _0x4ddc07["charAt"](_0x4ddc07["length"] - 1) == UI["shortcutManager"]["keySeparator"] ? (_0x11beca = _0x4ddc07.substring(0, _0x4ddc07["length"] - 1)["split"](UI["shortcutManager"].keySeparator), _0x11beca.length == 0 ? _0x11beca["push"](UI["shortcutManager"].keySeparator) : _0x11beca[_0x11beca.length - 1] += UI.shortcutManager["keySeparator"]) : _0x11beca = _0x4ddc07["split"](UI["shortcutManager"].keySeparator);
    var _0x57a91f = "";
    $["each"](_0x11beca, function (_0x5420f6, _0x306080) {
      _0x17562c += _0x57a91f + "<kbd>" + _0x306080 + "</kbd>", _0x57a91f = " + ";
    });
  }
  return _0x17562c;
}
function isValidIP(_0x407849) {
  var _0x11a925 = _0x407849["split"](".");
  let _0x1ebaf7 = _0x11a925["length"] == 4;
  var _0x2d5ec3 = _0x407849["split"](":");
  let _0x36879f = _0x2d5ec3.length >= 4;
  return _0x1ebaf7 || _0x36879f;
}
function getExtension(_0x43bc77) {
  return _0x43bc77["split"](".").pop()["toUpperCase"]();
}
function randomElement(_0x50de94) {
  return _0x50de94[Math["floor"](Math["random"]() * _0x50de94["length"])];
}
function rgba2rgb(_0xe3e02, _0x68a3f3, _0x54a657, _0x459beb = 1) {
  var _0x5d5f11 = {};
  if (_0x459beb != 1) {
    var _0x30a513 = 1 - _0x459beb,
      _0x50e243 = 255,
      _0x5e3359 = 255,
      _0x9ec3e6 = 255;
    _0x5d5f11.r = Math["round"]((_0x459beb * (_0xe3e02 / 255) + _0x30a513 * (_0x50e243 / 255)) * 255), _0x5d5f11.g = Math["round"]((_0x459beb * (_0x68a3f3 / 255) + _0x30a513 * (_0x5e3359 / 255)) * 255), _0x5d5f11.b = Math.round((_0x459beb * (_0x54a657 / 255) + _0x30a513 * (_0x9ec3e6 / 255)) * 255);
  } else _0x5d5f11.r = _0xe3e02, _0x5d5f11.g = _0x68a3f3, _0x5d5f11.b = _0x54a657;
  return _0x5d5f11;
}
function escapeHTML(_0x465a41) {
  if (typeof _0x465a41 === "string") {
    var _0xe8aa04 = {
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#039;"
    };
    return _0x465a41.replace(/[&<>"']/g, function (_0x537269) {
      return _0xe8aa04[_0x537269];
    });
  }
  return _0x465a41;
}
function unescapeHTML(_0x532bb6) {
  return _0x532bb6["replace"](/&amp;/g, "&")["replace"](/&lt;/g, "<")["replace"](/&gt;/g, ">")["replace"](/&quot;/g, '"')["replace"](/&#039;/g, "'");
}
function matches(_0x325d49, _0x103ca3) {
  if ($["isArray"](_0x325d49)) {
    if (_0x325d49["length"] == _0x103ca3.length) {
      var _0x5cf789 = true;
      return $.each(_0x325d49, function (_0xff1a22, _0x4f6f16) {
        (!(_0xff1a22 in _0x103ca3) || _0x4f6f16 != _0x103ca3[_0xff1a22]) && (_0x5cf789 = false);
      }), _0x5cf789;
    }
  } else return _0x325d49 == _0x103ca3;
  return false;
}
function inArray(_0x38e4b7, _0x160dbb) {
  let _0x436580 = false;
  return $["each"](_0x160dbb, function (_0x55b5a3, _0x596554) {
    _0x596554 == _0x38e4b7 && (_0x436580 = true);
  }), _0x436580;
}
function getRoomFromURL(_0x2d2b46) {
  var _0x2c51d7 = new RegExp("/" + _0x2d2b46 + "/([^#/]*)")["exec"](window["location"].href);
  if (_0x2c51d7 == null) return null;
  return decodeURI(_0x2c51d7[1]) || "";
}
function isIPv4(_0x4feaa2) {
  return _0x4feaa2["split"](".")["length"] == 4;
}
function getLengthDescription(_0x1269f0) {
  let _0x447053;
  if (_0x1269f0 == 0) _0x447053 = textManager.getString("global.lengths.lblPermanent", null, false); else {
    if (parseInt(_0x1269f0 / 60 / 60) <= 0) _0x447053 = textManager["getString"]("global.lengths.lblMinute", parseInt(_0x1269f0 / 60), false); else {
      if (parseInt(_0x1269f0 / 60 / 60 / 24) <= 0) _0x447053 = textManager["getString"]("global.lengths.lblHour", parseInt(_0x1269f0 / 60 / 60), false); else {
        if (parseInt(_0x1269f0 / 60 / 60 / 24 / 7) <= 0) _0x447053 = textManager["getString"]("global.lengths.lblDay", parseInt(_0x1269f0 / 60 / 60 / 24), false); else {
          if (parseInt(_0x1269f0 / 60 / 60 / 24 / 30) <= 0) _0x447053 = textManager["getString"]("global.lengths.lblWeek", parseInt(_0x1269f0 / 60 / 60 / 24 / 7), false); else parseInt(_0x1269f0 / 60 / 60 / 24 / 365) <= 0 ? _0x447053 = textManager["getString"]("global.lengths.lblMonth", parseInt(_0x1269f0 / 60 / 60 / 24 / 30), false) : _0x447053 = textManager["getString"]("global.lengths.lblYear", parseInt(_0x1269f0 / 60 / 60 / 24 / 365), false);
        }
      }
    }
  }
  return _0x447053;
}
function formatNumber(_0x23388b, _0x1ff9d4 = 2) {
  var _0x1c5e54 = 10 ^ _0x1ff9d4;
  return parseInt(_0x23388b * _0x1c5e54) / _0x1c5e54;
}
function setCaretPosition(_0x5b36c2, _0x19126d) {
  if (typeof _0x5b36c2["selectionStart"] == "number") _0x5b36c2["selectionStart"] = _0x5b36c2["selectionEnd"] = _0x19126d; else {
    if (typeof _0x5b36c2["createTextRange"] != "undefined") {
      _0x5b36c2.focus();
      var _0x174a5d = _0x5b36c2["createTextRange"]();
      _0x174a5d["collapse"](false), _0x174a5d["select"]();
    }
  }
}
function getCaretPosition(_0x490b3e) {
  var _0x1a8f97 = 0;
  if (document.selection) {
    _0x490b3e["focus"]();
    var _0x4af81e = document.selection.createRange();
    _0x4af81e["moveStart"]("character", -_0x490b3e.value["length"]), _0x1a8f97 = _0x4af81e.text.length;
  } else (_0x490b3e["selectionStart"] || _0x490b3e["selectionStart"] == "0") && (_0x1a8f97 = _0x490b3e["selectionStart"]);
  return _0x1a8f97;
}
class UserPreferences {
  constructor(_0x22e369 = null) {
    this["storage"] = _0x22e369, this["preferences"] = {}, this["preferences"]["groupOptions"] = {}, this["preferences"].properties = {}, this["preferences"]["sidebarOrder"] = [], this["preferences"]["sidebarComponentsCollapsed"] = {}, this["preferences"]["sidebarComponentsHeight"] = {}, this.loadFromStorage();
  }
  ["hasGroupOption"](_0x34197d, _0x462d68) {
    return _0x34197d in this["preferences"]["groupOptions"] && _0x462d68 in this.preferences.groupOptions[_0x34197d];
  }
  ["getGroupOption"](_0x47c631, _0x4a2dc2, _0x21b9a4 = null) {
    if (this["hasGroupOption"](_0x47c631, _0x4a2dc2)) return this["preferences"].groupOptions[_0x47c631][_0x4a2dc2];
    return _0x21b9a4;
  }
  ["setGroupOptions"](_0xfac7ce, _0x1d2d99) {
    var _0x799cd0 = this;
    $["each"](_0x1d2d99, function (_0x530b00, _0x3b42fd) {
      !(_0xfac7ce in _0x799cd0["preferences"]["groupOptions"]) && (_0x799cd0["preferences"].groupOptions[_0xfac7ce] = {}), _0x799cd0["preferences"]["groupOptions"][_0xfac7ce][_0x530b00] = _0x3b42fd;
    }), this["saveToStorage"]();
  }
  ["hasProperty"](_0x547f74) {
    return _0x547f74 in this["preferences"]["properties"];
  }
  ["getProperty"](_0x34410f, _0x719e83 = null) {
    if (this.hasProperty(_0x34410f)) return this["preferences"]["properties"][_0x34410f];
    return _0x719e83;
  }
  ["setProperty"](_0x2acc11, _0x42c291) {
    this["preferences"]["properties"][_0x2acc11] = _0x42c291, this["saveToStorage"]();
  }
  ["setSidebarOrder"](_0x2a9e69) {
    this["preferences"]["sidebarOrder"] = _0x2a9e69, this["saveToStorage"]();
  }
  ["setSidebarComponentCollapsed"](_0x52546c, _0x3f8919) {
    this["preferences"]["sidebarComponentsCollapsed"][_0x52546c] = _0x3f8919, this["saveToStorage"]();
  }
  ["setSidebarComponentHeight"](_0x40f8da, _0x599182) {
    this["preferences"].sidebarComponentsHeight[_0x40f8da] = _0x599182, this["saveToStorage"]();
  }
  ["loadFromStorage"]() {
    if (this.storage) {
      var _0x55c1d7 = this["storage"].getParameter("preferences");
      _0x55c1d7 && (this["preferences"] = JSON["parse"](_0x55c1d7), this.preferences["groupOptions"] === undefined && (this["preferences"]["groupOptions"] = {}), this["preferences"].properties === undefined && (this.preferences["properties"] = {}), this["preferences"].sidebarOrder === undefined && (this["preferences"].sidebarOrder = []), this["preferences"]["sidebarComponentsCollapsed"] === undefined && (this["preferences"]["sidebarComponentsCollapsed"] = {}), this["preferences"]["sidebarComponentsHeight"] === undefined && (this.preferences["sidebarComponentsHeight"] = {}));
    }
  }
  ["saveToStorage"]() {
    this["storage"] && this["storage"]["setParameter"]("preferences", JSON.stringify(this["preferences"]));
  }
}
class Transfer {
  constructor(_0x186c3e, _0x39e29b, _0x19c4a9, _0x54ac31, _0x331f18 = false) {
    this.targettype = _0x186c3e, this["username"] = _0x39e29b, this["ttype"] = _0x19c4a9, this["timestamp"] = _0x54ac31, this["currentLayerId"], this["layers"] = new Array(), this["mask"] = new Array(), this["completed"] = false, this["failed"] = false, this["intTimeout"] = null, this["secTimeout"] = 15, this.sending = _0x331f18, this["maxLength"] = 1e5;
  }
  ["matches"](_0x29a6dd, _0x531ef5, _0x3d68fb, _0x4c8cb6) {
    return this["targettype"] == _0x29a6dd && this["username"] == _0x531ef5 && this.ttype == _0x3d68fb && this["timestamp"] == _0x4c8cb6;
  }
  ["receive"](_0x3ab14a, _0x23dbe4, _0x293ad1, _0x3d01c3, _0x5cfa6d, _0x5480a8, _0x1e8375, _0x317a91, _0x3a86f6, _0x3f3386) {
    !this["existsLayer"](_0x3ab14a) && this["addLayer"](_0x3ab14a, _0x5cfa6d, _0x5480a8, _0x1e8375, _0x317a91, _0x3a86f6);
    var _0x3266b6 = this["getLayerId"](_0x3ab14a);
    if (_0x3266b6 != null) {
      this.layers[_0x3266b6].data += _0x3f3386, this.layers[_0x3266b6]["position"] = _0x293ad1, this["layers"][_0x3266b6]["max"] = _0x3d01c3, $(this)["triggerHandler"](new transferProgressEvent(this["targettype"], this["username"], this["ttype"], this["timestamp"], _0x3266b6 + 1, _0x23dbe4, this["layers"][_0x3266b6].position, this.layers[_0x3266b6].max)["getEvent"]());
      if (this["layers"][_0x3266b6]["position"] == this["layers"][_0x3266b6]["max"]) {
        $(this)["triggerHandler"](new transferLayerCompleteEvent(this["targettype"], this["username"], this.ttype, this["timestamp"], _0x3ab14a, this["layers"][_0x3266b6].x, this["layers"][_0x3266b6].y, this.layers[_0x3266b6]["width"], this["layers"][_0x3266b6]["height"], this["layers"][_0x3266b6].rotation, this["mask"], this["layers"][_0x3266b6]["data"])["getEvent"]());
        if (this["layers"]["length"] == _0x23dbe4) {
          this["completed"] = true;
          var _0x442204 = this["layers"][_0x3266b6]["width"] == room.board["canvasWidth"] && this["layers"][_0x3266b6]["height"] == room["board"]["canvasHeight"];
          $(this).triggerHandler(new transferCompleteEvent(this["targettype"], this["username"], this["ttype"], this["timestamp"], _0x442204)["getEvent"]());
        }
      }
    }
    this.refreshTimeout();
  }
  ["refreshTimeout"]() {
    var _0x304886 = this;
    this["intTimeout"] && clearTimeout(this["intTimeout"]), this["intTimeout"] = setTimeout(function () {
      _0x304886["fail"]();
    }, _0x304886.secTimeout * 1e3);
  }
  ["addData"](_0xcce34c, _0x402efa, _0x119a5c, _0x2707c0, _0x1fc6a1, _0x47f471, _0x4c3328) {
    !this.existsLayer(_0xcce34c) && this["addLayer"](_0xcce34c, _0x402efa, _0x119a5c, _0x2707c0, _0x1fc6a1, _0x47f471);
    var _0x4bc43a = this.getLayerId(_0xcce34c);
    this.layers[_0x4bc43a]["data"] = _0x4c3328, this["layers"][_0x4bc43a]["max"] = Math["ceil"](_0x4c3328["length"] / this.maxLength);
  }
  ["addMask"](_0x1c437b) {
    this["mask"] = _0x1c437b;
  }
  ["send"]() {
    this["currentLayerId"] = 0, this["firstPart"]();
  }
  ["firstPart"]() {
    return $(this)["triggerHandler"](new transferStartEvent(this["targettype"], this["username"], this["ttype"], this.timestamp, this["mask"]).getEvent()), true;
  }
  ["nextPart"]() {
    var _0x4e521b = this["layers"][this.currentLayerId];
    if (_0x4e521b) {
      _0x4e521b.position++;
      if (_0x4e521b.position <= _0x4e521b["max"]) {
        var _0x2e2833 = _0x4e521b.data["substr"]((_0x4e521b["position"] - 1) * this["maxLength"], this["maxLength"]);
        return $(this).triggerHandler(new transferChunkReadyEvent(this["targettype"], this["username"], this["ttype"], this["timestamp"], _0x4e521b["number"], this["layers"]["length"], _0x4e521b["position"], _0x4e521b["max"], _0x4e521b.x, _0x4e521b.y, _0x4e521b["width"], _0x4e521b["height"], _0x4e521b.rotation, _0x2e2833)["getEvent"]()), _0x4e521b["position"] == _0x4e521b["max"] && this.currentLayerId++, true;
      }
    }
    return false;
  }
  ["fail"]() {
    this["failed"] = true, $(this)["triggerHandler"](new transferFailEvent(this["targettype"], this["username"], this["ttype"], this.timestamp).getEvent());
  }
  ["getLayerId"](_0xb9193) {
    var _0x31d542 = null;
    return $["each"](this["layers"], function (_0x41c6c0, _0x2cfccf) {
      _0x2cfccf["number"] == _0xb9193 && (_0x31d542 = _0x41c6c0);
    }), _0x31d542;
  }
  ["existsLayer"](_0x50b780) {
    var _0x4d10a0 = false;
    return $["each"](this.layers, function (_0x26a935, _0x54162a) {
      _0x54162a["number"] == _0x50b780 && (_0x4d10a0 = true);
    }), _0x4d10a0;
  }
  ["addLayer"](_0x5e042e, _0x598f9a, _0x4687e3, _0x16c928, _0x46d605, _0x77e96f) {
    this["layers"]["push"](new TransferLayer(_0x5e042e, 0, 0, _0x598f9a, _0x4687e3, _0x16c928, _0x46d605, _0x77e96f, ""));
  }
}
function rejectTransfer(_0x2926a8) {
  var _0x3e41cc = room.findTransfer(_0x2926a8.targettype, _0x2926a8["from"], _0x2926a8.ttype, _0x2926a8.timestamp);
  _0x3e41cc && _0x3e41cc["fail"]();
}
function processTransfer(_0x212151) {
  var _0x3ee7ea = room.findTransfer(_0x212151["targettype"], _0x212151["from"], _0x212151["ttype"], _0x212151["timestamp"]);
  !_0x3ee7ea && _0x212151["firstPart"] && (_0x3ee7ea = new Transfer(_0x212151["targettype"], _0x212151["from"], _0x212151["ttype"], _0x212151.timestamp), _0x212151["mask"] && _0x3ee7ea.addMask(_0x212151["mask"]), $(_0x3ee7ea).on("transferLayerComplete", transferLayerComplete), $(_0x3ee7ea).on("transferComplete", transferComplete), $(_0x3ee7ea).on("transferProgress", transferProgress), $(_0x3ee7ea).on("transferFail", transferFail), room["addTransfer"](_0x3ee7ea));
  if (_0x3ee7ea) {
    _0x212151.chunk && _0x3ee7ea["receive"](_0x212151.layer, _0x212151["layerCount"], _0x212151["position"], _0x212151["max"], _0x212151.x, _0x212151.y, _0x212151["width"], _0x212151["height"], _0x212151["rotation"], _0x212151["chunk"]);
    if (_0x212151["targettype"] != "BROADCAST" && _0x3ee7ea != null && !_0x3ee7ea["completed"]) {
      var _0x31eb0e = {};
      _0x31eb0e.command = "DIRECT", _0x31eb0e["targettype"] = _0x212151["targettype"], _0x31eb0e["target"] = _0x212151["from"], _0x31eb0e["action"] = "PARTIALNEXT", _0x31eb0e["ttype"] = _0x212151.ttype, _0x31eb0e.timestamp = _0x212151["timestamp"], socket["send"](_0x31eb0e, true);
    }
  } else {
    var _0x31eb0e = {};
    _0x31eb0e.command = "DIRECT", _0x31eb0e["targettype"] = _0x212151["targettype"], _0x31eb0e["target"] = _0x212151.from, _0x31eb0e["action"] = "NOTHANKS", _0x31eb0e.ttype = _0x212151["ttype"], _0x31eb0e["timestamp"] = _0x212151.timestamp, socket["send"](_0x31eb0e, true);
  }
}
function transferFail(_0x315ec3) {
  UI["topbar"].progressBar["getName"]() == _0x315ec3["username"] + "," + _0x315ec3["ttype"] + "," + _0x315ec3.timestamp && (UI.topbar["progressBar"]["hide"](), UI["topbar"]["progressBar"]["setName"]("")), room["deleteTransfer"](_0x315ec3["username"], _0x315ec3.ttype, _0x315ec3["timestamp"]), _0x315ec3.ttype == "sync" && UI.firstSyncEnabled && UI.firstSyncUser == _0x315ec3["username"] && $(UI).triggerHandler(new firstSyncEndedEvent(_0x315ec3["username"], true)["getEvent"]());
}
function transferComplete(_0x151214) {
  UI.topbar["progressBar"]["getName"]() == _0x151214.username + "," + _0x151214.ttype + "," + _0x151214["timestamp"] && (UI.topbar["progressBar"]["setProgress"](100), setTimeout(function () {
    UI.topbar["progressBar"]["hide"](), UI["topbar"]["progressBar"]["setName"]("");
  }, 1e3));
  room.deleteTransfer(_0x151214["username"], _0x151214["ttype"], _0x151214["timestamp"]);
  if (_0x151214["ttype"] == "undo") {
    var _0x3734b6 = "events.txtUndo";
    !_0x151214["fullboard"] && (_0x3734b6 = "events.txtPartialUndo"), UI["chatDialog"]["registerEvent"](textManager["getString"](_0x3734b6, _0x151214["username"], false));
  } else {
    if (_0x151214["ttype"] == "sync") UI["chatDialog"].registerEvent(textManager["getString"]("events.txtSync", _0x151214["username"], false)); else _0x151214["ttype"] == "load" && UI["chatDialog"].registerEvent(textManager["getString"]("events.txtLoad", _0x151214.username, false));
  }
  _0x151214["ttype"] == "sync" && UI["firstSyncEnabled"] && UI.firstSyncUser == _0x151214["username"] && $(UI)["triggerHandler"](new firstSyncEndedEvent(_0x151214.username, false)["getEvent"]());
}
function transferLayerComplete(_0x5d3b91) {
  if (_0x5d3b91.ttype == "undo") _0x5d3b91.mask && _0x5d3b91["mask"].length > 0 ? room["board"]["clearMask"](_0x5d3b91.layer, _0x5d3b91.mask, -1) : room["board"].clearLayer(_0x5d3b91["layer"], -1); else _0x5d3b91.ttype == "sync" && room["board"]["clearLayer"](_0x5d3b91["layer"], -1);
  room["board"]["putLayerData"](_0x5d3b91["layer"], atob(_0x5d3b91["chunk"]), _0x5d3b91.x, _0x5d3b91.y, null, null, _0x5d3b91.rotation);
}
function transferProgress(_0x2baecb) {
  var _0x398b70 = 100 / _0x2baecb["layerCount"],
    _0x3f6cdd = _0x398b70 / _0x2baecb["max"] * (_0x2baecb["max"] - _0x2baecb["position"]),
    _0x52bd11 = _0x2baecb.layerPos * _0x398b70 - _0x3f6cdd,
    _0x43287c = UI.topbar.progressBar["getName"]();
  (!_0x43287c || _0x43287c == "" || _0x43287c == _0x2baecb["username"] + "," + _0x2baecb.ttype + "," + _0x2baecb.timestamp) && (UI["topbar"].progressBar["setName"](_0x2baecb.username + "," + _0x2baecb["ttype"] + "," + _0x2baecb["timestamp"]), UI.topbar["progressBar"]["setProgress"](_0x52bd11), UI["topbar"]["progressBar"].show()), _0x2baecb.ttype == "sync" && UI.firstSyncEnabled && UI["firstSyncUser"] == _0x2baecb.username && $(UI).triggerHandler(new firstSyncProgressEvent(_0x2baecb["username"], _0x52bd11).getEvent());
}
function sendChunk(_0x2109a2) {
  var _0x2d4e49 = {};
  _0x2d4e49["command"] = _0x2109a2["targettype"] == "BROADCAST" ? "IMG" : "DIRECT", _0x2d4e49.targettype = _0x2109a2.targettype, _0x2d4e49["target"] = _0x2109a2.username, _0x2d4e49["action"] = "PARTIAL", _0x2d4e49.ttype = _0x2109a2.ttype, _0x2d4e49.timestamp = _0x2109a2["timestamp"], _0x2109a2["type"] == "transferStart" ? (_0x2d4e49["firstPart"] = true, _0x2109a2["mask"].length > 0 && (_0x2d4e49["mask"] = _0x2109a2.mask)) : (_0x2d4e49["layer"] = _0x2109a2.layer, _0x2d4e49.layerCount = _0x2109a2.layerCount, _0x2d4e49["position"] = _0x2109a2["position"], _0x2d4e49.max = _0x2109a2["max"], _0x2d4e49.x = _0x2109a2.x, _0x2d4e49.y = _0x2109a2.y, _0x2d4e49["width"] = _0x2109a2.width, _0x2d4e49.height = _0x2109a2["height"], _0x2d4e49["rotation"] = _0x2109a2["rotation"], _0x2d4e49["chunk"] = _0x2109a2["chunk"]), socket.send(_0x2d4e49, true);
}
class TransferLayer {
  constructor(_0x829d41, _0xec6e3e, _0x4d5b44, _0x15749, _0x3db9f4, _0x2b5610, _0x4e3e43, _0x4f7133, _0x543aaa) {
    this["number"] = _0x829d41, this.position = _0xec6e3e, this.max = _0x4d5b44, this.x = _0x15749, this.y = _0x3db9f4, this.width = _0x2b5610, this["height"] = _0x4e3e43, this["rotation"] = _0x4f7133, this["data"] = _0x543aaa;
  }
}
class LocalStorage {
  constructor(_0x427a42) {
    this["cid"], this["name"] = _0x427a42, this.data = {}, this["storageType"], this.storage, this.linkStorage(), this["clearData"](), this.loadSavedData();
  }
  ["linkStorage"]() {
    window["localStorage"] ? (this.storage = window["localStorage"], this["storageType"] = "local") : (this.storage = this["getCookie"](this["name"]), this.storageType = "cookie");
  }
  ["clearData"]() {
    this["data"] = {};
  }
  ["loadSavedData"]() {
    this["storageType"] == "local" ? this["loadLocalStorage"]() : this["loadCookie"](), this["existsParameter"]("cid") ? this["cid"] = this["getParameter"]("cid") : (this["cid"] = parseInt(Math["random"]() * 999999), this["setParameter"]("cid", this.cid));
  }
  ["saveData"]() {
    this["storageType"] == "local" ? this["saveLocalStorage"]() : this["saveCookie"]();
  }
  ["loadLocalStorage"]() {
    try {
      this["data"] = JSON["parse"](this["storage"].getItem(this["name"]));
    } catch (_0x158350) { }
    !this["data"] && (this["data"] = {});
  }
  ["saveLocalStorage"]() {
    localStorage["setItem"](this["name"], JSON.stringify(this["data"]));
  }
  ["loadCookie"]() {
    var _0x56e674 = JSON["parse"](this["storage"]),
      _0x1ffb6d = this;
    $["each"](_0x56e674, function (_0x3dd54a, _0x8e8a96) {
      _0x1ffb6d.data[_0x3dd54a] = _0x8e8a96;
    });
  }
  ["saveCookie"]() {
    var _0x1e9ca7 = new Date();
    _0x1e9ca7["setTime"](_0x1e9ca7.getTime() + this["daysExpiration"] * 1e3 * 60 * 60 * 24), document["cookie"] = this["name"] + "=" + JSON["stringify"](this["data"]) + ";expires=" + _0x1e9ca7.toGMTString() + ";path=/;SameSite=Strict";
  }
  ["getCookie"]() {
    var _0x496c6e = this["name"] + "=",
      _0x3cd2da = decodeURIComponent(document.cookie),
      _0x2d044b = _0x3cd2da["split"](";");
    for (var _0x52637a = 0; _0x52637a < _0x2d044b["length"]; _0x52637a++) {
      var _0x3120ff = _0x2d044b[_0x52637a];
      while (_0x3120ff["charAt"](0) == " ") {
        _0x3120ff = _0x3120ff["substring"](1);
      }
      if (_0x3120ff["indexOf"](_0x496c6e) == 0) return _0x3120ff["substring"](_0x496c6e["length"], _0x3120ff.length);
    }
    return null;
  }
  ["existsParameter"](_0x25bd48) {
    return _0x25bd48 in this.data;
  }
  ["setParameter"](_0x18ea97, _0x3ee49b) {
    this["data"][_0x18ea97] = _0x3ee49b, this["saveData"]();
  }
  ["getParameter"](_0x30aaf0) {
    if (_0x30aaf0 in this.data) return this.data[_0x30aaf0];
    return null;
  }
  ["removeParameter"](_0x7fa5e) {
    _0x7fa5e in this["data"] && (delete this["data"][_0x7fa5e], this["saveData"]());
  }
  ["exportableData"]() {
    var _0x105ade = this["data"];
    return _0x105ade.preferences = _0x105ade.preferences.replace(/(\p{Emoji_Presentation}|\p{Extended_Pictographic})/gu, ""), _0x105ade;
  }
  ["exportData"]() {
    var _0x992ad4 = function (_0x44ac99) {
      var _0x276df7 = new Blob([_0x44ac99], {
        type: "text/plain"
      });
      return window.URL["createObjectURL"](_0x276df7);
    },
      _0x53cb12 = $("<a />");
    _0x53cb12["addClass"]("invisible"), _0x53cb12.attr("download", "config.fmc"), _0x53cb12["attr"]("href", _0x992ad4(btoa(JSON["stringify"](this["exportableData"]())))), $("body").append(_0x53cb12), _0x53cb12[0]["click"](), _0x53cb12["remove"]();
  }
}
class AdvancedCanvas {
  constructor(_0x2af655, _0x154684) {
    this["width"] = _0x2af655, this["height"] = _0x154684, this["smoothing"] = false, this["canvas"] = $("<canvas />"), this.canvas.attr("width", _0x2af655), this["canvas"].attr("height", _0x154684), this["clearCanvasProperties"](), this["clearCSSProperties"]();
  }
  ["getContext"](_0x343d7b = false) {
    return this.canvas[0]["getContext"]("2d", {
      willReadFrequently: _0x343d7b
    });
  }
  ["getImageData"](_0x4afe82 = 0, _0x1fe645 = 0, _0x4f1797 = null, _0x1e518e = null) {
    var _0x244917 = this["getContext"]();
    return _0x244917["getImageData"](_0x4afe82, _0x1fe645, _0x4f1797 == null ? _0x244917["canvas"]["width"] : _0x4f1797, _0x1e518e == null ? _0x244917.canvas["height"] : _0x1e518e);
  }
  ["getData"]() {
    return this["canvas"][0]["toDataURL"]("image/png");
  }
  ["isBasicRotation"](_0x4f3a79) {
    return _0x4f3a79 < 0 && (_0x4f3a79 *= -1), _0x4f3a79 == 0 || _0x4f3a79 == 90 || _0x4f3a79 == 180 || _0x4f3a79 == 270;
  }
  ["putData"](_0x269203, _0x1e997e = 0, _0x14f37d = 0, _0x2b85db = null, _0xd05511 = null, _0x443247 = 0) {
    var _0x1e06d9 = this;
    return new Promise(function (_0x42afe2, _0x27b656) {
      var _0x2e9f51 = new Image();
      _0x2e9f51.onload = function () {
        var _0x424e62 = _0x1e06d9["getContext"]();
        _0x1e06d9["setCanvasProperties"]({
          blendmode: "normal",
          alpha: 1,
          blur: 0
        }), _0x1e06d9["smoothing"] = !_0x1e06d9["isBasicRotation"](_0x443247);
        if (_0x443247 != 0) {
          var _0x2bfb1f = parseInt(_0x443247) * (Math.PI / 180);
          _0x424e62["translate"](_0x1e997e + _0x2e9f51["width"] / 2, _0x14f37d + _0x2e9f51["height"] / 2), _0x424e62["rotate"](_0x2bfb1f), _0x1e06d9["drawImage"](_0x2e9f51, -_0x2e9f51.width / 2, -_0x2e9f51["height"] / 2), _0x424e62.rotate(-_0x2bfb1f), _0x424e62["translate"](-(_0x1e997e + _0x2e9f51["width"] / 2), -(_0x14f37d + _0x2e9f51["height"] / 2));
        } else _0x1e06d9["drawImage"](_0x2e9f51, _0x1e997e, _0x14f37d, _0x2b85db, _0xd05511);
        _0x1e06d9["smoothing"] = false, _0x42afe2("ok");
      }, _0x2e9f51["onerror"] = function () {
        _0x27b656("fail");
      }, _0x2e9f51["src"] = _0x269203;
    });
  }
  ["putImageData"](_0x5a2f9f, _0x1029a3 = 0, _0x40f175 = 0) {
    var _0x4475ab = this["getContext"]();
    _0x4475ab.putImageData(_0x5a2f9f, _0x1029a3, _0x40f175);
  }
  ["drawImage"](_0x1ca5f1, _0x4f757a = 0, _0xc4037e = 0, _0xaa5fa7 = null, _0x328860 = null) {
    var _0x31176f = this.getContext();
    _0x31176f.imageSmoothingEnabled = this["smoothing"], _0x31176f["imageSmoothingQuality"] = "high", _0xaa5fa7 == null || _0x328860 == null ? _0x31176f.drawImage(_0x1ca5f1, _0x4f757a, _0xc4037e) : _0x31176f["drawImage"](_0x1ca5f1, _0x4f757a, _0xc4037e, _0xaa5fa7, _0x328860), _0x31176f["imageSmoothingEnabled"] = false;
  }
  ["clear"](_0x124755 = -1, _0x412530 = 0, _0x506057 = 0, _0x27da78 = null, _0xb03667 = null) {
    var _0x3b3f2d = this["getContext"]();
    _0x27da78 == null && (_0x27da78 = _0x3b3f2d["canvas"]["width"]), _0xb03667 == null && (_0xb03667 = _0x3b3f2d.canvas["height"]), this["setCanvasProperties"]({
      blendmode: "normal",
      alpha: 1,
      blur: 0
    }), _0x124755 == -1 ? _0x3b3f2d["clearRect"](_0x412530, _0x506057, _0x27da78, _0xb03667) : (_0x3b3f2d["fillStyle"] = _0x124755, _0x3b3f2d.fillRect(_0x412530, _0x506057, _0x27da78, _0xb03667));
  }
  ["clearMask"](_0x30202e, _0x20bece = -1) {
    var _0x580f0a = this["getContext"]();
    _0x580f0a.save(), this.setCanvasProperties({
      blendmode: "normal",
      alpha: 1,
      blur: 0
    }), _0x580f0a["beginPath"](), $.each(_0x30202e, function (_0x407937, _0x17424c) {
      _0x407937 == 0 && _0x580f0a["moveTo"](_0x17424c.x, _0x17424c.y), _0x580f0a.lineTo(_0x17424c.x, _0x17424c.y);
    }), _0x580f0a["closePath"](), _0x580f0a.clip(), this.clear(_0x20bece), _0x580f0a["restore"](), this["clearCanvasProperties"]();
  }
  ["flip"](_0x585f74 = true, _0x72c65f = false) {
    var _0x3aa80a = this["getContext"]();
    this["setCanvasProperties"]({
      blendmode: "normal",
      alpha: 1,
      blur: 0
    });
    var _0x34cc06 = this,
      _0x32f1fd = new Image();
    _0x32f1fd["onload"] = function () {
      _0x3aa80a["clearRect"](0, 0, _0x3aa80a["canvas"]["width"], _0x3aa80a["canvas"]["height"]), _0x3aa80a["save"](), _0x3aa80a["translate"](_0x3aa80a["canvas"]["width"] / 2, _0x3aa80a["canvas"]["height"] / 2), _0x3aa80a["scale"](_0x585f74 ? -1 : 1, _0x72c65f ? -1 : 1), _0x34cc06["drawImage"](_0x32f1fd, -_0x3aa80a["canvas"]["width"] / 2, -_0x3aa80a["canvas"]["height"] / 2, _0x3aa80a["canvas"].width, _0x3aa80a["canvas"]["height"]), _0x3aa80a.restore(), _0x34cc06["clearCanvasProperties"]();
    }, _0x32f1fd["src"] = this["getData"]();
  }
  ["blur"](_0x38e939 = 1) {
    var _0x3154e7 = [1, 57, 41, 21, 203, 34, 97, 73, 227, 91, 149, 62, 105, 45, 39, 137, 241, 107, 3, 173, 39, 71, 65, 238, 219, 101, 187, 87, 81, 151, 141, 133, 249, 117, 221, 209, 197, 187, 177, 169, 5, 153, 73, 139, 133, 127, 243, 233, 223, 107, 103, 99, 191, 23, 177, 171, 165, 159, 77, 149, 9, 139, 135, 131, 253, 245, 119, 231, 224, 109, 211, 103, 25, 195, 189, 23, 45, 175, 171, 83, 81, 79, 155, 151, 147, 9, 141, 137, 67, 131, 129, 251, 123, 30, 235, 115, 113, 221, 217, 53, 13, 51, 50, 49, 193, 189, 185, 91, 179, 175, 43, 169, 83, 163, 5, 79, 155, 19, 75, 147, 145, 143, 35, 69, 17, 67, 33, 65, 255, 251, 247, 243, 239, 59, 29, 229, 113, 111, 219, 27, 213, 105, 207, 51, 201, 199, 49, 193, 191, 47, 93, 183, 181, 179, 11, 87, 43, 85, 167, 165, 163, 161, 159, 157, 155, 77, 19, 75, 37, 73, 145, 143, 141, 35, 138, 137, 135, 67, 33, 131, 129, 255, 63, 250, 247, 61, 121, 239, 237, 117, 29, 229, 227, 225, 111, 55, 109, 216, 213, 211, 209, 207, 205, 203, 201, 199, 197, 195, 193, 48, 190, 47, 93, 185, 183, 181, 179, 178, 176, 175, 173, 171, 85, 21, 167, 165, 41, 163, 161, 5, 79, 157, 78, 154, 153, 19, 75, 149, 74, 147, 73, 144, 143, 71, 141, 140, 139, 137, 17, 135, 134, 133, 66, 131, 65, 129, 1],
      _0x211742 = [0, 9, 10, 10, 14, 12, 14, 14, 16, 15, 16, 15, 16, 15, 15, 17, 18, 17, 12, 18, 16, 17, 17, 19, 19, 18, 19, 18, 18, 19, 19, 19, 20, 19, 20, 20, 20, 20, 20, 20, 15, 20, 19, 20, 20, 20, 21, 21, 21, 20, 20, 20, 21, 18, 21, 21, 21, 21, 20, 21, 17, 21, 21, 21, 22, 22, 21, 22, 22, 21, 22, 21, 19, 22, 22, 19, 20, 22, 22, 21, 21, 21, 22, 22, 22, 18, 22, 22, 21, 22, 22, 23, 22, 20, 23, 22, 22, 23, 23, 21, 19, 21, 21, 21, 23, 23, 23, 22, 23, 23, 21, 23, 22, 23, 18, 22, 23, 20, 22, 23, 23, 23, 21, 22, 20, 22, 21, 22, 24, 24, 24, 24, 24, 22, 21, 24, 23, 23, 24, 21, 24, 23, 24, 22, 24, 24, 22, 24, 24, 22, 23, 24, 24, 24, 20, 23, 22, 23, 24, 24, 24, 24, 24, 24, 24, 23, 21, 23, 22, 23, 24, 24, 24, 22, 24, 24, 24, 23, 22, 24, 24, 25, 23, 25, 25, 23, 24, 25, 25, 24, 22, 25, 25, 25, 24, 23, 24, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 23, 25, 23, 24, 25, 25, 25, 25, 25, 25, 25, 25, 25, 24, 22, 25, 25, 23, 25, 25, 20, 24, 25, 24, 25, 25, 22, 24, 25, 24, 25, 24, 25, 25, 24, 25, 25, 25, 25, 22, 25, 25, 25, 24, 25, 24, 25, 18],
      _0x4ddb59 = this.width,
      _0x287448 = this["height"],
      _0x525299 = 1,
      _0x285064 = this.canvas[0],
      _0x33087c = _0x285064.getContext("2d"),
      _0x5674c7 = this["getImageData"](),
      _0x120a03 = _0x5674c7["data"],
      _0x3c89bd,
      _0x5b5e59,
      _0x425e83,
      _0xaa3cef,
      _0xd6fadf,
      _0x10b90c,
      _0x5ccebb,
      _0x35b47b,
      _0x11c035,
      _0x313ef4,
      _0x41c8ca,
      _0x2c6823,
      _0x39c748,
      _0x32a5fb,
      _0x537480,
      _0x1dbcd5 = _0x4ddb59 - 1,
      _0x5a9975 = _0x287448 - 1,
      _0x54be00 = _0x4ddb59 * _0x287448,
      _0x41371d = _0x38e939 + 1,
      _0x13e8b1 = _0x3154e7[_0x38e939],
      _0x461872 = _0x211742[_0x38e939],
      _0x4f22f8 = [],
      _0x44e8a1 = [],
      _0x3f1efe = [],
      _0x3f3b30 = [],
      _0x29b7ef = [],
      _0x356a3d = [];
    while (_0x525299-- > 0) {
      _0x39c748 = _0x2c6823 = 0;
      for (_0x10b90c = 0; _0x10b90c < _0x287448; _0x10b90c++) {
        _0x3c89bd = _0x120a03[_0x39c748] * _0x41371d, _0x5b5e59 = _0x120a03[_0x39c748 + 1] * _0x41371d, _0x425e83 = _0x120a03[_0x39c748 + 2] * _0x41371d, _0xaa3cef = _0x120a03[_0x39c748 + 3] * _0x41371d;
        for (_0x5ccebb = 1; _0x5ccebb <= _0x38e939; _0x5ccebb++) {
          _0x35b47b = _0x39c748 + ((_0x5ccebb > _0x1dbcd5 ? _0x1dbcd5 : _0x5ccebb) << 2), _0x3c89bd += _0x120a03[_0x35b47b++], _0x5b5e59 += _0x120a03[_0x35b47b++], _0x425e83 += _0x120a03[_0x35b47b++], _0xaa3cef += _0x120a03[_0x35b47b];
        }
        for (_0xd6fadf = 0; _0xd6fadf < _0x4ddb59; _0xd6fadf++) {
          _0x4f22f8[_0x2c6823] = _0x3c89bd, _0x44e8a1[_0x2c6823] = _0x5b5e59, _0x3f1efe[_0x2c6823] = _0x425e83, _0x3f3b30[_0x2c6823] = _0xaa3cef, _0x10b90c == 0 && (_0x29b7ef[_0xd6fadf] = ((_0x35b47b = _0xd6fadf + _0x41371d) < _0x1dbcd5 ? _0x35b47b : _0x1dbcd5) << 2, _0x356a3d[_0xd6fadf] = (_0x35b47b = _0xd6fadf - _0x38e939) > 0 ? _0x35b47b << 2 : 0), _0x11c035 = _0x39c748 + _0x29b7ef[_0xd6fadf], _0x313ef4 = _0x39c748 + _0x356a3d[_0xd6fadf], _0x3c89bd += _0x120a03[_0x11c035++] - _0x120a03[_0x313ef4++], _0x5b5e59 += _0x120a03[_0x11c035++] - _0x120a03[_0x313ef4++], _0x425e83 += _0x120a03[_0x11c035++] - _0x120a03[_0x313ef4++], _0xaa3cef += _0x120a03[_0x11c035] - _0x120a03[_0x313ef4], _0x2c6823++;
        }
        _0x39c748 += _0x4ddb59 << 2;
      }
      for (_0xd6fadf = 0; _0xd6fadf < _0x4ddb59; _0xd6fadf++) {
        _0x41c8ca = _0xd6fadf, _0x3c89bd = _0x4f22f8[_0x41c8ca] * _0x41371d, _0x5b5e59 = _0x44e8a1[_0x41c8ca] * _0x41371d, _0x425e83 = _0x3f1efe[_0x41c8ca] * _0x41371d, _0xaa3cef = _0x3f3b30[_0x41c8ca] * _0x41371d;
        for (_0x5ccebb = 1; _0x5ccebb <= _0x38e939; _0x5ccebb++) {
          _0x41c8ca += _0x5ccebb > _0x5a9975 ? 0 : _0x4ddb59, _0x3c89bd += _0x4f22f8[_0x41c8ca], _0x5b5e59 += _0x44e8a1[_0x41c8ca], _0x425e83 += _0x3f1efe[_0x41c8ca], _0xaa3cef += _0x3f3b30[_0x41c8ca];
        }
        _0x2c6823 = _0xd6fadf << 2;
        for (_0x10b90c = 0; _0x10b90c < _0x287448; _0x10b90c++) {
          _0x120a03[_0x2c6823 + 3] = _0x537480 = _0xaa3cef * _0x13e8b1 >>> _0x461872, _0x537480 > 0 ? (_0x537480 = 255 / _0x537480, _0x120a03[_0x2c6823] = (_0x3c89bd * _0x13e8b1 >>> _0x461872) * _0x537480, _0x120a03[_0x2c6823 + 1] = (_0x5b5e59 * _0x13e8b1 >>> _0x461872) * _0x537480, _0x120a03[_0x2c6823 + 2] = (_0x425e83 * _0x13e8b1 >>> _0x461872) * _0x537480) : _0x120a03[_0x2c6823] = _0x120a03[_0x2c6823 + 1] = _0x120a03[_0x2c6823 + 2] = 0, _0xd6fadf == 0 && (_0x29b7ef[_0x10b90c] = ((_0x35b47b = _0x10b90c + _0x41371d) < _0x5a9975 ? _0x35b47b : _0x5a9975) * _0x4ddb59, _0x356a3d[_0x10b90c] = (_0x35b47b = _0x10b90c - _0x38e939) > 0 ? _0x35b47b * _0x4ddb59 : 0), _0x11c035 = _0xd6fadf + _0x29b7ef[_0x10b90c], _0x313ef4 = _0xd6fadf + _0x356a3d[_0x10b90c], _0x3c89bd += _0x4f22f8[_0x11c035] - _0x4f22f8[_0x313ef4], _0x5b5e59 += _0x44e8a1[_0x11c035] - _0x44e8a1[_0x313ef4], _0x425e83 += _0x3f1efe[_0x11c035] - _0x3f1efe[_0x313ef4], _0xaa3cef += _0x3f3b30[_0x11c035] - _0x3f3b30[_0x313ef4], _0x2c6823 += _0x4ddb59 << 2;
        }
      }
    }
    _0x33087c.putImageData(_0x5674c7, 0, 0);
  }
  ["changeSize"](_0x19e616, _0x1de4c1) {
    this["width"] = _0x19e616, this["height"] = _0x1de4c1, this["canvas"]["attr"]("width", _0x19e616), this["canvas"]["attr"]("height", _0x1de4c1), this["clearCanvasProperties"]();
  }
  ["remove"]() {
    this["canvas"]["remove"](), this["clearCanvasProperties"](), this.clearCSSProperties();
  }
  ["getCanvasProperty"](_0x5c31d7) {
    return null;
  }
  ["clearCanvasProperties"]() {
    this.currentCanvasProperties = {};
  }
  ["setCanvasProperties"](_0x2ab9df = {}) {
    var _0x601035 = this,
      _0x40086e = this["getContext"]();
    $["each"](_0x2ab9df, function (_0xd451bf, _0x47a8f9) {
      _0xd451bf = _0xd451bf["toLowerCase"]();
      if (_0xd451bf == "blendmode") _0x47a8f9 == "normal" && (_0x47a8f9 = "source-over"), _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x40086e["globalCompositeOperation"] = _0x47a8f9); else {
        if (_0xd451bf == "alpha") _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x40086e["globalAlpha"] = _0x47a8f9); else {
          if (_0xd451bf == "blur") _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x47a8f9 == 0 ? _0x40086e["filter"] = "none" : _0x40086e["filter"] = "blur(" + _0x47a8f9 + "px)"); else {
            if (_0xd451bf == "linedash") _0x601035.getCanvasProperty(_0xd451bf) != _0x47a8f9 && _0x40086e["setLineDash"](_0x47a8f9); else {
              if (_0xd451bf == "linejoin") _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x40086e["lineJoin"] = _0x47a8f9); else {
                if (_0xd451bf == "linecap") _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x40086e.lineCap = _0x47a8f9); else {
                  if (_0xd451bf == "linewidth") _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x40086e["lineWidth"] = _0x47a8f9); else {
                    if (_0xd451bf == "strokestyle") _0x601035.getCanvasProperty(_0xd451bf) != _0x47a8f9 && (_0x40086e["strokeStyle"] = _0x47a8f9); else {
                      if (_0xd451bf == "fillstyle") _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x40086e["fillStyle"] = _0x47a8f9); else {
                        if (_0xd451bf == "font") _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x40086e["font"] = _0x47a8f9); else {
                          if (_0xd451bf == "textbaseline") _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x40086e["textBaseline"] = _0x47a8f9); else _0xd451bf == "linedashoffset" && _0x601035["getCanvasProperty"](_0xd451bf) != _0x47a8f9 && (_0x40086e["lineDashOffset"] = _0x47a8f9);
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      _0x601035["currentCanvasProperties"][_0xd451bf] = _0x47a8f9;
    });
  }
  ["getCSSProperty"](_0x5df3c0) {
    if (_0x5df3c0 in this["currentCSSProperties"]) return this["currentCSSProperties"][_0x5df3c0];
    return null;
  }
  ["clearCSSProperties"]() {
    this["currentCSSProperties"] = {};
  }
  ["setCSSProperties"](_0x842640 = {}) {
    var _0x1e4cb7 = this;
    $.each(_0x842640, function (_0x324bae, _0x245a89) {
      _0x324bae = _0x324bae["toLowerCase"]();
      if (_0x324bae == "alpha") _0x1e4cb7["getCSSProperty"](_0x324bae) != _0x245a89 && $(_0x1e4cb7.canvas)["css"]("opacity", _0x245a89); else {
        if (_0x324bae == "blendmode") _0x1e4cb7["getCSSProperty"](_0x324bae) != _0x245a89 && $(_0x1e4cb7["canvas"])["css"]("mix-blend-mode", _0x245a89); else _0x324bae == "blur" && _0x1e4cb7["getCSSProperty"](_0x324bae) != _0x245a89 && (_0x245a89 == 0 ? $(_0x1e4cb7["canvas"])["css"]("filter", "") : $(_0x1e4cb7.canvas)["css"]("filter", "blur(" + _0x245a89 + "px)"));
      }
      _0x1e4cb7["currentCSSProperties"][_0x324bae] = _0x245a89;
    });
  }
}
class Layer {
  constructor(_0x278d68, _0x413b10, _0x4f24e3, _0x223af1 = "board", _0x1d09fb = null) {
    this.number = _0x278d68, this["locked"] = false, this["visible"] = true, this.advCanvas = new AdvancedCanvas(_0x413b10, _0x4f24e3), this["advCanvas"].canvas["addClass"](_0x223af1), _0x1d09fb != null && this["advCanvas"]["canvas"].css("z-index", _0x1d09fb);
  }
  ["getCanvas"]() {
    return this["advCanvas"]["canvas"][0];
  }
  ["getContext"]() {
    return this["advCanvas"]["getContext"]();
  }
  ["getData"]() {
    return this.advCanvas["getData"]();
  }
  ["getOffset"]() {
    return this["advCanvas"].canvas["offset"]();
  }
  ["putData"](_0x982176, _0x4d72dc = 0, _0x165726 = 0, _0x10b90b = null, _0x26e1c4 = null, _0x293cd0 = 0) {
    return this["advCanvas"]["putData"](_0x982176, _0x4d72dc, _0x165726, _0x10b90b, _0x26e1c4, _0x293cd0);
  }
  ["clear"](_0x3f04a4 = -1, _0x2fd37a = 0, _0x4b9414 = 0, _0x5e13e5 = null, _0x4e655b = null) {
    this["advCanvas"].clear(_0x3f04a4, _0x2fd37a, _0x4b9414, _0x5e13e5, _0x4e655b), $(this)["triggerHandler"](new layerClearedEvent(this["number"]).getEvent());
  }
  ["clearMask"](_0x3b4d20, _0x137cc1 = -1) {
    this["advCanvas"]["clearMask"](_0x3b4d20, _0x137cc1);
  }
  ["flip"](_0x5eac4f = true, _0x3eeff5 = false) {
    this.advCanvas.flip(_0x5eac4f, _0x3eeff5), $(self).triggerHandler(new layerFlippedEvent(self["number"])["getEvent"]());
  }
  ["show"]() {
    this["advCanvas"].canvas.show(), this.visible = true;
  }
  ["hide"]() {
    this["advCanvas"].canvas["hide"](), this["visible"] = false;
  }
  ["toggle"]() {
    this["advCanvas"]["canvas"]["toggle"]();
  }
  ["isVisible"]() {
    return this["advCanvas"]["canvas"].is(":visible");
  }
  ["lock"]() {
    this["locked"] = true;
  }
  ["unlock"]() {
    this.locked = false;
  }
  ["remove"]() {
    this["advCanvas"]["remove"]();
  }
}
class Board {
  constructor(_0x4d5a80, _0x1cdd26, _0x3a496a, _0x127d1d, _0x21edc8, _0x1389b8) {
    this["canvasWidth"], this["canvasHeight"], this.nLayers = _0x127d1d, this["layers"] = new Array(), this["backgroundColor"] = "#FFFFFF", this["bottomTransparency"] = true, this["boardContainer"] = _0x4d5a80, this["grid"], this["onion"], this.onionSkin = false, this["scale"] = 0, this["rotation"] = 0, this["zoomStep"] = 0.25, this.minZoom = 0.25, this["maxZoom"] = 13, this["cursorContainer"] = $("<div />"), this.cursorContainer["addClass"]("CursorContainer"), this["boardContainer"]["append"](this["cursorContainer"]), this.canvasContainer = $("<div />"), this["canvasContainer"]["addClass"]("CanvasContainer"), this["boardContainer"]["append"](this["canvasContainer"]), this.zIndexFrom = 10, this["lastChangeTime"] = new Date(), this["changeSize"](_0x1cdd26, _0x3a496a), this.changeLayers(_0x127d1d), this.changeTransparency(_0x1389b8), this["changeBackground"](_0x21edc8);
  }
  ["changeTransparency"](_0x5b9e25, _0x3cf9c3 = false) {
    this["bottomTransparency"] != _0x5b9e25 && (this["bottomTransparency"] = _0x5b9e25, $(this).triggerHandler(new bottomLayerTransparencyChangedEvent(_0x5b9e25).getEvent()));
  }
  ["changeBackground"](_0x3091c0, _0x31ad6e = false) {
    if (this["backgroundColor"] != _0x3091c0 || _0x31ad6e) {
      var _0x58ba52 = this.backgroundColor;
      this["backgroundColor"] = _0x3091c0, $(this)["triggerHandler"](new backgroundColorChangedEvent(_0x3091c0, _0x58ba52)["getEvent"]());
    }
  }
  ["changeSize"](_0x2ea2c6, _0x173068, _0x1d02e2 = false) {
    if (_0x2ea2c6 != this["canvasWidth"] || _0x173068 != this["canvasHeight"] || _0x1d02e2) {
      var _0xc0293c = this["canvasWidth"],
        _0x239fd4 = this["canvasHeight"];
      $(this).triggerHandler(new canvasSizeChangeEvent(_0x2ea2c6, _0x173068, _0xc0293c, _0x239fd4)["getEvent"]()), this["canvasWidth"] = _0x2ea2c6, this["canvasHeight"] = _0x173068, this["removeLayers"](), this.createLayers(), $(this)["triggerHandler"](new canvasSizeChangedEvent(_0x2ea2c6, _0x173068, _0xc0293c, _0x239fd4)["getEvent"]());
    }
  }
  ["changeLayers"](_0x9f30ca) {
    if (_0x9f30ca != this["nLayers"]) {
      $(this)["triggerHandler"](new layerCountChangeEvent(this.nLayers, _0x9f30ca).getEvent());
      let _0x313e39 = this["nLayers"];
      this.removeLayers(), this["nLayers"] = _0x9f30ca, this.createLayers(), $(this)["triggerHandler"](new layerCountChangedEvent(this["nLayers"], _0x313e39)["getEvent"]());
    }
  }
  ["addLayer"](_0x351d08) {
    var _0x22abf8 = new Layer(_0x351d08, this["canvasWidth"], this["canvasHeight"], "board", this.getLayerZIndex(_0x351d08)),
      _0x1c4c43 = this;
    $(_0x22abf8).on("layerFlipped", function (_0x2908fc) {
      _0x1c4c43["layerChanged"](_0x2908fc.number, true);
    }), $(_0x22abf8).on("layerCleared", function (_0x5da7fe) {
      _0x1c4c43.layerChanged(_0x5da7fe["number"], true);
    }), this["layers"].push(_0x22abf8), this["canvasContainer"]["append"](_0x22abf8["advCanvas"]["canvas"]), this.clearLayer(_0x351d08);
  }
  ["onionSkin"](_0x2caf5e) {
    this.onionSkin && this.onion["putImageData"](_0x2caf5e);
  }
  ["changeOnionSkinOpacity"](_0x2189f4) {
    this["onionSkin"] && $(this["onion"]["canvas"]).css("opacity", _0x2189f4);
  }
  ["createLayers"]() {
    this["grid"] = new AdvancedCanvas(this.canvasWidth, this["canvasHeight"]), this["grid"].canvas.addClass("canvasGrid noMouseInteraction"), this.canvasContainer["append"](this.grid["canvas"]);
    this["onionSkin"] && (this["onion"] = new AdvancedCanvas(this["canvasWidth"], this["canvasHeight"]), this.onion["canvas"]["addClass"]("canvasOnion noMouseInteraction"), this.canvasContainer["append"](this["onion"]["canvas"]));
    for (var _0x30156c = 0; _0x30156c < this.nLayers; _0x30156c++) {
      this["addLayer"](_0x30156c);
    }
  }
  ["removeLayers"]() {
    for (var _0x156433 = 0; _0x156433 < this["nLayers"]; _0x156433++) {
      this["layers"][_0x156433] && this["layers"][_0x156433]["remove"]();
    }
    this.layers = new Array(), this["canvasContainer"]["find"]("canvas.board")["remove"](), this["canvasContainer"]["find"]("canvas.canvasGrid")["remove"](), this["onionSkin"] && (this["canvasContainer"]["find"]("canvas.canvasOnion")["remove"](), this["onion"]["remove"]()), this["grid"] && this.grid["remove"]();
  }
  ["drawGrid"](_0x1e11ad, _0x5d8d6d, _0xea5ddb = true) {
    this.clearGrid(false), this["grid"].setCanvasProperties({
      linejoin: "round",
      linecap: "round",
      linewidth: 1,
      strokestyle: "#000000",
      alpha: 0.5,
      blendmode: "normal",
      blur: 0,
      linedash: []
    });
    var _0x3b1ac0 = 100,
      _0x27d511 = this.grid["getContext"]();
    _0x27d511["beginPath"]();
    var _0x383b8a = this["canvasWidth"] / _0x5d8d6d,
      _0x1ecd10 = this["canvasHeight"] / _0x1e11ad;
    for (var _0x59f5c7 = 0; _0x59f5c7 < _0x5d8d6d; _0x59f5c7++) {
      _0x27d511.moveTo(_0x59f5c7 * _0x383b8a, 0), _0x27d511["lineTo"](_0x59f5c7 * _0x383b8a, this["canvasHeight"]);
    }
    for (var _0x45bf51 = 0; _0x45bf51 < _0x1e11ad; _0x45bf51++) {
      _0x27d511["moveTo"](0, _0x45bf51 * _0x1ecd10), _0x27d511["lineTo"](this["canvasWidth"], _0x45bf51 * _0x1ecd10);
    }
    _0x27d511["stroke"](), this["grid"]["canvas"].show();
  }
  ["clearGrid"](_0x38bda6 = true) {
    this.grid.clear(), _0x38bda6 && this["grid"]["canvas"].hide();
  }
  ["offset"]() {
    return this["canvasContainer"]["offset"]();
  }
  ["layerChanged"](_0x112b12, _0x49e34d = false) {
    $(this)["triggerHandler"](new layerChangedEvent(_0x112b12, _0x49e34d)["getEvent"]()), this["lastChangeTime"] = new Date();
  }
  ["clearLayers"]() {
    for (var _0x26fb1c = 0; _0x26fb1c < this["nLayers"]; _0x26fb1c++) {
      this.clearLayer(_0x26fb1c);
    }
  }
  ["partiallyClearLayer"](_0x258e9c, _0x3ce255 = null, _0x2034ae = 0, _0x20f0ab = 0, _0x214cac = null, _0x43a690 = null) {
    if (_0x258e9c in this["layers"]) {
      var _0x13b76a = _0x258e9c == 0 && !this["bottomTransparency"] ? this.backgroundColor : -1;
      this["layers"][_0x258e9c].clear(_0x3ce255 == null ? _0x13b76a : _0x3ce255, _0x2034ae, _0x20f0ab, _0x214cac, _0x43a690);
    }
  }
  ["clearLayer"](_0x1bb3fd, _0x28d117 = null) {
    if (_0x1bb3fd in this["layers"]) {
      var _0x279677 = _0x1bb3fd == 0 && !this.bottomTransparency ? this.backgroundColor : -1;
      this.layers[_0x1bb3fd].clear(_0x28d117 == null ? _0x279677 : _0x28d117), $(this)["triggerHandler"](new clearLayerEvent(_0x1bb3fd)["getEvent"]());
    }
  }
  ["clearMask"](_0x5b8403, _0x1b1add, _0x2e9f43 = null) {
    if (_0x5b8403 in this["layers"]) {
      var _0x388799 = _0x5b8403 == 0 && !this["bottomTransparency"] ? this["backgroundColor"] : -1;
      this.layers[_0x5b8403].clearMask(_0x1b1add, _0x2e9f43 == null ? _0x388799 : _0x2e9f43);
    }
  }
  ["flipLayer"](_0x42ad39, _0x4f66f3 = true, _0x367018 = false) {
    _0x42ad39 in this.layers && (this["layers"][_0x42ad39]["flip"](_0x4f66f3, _0x367018), _0x4f66f3 && $(this)["triggerHandler"](new flipLayerEvent(_0x42ad39, "horizontal")["getEvent"]()), _0x367018 && $(this).triggerHandler(new flipLayerEvent(_0x42ad39, "vertical").getEvent()));
  }
  ["lockLayer"](_0x45eb10) {
    _0x45eb10 in this.layers && (this.layers[_0x45eb10].lock(), $(this)["triggerHandler"](new layerLockedEvent(_0x45eb10)["getEvent"]()));
  }
  ["unlockLayer"](_0x1550e3) {
    _0x1550e3 in this["layers"] && (this["layers"][_0x1550e3]["unlock"](), $(this)["triggerHandler"](new layerUnlockedEvent(_0x1550e3).getEvent()));
  }
  ["mergeLayer"](_0xb89af1, _0x48d305) {
    var _0x5ee2db = $("<canvas />");
    _0x5ee2db["attr"]("width", this["canvasWidth"]), _0x5ee2db["attr"]("height", this["canvasHeight"]);
    var _0x11685c = _0x5ee2db[0]["getContext"]("2d"),
      _0x9bb6d3 = this["getContext"](_0xb89af1),
      _0x3c0ba3 = this["getContext"](_0x48d305),
      _0x4b338c = _0xb89af1,
      _0x55efc3 = _0x48d305;
    _0x4b338c > _0x55efc3 && (_0x4b338c = _0x48d305, _0x55efc3 = _0xb89af1);
    var _0x2376eb = this,
      _0x2c3c97 = new Image();
    _0x2c3c97.onload = function () {
      _0x11685c["drawImage"](_0x2c3c97, 0, 0, _0x11685c.canvas["width"], _0x11685c["canvas"]["height"]);
      var _0x154f13 = new Image();
      _0x154f13.onload = function () {
        _0x11685c["drawImage"](_0x154f13, 0, 0, _0x11685c["canvas"].width, _0x11685c["canvas"]["height"]);
        var _0x4b043c = new Image();
        _0x4b043c["onload"] = function () {
          _0x9bb6d3["clearRect"](0, 0, _0x9bb6d3.canvas["width"], _0x9bb6d3["canvas"]["height"]), _0x3c0ba3["clearRect"](0, 0, _0x3c0ba3["canvas"]["width"], _0x3c0ba3.canvas["height"]), _0x2376eb.layers[_0x48d305]["advCanvas"]["setCanvasProperties"]({
            blendmode: "normal"
          });
          let _0xc92fd = _0x3c0ba3["globalAlpha"];
          _0x3c0ba3["globalAlpha"] = 1, _0x3c0ba3["drawImage"](_0x4b043c, 0, 0, _0x11685c.canvas["width"], _0x11685c["canvas"]["height"]), _0x3c0ba3["globalAlpha"] = _0xc92fd, _0x2376eb["layerChanged"](_0xb89af1, true), _0x2376eb["layerChanged"](_0x48d305, true), _0x5ee2db["remove"](), $(_0x2376eb)["triggerHandler"](new mergeLayerEvent(_0xb89af1, _0x48d305).getEvent());
        }, _0x4b043c.src = _0x5ee2db[0]["toDataURL"]("image/png");
      }, _0x154f13.src = _0x2376eb["layers"][_0x55efc3]["getData"]();
    }, _0x2c3c97["src"] = _0x2376eb["layers"][_0x4b338c]["getData"]();
  }
  ["getContext"](_0x545e6e) {
    if (_0x545e6e in this["layers"]) return this["layers"][_0x545e6e]["getContext"](true);
    return null;
  }
  ["getLayerZIndex"](_0x5c9b7b) {
    return this.zIndexFrom + _0x5c9b7b * 2;
  }
  ["getLayerData"](_0xef4810) {
    if (_0xef4810 in this["layers"]) return this["layers"][_0xef4810]["getData"]();
    return null;
  }
  ["putLayerData"](_0x3b91af, _0x42463c, _0x4837fd = 0, _0x4cde60 = 0, _0x3c1477 = null, _0x2d3dc1 = null, _0x3f401e = 0) {
    if (_0x3b91af in this.layers) {
      let _0x523f90 = this.layers[_0x3b91af]["putData"](_0x42463c, _0x4837fd, _0x4cde60, _0x3c1477, _0x2d3dc1, _0x3f401e);
      return this["layerChanged"](_0x3b91af), _0x523f90;
    }
  }
  ["setZoom"](_0x56ebdc) {
    this["scale"] != _0x56ebdc && this["changeScale"](_0x56ebdc, true);
  }
  ["increaseZoom"](_0x284489 = null) {
    _0x284489 == null && (_0x284489 = this["zoomStep"]), this["scale"] + _0x284489 <= this["maxZoom"] && this["changeScale"](this["scale"] + _0x284489);
  }
  ["decreaseZoom"](_0x3fede3 = null) {
    _0x3fede3 == null && (_0x3fede3 = this["zoomStep"]), this.scale - _0x3fede3 >= this["minZoom"] && this["changeScale"](this["scale"] - _0x3fede3);
  }
  ["changeScale"](_0x459635, _0x369d38 = false) {
    _0x459635 = parseInt(_0x459635 * 100) / 100, this["scale"] != _0x459635 && (this.scale = _0x459635, this["boardContainer"]["css"]("transform", "scale(" + _0x459635 + ") rotate(" + this.rotation + "deg) translateZ(0)"), $(this).triggerHandler(new scaleChangedEvent(_0x459635, _0x369d38)["getEvent"]()));
  }
  ["changeRotation"](_0x265160) {
    _0x265160 = parseInt(_0x265160);
    if (_0x265160 >= 360) _0x265160 = _0x265160 - 360; else _0x265160 < 0 && (_0x265160 = 360 + _0x265160);
    this["rotation"] != _0x265160 && (this["rotation"] = _0x265160, this["boardContainer"].css("transform", "scale(" + this["scale"] + ") rotate(" + _0x265160 + "deg) translateZ(0)"), $(this)["triggerHandler"](new rotationChangedEvent(_0x265160)["getEvent"]()));
  }
  ["getAllLayers"](_0x30e798 = 0, _0x2214ef = 0, _0x20a53d = undefined, _0x5d90bd = undefined) {
    _0x20a53d === undefined && (_0x20a53d = this.canvasWidth);
    _0x5d90bd === undefined && (_0x5d90bd = this.canvasHeight);
    var _0x26f7c3 = this;
    return new Promise(function (_0x535713, _0x50e294) {
      var _0x10e007 = _0x26f7c3["getImgLayers"]({}, _0x30e798, _0x2214ef, _0x20a53d, _0x5d90bd);
      _0x10e007.then(function (_0x4cb3e8) {
        _0x535713(_0x4cb3e8);
      });
    });
  }
  ["getImgLayers"](_0x19cd6e, _0x575cae, _0x1e7ece, _0x1c208e, _0x2acf6d, _0xee0fa8 = null) {
    var _0x5803f3 = this;
    return new Promise(function (_0x5c3fcb, _0x1106a7) {
      var _0x1b8a86 = _0x5803f3["nextLayer"](_0xee0fa8);
      if (_0x1b8a86 != null) {
        var _0x3170f7 = new AdvancedCanvas(_0x1c208e, _0x2acf6d),
          _0x1dd386 = _0x5803f3["getContext"](_0x1b8a86),
          _0x2a0f63 = _0x1dd386["getImageData"](_0x575cae, _0x1e7ece, _0x1c208e, _0x2acf6d);
        _0x3170f7["putImageData"](_0x2a0f63), _0x19cd6e[_0x1b8a86] = _0x3170f7["getData"](), _0x3170f7["remove"]();
        var _0x1a2e8d = _0x5803f3["getImgLayers"](_0x19cd6e, _0x575cae, _0x1e7ece, _0x1c208e, _0x2acf6d, _0x1b8a86);
        _0x1a2e8d["then"](function (_0x4b619a) {
          _0x4b619a == false ? _0x5c3fcb(_0x19cd6e) : _0x5c3fcb(_0x4b619a);
        });
      } else _0x5c3fcb(false);
    });
  }
  ["nextLayer"](_0xa066d7 = null, _0x2de05c = false) {
    for (var _0x37d9bf = 0; _0x37d9bf < this.nLayers; _0x37d9bf++) {
      if (!_0x2de05c || _0x2de05c && this["layers"][_0x37d9bf]["visible"]) {
        if (_0xa066d7 == null || _0xa066d7 < _0x37d9bf) return _0x37d9bf;
      }
    }
    return null;
  }
  ["getPixelAllLayers"](_0x3b5ea5, _0x271d1d, _0x8cc768 = false) {
    var _0x257dde = $("<canvas />");
    _0x257dde["attr"]("width", 1), _0x257dde["attr"]("height", 1);
    var _0xb0b2b7 = _0x257dde[0]["getContext"]("2d");
    !_0x8cc768 && (_0xb0b2b7["fillStyle"] = this["backgroundColor"], _0xb0b2b7["fillRect"](0, 0, 1, 1));
    for (var _0x146902 = 0; _0x146902 < this["nLayers"]; _0x146902++) {
      if (this["layers"][_0x146902]["visible"]) {
        var _0x2bcd9c = this["getContext"](_0x146902),
          _0x1ee144 = _0x2bcd9c["getImageData"](_0x3b5ea5, _0x271d1d, 1, 1)["data"];
        _0xb0b2b7["fillStyle"] = "rgba(" + _0x1ee144[0] + "," + _0x1ee144[1] + "," + _0x1ee144[2] + "," + _0x1ee144[3] / 255 + ")", _0xb0b2b7.fillRect(0, 0, 1, 1);
      }
    }
    var _0x1d3151 = _0xb0b2b7["getImageData"](0, 0, 1, 1)["data"];
    return _0x257dde["remove"](), _0x1d3151;
  }
  ["getImageData"](_0x2502a9, _0x24baa1 = 0, _0x4d6b44 = 0, _0x364a02 = null, _0x51bc77 = null) {
    var _0x1c8f33 = this["getContext"](_0x2502a9, true);
    return _0x1c8f33["getImageData"](_0x24baa1, _0x4d6b44, _0x364a02 == null ? _0x1c8f33.canvas["width"] : _0x364a02, _0x51bc77 == null ? _0x1c8f33["canvas"]["height"] : _0x51bc77);
  }
  ["destroy"]() {
    this.cursorContainer.remove(), this["canvasContainer"]["remove"]();
  }
}
class Cursor {
  constructor(_0xb8d23b) {
    this["surface"] = _0xb8d23b, this.x, this.y, this["size"], this["pressure"] = 1, this["subPointerVisible"] = true, this.labelOffset = new Point(5, -5), this["graphic"] = $("<div />"), this.graphic["addClass"]("cursor");
    if (this["surface"]["isMyself"]) this.graphic["addClass"]("myself");
    this["pointer"] = $("<div/>"), this["pointer"]["addClass"]("pointer"), this["graphic"]["append"](this["pointer"]), this["subPointer"] = $("<div/>"), this["subPointer"]["addClass"]("pointer"), this["graphic"].append(this["subPointer"]), this.changePointer("circle"), this["label"] = $("<div/>"), this["label"]["addClass"]("pointerLabel"), this.graphic.append(this.label), room["board"]["cursorContainer"]["append"](this["graphic"]);
    var _0x39468d = this;
    $(this.surface).on("brushOptionChanged", function (_0x53c710) {
      if (_0x53c710["option"] == "size") _0x39468d["size"] = _0x53c710["value"], _0x39468d.update(_0x39468d.x, _0x39468d.y, _0x39468d.size, _0x39468d["pressure"]); else _0x53c710.option == "pressure" && (_0x39468d["pressure"] = _0x53c710["value"][1], _0x39468d["update"](_0x39468d.x, _0x39468d.y, _0x39468d.size, _0x39468d["pressure"]));
    }), $(this["surface"]).on("penMove penDown penUp", function (_0x4f3e6e) {
      _0x39468d.x = _0x4f3e6e.x, _0x39468d.y = _0x4f3e6e.y, _0x39468d["update"](_0x39468d.x, _0x39468d.y, _0x39468d["size"], _0x39468d["pressure"]);
      if (_0x4f3e6e["type"] == "penUp" || _0x39468d.pressure == 1) _0x39468d["hideSubPointer"](); else _0x39468d.surface.penPressed && _0x39468d["showSubPointer"]();
    }), $(this["surface"]).on("brushChanged", function (_0x4c067c) {
      _0x39468d["size"] = _0x39468d["surface"]["brushHandler"].getOption("size"), _0x39468d["pressure"] = _0x39468d["surface"].brushHandler["hasOption"]("pressure") ? _0x39468d["surface"]["brushHandler"]["getOption"]("pressure")[1] : 1, _0x39468d["update"](_0x39468d.x, _0x39468d.y, _0x39468d["size"], _0x39468d["pressure"]);
    });
  }
  ["showSubPointer"]() {
    !this.subPointerVisible && (this["subPointer"]["show"](), this["subPointerVisible"] = true);
  }
  ["hideSubPointer"]() {
    this["subPointerVisible"] && (this.subPointer.hide(), this["subPointerVisible"] = false);
  }
  ["changePointer"](_0x528a06) {
    var _0x54faf3 = {};
    _0x54faf3["circle"] = "pointerCircle", _0x54faf3["square"] = "pointerSquare", _0x54faf3.crosshair = "pointerCrosshair", _0x54faf3["cross"] = "pointerCross", _0x54faf3["dot"] = "pointerDot", _0x54faf3["invisible"] = "pointerInvisible";
    var _0x5dd2fa = this;
    $["each"](Object["keys"](_0x54faf3), function (_0x2f3e0b, _0x26c861) {
      _0x5dd2fa["pointer"]["removeClass"](_0x54faf3[_0x26c861]), _0x5dd2fa["subPointer"].removeClass(_0x54faf3[_0x26c861]);
    }), this["pointer"].addClass(_0x54faf3[_0x528a06]), this["subPointer"]["addClass"](_0x54faf3[_0x528a06]);
  }
  ["setPosition"](_0x10bd9e, _0x35f88c) {
    this.x = _0x10bd9e, this.y = _0x35f88c;
  }
  ["showUsername"]() {
    this["label"]["css"]("visibility", "visible");
  }
  ["hideUsername"]() {
    this["label"]["css"]("visibility", "hidden");
  }
  ["getUsername"]() {
    this["label"]["html"]();
  }
  ["setUsername"](_0x4906cb) {
    this["label"].html(_0x4906cb);
  }
  ["update"](_0x69005e, _0x5429ef, _0x1ff046, _0x272846) {
    this["graphic"]["css"]({
      left: _0x69005e - _0x1ff046 / 2,
      top: _0x5429ef - _0x1ff046 / 2
    }), this["pointer"]["css"]({
      width: _0x1ff046 + "px",
      height: _0x1ff046 + "px"
    });
    var _0x22e821 = _0x1ff046 * _0x272846;
    this["subPointer"]["css"]({
      left: (_0x1ff046 - _0x22e821) / 2 + "px",
      top: (_0x1ff046 - _0x22e821) / 2 + "px",
      width: _0x22e821 + "px",
      height: _0x22e821 + "px"
    }), this["label"]["css"]({
      left: this.labelOffset.x + _0x1ff046 / 2 + "px",
      top: this.labelOffset.y + _0x1ff046 / 2 + "px"
    });
  }
  ["isVisible"]() {
    return this["label"].is(":visible");
  }
  ["show"]() {
    this["graphic"]["show"]();
  }
  ["hide"]() {
    this["graphic"]["hide"]();
  }
  ["delete"]() {
    this["graphic"]["remove"]();
  }
}
class FMEvent {
  constructor() {
    this["event"] = null;
  }
  ["getEvent"]() {
    return this["event"];
  }
}
class checkboxChangeEvent extends FMEvent {
  constructor(_0x244fdf) {
    super(), this.event = jQuery["Event"]("checkboxChange"), this["event"].checked = _0x244fdf;
  }
}
class checkboxChangedEvent extends FMEvent {
  constructor(_0x5d4088) {
    super(), this["event"] = jQuery.Event("checkboxChanged"), this.event["checked"] = _0x5d4088;
  }
}
class buttonClickedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("buttonClicked");
  }
}
class listChangedEvent extends FMEvent {
  constructor(_0x372a10) {
    super(), this["event"] = jQuery.Event("listChanged"), this["event"]["value"] = _0x372a10;
  }
}
class sliderChangeEvent extends FMEvent {
  constructor(_0x59ed70, _0x50ec14 = null) {
    super(), this["event"] = jQuery["Event"]("sliderChange"), this["event"]["oldvalue"] = _0x50ec14, this["event"].value = _0x59ed70;
  }
}
class sliderChangedEvent extends FMEvent {
  constructor(_0x1511ed, _0xd236b3 = null) {
    super(), this["event"] = jQuery["Event"]("sliderChanged"), this["event"]["oldvalue"] = _0xd236b3, this["event"]["value"] = _0x1511ed;
  }
}
class sliderCheckChangeEvent extends FMEvent {
  constructor(_0x40951, _0x513a2a = null) {
    super(), this["event"] = jQuery.Event("sliderCheckChange"), this["event"]["oldvalue"] = _0x513a2a, this["event"]["value"] = _0x40951;
  }
}
class sliderCheckChangedEvent extends FMEvent {
  constructor(_0x21baf5, _0x2e2867 = null) {
    super(), this.event = jQuery["Event"]("sliderCheckChanged"), this["event"].oldvalue = _0x2e2867, this.event["value"] = _0x21baf5;
  }
}
class sliderMovedEvent extends FMEvent {
  constructor(_0x5cf0c9, _0x4cde1e = null) {
    super(), this["event"] = jQuery["Event"]("sliderMoved"), this.event.oldvalue = _0x4cde1e, this["event"]["value"] = _0x5cf0c9;
  }
}
class transferStartEvent extends FMEvent {
  constructor(_0x20a9ab, _0x3eb294, _0x4462a4, _0x1c9e88, _0x4f1f1d) {
    super(), this["event"] = jQuery["Event"]("transferStart"), this["event"]["targettype"] = _0x20a9ab, this.event["username"] = _0x3eb294, this["event"]["ttype"] = _0x4462a4, this.event.timestamp = _0x1c9e88, this["event"]["mask"] = _0x4f1f1d;
  }
}
class slateUseChangedEvent extends FMEvent {
  constructor(_0x2ff450) {
    super(), this["event"] = jQuery["Event"]("slateUseChanged"), this["event"].inUse = _0x2ff450;
  }
}
class uploadModeChangedEvent extends FMEvent {
  constructor(_0x10384f) {
    super(), this["event"] = jQuery.Event("uploadModeChanged"), this["event"]["status"] = _0x10384f;
  }
}
class transferLayerCompleteEvent extends FMEvent {
  constructor(_0x46309f, _0x51afdc, _0x5ddc06, _0x19a5ec, _0x4e75a1, _0x5d4151, _0x4729ef, _0x48592a, _0x5a60ca, _0x3b9a29, _0x4e40d6, _0x3c1c64) {
    super(), this.event = jQuery["Event"]("transferLayerComplete"), this.event.targettype = _0x46309f, this["event"]["username"] = _0x51afdc, this["event"].ttype = _0x5ddc06, this["event"]["timestamp"] = _0x19a5ec, this["event"].layer = _0x4e75a1, this["event"].x = _0x5d4151, this["event"].y = _0x4729ef, this["event"]["width"] = _0x48592a, this.event["height"] = _0x5a60ca, this.event["rotation"] = _0x3b9a29, this.event["mask"] = _0x4e40d6, this.event["chunk"] = _0x3c1c64;
  }
}
class transferCompleteEvent extends FMEvent {
  constructor(_0x3f2bf1, _0x1901c6, _0x106a4c, _0x2cca95, _0x18e1bf) {
    super(), this["event"] = jQuery.Event("transferComplete"), this.event["targettype"] = _0x3f2bf1, this["event"]["username"] = _0x1901c6, this["event"]["ttype"] = _0x106a4c, this["event"]["timestamp"] = _0x2cca95, this["event"]["fullboard"] = _0x18e1bf;
  }
}
class transferProgressEvent extends FMEvent {
  constructor(_0x469516, _0x211d9f, _0x225156, _0xa90594, _0x35f13e, _0x5a6bc7, _0x4d7a48, _0x3e7a1a) {
    super(), this["event"] = jQuery["Event"]("transferProgress"), this["event"]["targettype"] = _0x469516, this["event"]["username"] = _0x211d9f, this["event"].ttype = _0x225156, this["event"]["timestamp"] = _0xa90594, this["event"]["layerPos"] = _0x35f13e, this["event"].layerCount = _0x5a6bc7, this["event"]["position"] = _0x4d7a48, this["event"]["max"] = _0x3e7a1a;
  }
}
class transferFailEvent extends FMEvent {
  constructor(_0x19e50c, _0x3b7366, _0x1b6574, _0x1cd50a) {
    super(), this["event"] = jQuery["Event"]("transferFail"), this["event"]["targettype"] = _0x19e50c, this.event["username"] = _0x3b7366, this["event"].ttype = _0x1b6574, this["event"]["timestamp"] = _0x1cd50a;
  }
}
class transferChunkReadyEvent extends FMEvent {
  constructor(_0x33ca5c, _0x4425f0, _0x55f3f2, _0xdaa975, _0x2e671a, _0x50f41f, _0x4af35e, _0x32e0bb, _0x1100ca, _0x861efe, _0x2ddae7, _0x2fd128, _0x58f797, _0x4e4582) {
    super(), this["event"] = jQuery.Event("transferChunkReady"), this["event"]["targettype"] = _0x33ca5c, this["event"]["username"] = _0x4425f0, this["event"]["ttype"] = _0x55f3f2, this["event"]["timestamp"] = _0xdaa975, this["event"]["layer"] = _0x2e671a, this["event"].layerCount = _0x50f41f, this["event"].position = _0x4af35e, this["event"]["max"] = _0x32e0bb, this["event"].x = _0x1100ca, this["event"].y = _0x861efe, this["event"].width = _0x2ddae7, this["event"]["height"] = _0x2fd128, this["event"].rotation = _0x58f797, this["event"]["chunk"] = _0x4e4582;
  }
}
class usernameChangedEvent extends FMEvent {
  constructor(_0x4c2b81, _0x54003b) {
    super(), this["event"] = jQuery.Event("usernameChanged"), this["event"]["oldname"] = _0x54003b, this["event"]["newname"] = _0x4c2b81;
  }
}
class statusChangedEvent extends FMEvent {
  constructor(_0x4857f1) {
    super(), this.event = jQuery["Event"]("statusChanged"), this["event"]["status"] = _0x4857f1;
  }
}
class rankChangedEvent extends FMEvent {
  constructor(_0x36b348) {
    super(), this["event"] = jQuery["Event"]("rankChanged"), this["event"].rank = _0x36b348;
  }
}
class connectionIssueChangedEvent extends FMEvent {
  constructor(_0x57ac5b) {
    super(), this.event = jQuery["Event"]("connectionIssueChanged"), this["event"]["status"] = _0x57ac5b;
  }
}
class muteChangedEvent extends FMEvent {
  constructor(_0x4e2bd) {
    super(), this["event"] = jQuery["Event"]("muteChanged"), this.event["status"] = _0x4e2bd;
  }
}
class muteTimerStartedEvent extends FMEvent {
  constructor(_0x4256cf) {
    super(), this.event = jQuery["Event"]("muteTimerStarted"), this["event"]["time"] = _0x4256cf;
  }
}
class silenceChangedEvent extends FMEvent {
  constructor(_0x3c9328) {
    super(), this["event"] = jQuery.Event("silenceChanged"), this.event["status"] = _0x3c9328;
  }
}
class ignoreChangedEvent extends FMEvent {
  constructor(_0x4dec86) {
    super(), this["event"] = jQuery["Event"]("ignoreChanged"), this["event"].status = _0x4dec86;
  }
}
class userIgnoredEvent extends FMEvent {
  constructor(_0x205d0e) {
    super(), this["event"] = jQuery["Event"]("userIgnored"), this["event"]["username"] = _0x205d0e;
  }
}
class userUnignoredEvent extends FMEvent {
  constructor(_0x32b1f3) {
    super(), this["event"] = jQuery.Event("userUnignored"), this["event"]["username"] = _0x32b1f3;
  }
}
class inactiveChangedEvent extends FMEvent {
  constructor(_0x3bf620) {
    super(), this["event"] = jQuery["Event"]("inactiveChanged"), this["event"]["status"] = _0x3bf620;
  }
}
class inputDeviceChangedEvent extends FMEvent {
  constructor(_0x15575c) {
    super(), this["event"] = jQuery["Event"]("inputDeviceChanged"), this["event"].inputDevice = _0x15575c;
  }
}
class scaleChangedEvent extends FMEvent {
  constructor(_0x37a02f, _0x3a7e13) {
    super(), this["event"] = jQuery["Event"]("scaleChanged"), this["event"].scale = _0x37a02f, this.event["center"] = _0x3a7e13;
  }
}
class rotationChangedEvent extends FMEvent {
  constructor(_0x4311b9) {
    super(), this.event = jQuery["Event"]("rotationChanged"), this["event"].rotation = _0x4311b9;
  }
}
class roomChangedEvent extends FMEvent {
  constructor(_0x464744, _0x20a683) {
    super(), this.event = jQuery["Event"]("roomChanged"), this["event"].newName = _0x464744, this["event"]["oldName"] = _0x20a683;
  }
}
class roomTypeChangedEvent extends FMEvent {
  constructor(_0x3793d5, _0x1841df) {
    super(), this.event = jQuery["Event"]("roomTypeChanged"), this.event["newType"] = _0x3793d5, this["event"]["oldType"] = _0x1841df;
  }
}
class roomPrivilegesChangedEvent extends FMEvent {
  constructor(_0x2c324a) {
    super(), this["event"] = jQuery["Event"]("roomPrivilegesChanged"), this.event["privileges"] = _0x2c324a;
  }
}
class roomToolsChangedEvent extends FMEvent {
  constructor(_0x438ee6) {
    super(), this["event"] = jQuery.Event("roomToolsChanged"), this["event"]["tools"] = _0x438ee6;
  }
}
class canvasSizeChangeEvent extends FMEvent {
  constructor(_0x39a93d, _0x657e46, _0x468668, _0x1cac3f) {
    super(), this["event"] = jQuery["Event"]("canvasSizeChange"), this["event"].newWidth = _0x39a93d, this["event"]["newHeight"] = _0x657e46, this["event"]["oldWidth"] = _0x468668, this.event.oldHeight = _0x1cac3f;
  }
}
class canvasSizeChangedEvent extends FMEvent {
  constructor(_0x44e7b8, _0x4f9515, _0x582d35, _0x34bf3e) {
    super(), this["event"] = jQuery["Event"]("canvasSizeChanged"), this["event"].newWidth = _0x44e7b8, this["event"]["newHeight"] = _0x4f9515, this["event"].oldWidth = _0x582d35, this["event"]["oldHeight"] = _0x34bf3e;
  }
}
class imageChangedEvent extends FMEvent {
  constructor(_0x40f9fc, _0x3173c9, _0x34fd08, _0x93ad29, _0xd2d078) {
    super(), this["event"] = jQuery["Event"]("imageChanged"), this["event"].x = _0x40f9fc, this.event.y = _0x3173c9, this["event"].width = _0x34fd08, this["event"].height = _0x93ad29, this.event["rotation"] = _0xd2d078;
  }
}
class silhouetteChangedEvent extends FMEvent {
  constructor(_0x4a50e6, _0x440c0d, _0x26507c, _0x3a9da1, _0x2d7bf7) {
    super(), this["event"] = jQuery.Event("silhouetteChanged"), this["event"].x = _0x4a50e6, this["event"].y = _0x440c0d, this["event"]["width"] = _0x26507c, this["event"]["height"] = _0x3a9da1, this["event"]["rotation"] = _0x2d7bf7;
  }
}
class backgroundColorChangedEvent extends FMEvent {
  constructor(_0x128d81, _0x3f189d) {
    super(), this.event = jQuery["Event"]("backgroundColorChanged"), this["event"]["newColor"] = _0x128d81, this["event"]["oldColor"] = _0x3f189d;
  }
}
class bottomLayerTransparencyChangedEvent extends FMEvent {
  constructor(_0x3c4d5e) {
    super(), this["event"] = jQuery["Event"]("bottomLayerTransparencyChanged"), this.event["transparency"] = _0x3c4d5e;
  }
}
class roomConnectedEvent extends FMEvent {
  constructor(_0x55e99e, _0x4b80fa, _0x333278) {
    super(), this["event"] = jQuery["Event"]("roomConnected"), this["event"].room = _0x55e99e, this["event"]["rtype"] = _0x4b80fa, this["event"].description = _0x333278;
  }
}
class roomDisconnectedEvent extends FMEvent {
  constructor(_0x4b0a53, _0x4eb12d, _0x207a7d) {
    super(), this["event"] = jQuery["Event"]("roomDisconnected"), this["event"]["room"] = _0x4b0a53;
  }
}
class layerCountChangedEvent extends FMEvent {
  constructor(_0x2db15c, _0x29e146 = null) {
    super(), this.event = jQuery["Event"]("layerCountChanged"), this["event"]["layers"] = _0x2db15c, this["event"]["oldLayers"] = _0x29e146;
  }
}
class layerCountChangeEvent extends FMEvent {
  constructor(_0x3181e7, _0x479556) {
    super(), this["event"] = jQuery.Event("layerCountChange"), this["event"]["layers"] = _0x3181e7, this["event"]["oldLayers"] = _0x3181e7;
  }
}
class layerChangedEvent extends FMEvent {
  constructor(_0x5ee6f0, _0xb8f1cf = false) {
    super(), this["event"] = jQuery["Event"]("layerChanged"), this["event"].layer = _0x5ee6f0, this["event"].immediate = _0xb8f1cf;
  }
}
class layerSelectedEvent extends FMEvent {
  constructor(_0x1fc090) {
    super(), this["event"] = jQuery["Event"]("layerSelected"), this["event"].layer = _0x1fc090;
  }
}
class slatePriorityChangedEvent extends FMEvent {
  constructor(_0x1382da) {
    super(), this.event = jQuery["Event"]("slatePriorityChanged"), this["event"]["zindex"] = _0x1382da;
  }
}
class penDownEvent extends FMEvent {
  constructor(_0x3b1488, _0x5001cf) {
    super(), this["event"] = jQuery["Event"]("penDown"), this["event"].x = _0x3b1488, this.event.y = _0x5001cf;
  }
}
class penUpEvent extends FMEvent {
  constructor(_0x3e3901, _0x2173c2) {
    super(), this["event"] = jQuery["Event"]("penUp"), this["event"].x = _0x3e3901, this.event.y = _0x2173c2;
  }
}
class penMoveEvent extends FMEvent {
  constructor(_0xefd1c8, _0x5a67b6) {
    super(), this["event"] = jQuery["Event"]("penMove"), this.event.x = _0xefd1c8, this["event"].y = _0x5a67b6;
  }
}
class penCancelEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("penCancel");
  }
}
class penHideEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("penHide");
  }
}
class penShowEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery.Event("penShow");
  }
}
class keyPressEvent extends FMEvent {
  constructor(_0x26af17) {
    super(), this["event"] = jQuery["Event"]("keyPress"), this["event"]["key"] = _0x26af17;
  }
}

class modifierDownEvent extends FMEvent {
  constructor(_0x128e95) {
    super(), this["event"] = jQuery["Event"]("modifierDown"), this["event"]["code"] = _0x128e95;
  }
}
class modifierUpEvent extends FMEvent {
  constructor(_0x5a9c79) {
    super(), this["event"] = jQuery["Event"]("modifierUp"), this["event"].code = _0x5a9c79;
  }
}
class brushParameterEvent extends FMEvent {
  constructor(_0x3bd5e1, _0x4e1426) {
    super(), this["event"] = jQuery["Event"]("brushParameter"), this.event.brush = _0x3bd5e1, this["event"].parameters = _0x4e1426;
  }
}
class clearLayerEvent extends FMEvent {
  constructor(_0x5a1902) {
    super(), this["event"] = jQuery["Event"]("clearLayer"), this["event"]["layer"] = _0x5a1902;
  }
}
class layerActionRequestEvent extends FMEvent {
  constructor(_0x1ad98d, _0x2f4eb5, _0x3e4d27) {
    super(), this.event = jQuery["Event"]("layerActionRequest"), this.event["action"] = _0x1ad98d, this["event"]["layerFrom"] = _0x2f4eb5, this.event["layerTo"] = _0x3e4d27;
  }
}
class userActionRequestEvent extends FMEvent {
  constructor(_0x3d24a3, _0xd131c6) {
    super(), this.event = jQuery["Event"]("userActionRequest"), this["event"]["action"] = _0x3d24a3, this["event"]["username"] = _0xd131c6;
  }
}
class flipLayerEvent extends FMEvent {
  constructor(_0x2e8047, _0x243aa5) {
    super(), this["event"] = jQuery["Event"]("flipLayer"), this["event"]["layer"] = _0x2e8047, this["event"].mode = _0x243aa5;
  }
}
class mergeLayerEvent extends FMEvent {
  constructor(_0x3fd4cb, _0x311c59) {
    super(), this["event"] = jQuery["Event"]("mergeLayer"), this["event"]["layerFrom"] = _0x3fd4cb, this["event"]["layerTo"] = _0x311c59;
  }
}
class colorChangedEvent extends FMEvent {
  constructor(_0x47ee77) {
    super(), this["event"] = jQuery["Event"]("colorChanged"), this["event"]["color"] = _0x47ee77;
  }
}
class brushChangedEvent extends FMEvent {
  constructor(_0x117227) {
    super(), this["event"] = jQuery["Event"]("brushChanged"), this["event"]["brush"] = _0x117227;
  }
}
class brushOptionChangedEvent extends FMEvent {
  constructor(_0x5a5b2a, _0x1f8c83) {
    super(), this.event = jQuery.Event("brushOptionChanged"), this.event["option"] = _0x5a5b2a, this["event"].value = _0x1f8c83;
  }
}
class brushOptionReadOnlyEvent extends FMEvent {
  constructor(_0x29550d, _0x2c0ea5) {
    super(), this["event"] = jQuery["Event"]("brushOptionReadOnly"), this["event"]["option"] = _0x29550d, this["event"]["status"] = _0x2c0ea5;
  }
}
class userJoinedEvent extends FMEvent {
  constructor(_0x1184c8, _0x4dc61d) {
    super(), this.event = jQuery["Event"]("userJoined"), this["event"]["username"] = _0x1184c8, this["event"]["wasintheroom"] = _0x4dc61d;
  }
}
class userLeavingEvent extends FMEvent {
  constructor(_0x48c292, _0x25f52f = null) {
    super(), this.event = jQuery["Event"]("userLeaving"), this["event"].username = _0x48c292, this["event"]["reason"] = _0x25f52f;
  }
}
class userLeftEvent extends FMEvent {
  constructor(_0x57cc9b, _0x18c172 = null) {
    super(), this["event"] = jQuery.Event("userLeft"), this["event"]["username"] = _0x57cc9b, this.event.reason = _0x18c172;
  }
}
class youLeftEvent extends FMEvent {
  constructor(_0x283a9a, _0xaa0903) {
    super(), this["event"] = jQuery["Event"]("youLeft"), this["event"]["username"] = _0x283a9a, this["event"]["room"] = _0xaa0903;
  }
}
class confirmationClosedEvent extends FMEvent {
  constructor(_0xc293da) {
    super(), this.event = jQuery.Event("confirmationClosed"), this["event"]["response"] = _0xc293da;
  }
}
class floatingToolbarOpenedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("floatingToolbarOpened");
  }
}
class floatingToolbarClosedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("floatingToolbarClosed");
  }
}
class uploaderOpenedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery.Event("uploaderOpened");
  }
}
class uploaderClosedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("uploaderClosed");
  }
}
class dialogOpenedEvent extends FMEvent {
  constructor(_0x478a31) {
    super(), this["event"] = jQuery.Event("dialogOpened"), this["event"].name = _0x478a31;
  }
}
class dialogClosedEvent extends FMEvent {
  constructor(_0x259fbd) {
    super(), this["event"] = jQuery["Event"]("dialogClosed"), this["event"]["name"] = _0x259fbd;
  }
}
class dialogModalEnabledEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("dialogModalEnabled");
  }
}
class dialogModalDisabledEvent extends FMEvent {
  constructor() {
    super(), this.event = jQuery.Event("dialogModalDisabled");
  }
}
class dialogContentChangedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("dialogContentChanged");
  }
}
class dialogSizeTypeChangedEvent extends FMEvent {
  constructor(_0x344523, _0x3e7662) {
    super(), this["event"] = jQuery.Event("dialogSizeTypeChanged"), this["event"]["current"] = _0x344523, this["event"].previous = _0x3e7662;
  }
}
class windowResizingStartedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("windowResizingStarted");
  }
}
class windowResizingEndedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("windowResizingEnded");
  }
}
class dialogResizingStartedEvent extends FMEvent {
  constructor(_0x3bc91c = "Dialog") {
    super(), this.event = jQuery["Event"]("dialogResizingStarted"), this["event"]["resizeType"] = _0x3bc91c;
  }
}
class dialogResizingEndedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery.Event("dialogResizingEnded");
  }
}

class dialogDraggingStartedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("dialogDraggingStarted");
  }
}
class dialogDraggingEndedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("dialogDraggingEnded");
  }
}
class dialogMaximizedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("dialogMaximized");
  }
}
class dialogRestoredEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery.Event("dialogRestored");
  }
}
class layerFlippedEvent extends FMEvent {
  constructor(_0x2356f1) {
    super(), this["event"] = jQuery["Event"]("layerFlipped"), this["event"].number = _0x2356f1;
  }
}
class layerClearedEvent extends FMEvent {
  constructor(_0x43b589) {
    super(), this["event"] = jQuery.Event("layerCleared"), this.event["number"] = _0x43b589;
  }
}
class layerLockedEvent extends FMEvent {
  constructor(_0x5b7afa) {
    super(), this["event"] = jQuery.Event("layerLocked"), this["event"]["layer"] = _0x5b7afa;
  }
}
class layerUnlockedEvent extends FMEvent {
  constructor(_0x47eb9d) {
    super(), this["event"] = jQuery["Event"]("layerUnlocked"), this["event"].layer = _0x47eb9d;
  }
}
class optionSelectedEvent extends FMEvent {
  constructor(_0x34d043) {
    super(), this["event"] = jQuery["Event"]("optionSelected"), this.event["option"] = _0x34d043;
  }
}
class viewFlippedEvent extends FMEvent {
  constructor(_0x332e59) {
    super(), this["event"] = jQuery.Event("viewFlipped"), this["event"]["status"] = _0x332e59;
  }
}
class elementResizedEvent extends FMEvent {
  constructor(_0x197398, _0x382c82, _0x17a9f2, _0x25e678, _0x1aa74a) {
    super(), this["event"] = jQuery["Event"]("elementResized"), this["event"].x = _0x197398, this["event"].y = _0x382c82, this.event.width = _0x17a9f2, this["event"]["height"] = _0x25e678, this["event"]["movingFrom"] = _0x1aa74a;
  }
}
class shortcutPressedEvent extends FMEvent {
  constructor(_0x49b4da, _0xa993ac, _0x3448fb, _0x2ef690, _0x37f4d4, _0x1fd1ab) {
    super(), this["event"] = jQuery["Event"]("shortcutPressed"), this["event"].id = _0x49b4da, this["event"]["stype"] = _0xa993ac, this["event"]["shortcut"] = _0x3448fb, this.event["category"] = _0x2ef690, this["event"]["wod"] = _0x37f4d4, this["event"]["eventType"] = _0x1fd1ab;
  }
}
class shortcutReleasedEvent extends FMEvent {
  constructor(_0x29552c, _0x3d0bee, _0x234bc7, _0x4fa52a, _0x513fbb, _0x472ffa, _0x470abf) {
    super(), this["event"] = jQuery["Event"]("shortcutReleased"), this.event.id = _0x29552c, this["event"].stype = _0x3d0bee, this.event["shortcut"] = _0x234bc7, this.event["category"] = _0x4fa52a, this["event"].wod = _0x513fbb, this["event"]["eventType"] = _0x472ffa, this["event"]["heldFor"] = _0x470abf;
  }
}
class pageSelectedEvent extends FMEvent {
  constructor(_0x5cbe09) {
    super(), this["event"] = jQuery["Event"]("pageSelected"), this.event["page"] = _0x5cbe09;
  }
}
class tableRowSelectedEvent extends FMEvent {
  constructor(_0x4d1904) {
    super(), this["event"] = jQuery.Event("tableRowSelected"), this["event"].selection = _0x4d1904;
  }
}
class tableRowUnselectedEvent extends FMEvent {
  constructor(_0x4630e0) {
    super(), this["event"] = jQuery["Event"]("tableRowUnselected");
  }
}
class tableRowDoubleClickEvent extends FMEvent {
  constructor(_0x1a480b) {
    super(), this.event = jQuery["Event"]("tableRowDoubleClick"), this["event"]["selection"] = _0x1a480b;
  }
}
class socketConnectedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("socketConnected");
  }
}
class socketDisconnectedEvent extends FMEvent {
  constructor(_0x375440, _0xfdf569) {
    super(), this["event"] = jQuery["Event"]("socketDisconnected"), this.event["intentional"] = _0x375440, this["event"]["inRoom"] = _0xfdf569;
  }
}
class socketErrorEvent extends FMEvent {
  constructor(_0x8ddf35) {
    super(), this["event"] = jQuery.Event("socketError"), this["event"].gotContact = _0x8ddf35;
  }
}
class socketNegotiatedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery.Event("socketNegotiated");
  }
}
class buttonPressedEvent extends FMEvent {
  constructor(_0x1db6fd, _0x54da6c = null) {
    super(), this["event"] = jQuery["Event"]("buttonPressed"), this.event.id = _0x1db6fd, this["event"]["element"] = _0x54da6c;
  }
}
class bubbleClickedEvent extends FMEvent {
  constructor(_0x45c93b, _0x3fe129, _0x56518f, _0x3aa45e, _0x6f5438 = null) {
    super(), this["event"] = jQuery.Event("bubbleClicked"), this["event"].gridid = _0x45c93b, this["event"]["number"] = _0x3fe129, this["event"]["etype"] = _0x56518f, this.event["btype"] = _0x3aa45e, this.event["obj"] = _0x6f5438;
  }
}
class layerOptionClickedEvent extends FMEvent {
  constructor(_0x47f7d8, _0x11c599, _0x2ced31) {
    super(), this["event"] = jQuery["Event"]("layerOptionClicked"), this.event.id = _0x47f7d8, this["event"].layer = _0x11c599, this["event"]["parameters"] = _0x2ced31;
  }
}
class windowFocusedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery.Event("windowFocused");
  }
}
class windowBlurredEvent extends FMEvent {
  constructor() {
    super(), this.event = jQuery.Event("windowBlurred");
  }
}
class emojiSelectedEvent extends FMEvent {
  constructor(_0x57a331) {
    super(), this["event"] = jQuery["Event"]("emojiSelected"), this["event"]["emoji"] = _0x57a331;
  }
}
class processFinishedEvent extends FMEvent {
  constructor() {
    super(), this.event = jQuery.Event("processFinished");
  }
}
class imageLoadedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("imageLoaded");
  }
}
class fileLoadedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("fileLoaded");
  }
}
class localeChangedEvent extends FMEvent {
  constructor(_0x58be76, _0x55a30b) {
    super(), this["event"] = jQuery.Event("localeChanged"), this.event["current"] = _0x58be76, this["event"]["previous"] = _0x55a30b;
  }
}
class unreadMessagesEvent extends FMEvent {
  constructor(_0x446195, _0x529da6 = null) {
    super(), this["event"] = jQuery["Event"]("unreadMessages"), this["event"]["messages"] = _0x446195, this["event"]["messagetype"] = _0x529da6;
  }
}
class chatChannelPropertyChangedEvent extends FMEvent {
  constructor(_0x1335d6, _0x29e859) {
    super(), this.event = jQuery["Event"]("chatChannelPropertyChanged"), this["event"].prop = _0x1335d6, this["event"]["value"] = _0x29e859;
  }
}
class sidebarCollapsedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("sidebarCollapsed");
  }
}
class sidebarUncollapsedEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("sidebarUncollapsed");
  }
}
class elementCollapsedEvent extends FMEvent {
  constructor(_0x35c6aa) {
    super(), this.event = jQuery["Event"]("elementCollapsed"), this["event"].id = _0x35c6aa;
  }
}
class elementHeightChangedEvent extends FMEvent {
  constructor(_0x2ef27f, _0x2afa77) {
    super(), this["event"] = jQuery["Event"]("elementHeightChanged"), this.event.id = _0x2ef27f, this.event["height"] = _0x2afa77;
  }
}
class elementUncollapsedEvent extends FMEvent {
  constructor(_0x52f68d) {
    super(), this["event"] = jQuery["Event"]("elementUncollapsed"), this["event"].id = _0x52f68d;
  }
}
class componentEnabledEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery["Event"]("componentEnabled");
  }
}
class componentDisabledEvent extends FMEvent {
  constructor() {
    super(), this["event"] = jQuery.Event("componentDisabled");
  }
}
class firstSyncStartedEvent extends FMEvent {
  constructor(_0x14344e, _0x5d3469) {
    super(), this["event"] = jQuery["Event"]("firstSyncStarted"), this["event"]["username"] = _0x14344e, this["event"].roomsession = _0x5d3469;
  }
}
class firstSyncProgressEvent extends FMEvent {
  constructor(_0x4d54ff, _0x27d7e8) {
    super(), this["event"] = jQuery["Event"]("firstSyncProgress"), this["event"]["username"] = _0x4d54ff, this["event"].progress = _0x27d7e8;
  }
}
class firstSyncEndedEvent extends FMEvent {
  constructor(_0xbc6239, _0x27c238 = false) {
    super(), this["event"] = jQuery["Event"]("firstSyncEnded"), this["event"]["username"] = _0xbc6239, this["event"]["failed"] = _0x27c238;
  }
}
class userRenamedEvent extends FMEvent {
  constructor(_0xc19df2, _0x1753de, _0x531d02, _0x151c20) {
    super(), this["event"] = jQuery["Event"]("userRenamed"), this["event"]["beforeRank"] = _0xc19df2, this["event"]["beforeUsername"] = _0x1753de, this["event"]["afterRank"] = _0x531d02, this["event"]["afterUsername"] = _0x151c20;
  }
}
class userUnwantedEvent extends FMEvent {
  constructor(_0x25c646) {
    super(), this["event"] = jQuery["Event"]("userUnwanted"), this["event"]["reason"] = _0x25c646;
  }
}
class animationFrameChangedEvent extends FMEvent {
  constructor(_0xc294f5, _0x24880e) {
    super(), this["event"] = jQuery["Event"]("animationFrameChanged"), this["event"]["rows"] = _0xc294f5, this["event"]["cols"] = _0x24880e;
  }
}
class viewSizeChangedEvent extends FMEvent {
  constructor(_0x540ce3, _0x539c5b, _0x36398c) {
    super(), this["event"] = jQuery["Event"]("viewSizeChanged"), this["event"]["limited"] = _0x540ce3, this.event["width"] = _0x539c5b, this.event["height"] = _0x36398c;
  }
}
class userTaggedEvent extends FMEvent {
  constructor(_0x5157a1, _0x29e7a6 = "") {
    super(), this.event = jQuery["Event"]("userTagged"), this.event["username"] = _0x5157a1, this["event"].filter = _0x29e7a6;
  }
}
class propertyChangedEvent extends FMEvent {
  constructor(_0x12d4f1, _0x18d0f1) {
    super(), this["event"] = jQuery.Event("propertyChanged"), this.event["property"] = _0x12d4f1, this["event"]["value"] = _0x18d0f1;
  }
}
class FrameBuffer {
  constructor(_0x4b1b25) {
    this.user = _0x4b1b25, this["buffer"] = new Array(), this.obuffer = new Array(), this.netcode = new NetworkCode(_0x4b1b25), this.isAlone = false, this["user"]["surface"]["isMyself"] && this["bindEvents"]();
  }
  ["bindEvents"]() {
    var _0x566753 = this;
    $(this.user["surface"]).on("penDown", function (_0x3fca08) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753["netcode"]["penDown"](_0x3fca08));
    }), $(this.user["surface"]).on("penUp", function (_0x1c069e) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753["netcode"]["penUp"](_0x1c069e));
    }), $(this["user"]["surface"]).on("penMove", function (_0x532b30) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753["netcode"]["penMove"](_0x532b30));
    }), $(this["user"]["surface"]).on("penCancel", function (_0x5cfea0) {
      if (!_0x566753.isAlone) _0x566753["outBuffer"](_0x566753["netcode"]["penCancel"](_0x5cfea0));
    }), $(this.user["surface"]).on("layerSelected", function (_0x4f7b6b) {
      _0x566753["outBuffer"](_0x566753["netcode"]["layerSelected"](_0x4f7b6b));
    }), $(this.user["surface"]).on("penHide", function (_0x1c7d26) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753["netcode"]["penHide"](_0x1c7d26));
    }), $(this["user"]["surface"]).on("penShow", function (_0x4a9dbf) {
      if (!_0x566753.isAlone) _0x566753["outBuffer"](_0x566753["netcode"].penShow(_0x4a9dbf));
    }), $(this["user"].surface).on("keyPress", function (_0x4fd0bc) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753["netcode"]["keyPress"](_0x4fd0bc));
    }), $(this["user"].surface).on("modifierDown", function (_0x2db476) {
      if (!_0x566753["isAlone"]) _0x566753.outBuffer(_0x566753["netcode"].modifierDown(_0x2db476));
    }), $(this["user"].surface).on("modifierUp", function (_0xae972e) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753["netcode"]["modifierUp"](_0xae972e));
    }), $(this.user["surface"]).on("brushParameter", function (_0xf6844e) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753["netcode"]["brushParameter"](_0xf6844e));
    }), $(this["user"]["surface"]).on("colorChanged", function (_0xdb76d5) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753["netcode"]["colorChanged"](_0xdb76d5));
    }), $(this["user"]["surface"]).on("brushChanged", function (_0x45bff2) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753["netcode"].brushChanged(_0x45bff2));
    }), $(this["user"]["surface"]).on("brushOptionChanged", function (_0x6ac63c) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753.netcode["brushOptionChanged"](_0x6ac63c));
    }), $(this["user"].surface).on("uploadModeChanged", function (_0x1055d9) {
      if (!_0x566753.isAlone) _0x566753["outBuffer"](_0x566753["netcode"].uploadModeChanged(_0x1055d9));
    }), $(this.user.surface).on("silhouetteChanged", function (_0x2d80b6) {
      if (!_0x566753["isAlone"]) _0x566753["outBuffer"](_0x566753.netcode["silhouetteChanged"](_0x2d80b6));
    }), $(this["user"]["surface"]).on("layerActionRequest", function (_0xbac86b) {
      _0x566753.outBuffer(_0x566753.netcode.layerActionRequest(_0xbac86b));
    }), $(this["user"]["surface"]).on("userActionRequest", function (_0x26ce06) {
      _0x566753["outBuffer"](_0x566753["netcode"]["userActionRequest"](_0x26ce06));
    }), $(this.user).on("usernameChanged", function (_0x100e30) {
      _0x566753["outBuffer"](_0x566753.netcode.usernameChanged(_0x100e30));
    }), $(this["user"]).on("statusChanged", function (_0x2f2c5d) {
      _0x566753["outBuffer"](_0x566753.netcode["statusChanged"](_0x2f2c5d));
    }), $(this["user"]).on("inactiveChanged", function (_0x5823f0) {
      _0x566753.outBuffer(_0x566753["netcode"]["inactiveChanged"](_0x5823f0));
    }), $(this["user"]).on("inputDeviceChanged", function (_0x10f56d) {
      _0x566753["outBuffer"](_0x566753.netcode.inputDeviceChanged(_0x10f56d));
    });
  }
  ["alone"](_0x506c79) {
    this["isAlone"] = _0x506c79;
  }
  ["outBuffer"](_0x3bdda1) {
    this.obuffer["push"](_0x3bdda1);
  }
  ["pushNetCode"](_0x4d3ff5) {
    this["buffer"]["push"](_0x4d3ff5);
  }
  ["execFrame"]() {
    if (this["obuffer"]["length"] > 0) {
      var _0x15a86b = "",
        _0x1ea01a = "";
      do {
        _0x15a86b += _0x1ea01a + this["obuffer"].shift(), _0x1ea01a = "	";
      } while (this.obuffer["length"] > 0);
      socket["send"](_0x15a86b);
    }
    while (this["buffer"]["length"] > 0) {
      this["netcode"]["execFrame"](this["buffer"]["shift"]());
    }
  }
}
class NetworkCode {
  constructor(_0x57635f) {
    this["user"] = _0x57635f;
  }
  ["penDown"](_0x127fd4) {
    var _0x4dc80d = {};
    return _0x4dc80d["command"] = "BROADCAST", _0x4dc80d.action = "Pd", _0x4dc80d.x = formatNumber(_0x127fd4.x, 2), _0x4dc80d.y = formatNumber(_0x127fd4.y, 2), JSON["stringify"](_0x4dc80d);
  }
  ["penUp"](_0x252ece) {
    var _0x576d9e = {};
    return _0x576d9e.command = "BROADCAST", _0x576d9e["action"] = "Pu", _0x576d9e.x = formatNumber(_0x252ece.x, 2), _0x576d9e.y = formatNumber(_0x252ece.y, 2), JSON.stringify(_0x576d9e);
  }
  ["penMove"](_0xb1f833) {
    var _0x471eb4 = {};
    return _0x471eb4.command = "BROADCAST", _0x471eb4["action"] = "Pm", _0x471eb4.x = formatNumber(_0xb1f833.x, 2), _0x471eb4.y = formatNumber(_0xb1f833.y, 2), JSON["stringify"](_0x471eb4);
  }
  ["penCancel"](_0x3aa9df) {
    var _0x3b2a67 = {};
    return _0x3b2a67["command"] = "BROADCAST", _0x3b2a67["action"] = "Pcl", JSON["stringify"](_0x3b2a67);
  }
  ["layerSelected"](_0x581e45) {
    var _0x45d9be = {};
    return _0x45d9be["command"] = "BROADCAST", _0x45d9be["action"] = "La", _0x45d9be["layer"] = _0x581e45["layer"], JSON["stringify"](_0x45d9be);
  }
  ["penHide"](_0x3f0528) {
    var _0x3252fe = {};
    return _0x3252fe["command"] = "BROADCAST", _0x3252fe["action"] = "Phi", JSON["stringify"](_0x3252fe);
  }
  ["penShow"](_0x1f4772) {
    var _0x5d188e = {};
    return _0x5d188e.command = "BROADCAST", _0x5d188e["action"] = "Psh", JSON["stringify"](_0x5d188e);
  }
  ["keyPress"](_0x5bd071) {
    var _0x4b9a3e = {};
    return _0x4b9a3e["command"] = "BROADCAST", _0x4b9a3e["action"] = "Kp", _0x4b9a3e.key = _0x5bd071["key"], JSON["stringify"](_0x4b9a3e);
  }
  ["modifierDown"](_0x2c7995) {
    var _0x1e15b6 = {};
    return _0x1e15b6.command = "BROADCAST", _0x1e15b6["action"] = "Mfd", _0x1e15b6["code"] = _0x2c7995["code"], JSON["stringify"](_0x1e15b6);
  }
  ["modifierUp"](_0x436992) {
    var _0x1df4e5 = {};
    return _0x1df4e5["command"] = "BROADCAST", _0x1df4e5["action"] = "Mfu", _0x1df4e5["code"] = _0x436992["code"], JSON["stringify"](_0x1df4e5);
  }
  ["brushParameter"](_0x289e3c) {
    var _0x53c2e7 = {};
    return _0x53c2e7["command"] = "BROADCAST", _0x53c2e7["action"] = "Brp", _0x53c2e7["brush"] = _0x289e3c["brush"], _0x53c2e7["parameters"] = _0x289e3c.parameters, JSON.stringify(_0x53c2e7);
  }
  ["userActionRequest"](_0x8261c2) {
    var _0x260ffd = {};
    return _0x260ffd["command"] = "ACTIONREQUEST", _0x260ffd.action = _0x8261c2["action"], _0x260ffd["username"] = _0x8261c2["username"], JSON["stringify"](_0x260ffd);
  }
  ["layerActionRequest"](_0x1935c8) {
    var _0x4fd67f = {};
    return _0x4fd67f["command"] = "ACTIONREQUEST", _0x4fd67f["action"] = _0x1935c8.action, _0x4fd67f["layerFrom"] = _0x1935c8.layerFrom, _0x4fd67f["layerTo"] = _0x1935c8.layerTo, JSON.stringify(_0x4fd67f);
  }
  ["colorChanged"](_0x561510) {
    var _0x21ba03 = {};
    return _0x21ba03["command"] = "BROADCAST", _0x21ba03.action = "Cch", _0x21ba03["color"] = _0x561510.color, JSON["stringify"](_0x21ba03);
  }
  ["brushChanged"](_0x4b8753) {
    var _0x266401 = {};
    return _0x266401["command"] = "BROADCAST", _0x266401.action = "Bch", _0x266401["brush"] = _0x4b8753["brush"], JSON["stringify"](_0x266401);
  }
  ["brushOptionChanged"](_0x3af9b3) {
    var _0x18a28f = {};
    return _0x18a28f["command"] = "BROADCAST", _0x18a28f["action"] = "Bop", _0x18a28f["option"] = _0x3af9b3["option"], _0x18a28f["value"] = _0x3af9b3.value, JSON["stringify"](_0x18a28f);
  }
  ["uploadModeChanged"](_0x453392) {
    var _0x86e89f = {};
    return _0x86e89f.command = "BROADCAST", _0x86e89f.action = "Upm", _0x86e89f.status = _0x453392["status"], JSON["stringify"](_0x86e89f);
  }
  ["silhouetteChanged"](_0x54b64d) {
    var _0x2814fe = {};
    return _0x2814fe.command = "BROADCAST", _0x2814fe["action"] = "Sic", _0x2814fe.x = _0x54b64d.x, _0x2814fe.y = _0x54b64d.y, _0x2814fe["width"] = _0x54b64d["width"], _0x2814fe["height"] = _0x54b64d["height"], _0x2814fe.rotation = _0x54b64d.rotation, JSON["stringify"](_0x2814fe);
  }
  ["usernameChanged"](_0x2fab4e) {
    var _0x1943dc = {};
    return _0x1943dc["command"] = "BROADCAST", _0x1943dc.action = "Uch", _0x1943dc["oldname"] = _0x2fab4e["oldname"], _0x1943dc.newname = _0x2fab4e["newname"], JSON["stringify"](_0x1943dc);
  }
  ["statusChanged"](_0x21760b) {
    var _0x3bf4b5 = {};
    return _0x3bf4b5.command = "BROADCAST", _0x3bf4b5["action"] = "Sch", _0x3bf4b5["status"] = _0x21760b["status"], JSON["stringify"](_0x3bf4b5);
  }
  ["inactiveChanged"](_0x5f539f) {
    var _0x2305e3 = {};
    return _0x2305e3.command = "USERFUNCTIONS", _0x2305e3.action = "Activity", _0x2305e3["status"] = _0x5f539f["status"], JSON["stringify"](_0x2305e3);
  }
  ["inputDeviceChanged"](_0x4191cc) {
    var _0x559213 = {};
    return _0x559213.command = "BROADCAST", _0x559213["action"] = "Dch", _0x559213["inputDevice"] = _0x4191cc["inputDevice"], JSON["stringify"](_0x559213);
  }
  ["execFrame"](_0x34d017) {
    if (_0x34d017["action"] == "Pm") this["user"]["surface"]["penMove"](_0x34d017.x, _0x34d017.y); else {
      if (_0x34d017["action"] == "Pu") this["user"]["surface"].penUp(_0x34d017.x, _0x34d017.y); else {
        if (_0x34d017.action == "Pd") this["user"]["surface"]["penDown"](_0x34d017.x, _0x34d017.y); else {
          if (_0x34d017["action"] == "Pcl") this["user"]["surface"].penCancel(); else {
            if (_0x34d017["action"] == "Cch") this["user"]["surface"]["setColor"](_0x34d017["color"]); else {
              if (_0x34d017.action == "Bch") this.user["surface"]["setBrush"](_0x34d017.brush); else {
                if (_0x34d017["action"] == "Bop") this["user"]["surface"]["setBrushOption"](_0x34d017["option"], _0x34d017.value); else {
                  if (_0x34d017["action"] == "Upm") this["user"]["surface"]["setUploadMode"](_0x34d017["status"]); else {
                    if (_0x34d017["action"] == "Sic") this.user.surface.drawSilhouette(_0x34d017.x, _0x34d017.y, _0x34d017["width"], _0x34d017["height"], _0x34d017["rotation"]); else {
                      if (_0x34d017["action"] == "La") this["user"]["surface"]["setCurrentLayer"](_0x34d017["layer"]); else {
                        if (_0x34d017["action"] == "Kp") this["user"]["surface"].keyPress(_0x34d017["key"]); else {
                          if (_0x34d017["action"] == "Mfd") this["user"]["surface"]["modifierDown"](_0x34d017.code); else {
                            if (_0x34d017.action == "Mfu") this.user["surface"].modifierUp(_0x34d017.code); else {
                              if (_0x34d017.action == "Brp") this["user"]["surface"].brushParameter(_0x34d017.parameters, _0x34d017.brush); else {
                                if (_0x34d017["action"] == "Psh") this.user["surface"]["penShow"](); else {
                                  if (_0x34d017["action"] == "Phi") this["user"].surface.penHide(); else {
                                    if (_0x34d017["action"] == "Sch") this.user["changeStatus"](_0x34d017["status"]); else {
                                      if (_0x34d017["action"] == "Ich") this["user"]["changeInactive"](_0x34d017["status"]); else _0x34d017["action"] == "Dch" && this["user"]["changeInputDevice"](_0x34d017.inputDevice);
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
class PenSurface {
  constructor(_0x35d986 = false) {
    this["isMyself"] = _0x35d986, this["penPressed"] = false, this["uploadMode"] = false, this["slate"] = new AdvancedCanvas(room.board["canvasWidth"], room["board"]["canvasHeight"]), this["slate"]["canvas"]["addClass"]("slate " + (this.isMyself ? "myself" : "noMouseInteraction")), this["slateInUse"] = false, room.board["canvasContainer"]["append"](this["slate"]["canvas"]), this["setCurrentLayer"](0), this["drawColor"] = "#000000", this.stepFrom, this["cursor"] = new Cursor(this), this["cursor"]["hide"](), this["lastPenDown"], this["lastPenUp"], this["maxSize"] = 140, this["brushHandler"] = new BrushHandler(this);
  }
  ["penDown"](_0x43f1e7, _0x39134a) {
    this["brushHandler"]["brush"]["drawingTool"] && (this["penPressed"] = true, this.stepFrom = new Point(_0x43f1e7, _0x39134a), this["brushHandler"].brush["drawStart"](_0x43f1e7, _0x39134a, this["drawColor"]), this["lastPenDown"] = parseInt(new Date()["getTime"]() / 1e3), $(this)["triggerHandler"](new penDownEvent(_0x43f1e7, _0x39134a)["getEvent"]()));
  }
  ["penUp"](_0x59374c, _0x1e768a) {
    this.penPressed && this["brushHandler"]["brush"]["drawingTool"] && (this["brushHandler"].brush.drawEnd(_0x59374c, _0x1e768a, this["drawColor"]), this["stepFrom"] = new Point(_0x59374c, _0x1e768a), this["penPressed"] = false, this["lastPenUp"] = parseInt(new Date()["getTime"]() / 1e3), $(this).triggerHandler(new penUpEvent(_0x59374c, _0x1e768a).getEvent()), room["board"].layerChanged(this["currentLayer"]), !this["cursor"]["isVisible"]() && !this.brushHandler["brush"]["isUsingSlate"]() && !this["uploadMode"] && this["setSlateUse"](false));
  }
  ["penMove"](_0x483505, _0x1c34a6) {
    if (this["penPressed"]) {
      var _0xac501a = new Point(_0x483505, _0x1c34a6);
      this["brushHandler"]["brush"]["drawStep"](this["stepFrom"], _0xac501a, this["drawColor"]), this.stepFrom = new Point(_0x483505, _0x1c34a6);
    } else this["brushHandler"]["brush"]["cursorMove"](this["stepFrom"], _0xac501a);
    this.cursor["update"](_0x483505, _0x1c34a6, this["brushHandler"]["getOption"]("size")), $(this)["triggerHandler"](new penMoveEvent(_0x483505, _0x1c34a6).getEvent());
  }
  ["penCancel"]() {
    (this["penPressed"] || this.brushHandler["currentBrush"] == "text") && (this["penPressed"] = false, this["brushHandler"].brush["cancel"](), $(this).triggerHandler(new penCancelEvent()["getEvent"]()));
  }
  ["penHide"]() {
    if (this["cursor"]["isVisible"]()) return this["cursor"].hide(), $(this)["triggerHandler"](new penHideEvent()["getEvent"]()), !this["penPressed"] && !this.brushHandler["brush"]["isUsingSlate"]() && !this["uploadMode"] && this["setSlateUse"](false), true;
    return false;
  }
  ["penShow"]() {
    if (!this.cursor["isVisible"]()) return this["cursor"]["show"](), $(this)["triggerHandler"](new penShowEvent().getEvent()), this["setSlateUse"](true), true;
    return false;
  }
  ["drawSilhouette"](_0x4ef618, _0xc059f0, _0x4a5d45, _0x404a0e, _0x4e036b = 0) {
    if (this["uploadMode"]) {
      var _0x57170c = this["cursor"]["graphic"]["find"](".uploadCanvasPreview");
      _0x57170c["length"] == 0 && (_0x57170c = $("<div />"), _0x57170c["addClass"]("uploadCanvasPreview"), _0x57170c["text"](this.cursor["label"].text()), this["cursor"]["graphic"].append(_0x57170c), this["cursor"]["graphic"]["addClass"]("uploading")), _0x57170c["css"]({
        width: _0x4a5d45,
        height: _0x404a0e,
        "transform-origin": "center center 0px",
        transform: "rotate(" + _0x4e036b + "deg)"
      }), this["penMove"](_0x4ef618, _0xc059f0), $(this).triggerHandler(new silhouetteChangedEvent(_0x4ef618, _0xc059f0, _0x4a5d45, _0x404a0e, _0x4e036b)["getEvent"]());
    }
  }
  ["keyPress"](_0x2a6874) {
    this["brushHandler"]["brush"]["onKeyPress"](_0x2a6874), $(this)["triggerHandler"](new keyPressEvent(_0x2a6874).getEvent());
  }
  ["modifierDown"](_0x28b048) {
    this["brushHandler"].brush["onModifierDown"](_0x28b048), $(this)["triggerHandler"](new modifierDownEvent(_0x28b048)["getEvent"]());
  }
  ["modifierUp"](_0x3561bd) {
    this["brushHandler"]["brush"].onModifierUp(_0x3561bd), $(this)["triggerHandler"](new modifierUpEvent(_0x3561bd).getEvent());
  }
  ["modifierClick"](_0x17856b) {
    this["modifierDown"](_0x17856b), this["modifierUp"](_0x17856b);
  }
  ["setUploadMode"](_0x4af005) {
    if (this["uploadMode"] != _0x4af005) {
      if (!_0x4af005) {
        var _0x47c96b = this["cursor"].graphic.find(".uploadCanvasPreview");
        _0x47c96b["length"] > 0 && (this["cursor"]["graphic"].removeClass("uploading"), _0x47c96b["remove"]());
      }
      !this.penPressed && !this.brushHandler.brush["isUsingSlate"]() && !this["uploadMode"] && this["setSlateUse"](false), this["uploadMode"] = _0x4af005, $(this)["triggerHandler"](new uploadModeChangedEvent(_0x4af005)["getEvent"]());
    }
  }
  ["brushParameter"](_0x40cde3, _0x5a5aad = null) {
    _0x5a5aad == null && (_0x5a5aad = this["brushHandler"].currentBrush), this["brushHandler"]["brushes"][_0x5a5aad].onBrushParameter(_0x40cde3), $(this).triggerHandler(new brushParameterEvent(_0x5a5aad, _0x40cde3).getEvent());
  }
  ["getBrushSync"]() {
    return this["brushHandler"].brush.getSync();
  }
  ["setBrushSync"](_0x28b1e2) {
    this.brushHandler["brush"].setSync(_0x28b1e2);
  }
  ["getBrushesOptions"]() {
    return this["brushHandler"]["getBrushesOptions"]();
  }
  ["getBrushOptions"]() {
    return this.brushHandler["getOptions"]();
  }
  ["setBrushOptions"](_0x290e35) {
    var _0x5e9e3e = this;
    $["each"](_0x290e35, function (_0x2b696b, _0x353271) {
      var _0x332fc4 = _0x5e9e3e.brushHandler["getOption"](_0x2b696b);
      !matches(_0x332fc4, _0x353271) && (_0x5e9e3e["brushHandler"]["setOption"](_0x2b696b, _0x353271), $(_0x5e9e3e)["triggerHandler"](new brushOptionChangedEvent(_0x2b696b, _0x353271)["getEvent"]()));
    });
  }
  ["setBrushesOptions"](_0x3ebabd) {
    var _0x1f1bfa = this;
    $["each"](_0x3ebabd, function (_0x578a8a, _0x39ae6c) {
      $["each"](_0x39ae6c, function (_0x29a588, _0x5188da) {
        var _0x26a009 = _0x1f1bfa["brushHandler"].getBrushOption(_0x578a8a, _0x29a588);
        !matches(_0x26a009, _0x5188da) && (_0x1f1bfa["brushHandler"].setBrushOption(_0x578a8a, _0x29a588, _0x5188da), _0x1f1bfa["brushHandler"]["currentBrush"] == _0x578a8a && $(_0x1f1bfa)["triggerHandler"](new brushOptionChangedEvent(_0x29a588, _0x5188da)["getEvent"]()));
      });
    });
  }
  ["setBrush"](_0x1857f8) {
    if (this["brushHandler"]["currentBrush"] != _0x1857f8) {
      var _0x254423 = false;
      this["penPressed"] && (this["penUp"](this.stepFrom.x, this["stepFrom"].y), _0x254423 = true), this.brushHandler["setBrush"](_0x1857f8), $(this)["triggerHandler"](new brushChangedEvent(_0x1857f8)["getEvent"]()), _0x254423 && this.penDown(this["stepFrom"].x, this["stepFrom"].y);
    }
  }
  ["hasBrushOption"](_0x4e80ad) {
    return this["brushHandler"]["hasOption"](_0x4e80ad);
  }
  ["isBrushOptionReadOnly"](_0x41efda) {
    return this.brushHandler.isOptionReadOnly(_0x41efda);
  }
  ["setBrushOptionReadOnly"](_0xa3b88c, _0x1742ab) {
    var _0x133865 = this["brushHandler"].setOptionReadOnly(_0xa3b88c, _0x1742ab);
    return $(this)["triggerHandler"](new brushOptionReadOnlyEvent(_0xa3b88c, _0x1742ab)["getEvent"]()), _0x133865;
  }
  ["getBrushOptionObject"](_0x4b77f8) {
    return this["brushHandler"].getOptionObject(_0x4b77f8);
  }
  ["getBrushOption"](_0x5d4d70) {
    return this["brushHandler"]["getOption"](_0x5d4d70);
  }
  ["setBrushOption"](_0x40439a, _0x1abc63) {
    var _0x1e95ec = this.brushHandler["getOption"](_0x40439a);
    if (!matches(_0x1e95ec, _0x1abc63)) {
      if (_0x40439a == "size") {
        if (_0x1abc63 <= 0 || _0x1abc63 > this["maxSize"]) return;
      }
      this["brushHandler"].setOption(_0x40439a, _0x1abc63), $(this)["triggerHandler"](new brushOptionChangedEvent(_0x40439a, _0x1abc63)["getEvent"]());
    }
  }
  ["setColor"](_0x1532b2) {
    _0x1532b2["toUpperCase"]()["includes"]("NAN") && (_0x1532b2 = "#000000"), this.drawColor != _0x1532b2 && (this["brushHandler"]["brush"]["colorChange"](_0x1532b2), this["drawColor"] = _0x1532b2, this["brushHandler"]["brush"].colorChanged(_0x1532b2), $(this)["triggerHandler"](new colorChangedEvent(_0x1532b2).getEvent()));
  }
  ["setCurrentLayer"](_0x5e29dc) {
    _0x5e29dc = parseInt(_0x5e29dc), this["currentLayer"] != _0x5e29dc && (this["currentLayer"] = _0x5e29dc, this["setSlatePriority"](room.board.getLayerZIndex(_0x5e29dc) + 1), $(this)["triggerHandler"](new layerSelectedEvent(_0x5e29dc).getEvent()));
  }
  ["setSlatePriority"](_0x83b64a) {
    var _0x5eb077 = parseInt(this["slate"]["canvas"]["css"]("z-index"));
    _0x5eb077 != _0x83b64a && (this["slate"]["canvas"]["css"]("z-index", _0x83b64a), $(this)["triggerHandler"](new slatePriorityChangedEvent(_0x83b64a).getEvent()));
  }
  ["setSlateUse"](_0x15ed92) {
    this["slateInUse"] != _0x15ed92 && (this["slateInUse"] = _0x15ed92, _0x15ed92 ? this.slate["canvas"]["show"]() : this["slate"]["canvas"]["hide"](), $(this)["triggerHandler"](new slateUseChangedEvent(_0x15ed92).getEvent()));
  }
  ["clearSlate"]() {
    this.slate.clear();
  }
  ["userRequestAction"](_0x439a96, _0x796759) {
    $(this)["triggerHandler"](new userActionRequestEvent(_0x439a96, _0x796759).getEvent());
  }
  ["layerRequestAction"](_0x547a65, _0x10f798, _0x23c839 = null) {
    $(this)["triggerHandler"](new layerActionRequestEvent(_0x547a65, _0x10f798, _0x23c839).getEvent());
  }
  ["setUsername"](_0x332c86) {
    this["cursor"]["setUsername"](_0x332c86);
  }
  ["currentLayerContext"]() {
    return room["board"]["getContext"](this["currentLayer"]);
  }
  ["getCurrentBrush"]() {
    return this["brushHandler"].currentBrush;
  }
  ["getBrushShowPen"]() {
    return this["brushHandler"]["brush"].showPen;
  }
  ["getBrushDrawingTool"]() {
    return this.brushHandler["brush"]["drawingTool"];
  }
  ["delete"]() {
    this["cursor"]["delete"](), this["slate"]["remove"]();
  }
}
class Point {
  constructor(_0x392ee9, _0x204c2b) {
    this.x = _0x392ee9, this.y = _0x204c2b;
  }
}
class Size {
  constructor(_0x426efe, _0x71d64d) {
    this["width"] = _0x426efe, this["height"] = _0x71d64d;
  }
}
class Rect {
  constructor(_0x2102cd, _0x202302, _0xdaf523, _0x21464e) {
    this.x = _0x2102cd, this.y = _0x202302, this["width"] = _0xdaf523, this.height = _0x21464e;
  }
}
class ButtonType {
  constructor(_0x21b3d2, _0x47e6b4, _0x174c3e = "", _0x5f5048 = "") {
    this["name"] = _0x21b3d2, this.caption = _0x47e6b4, this["style"] = _0x174c3e, this["icon"] = _0x5f5048;
  }
}
class Room {
  constructor(_0x141cfd, _0x2c08c4, _0x2e5b89 = "L", _0x35f491 = 3, _0x386876 = "LG") {
    this.name = _0x2c08c4, this["type"] = _0x2e5b89, this["numLayers"] = _0x35f491, this.size = _0x386876, this.session = 0, this["description"] = "", this.privileges = {}, this["users"] = {}, this["myself"] = null, this["connected"] = false, this["loading"] = false, this["bans"] = {}, this["mutetime"] = 7200, this["bantime"] = 86400, this["password"] = "", this["mute"] = "N", this["knownproxy"] = "N", this.hidden = true, this["backgroundColor"] = "#FFFFFF", this.bottomTransparency = true, this["animRows"] = 3, this["animCols"] = 3, this["canvasWidth"] = 1280, this["canvasHeight"] = 720, this.transfers = new Array(), this["sizes"] = {}, this.sizes["1P"] = new Size(1, 1), this["sizes"].SM = new Size(640, 360), this["sizes"].MD = new Size(854, 480), this["sizes"].LG = new Size(1280, 720), this.sizes.XL = new Size(1920, 2160);
    var _0x4d4604 = this["sizes"][_0x386876];
    this["board"] = new Board(_0x141cfd, _0x4d4604["width"], _0x4d4604["height"], 1, this["backgroundColor"], this["bottomTransparency"]), this["changeSize"](_0x386876, true), this["changeType"](_0x2e5b89, true), this["changeLayers"](_0x35f491, true);
  }
  ["createSession"]() {
    this["session"] = Math.floor(Math.random() * 999999 + 1);
  }
  ["change"](_0x1dc7a4) {
    if (this["name"] != _0x1dc7a4) {
      var _0xa089a6 = this["name"];
      this["name"] = _0x1dc7a4, $(this)["triggerHandler"](new roomChangedEvent(this["name"], _0xa089a6)["getEvent"]());
    }
  }
  ["changeSize"](_0x3931e2, _0x280f7d = false) {
    if (this.size != _0x3931e2 || _0x280f7d) {
      this["size"] = _0x3931e2;
      var _0x5b1fd8 = this["sizes"][_0x3931e2];
      this["board"]["changeSize"](_0x5b1fd8["width"], _0x5b1fd8["height"]);
    }
  }
  ["changeType"](_0x29d5d2, _0x571207 = false) {
    if (this["type"] != _0x29d5d2 || _0x571207) {
      var _0x396208 = this.type;
      this["type"] = _0x29d5d2, $(this)["triggerHandler"](new roomTypeChangedEvent(this["type"], _0x396208)["getEvent"]());
    }
  }
  ["changeLayers"](_0x375a09, _0x5071eb = false) {
    (this["numLayers"] != _0x375a09 || _0x5071eb) && (this.numLayers = _0x375a09, this["board"]["changeLayers"](_0x375a09));
  }
  ["changeTransparency"](_0x19f7f3) {
    this["bottomTransparency"] = Boolean(_0x19f7f3), this.board["changeTransparency"](Boolean(_0x19f7f3));
  }
  ["changeBackground"](_0x4746eb, _0x484982 = false) {
    this.backgroundColor = _0x4746eb, this.board.changeBackground(_0x4746eb, _0x484982);
  }
  ["changeAnimationOptions"](_0x38f697, _0x122a9d) {
    this["animRows"] = _0x38f697, this.animCols = _0x122a9d, $(this)["triggerHandler"](new animationFrameChangedEvent(_0x38f697, _0x122a9d).getEvent());
  }
  ["createMyself"](_0x17c583, _0x2b77f2 = "UU") {
    this["myself"] == null ? this.myself = new User(_0x17c583, _0x2b77f2, "", "", "", true) : (this.myself.username = _0x17c583, this.myself["rank"] = _0x2b77f2);
  }
  ["can"](_0x5053eb) {
    return this.privileges[_0x5053eb];
  }
  ["setConnected"](_0x5a804b) {
    var _0x312d60 = this;
    this["connected"] = _0x5a804b, _0x5a804b ? $(this)["triggerHandler"](new roomConnectedEvent(this["name"], this["type"], this["description"])["getEvent"]()) : $(this).triggerHandler(new roomDisconnectedEvent(this["name"], this["type"], this["description"])["getEvent"]());
  }
  ["addUser"](_0xd7a062, _0x526680 = false) {
    !this["users"] && (this["users"] = {});
    this["users"][_0xd7a062["username"]] = _0xd7a062;
    var _0x4d1516 = this;
    $(_0xd7a062).on("usernameChanged.userEvents", function (_0x2c320b) {
      $(_0x4d1516)["triggerHandler"](new usernameChangedEvent(_0x2c320b.newname, _0x2c320b["oldname"])["getEvent"]());
    }), $(this)["triggerHandler"](new userJoinedEvent(_0xd7a062.username, _0x526680)["getEvent"]());
  }
  ["removeUser"](_0x501a19, _0x11954d = null) {
    this["users"][_0x501a19] && ($(this).triggerHandler(new userLeavingEvent(_0x501a19, _0x11954d)["getEvent"]()), this.users[_0x501a19]["surface"]["delete"](), $(this["users"][_0x501a19])["off"](".userEvents"), delete this.users[_0x501a19], $(this)["triggerHandler"](new userLeftEvent(_0x501a19, _0x11954d)["getEvent"]()));
  }
  ["kickUser"](_0x12827d) {
    this["isMyself"](_0x12827d) ? (socket["disconnect"](true), $(this["myself"])["triggerHandler"](new userUnwantedEvent("kick").getEvent())) : this["removeUser"](_0x12827d, "KICK");
  }
  ["banUser"](_0xe25993) {
    this["isMyself"](_0xe25993) ? (socket["disconnect"](true), $(this["myself"])["triggerHandler"](new userUnwantedEvent("ban")["getEvent"]())) : this["removeUser"](_0xe25993, "BAN");
  }
  ["connectionIssues"](_0x313ed4, _0x21fbe7) {
    this["users"][_0x313ed4] && this["users"][_0x313ed4]["changeConnectionIssue"](_0x21fbe7);
  }
  ["banList"](_0x97a382) {
    this.bans = _0x97a382;
  }
  ["muteUser"](_0x41ccb2, _0x541241 = 0) {
    this["isMyself"](_0x41ccb2) ? (this["myself"].mute(), $(this)["triggerHandler"](new muteTimerStartedEvent(_0x541241)["getEvent"]())) : this.users[_0x41ccb2]["mute"]();
  }
  ["unmuteUser"](_0x3a8a79) {
    this["isMyself"](_0x3a8a79) ? this["myself"]["unmute"]() : this.users[_0x3a8a79]["unmute"]();
  }
  ["silenceUser"](_0x29aac3) {
    this["isMyself"](_0x29aac3) ? this["myself"]["silence"]() : this.users[_0x29aac3]["silence"]();
  }
  ["unsilenceUser"](_0xf91c3a) {
    this["isMyself"](_0xf91c3a) ? this["myself"]["unsilence"]() : this["users"][_0xf91c3a]["unsilence"]();
  }
  ["ignoreUser"](_0x31f791) {
    this["userExists"](_0x31f791) && (this.users[_0x31f791]["ignore"](), $(this)["triggerHandler"](new userIgnoredEvent(_0x31f791).getEvent()));
  }
  ["unignoreUser"](_0x2a977c) {
    this["userExists"](_0x2a977c) && (this["users"][_0x2a977c]["unignore"](), $(this)["triggerHandler"](new userUnignoredEvent(_0x2a977c)["getEvent"]()));
  }
  ["toggleIgnoreUser"](_0x53a4b7) {
    this["userExists"](_0x53a4b7) && (!this["users"][_0x53a4b7]["ignored"] ? this.ignoreUser(_0x53a4b7) : this.unignoreUser(_0x53a4b7));
  }
  ["userExists"](_0x2f398f) {
    return _0x2f398f in this["users"];
  }
  ["changeUsername"](_0x355b60, _0x682520) {
    if (!this["isMyself"](_0x355b60)) {
      this["users"][_0x355b60]["changeUsername"](_0x682520);
      var _0x470828 = this["users"][_0x355b60];
      delete this["users"][_0x355b60], this["users"][_0x682520] = _0x470828;
    }
  }
  ["rankUser"](_0x315ae4, _0x27c2f3) {
    !this["isMyself"](_0x315ae4) && this.users[_0x315ae4].changeRank(_0x27c2f3);
  }
  ["setPrivileges"](_0x3a3077) {
    this["privileges"] = _0x3a3077, $(this)["triggerHandler"](new roomPrivilegesChangedEvent(_0x3a3077)["getEvent"]());
  }
  ["setTools"](_0x44c5c0) {
    this["tools"] = _0x44c5c0, $(this).triggerHandler(new roomToolsChangedEvent(_0x44c5c0)["getEvent"]());
  }
  ["isMyself"](_0x501010) {
    if (!this.users[_0x501010] && this["myself"]["username"] == _0x501010) return true;
    return false;
  }
  ["addTransfer"](_0x361c14) {
    _0x361c14["ttype"] == "sync" && !_0x361c14.sending && this["cancelTransfers"]("sync", false), this["transfers"]["push"](_0x361c14);
  }
  ["getTransferId"](_0x54fc4c, _0x4fa56e, _0x5cfc93) {
    var _0x36b483 = null;
    return $["each"](this.transfers, function (_0x1b036a, _0x4b4918) {
      _0x4b4918["matches"](_0x54fc4c, _0x4fa56e, _0x5cfc93) && (_0x36b483 = _0x1b036a);
    }), _0x36b483;
  }
  ["findTransfer"](_0x91c35b, _0x5f4940, _0x3042e7, _0x48b3f2) {
    var _0x15c7cc = null;
    return $["each"](this["transfers"], function (_0x1876f4, _0x1085fc) {
      _0x1085fc["matches"](_0x91c35b, _0x5f4940, _0x3042e7, _0x48b3f2) && (_0x15c7cc = _0x1085fc);
    }), _0x15c7cc;
  }
  ["deleteTransfer"](_0x266b8a, _0x4993bc, _0x582b36) {
    var _0x3c9340 = this["getTransferId"](_0x266b8a, _0x4993bc, _0x582b36);
    _0x3c9340 != null && room["transfers"]["splice"](_0x3c9340, 1);
  }
  ["cancelTransfers"](_0x21a8da = "*", _0x1b91ff = "*") {
    var _0x132e13 = this;
    $["each"](this["transfers"], function (_0x1ac61c, _0x3d283e) {
      (_0x21a8da == "*" || _0x3d283e["ttype"] == _0x21a8da) && (_0x1b91ff == "*" || _0x3d283e["sending"] == _0x1b91ff) && _0x132e13["deleteTransfer"](_0x3d283e.username, _0x3d283e["type"], _0x3d283e["timestamp"]);
    }), this["transfers"] = new Array();
  }
  ["userRenamed"](_0x24d786, _0x3a45cd, _0x5ab94f, _0x177f86) {
    this["changeUsername"](_0x3a45cd, _0x177f86), this.rankUser(_0x177f86, _0x5ab94f), $(this).triggerHandler(new userRenamedEvent(_0x24d786, _0x3a45cd, _0x5ab94f, _0x177f86).getEvent());
  }
  ["leave"]() {
    var _0x2b4a9f = this;
    $["each"](this["users"], function (_0xd2686b, _0x2df69d) {
      _0x2b4a9f.removeUser(_0xd2686b);
    }), this["cancelTransfers"](), this["setConnected"](false), this["board"]["clearLayers"](), $(this)["triggerHandler"](new youLeftEvent(this["myself"]["username"], this.name)["getEvent"]());
  }
}
class Socket {
  constructor(_0x3f70ff) {
    this.tm = null, this["secPing"] = 30, this["secTimeout"] = 30, this.intervalPing = null, this["canReconnect"] = true, this.ws = null, this["URL"] = _0x3f70ff, this["outBuffer"] = new Array(), this["outPending"] = new Array(), this["connected"] = false, this.encryption = "none", this["negotiated"] = false, this["firstResponse"] = false, this["supportedEncryptions"] = new Array("rot13", "none"), this["flag"] = null, this["connect"]();
  }
  ["connect"]() {
    var _0xa47ba9 = this;
    this.ws && (this.ws["onopen"] = null, this.ws.onerror = null, this.ws["onclose"] = null, this.ws["onmessage"] = null, this.ws["close"]()), this.ws = new WebSocket(this["URL"]), this.ws["onopen"] = function () {
      $(_0xa47ba9)["triggerHandler"](new socketConnectedEvent()["getEvent"]()), _0xa47ba9.connected = true, _0xa47ba9["IntervalPing"] && clearTimeout(_0xa47ba9["intervalPing"]), _0xa47ba9.intervalPing = setInterval(function () {
        _0xa47ba9["ping"]();
      }, _0xa47ba9["secPing"] * 1e3);
    }, this.ws.onerror = function (_0x1c181c) {
      clearInterval(_0xa47ba9["intervalPing"]), _0xa47ba9["disconnect"](), $(_0xa47ba9)["triggerHandler"](new socketErrorEvent(_0xa47ba9["firstResponse"])["getEvent"]());
    }, this.ws["onclose"] = function () {
      clearInterval(_0xa47ba9.intervalPing), _0xa47ba9.disconnect();
    }, this.ws["onmessage"] = function (_0x4f7d3b) {
      _0xa47ba9["receive"](_0x4f7d3b);
    };
  }
  ["disconnect"](_0x1c426d = false) {
    this["encryption"] = "none", $(this)["triggerHandler"](new socketDisconnectedEvent(_0x1c426d, room && room.connected)["getEvent"]()), this.connected = false, this.setNegotiated(false), this["firstResponse"] = false, clearTimeout(this["intervalPing"]);
  }
  ["ping"]() {
    var _0x3ad465 = this;
    if (UI.inRoom) {
      var _0x4d904d = {};
      _0x4d904d["command"] = "PROTOCOL", _0x4d904d.option = "PING", _0x4d904d["time"] = new Date()["getTime"]() / 1e3, this["send"](_0x4d904d, true);
    }
    this["clearTimeout"](), this.tm = setTimeout(function () {
      _0x3ad465.timeout();
    }, _0x3ad465["secTimeout"] * 1e3);
  }
  ["pong"](_0x46eb70) {
    this["clearTimeout"]();
    if (UI.inRoom) {
      var _0x5c72d2 = {};
      _0x5c72d2["command"] = "PROTOCOL", _0x5c72d2["option"] = "PONG", _0x5c72d2["ping"] = _0x46eb70, this["send"](_0x5c72d2, true);
    }
  }
  ["timeout"]() {
    this["disconnect"]();
  }
  ["clearTimeout"]() {
    this.tm && clearTimeout(this.tm);
  }
  ["reconnect"]() {
    !this.connected && this["canReconnect"] && this["connect"]();
  }
  ["setNegotiated"](_0x365d88) {
    if (this["negotiated"] != _0x365d88) {
      this["negotiated"] = _0x365d88;
      if (_0x365d88) {
        $(this)["triggerHandler"](new socketNegotiatedEvent()["getEvent"]());
        while (this["outPending"]["length"] > 0) {
          this.send(this["outPending"].shift());
        }
      }
    }
  }
  ["send"](_0x2f8243, _0x421fd1 = false, _0x1dbf16 = false) {
    _0x2f8243 !== undefined && (!this.connected && this["reconnect"](), _0x421fd1 && (_0x2f8243 = JSON["stringify"](_0x2f8243)), this.negotiated || _0x1dbf16 ? (_0x2f8243 = encryptMessage(_0x2f8243, this["encryption"]), this.outBuffer["push"](_0x2f8243)) : this["outPending"]["push"](_0x2f8243));
  }
  ["receive"](_0x159026) {
    var _0x5a28fe = this,
      _0x5b8390 = $["parseJSON"](decryptMessage(_0x159026["data"], this["encryption"]));
    !_0x5a28fe["firstResponse"] && (_0x5a28fe.firstResponse = true);
    if (_0x5b8390["command"] == "CONNECTION") {
      if (_0x5b8390["option"] == "HELLO") {
        var _0x56b2b9 = {};
        _0x56b2b9["command"] = "CONNECTION", _0x56b2b9["option"] = "HI", _0x56b2b9.clientId = UI["clientId"], _0x56b2b9["client"] = UI["client"], _0x56b2b9["version"] = UI["version"], _0x56b2b9["supportedencryptions"] = this["supportedEncryptions"], this.send(_0x56b2b9, true, true);
      } else {
        if (_0x5b8390["option"] == "LETSTALK") {
          var _0x60ed66;
          this["supportedEncryptions"]["indexOf"](_0x5b8390.suggestedencryption) > -1 ? _0x60ed66 = _0x5b8390["suggestedencryption"] : _0x60ed66 = firstMatch(_0x5b8390.supportedencryptions, this["supportedEncryptions"]);
          if (_0x60ed66) {
            //This bypasses the device ip check with a fake ip/verification
            if (!device.ip) {
                  device.ip = {
                    countrycode: "CA",
                    hosting: false,
                    ip: "2a02:6ea0:de10:2126:0000:0000:0000:0015",
                    proxy: false,
                    verification: "f4331ac000f4ba337467b73f4f5198cfff3d802e"
                };
              }
             // _0x5b8390["clientip"] && (device.ip = device["getIPAddressInfo"](_0x5b8390.clientip));
            var _0x56b2b9 = {};
            _0x56b2b9["command"] = "CONNECTION", _0x56b2b9.option = "READY", _0x56b2b9["encryption"] = _0x60ed66, _0x56b2b9["string"] = encryptMessage(_0x5b8390["string"], _0x60ed66), this.send(_0x56b2b9, true, true);
          } else this["disconnect"](true);
        } else {
          if (_0x5b8390["option"] == "SUCCESS") {
            this["encryption"] = _0x5b8390.encryption, UI.timeDiff = parseInt(new Date()["getTime"]() / 1e3) - _0x5b8390["servertime"];
            var _0x56b2b9 = {};
            _0x56b2b9["command"] = "CONNECTION", _0x56b2b9["option"] = "WHOIAM", _0x56b2b9["clientId"] = UI.clientId, _0x56b2b9["client"] = UI.client, _0x56b2b9["version"] = UI["version"], _0x56b2b9["url"] = window.location["href"], _0x56b2b9["time"] = new Date().getTime(), _0x56b2b9.diff = UI["timeDiff"], _0x56b2b9["flag"] = this["flag"];
            var _0x4165ab = {};
            _0x4165ab["country"] = device.ip["countrycode"], _0x4165ab["proxy"] = device.ip["proxy"], _0x4165ab["hosting"] = device.ip["hosting"], _0x56b2b9.ip = _0x4165ab, _0x56b2b9["serv"] = device["getString"](), _0x56b2b9["bst"] = device["getBotString"](), _0x56b2b9["tst"] = device["getTimeString"](), _0x56b2b9["hid"] = device["getUniqueID"](), _0x56b2b9.cid = storage["cid"], _0x56b2b9.fp = device.getCanvasId(), this["send"](_0x56b2b9, true, true);
          } else {
            if (_0x5b8390["option"] == "FAIL") {
              if (_0x5b8390["reason"] == "OUTDATED") UI["hideScreen"](textManager["getString"]("alerts.txtOutdatedApp"), false, 1), this["canReconnect"] = false; else {
                if (_0x5b8390["reason"] == "MAXCONNECTIONS") UI["dialogHandler"].showAlert(textManager["getString"]("alerts.txtTooManyConnections")), this["canReconnect"] = false; else _0x5b8390["reason"] == "ENCRYPTIONFAILED" && (UI["dialogHandler"]["showAlert"](textManager["getString"]("alerts.txtNegotiationFailed")), this["canReconnect"] = false);
              }
              //this["disconnect"](true);
              this["setNegotiated"](true);
              setTimeout(function () {
                $(".splashScreen")["remove"]();
                }, 3e3);

            } else _0x5b8390["option"] == "WELCOME" && (this["setNegotiated"](true), setTimeout(function () {
              $(".splashScreen")["remove"]();
            }, 3e3));
          }
        }
      }
    } else {
      if (_0x5b8390["command"] == "PROTOCOL") {
        if (_0x5b8390["option"] == "PONG") this.pong(_0x5b8390["ping"]); else {
          if (_0x5b8390["option"] == "MOVE") UI["leaveRoom"](), UI["loginDialog"]["forceJoin"](_0x5b8390.room, _0x5b8390["password"]); else {
            if (_0x5b8390["option"] == "SERVERCHANGE") this.disconnect(true), this.URL = _0x5b8390["server"], this["connect"](); else _0x5b8390["option"] == "FLAG" && (this["flag"] = _0x5b8390["flag"]);
          }
        }
      } else {
        if (_0x5b8390["command"] == "GLOBALMESSAGE") room && room["connected"] ? UI["chatDialog"]["registerGlobalMessage"](_0x5b8390["text"]) : UI.dialogHandler.showAlert(_0x5b8390["text"], 15); else {
          if (_0x5b8390.command == "GLOBALALERT") room && room["connected"] ? UI.chatDialog["registerGlobalMessage"](new Icon("fa-exclamation-triangle")["html"]() + " " + _0x5b8390["text"]) : UI["dialogHandler"]["showAlert"](_0x5b8390.text); else {
            if (_0x5b8390["command"] == "OFFROOM") {
              if (_0x5b8390.option == "ROOMLIST") UI["loginDialog"].roomList(_0x5b8390), UI.dialogHandler.getActiveDialogName() != "LoginDialog" && (UI["dialogHandler"]["hideAll"](), UI["dialogHandler"]["showDialog"]("login")); else {
                if (_0x5b8390["option"] == "CANTENTER") {
                  if (_0x5b8390["code"] == "MUSTLOG") UI["dialogHandler"].showAlert(new Icon("fa-exclamation-triangle")["html"]() + " " + textManager["getString"]("alerts.roomEnter.txtAccountRestricted")); else {
                    if (_0x5b8390.code == "PWDREQUIRED") UI.loginDialog["roomPassword"](); else {
                      if (_0x5b8390["code"] == "PWDWRONG") UI["dialogHandler"]["showAlert"](new Icon("fa-exclamation-triangle")["html"]() + " " + textManager["getString"]("alerts.roomEnter.txtWrongPassword")), UI["loginDialog"]["roomPassword"](); else {
                        if (_0x5b8390["code"] == "ROOMBANNED") UI["dialogHandler"]["showAlert"](new Icon("fa-exclamation-triangle")["html"]() + " " + textManager["getString"]("alerts.roomEnter.txtYouAreBanned")); else {
                          if (_0x5b8390.code == "REDIRECT") this["disconnect"](true), cm["actionTarget"] = "JOINROOM", this.URL = _0x5b8390["server"], this.connect(); else {
                            if (_0x5b8390["code"] == "ROOMFULL") UI["dialogHandler"].showAlert(new Icon("fa-exclamation-triangle")["html"]() + " " + textManager["getString"]("alerts.roomEnter.txtRoomIsFull")); else {
                              if (_0x5b8390["code"] == "TOOMANYCONNECTIONS") UI["dialogHandler"]["showAlert"](new Icon("fa-exclamation-triangle")["html"]() + " " + textManager["getString"]("alerts.roomEnter.txtTooManyConnections")); else {
                                if (_0x5b8390["code"] == "INVALIDUSERNAME") UI["dialogHandler"].showAlert(new Icon("fa-exclamation-triangle")["html"]() + " " + textManager["getString"]("alerts.roomEnter.txtUsernameNotValid")); else _0x5b8390["code"] == "NOPROXY" && UI["dialogHandler"]["showAlert"](new Icon("fa-exclamation-triangle")["html"]() + " " + textManager["getString"]("alerts.roomEnter.txtProxyNotAllowed"));
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  UI["loginDialog"]["loading"](false);
                } else {
                  if (_0x5b8390["option"] == "YOURTHUMB") UI["loginDialog"]["roomThumb"](_0x5b8390["room"], _0x5b8390["thumbnail"]); else _0x5b8390.option == "ACCOUNTRESPONSE" && UI["loginDialog"]["registerResponse"](_0x5b8390.status);
                }
              }
            } else {
              if (_0x5b8390["command"] == "MESSENGERNEW") UI["messengerDialog"]["setUnreadMessages"](_0x5b8390["unread"]), "message" in _0x5b8390 && UI["messengerDialog"]["newMessage"](_0x5b8390["message"]), _0x5b8390["unread"] > 0 && UI["dialogHandler"]["getActiveDialogName"]() != "MessengerDialog" && UI["chatDialog"]["registerEvent"](new Icon("fa-envelope")["html"]() + " " + textManager.getString("events.txtUnreadMessenger", _0x5b8390["unread"], false)); else {
                if (_0x5b8390.command == "MUTETIME") UI.muteTime(parseInt(_0x5b8390.seconds)); else {
                  if (_0x5b8390.command == "THUMBNAIL") {
                    var _0x56b2b9 = {};
                    _0x56b2b9["command"] = "USERFUNCTIONS", _0x56b2b9["option"] = "ROOMTHUMB", _0x56b2b9["layers"] = UI["getThumbnail"](), this["send"](_0x56b2b9, true);
                  } else {
                    if (_0x5b8390["command"] == "GB") { } else {
                      if (_0x5b8390["command"] == "DEBUG") {
                        var _0x171599 = parseInt(new Date()["getTime"]() / 1e3),
                          _0x71f642 = {};
                        _0x71f642["Active Dialog"] = UI["dialogHandler"].getActiveDialogName(), _0x71f642["Tool"] = room["myself"]["surface"]["getCurrentBrush"](), _0x71f642["Tool size"] = room["myself"]["surface"]["brushHandler"]["getOption"]("size"), _0x71f642["Selected layer"] = parseInt(room["myself"]["surface"]["currentLayer"]) + 1, _0x71f642["Primary color"] = UI.sidebar["colorBox"].primaryColor, _0x71f642["Secondary color"] = UI["sidebar"].colorBox["secondaryColor"], _0x71f642["Last pen down"] = room["myself"]["surface"].lastPenDown ? formatSeconds(_0x171599 - room.myself["surface"]["lastPenDown"]) + " ago" : "Never", _0x71f642["Last pen up"] = room.myself["surface"]["lastPenUp"] ? formatSeconds(_0x171599 - room.myself["surface"]["lastPenUp"]) + " ago" : "Never", _0x71f642.Zoom = parseInt(room.board["scale"] * 100) + "%", _0x71f642["URL"] = window["location"]["href"], _0x71f642["Theme"] = UI.userPreferences.getProperty("theme", "dark"), _0x71f642["Client ID"] = UI["clientId"], _0x71f642["Language"] = textManager.getLocale(), $.each(device["navigator"], function (_0x1fcf03, _0x40169c) {
                          _0x71f642["navigator." + _0x1fcf03] = _0x40169c;
                        }), $["each"](device["screen"], function (_0x5977ed, _0x1fc590) {
                          _0x71f642["screen." + _0x5977ed] = _0x1fc590;
                        }), $.each(device.webgl, function (_0x4fe94b, _0x21e537) {
                          _0x71f642["webgl." + _0x4fe94b] = _0x21e537;
                        });
                        var _0x56b2b9 = {};
                        _0x56b2b9.command = "USERFUNCTIONS", _0x56b2b9.option = "DEBUGRESPONSE", _0x56b2b9["params"] = _0x71f642, this["send"](_0x56b2b9, true);
                      } else {
                        if (_0x5b8390.command == "ENTERED") room["connected"] && (room["connected"] = false), room.createMyself(_0x5b8390["you"].name, _0x5b8390["you"]["rank"]), !UI["configured"] && (UI["configured"] = true, UI["setupControls"](), UI["bindEvents"]()), room["capacity"] = _0x5b8390["capacity"], room["description"] = unescapeHTML(_0x5b8390["description"]), room["changeSize"](_0x5b8390["size"]), room["changeTransparency"](_0x5b8390["bottomtransparency"]), room.changeType(_0x5b8390.type), room["changeLayers"](_0x5b8390["numlayers"]), room.changeBackground(_0x5b8390["background"], true), room["changeAnimationOptions"](_0x5b8390["animrows"], _0x5b8390["animcols"]), room.change(_0x5b8390["room"]), _0x5b8390["usercount"] > 0 && room["board"]["clearLayers"](), room["myself"].changeMute(_0x5b8390["you"].muted), room.myself["changeSilence"](_0x5b8390.you["silenced"]), room["setPrivileges"](_0x5b8390.you["privileges"]), room["setTools"](_0x5b8390["you"]["tools"]), room.myself.uid = _0x5b8390["you"]["uid"], _0x5b8390["you"]["muted"] && _0x5b8390["you"]["mutetime"] && UI["muteTime"](parseInt(_0x5b8390["you"]["mutetime"])), "registered" in _0x5b8390 && (_0x5b8390["registered"] ? UI["bottombar"].hideButton("registerButton") : UI["bottombar"]["showButton"]("registerButton")), UI["setupScreenSize"](UI.getScreenSize()), UI["showAllLayers"](), UI.inRoom = true, setTimeout(function (_0x3484e1) {
                          UI["fitToScreen"](), UI["boardContainer"].fadeIn(1500);
                        }, 1e3), $.each(_0x5b8390.lockedlayers, function (_0x42cdea, _0x10c152) {
                          room.board["lockLayer"](_0x10c152);
                        }), room["setConnected"](true), UI["sidebar"].layerPreview["updatePreviews"](); else {
                          if (_0x5b8390["command"] == "JOINED") {
                            var _0x4165ab = "",
                              _0x26be5c = "",
                              _0x5b3f3c = false;
                            _0x5b8390.ip && (_0x4165ab = _0x5b8390.ip);
                            _0x5b8390["country"] && (_0x26be5c = escapeHTML(_0x5b8390["country"]["substring"](0, 2)));
                            _0x5b8390.proxy && (_0x5b3f3c = _0x5b8390.proxy);
                            var _0x4158cb = new User(_0x5b8390["username"], _0x5b8390["rank"], _0x4165ab, _0x26be5c, _0x5b3f3c);
                            _0x4158cb["changeMute"](_0x5b8390["muted"]), _0x4158cb["changeSilence"](_0x5b8390.silenced), _0x4158cb["changeConnectionIssue"](_0x5b8390.connectionissues), room["addUser"](_0x4158cb), UI["syncBrushes"](_0x5b8390["username"]);
                          } else {
                            if (_0x5b8390["command"] == "YOULEFT") room["leave"](); else {
                              if (_0x5b8390.command == "LEFT") room["removeUser"](_0x5b8390.username, _0x5b8390["reason"]); else {
                                if (_0x5b8390["command"] == "INTHEROOM") $["each"](_0x5b8390["users"], function (_0x24ffbf, _0x288b1d) {
                                  var _0x47151d = "",
                                    _0x3b7999 = "",
                                    _0x37e87b = false;
                                  _0x288b1d.ip && (_0x47151d = _0x288b1d.ip);
                                  _0x288b1d["country"] && (_0x3b7999 = _0x288b1d["country"]);
                                  _0x288b1d["proxy"] && (_0x37e87b = _0x288b1d.proxy);
                                  var _0x3c4f22 = new User(_0x288b1d["username"], _0x288b1d["rank"], _0x47151d, _0x3b7999, _0x37e87b);
                                  _0x3c4f22["changeMute"](_0x288b1d["muted"]), _0x3c4f22["changeSilence"](_0x288b1d["silenced"]), room["addUser"](_0x3c4f22, true);
                                }), UI["syncBrushes"](), _0x5b8390.recommendedSync && UI["recommendedSync"](_0x5b8390["recommendedSync"]), _0x5b8390.users["length"] == 0 && (room["loading"] = false); else {
                                  if (_0x5b8390["command"] == "CONNECTIONISSUES") room["connectionIssues"](_0x5b8390.username, _0x5b8390.issues); else {
                                    if (_0x5b8390["command"] == "GLOBALRESPONSE") {
                                      if (_0x5b8390["option"] == "DEBUG") UI["debugDialog"]["name"] = _0x5b8390.target, UI["debugDialog"]["table"].clear(), $.each(_0x5b8390["user"], function (_0x4b37fb, _0x3da98c) {
                                        UI["debugDialog"]["table"]["addRow"]([_0x4b37fb, escapeHTML(_0x3da98c)], false);
                                      }), UI["debugDialog"].table.updated(), UI.dialogHandler["showDialog"]("debug"); else _0x5b8390.option == "DEBUGCLIENT" && UI["dialogHandler"].getActiveDialogName() == "DebugDialog" && UI["debugDialog"].name == _0x5b8390["target"] && ($["each"](_0x5b8390["params"], function (_0x4d7b87, _0x23e1f7) {
                                        UI.debugDialog["table"]["addRow"]([_0x4d7b87, escapeHTML(_0x23e1f7)], false);
                                      }), UI.debugDialog["name"] = "", UI["debugDialog"]["table"]["updated"]());
                                    } else {
                                      if (_0x5b8390["command"] == "CHATMSG") {
                                        if (_0x5b8390["from"] in room.users) {
                                          var _0x4158cb = room.users[_0x5b8390["from"]];
                                          UI["chatDialog"]["createMessage"](_0x5b8390["chatname"], _0x5b8390["chattype"], "MSG", _0x5b8390["message"], _0x4158cb.username);
                                        }
                                      } else {
                                        if (_0x5b8390["command"] == "RELOGGED") UI["chatDialog"]["registerEvent"](textManager["getString"]("events.txtNowKnown", [UI.userRank(_0x5b8390["beforerank"]), _0x5b8390["beforeusername"], UI["userRank"](_0x5b8390["afterrank"]), _0x5b8390["afterusername"]], false)), room["userRenamed"](_0x5b8390.beforerank, _0x5b8390["beforeusername"], _0x5b8390["afterrank"], _0x5b8390["afterusername"]); else {
                                          if (_0x5b8390["command"] == "YOURELOGGED") room["myself"].changeUsername(_0x5b8390.afterusername), room.myself["changeRank"](_0x5b8390["afterrank"]), room["myself"]["uid"] = _0x5b8390["uid"], _0x5b8390.privileges && room["setPrivileges"](_0x5b8390.privileges), _0x5b8390["tools"] && room["setTools"](_0x5b8390["tools"]), UI.chatDialog.registerEvent(textManager.getString("events.txtYouNowKnown", [UI["userRank"](_0x5b8390["afterrank"]), _0x5b8390["afterusername"]], false)); else {
                                            if (_0x5b8390.command == "DIRECT") {
                                              if (_0x5b8390["action"] == "SYNC") _0x5b8390["from"] in room.users && (room["users"][_0x5b8390.from]["status"] = _0x5b8390.status, room["users"][_0x5b8390["from"]]["inactive"] = _0x5b8390["inactive"], room["users"][_0x5b8390["from"]].surface.cursor.x = _0x5b8390.x, room["users"][_0x5b8390["from"]]["surface"]["cursor"].y = _0x5b8390.y, room["users"][_0x5b8390.from]["surface"]["setBrush"](_0x5b8390["brush"]), room["users"][_0x5b8390["from"]]["surface"].setColor(_0x5b8390["color"]), room["users"][_0x5b8390.from]["surface"]["setBrushesOptions"](_0x5b8390["options"]), _0x5b8390["layer"] && room["users"][_0x5b8390["from"]]["surface"].setCurrentLayer(_0x5b8390["layer"]), _0x5b8390.brushSync && (room["users"][_0x5b8390.from]["surface"]["penPressed"] = _0x5b8390.penPressed, room["users"][_0x5b8390["from"]].surface.setBrushSync(_0x5b8390["brushSync"])), _0x5b8390.visible && room["users"][_0x5b8390["from"]].surface["penShow"]()); else {
                                                if (_0x5b8390["action"] == "GETBOARD") {
                                                  var _0x44b81e = new Transfer("DIRECT", _0x5b8390["from"], "sync", new Date()["getTime"](), true);
                                                  $(_0x44b81e).on("transferStart transferChunkReady", sendChunk);
                                                  for (var _0x3c2634 = 0; _0x3c2634 < room.board["nLayers"]; _0x3c2634++) {
                                                    _0x44b81e["addData"](_0x3c2634, 0, 0, room["board"]["canvasWidth"], room["board"].canvasHeight, 0, btoa(room["board"]["getLayerData"](_0x3c2634)));
                                                  }
                                                  _0x44b81e["send"](), room["addTransfer"](_0x44b81e);
                                                } else {
                                                  if (_0x5b8390["action"] == "PARTIAL") UI["acceptingSync"](_0x5b8390["from"]) ? processTransfer(_0x5b8390) : rejectTransfer(_0x5b8390); else {
                                                    if (_0x5b8390["action"] == "PARTIALNEXT") $["each"](room["transfers"], function (_0x4bd3de, _0x2c555e) {
                                                      _0x2c555e["matches"](_0x5b8390["targettype"], _0x5b8390["from"], _0x5b8390["ttype"], _0x5b8390.timestamp) && !_0x2c555e["completed"] && !_0x2c555e["failed"] && _0x2c555e["nextPart"]();
                                                    }); else _0x5b8390.action == "NOTHANKS" && $.each(room["transfers"], function (_0x94418e, _0x22d16b) {
                                                      _0x22d16b["matches"](_0x5b8390.targettype, _0x5b8390.from, _0x5b8390["ttype"], _0x5b8390["timestamp"]) && !_0x22d16b.completed && !_0x22d16b["failed"] && _0x22d16b.fail();
                                                    });
                                                  }
                                                }
                                              }
                                            } else {
                                              if (_0x5b8390["command"] == "IMG") _0x5b8390["action"] == "PARTIAL" && processTransfer(_0x5b8390); else {
                                                if (_0x5b8390["command"] == "RANKCHANGE") room["myself"]["rank"] != _0x5b8390["rank"] && room.myself["changeRank"](_0x5b8390["rank"]), _0x5b8390["privileges"] && room["setPrivileges"](_0x5b8390["privileges"]), _0x5b8390["tools"] && room["setTools"](_0x5b8390["tools"]); else {
                                                  if (_0x5b8390["command"] == "ROOMCHANGE") room["description"] != _0x5b8390["description"] && (room.description = _0x5b8390["description"], _0x5b8390["description"]["trim"]() != "" && UI.chatDialog.createMessage("public", "room", "MOTD", escapeHTML(_0x5b8390["description"]))), room["capacity"] = _0x5b8390["capacity"], room["changeSize"](_0x5b8390["size"]), room["changeType"](_0x5b8390["type"]), room["changeLayers"](_0x5b8390["numlayers"]), room.changeTransparency(_0x5b8390.bottomtransparency), room["changeBackground"](_0x5b8390.background), room["changeAnimationOptions"](_0x5b8390["animrows"], _0x5b8390["animcols"]); else {
                                                    if (_0x5b8390["command"] == "ROOMSTATUS") _0x5b8390.registered ? UI["bottombar"]["hideButton"]("registerButton") : UI["bottombar"].showButton("registerButton"); else {
                                                      if (_0x5b8390["command"] == "STAFFACTION") {
                                                        "layer" in _0x5b8390 && (_0x5b8390.layer = parseInt(_0x5b8390.layer));
                                                        if (_0x5b8390["option"] == "Cl") room.board["clearLayer"](_0x5b8390.layer), UI["chatDialog"]["registerEvent"](textManager["getString"]("events.txtLayer", [_0x5b8390["layer"] + 1, _0x5b8390["from"]], false)); else {
                                                          if (_0x5b8390.option == "Flh") room.board.flipLayer(_0x5b8390["layer"], true, false), UI["chatDialog"].registerEvent(textManager["getString"]("events.txtFlipH", [_0x5b8390.layer + 1, _0x5b8390["from"]], false)); else {
                                                            if (_0x5b8390["option"] == "Flv") room["board"].flipLayer(_0x5b8390["layer"], false, true), UI["chatDialog"]["registerEvent"](textManager["getString"]("events.txtFlipV", [_0x5b8390.layer + 1, _0x5b8390["from"]], false)); else {
                                                              if (_0x5b8390["option"] == "Lkl") room.board.lockLayer(_0x5b8390["layer"]), UI["chatDialog"].registerEvent(textManager["getString"]("events.txtLock", [_0x5b8390.layer + 1, _0x5b8390["from"]], false)); else {
                                                                if (_0x5b8390["option"] == "Ukl") room.board.unlockLayer(_0x5b8390["layer"]), UI.chatDialog["registerEvent"](textManager["getString"]("events.txtUnlock", [_0x5b8390["layer"] + 1, _0x5b8390["from"]], false)); else {
                                                                  if (_0x5b8390["option"] == "Mgl") room["board"]["mergeLayer"](_0x5b8390.layerFrom, _0x5b8390["layerTo"]), UI.chatDialog["registerEvent"](textManager["getString"]("events.txtMerge", [parseInt(_0x5b8390.layerFrom) + 1, parseInt(_0x5b8390["layerTo"]) + 1, _0x5b8390["from"]], false)); else {
                                                                    if (_0x5b8390["option"] == "Afc") {
                                                                      var _0xf6c999 = room["board"]["canvasWidth"] / room.animCols,
                                                                        _0x3a1875 = room["board"]["canvasHeight"] / room["animRows"],
                                                                        _0x16717b = Math["floor"](parseInt(_0x5b8390["source"]) / room.animCols),
                                                                        _0xd7c1ef = parseInt(_0x5b8390["source"]) % room["animCols"];
                                                                      room["board"]["partiallyClearLayer"](_0x5b8390["layer"], null, _0xf6c999 * _0xd7c1ef, _0x3a1875 * _0x16717b, _0xf6c999, _0x3a1875), UI["chatDialog"].registerEvent(textManager["getString"]("events.txtAnimationFrameClear", [_0x5b8390["layer"], parseInt(_0x5b8390["source"]) + 1, _0x5b8390.from], false));
                                                                    } else {
                                                                      if (_0x5b8390["option"] == "Afd") {
                                                                        var _0xf6c999 = room.board["canvasWidth"] / room["animCols"],
                                                                          _0x3a1875 = room["board"].canvasHeight / room.animRows,
                                                                          _0x16717b = Math["floor"](parseInt(_0x5b8390["source"]) / room.animCols),
                                                                          _0xd7c1ef = parseInt(_0x5b8390.source) % room["animCols"],
                                                                          _0x216a0f = Math["floor"](parseInt(_0x5b8390.target) / room["animCols"]),
                                                                          _0x4e2e20 = parseInt(_0x5b8390["target"]) % room["animCols"];
                                                                        let _0x100363 = room.board["layers"][_0x5b8390["layer"]]["advCanvas"]["getImageData"](_0xf6c999 * _0xd7c1ef, _0x3a1875 * _0x16717b, _0xf6c999, _0x3a1875);
                                                                        var _0x427112 = new AdvancedCanvas(_0xf6c999, _0x3a1875);
                                                                        _0x427112["putImageData"](_0x100363);
                                                                        var _0x44b21d = new Image();
                                                                        _0x44b21d["onload"] = function () {
                                                                          room["board"].partiallyClearLayer(_0x5b8390["layer"], null, _0xf6c999 * _0x4e2e20, _0x3a1875 * _0x216a0f, _0xf6c999, _0x3a1875), room["board"]["layers"][_0x5b8390["layer"]]["advCanvas"].setCanvasProperties({
                                                                            alpha: _0x5b8390["opacity"]
                                                                          }), room["board"]["layers"][_0x5b8390["layer"]]["advCanvas"].drawImage(this, _0xf6c999 * _0x4e2e20, _0x3a1875 * _0x216a0f, _0xf6c999, _0x3a1875);
                                                                        }, _0x44b21d.src = _0x427112["getData"](), _0x427112["remove"](), UI.chatDialog.registerEvent(textManager["getString"]("events.txtAnimationFrameClone", [_0x5b8390["layer"], parseInt(_0x5b8390["source"]) + 1, parseInt(_0x5b8390["target"]) + 1, _0x5b8390["from"]], false));
                                                                      } else {
                                                                        if (_0x5b8390.option == "Kck") room["kickUser"](_0x5b8390.username), UI["chatDialog"]["registerEvent"](textManager.getString("events.txtKick", [_0x5b8390["username"], _0x5b8390["from"]], false)); else {
                                                                          if (_0x5b8390["option"] == "Bn") room["banUser"](_0x5b8390["username"]), UI.chatDialog["registerEvent"](textManager["getString"]("events.txtBan", [_0x5b8390["username"], _0x5b8390["from"]], false)); else {
                                                                            if (_0x5b8390["option"] == "Muu") room["muteUser"](_0x5b8390["username"], _0x5b8390["mutetime"]), _0x5b8390["from"] ? UI["chatDialog"]["registerEvent"](textManager["getString"]("events.txtMute", [_0x5b8390["username"], _0x5b8390["from"]], false)) : UI.chatDialog.registerEvent(textManager["getString"]("events.txtMute2", [_0x5b8390["username"]], false)); else {
                                                                              if (_0x5b8390.option == "Umu") room.unmuteUser(_0x5b8390.username), _0x5b8390["from"] ? UI["chatDialog"].registerEvent(textManager["getString"]("events.txtUnmute", [_0x5b8390.username, _0x5b8390["from"]], false)) : UI["chatDialog"].registerEvent(textManager["getString"]("events.txtUnmute2", [_0x5b8390["username"]], false)); else {
                                                                                if (_0x5b8390["option"] == "Siu") room["silenceUser"](_0x5b8390["username"]), UI["chatDialog"].registerEvent(textManager["getString"]("events.txtSilence", [_0x5b8390["username"], _0x5b8390["from"]], false)); else {
                                                                                  if (_0x5b8390["option"] == "Usi") room["unsilenceUser"](_0x5b8390["username"]), UI.chatDialog["registerEvent"](textManager["getString"]("events.txtUnsilence", [_0x5b8390["username"], _0x5b8390["from"]], false)); else _0x5b8390["option"] == "Chr" && (_0x5b8390["online"] && room["rankUser"](_0x5b8390.username, _0x5b8390["rank"]), UI["chatDialog"]["registerEvent"](textManager.getString("events.txtRankUpdate", [_0x5b8390["username"], _0x5b8390["from"]], false)));
                                                                                }
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      } else {
                                                        if (_0x5b8390["command"] == "USERRESPONSE") {
                                                          if (_0x5b8390["option"] == "Msgm") {
                                                            if (_0x5b8390.perform == "list") UI["messengerDialog"].conversationList(_0x5b8390["conversations"]); else {
                                                              if (_0x5b8390.perform == "read") UI["messengerDialog"]["messageList"](_0x5b8390["withUID"], _0x5b8390.withUsername, _0x5b8390["messages"]); else {
                                                                if (_0x5b8390.perform == "insert") UI.messengerDialog.messageReceived(_0x5b8390["msgid"], _0x5b8390["tempid"]); else {
                                                                  if (_0x5b8390["perform"] == "find") UI["messengerDialog"].userFound(_0x5b8390.status, _0x5b8390["user"]); else {
                                                                    if (_0x5b8390.perform == "remove") UI["messengerDialog"].conversationRemoved(_0x5b8390["status"], _0x5b8390.uid); else _0x5b8390.perform == "delete" && UI["messengerDialog"]["deleteMessage"](_0x5b8390["status"], _0x5b8390.id);
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          } else {
                                                            if (_0x5b8390["option"] == "Por") UI["profileDialog"].ownedRoomsList(_0x5b8390["rooms"]); else {
                                                              if (_0x5b8390.option == "Prr") UI["profileDialog"]["roomRankList"](_0x5b8390["rooms"]); else _0x5b8390["option"] == "Ugi" && UI.userGalleryDialog["galleryImages"](_0x5b8390["target"], Math.ceil(_0x5b8390["total"] / _0x5b8390.perPage), _0x5b8390.images);
                                                            }
                                                          }
                                                        } else {
                                                          if (_0x5b8390["command"] == "ROOMRESPONSE") {
                                                            if (_0x5b8390["option"] == "Rbn") UI.roomManagerDialog["banList"](_0x5b8390["bans"]); else {
                                                              if (_0x5b8390.option == "Rse") room["bantime"] = _0x5b8390["bantime"], room["mutetime"] = _0x5b8390.mutetime, room["mute"] = _0x5b8390["mute"], room.knownproxy = _0x5b8390.knownproxy, room["hidden"] = _0x5b8390["hidden"], room["password"] = _0x5b8390.password, UI.roomManagerDialog["roomSettings"](); else {
                                                                if (_0x5b8390["option"] == "Rst") UI["roomManagerDialog"]["staffList"](_0x5b8390.staff); else {
                                                                  if (_0x5b8390["option"] == "Rpr") UI["roomManagerDialog"]["privilegeList"](_0x5b8390.ranks, _0x5b8390["privileges"]); else {
                                                                    if (_0x5b8390["option"] == "Rto") UI["roomManagerDialog"]["toolList"](_0x5b8390["ranks"], _0x5b8390["tools"]); else {
                                                                      if (_0x5b8390["option"] == "Rer") _0x5b8390.status == "OK" ? UI["dialogHandler"]["showAlert"](textManager.getString("alerts.txtRoomRegistered")) : UI["dialogHandler"]["showAlert"]("ERROR: " + _0x5b8390["status"]); else _0x5b8390["option"] == "Urr" && (_0x5b8390["status"] == "OK" ? UI["roomManagerDialog"]["hide"]() : (UI["roomManagerDialog"]["loading"](false), UI["dialogHandler"]["showAlert"]("ERROR: " + _0x5b8390["status"])));
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          } else {
                                                            if (_0x5b8390["command"] == "GALLERYRESPONSE") {
                                                              if (_0x5b8390["option"] == "Gig") UI["galleryImageDialog"].gotResponse(_0x5b8390); else {
                                                                if (_0x5b8390["option"] == "Gis") UI["galleryImageDialog"].gotUpdated(_0x5b8390); else {
                                                                  if (_0x5b8390["option"] == "Comment") {
                                                                    if (_0x5b8390["perform"] == "add") UI["galleryImageDialog"]["addedComment"](_0x5b8390.newId, _0x5b8390.tempId); else _0x5b8390["perform"] == "delete" && UI["galleryImageDialog"].deletedComment(_0x5b8390.status, _0x5b8390.id);
                                                                  }
                                                                }
                                                              }
                                                            } else {
                                                              if (_0x5b8390["command"] == "ROOMREQRESPONSE") UI.roomManagerDialog.gotResponse(_0x5b8390); else {
                                                                if (_0x5b8390.command == "ADMINRESPONSE") {
                                                                  if (_0x5b8390["option"] == "Ssm") UI.adminConsoleDialog["summary"](_0x5b8390); else {
                                                                    if (_0x5b8390["option"] == "Sin") UI["adminConsoleDialog"]["serverInfo"](_0x5b8390); else {
                                                                      if (_0x5b8390.option == "Sst") UI["adminConsoleDialog"]["serverStats"](_0x5b8390["cpu"], _0x5b8390.ram); else {
                                                                        if (_0x5b8390.option == "Arl") UI.adminConsoleDialog.roomList(_0x5b8390["rooms"]); else {
                                                                          if (_0x5b8390["option"] == "Afl") UI["adminConsoleDialog"]["feedbackList"](_0x5b8390.feedback); else {
                                                                            if (_0x5b8390["option"] == "Acl") UI.adminConsoleDialog["clientList"](_0x5b8390["clients"]); else {
                                                                              if (_0x5b8390["option"] == "Abl") UI["adminConsoleDialog"]["banList"](_0x5b8390.bans); else {
                                                                                if (_0x5b8390["option"] == "Ael") UI["adminConsoleDialog"]["eventList"](_0x5b8390["events"]); else _0x5b8390["option"] == "Aci" && UI["adminConsoleDialog"]["accountInfo"](_0x5b8390["account"], _0x5b8390["rooms"]);
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                } else {
                                                                  if (_0x5b8390["command"] == "ADMINREQRESPONSE") UI["adminConsoleDialog"]["gotResponse"](_0x5b8390); else {
                                                                    if (_0x5b8390["command"] == "BROADCAST") _0x5b8390["from"] in room["users"] && room.users[_0x5b8390["from"]]["pushNetCode"](_0x5b8390); else _0x5b8390.command == "BYE" && this.disconnect(true);
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  ["execFrame"]() {
    if (this.ws["readyState"] === this.ws["OPEN"]) while (this["outBuffer"]["length"] > 0) {
      this.ws["send"](this["outBuffer"]["shift"]());
    }
  }
}
class ConnectionManager {
  constructor(connection) {
    this.connection = connection;
    this.connectTries = 0;
    this.maxTries = 10;
    this.actionTarget = "SHOWROOMS";

    const self = this;

    $(this.connection).on("socketConnected", function () {
      UI.warningContainer.empty();
      UI.statusContainer.empty();
    });

    $(this.connection).on("socketError", function () {
      if (socket.canReconnect) self.reconnect();
    });

    $(this.connection).on("socketDisconnected", function (event) {
      if (UI.inRoom) {
        self.actionTarget = "SHOWROOMS";
        if (!event.intentional) {
          self.actionTarget = "JOINROOM";
        }
        room.setConnected(false);
        self.reconnect();
      }

      UI.statusContainer.html(
        `<div class="warningItem">${new Icon("fa-unlink").html()} ...</div>`
      );
    });

    $(this.connection).on("socketNegotiated", function () {
      self.noContactCount = 0;

      if (self.actionTarget === "JOINROOM") {
        UI.loginDialog.doLogin();
      } else {
        const message = {
          command: "OFFROOM",
          option: "ROOMS",
        };
        socket.send(message, true);
      }
    });
  }

  reconnect(delaySeconds = 5) {
    const self = this;

    setTimeout(function () {
      if (!self.connection.connected) {
        if (socket.canReconnect) {
          self.connectTries++;

          if (self.connectTries >= self.maxTries) {
            UI.loadingScreen.setText(
              textManager.getString("alerts.txtServerDown"),
              new Icon("fa-exclamation-triangle").html()
            );
            socket.canReconnect = false;
          } else {
            self.connection.reconnect();
            self.reconnect(); // attempt again recursively
          }
        } else {
          UI.warningContainer.html(
            `<div class="warningItem">
              ${new Icon("fa-exclamation-triangle").html()} 
              ${textManager.getString("alerts.txtConnectionLost")}
              <br />
              <div class="d-grid">
                <a href="#" class="btn btn-xs btn-primary mt-2" name="socketReconnect">
                  ${textManager.getString("alerts.btnReconnect")}
                </a>
              </div>
            </div>`
          );
        }
      }
    }, delaySeconds * 1000);
  }

  reset() {
    socket.canReconnect = true;
    this.connectTries = 0;
  }
}
class User {
  constructor(_0x11ddb0, _0xc6a5d7, _0x582e8f = "", _0x405509 = "XX", _0x13fa8e = false, _0x1dafb5 = false) {
    this.username = _0x11ddb0, this["rank"] = _0xc6a5d7, this["status"] = "", this.ip = _0x582e8f, this["country"] = _0x405509, this["proxy"] = _0x13fa8e, this.uid, this["muted"] = false, this["silenced"] = false, this["ignored"] = false, this.inactive = false, this["connectionIssues"] = false, this.chatMessages = 0, this["lastMessage"] = parseInt(new Date().getTime() / 1e3), this["inputDevice"] = "mouse", this["surface"] = new PenSurface(_0x1dafb5), this["surface"]["setUsername"](this["username"]), this.frameBuffer = new FrameBuffer(this);
  }
  ["isStaff"]() {
    return this["rank"] == "GM" || this["rank"] == "RO" || this["rank"] == "CO" || this.rank == "LM" || this.rank == "FM" || this["rank"] == "TU";
  }
  ["isLogged"]() {
    return this["rank"] != "UU";
  }
  ["changeInputDevice"](_0x3f4588) {
    this["inputDevice"] != _0x3f4588 && (this["inputDevice"] = _0x3f4588, $(this)["triggerHandler"](new inputDeviceChangedEvent(_0x3f4588)["getEvent"]()));
  }
  ["changeInactive"](_0xc5302a) {
    this["inactive"] != _0xc5302a && (this["inactive"] = _0xc5302a, $(this)["triggerHandler"](new inactiveChangedEvent(_0xc5302a)["getEvent"]()));
  }
  ["changeStatus"](_0x1f55ae) {
    this["status"] != _0x1f55ae && (this["status"] = _0x1f55ae, $(this)["triggerHandler"](new statusChangedEvent(_0x1f55ae)["getEvent"]()));
  }
  ["changeConnectionIssue"](_0x3e0726) {
    this["connectionIssues"] != _0x3e0726 && (this["connectionIssues"] = _0x3e0726, $(this)["triggerHandler"](new connectionIssueChangedEvent(_0x3e0726)["getEvent"]()));
  }
  ["changeUsername"](_0x351821) {
    if (this["username"] != _0x351821) {
      var _0x16b23a = this["username"];
      this["username"] = _0x351821, this.surface["setUsername"](this["username"]), $(this).triggerHandler(new usernameChangedEvent(_0x351821, _0x16b23a)["getEvent"]());
    }
  }
  ["changeRank"](_0x19f16a) {
    this.rank != _0x19f16a && (this["rank"] = _0x19f16a, $(this)["triggerHandler"](new rankChangedEvent(_0x19f16a)["getEvent"]()));
  }
  ["mute"]() {
    !this.muted && (this.muted = true, this["surface"].penCancel(), this["surface"]["penHide"](), $(this)["triggerHandler"](new muteChangedEvent(true)["getEvent"]()));
  }
  ["unmute"]() {
    this["muted"] && (this["muted"] = false, this["surface"].penShow(), $(this).triggerHandler(new muteChangedEvent(false)["getEvent"]()));
  }
  ["changeMute"](_0x25f308) {
    _0x25f308 ? this["mute"]() : this["unmute"]();
  }
  ["silence"]() {
    !this["silenced"] && (this["silenced"] = true, $(this)["triggerHandler"](new silenceChangedEvent(true).getEvent()));
  }
  ["unsilence"]() {
    this["silenced"] && (this["silenced"] = false, $(this).triggerHandler(new silenceChangedEvent(false)["getEvent"]()));
  }
  ["changeSilence"](_0x42b536) {
    _0x42b536 ? this["silence"]() : this["unsilence"]();
  }
  ["ignore"]() {
    !this.ignored && (this.ignored = true, $(this)["triggerHandler"](new ignoreChangedEvent(true).getEvent()));
  }
  ["unignore"]() {
    this["ignored"] && (this.ignored = false, $(this)["triggerHandler"](new ignoreChangedEvent(false)["getEvent"]()));
  }
  ["toggleIgnore"]() {
    this["ignored"] ? this.unignore() : this["ignore"]();
  }
  ["hasIP"]() {
    return !(this.ip == "" || this.ip == "-");
  }
  ["alone"](_0x510b7a) {
    this.frameBuffer["alone"](_0x510b7a);
  }
  ["pushNetCode"](_0x3b6d5a) {
    this["frameBuffer"]["pushNetCode"](_0x3b6d5a);
  }
}
class UserInterface {
  constructor() {
    this["initialized"] = false, this["configured"] = false, this["pointerSupport"] = window["PointerEvent"], this["userPreferences"], this["clientId"] = Math.floor(Math.random() * 999999 + 1), this["clientName"] = "FlockMod", this["client"] = "FMH5C", this.version = "13.4.0+0", this["account"] = new Account("Anonymous", ""), this["baseURL"] = "https://" + domain, this.baseDir = "/draw/", this["hasSetCustomBrush"] = false, this["firstSyncEnabled"] = false, this.firstSyncProgress = false, this["firstSyncUser"] = null, this["firstSyncFailed"] = [], this["firstSyncOrder"] = [], this["manualSync"] = null, this["content"], this["drawingArea"], this["boardContainer"], this["warningContainer"], this["statusContainer"], this["uploader"], this["dragRotation"] = 0, this["dragInitialRotation"] = 0, this["dragPoint"] = null, this.timeDiff = 0, this.warnExit = false, this.pinching = false, this["hovering"] = false, this["draggingMode"] = false, this["preDraggingMode"] = false, this["gesturesSize"] = 1, this["gesturesPreAngle"] = 0, this["gesturesRotateAngle"] = 0, this.gesturesCurrentAngle, this["resizeTimeout"] = undefined, this["viewLeft"], this["viewTop"], this["viewWidth"], this.viewHeight, this["limitedViewSize"] = false, this.viewOffset = new Point(0, 0), this["screenWidth"], this["screenHeight"], this["flipX"] = false, this["pixelSmoothing"] = true, this["savedOption"] = {}, this["drawingWithPointer"] = null, this["onFocus"] = true, this["focusTimer"], this.focusedElement = null, this.uploadMode = false, this.muteInterval = null, this["muteSeconds"] = 0, this["topbar"], this["bottombar"], this.sidebar, this["mousePointer"], this["hammer"], this["overBoard"] = false, this.holdingCTRL = false, this.holdingALT = false, this["holdingSHIFT"] = false, this.soundSystem, this["dialogHandler"], this["chatDialog"], this["configDialog"], this["loginDialog"], this["undoDialog"], this["saveDialog"], this["uploadDialog"], this["brushDesignerDialog"], this["brushGalleryDialog"], this["debugDialog"], this["profileDialog"], this.colorDialog, this["helpDialog"], this["feedbackDialog"], this["animationDialog"], this["messengerDialog"], this["galleryImageDialog"], this["userGalleryDialog"], this["shortcutManager"], this["tooltips"], this.selectionToolbar, this.userRanks = ["UU", "RU", "TU", "RM", "FM", "LM", "CO", "RO", "GM"], this["userPrivileges"] = ["roommanager", "changeprivileges", "addmod", "rmstaff", "mute", "kick", "silence", "ban", "roombans", "unbanothers", "changetools", "mergelayer", "clearlayer", "fliplayer", "locklayers", "drawlockedlayers", "modmessageuse", "pload", "pundo", "seehigherips", "seelowerips", "seesameips", "bypasspwd", "bypassfull", "manageframes"], this["toolbarSide"], this["defaultBrush"] = "pen", this["defaultColor"] = "#000000", this["inRoom"] = false, this["preferredLanguage"] = navigator["language"].split("-")[0], this["_tmp"];
    /*
    this.baseURL = "";
    this.baseDir = "./";

    */
    //Use local code instead of downloading it from the server
  }
  ["buildContextMenu"]() {
    var _0x245d50 = this;
    $["contextMenu"]({
      selector: ".boardMenu",
      trigger: "none",
      build: function (_0x3da98d) {
        var _0x43e3e0 = {
          callback: function (_0x18cdfa, _0x1c70bb) {
            if (_0x18cdfa == "zoomin") {
              var _0x2d6238 = _0x245d50["drawingArea"]["width"](),
                _0x45495b = _0x245d50.drawingArea["height"](),
                _0x1293b8 = _0x245d50["drawingArea"].offset();
              _0x245d50["zoomToScreenPoint"](_0x2d6238 / 2 + _0x1293b8["left"], _0x45495b / 2 + _0x1293b8["top"], "zoomIn");
            } else {
              if (_0x18cdfa == "zoomout") {
                var _0x2d6238 = _0x245d50["drawingArea"]["width"](),
                  _0x45495b = _0x245d50["drawingArea"]["height"](),
                  _0x1293b8 = _0x245d50["drawingArea"].offset();
                _0x245d50["zoomToScreenPoint"](_0x2d6238 / 2 + _0x1293b8["left"], _0x45495b / 2 + _0x1293b8["top"], "zoomOut");
              } else {
                if (_0x18cdfa == "resetzoom") room.board["changeScale"](1), _0x245d50["centerBoard"](); else {
                  if (_0x18cdfa == "rotatereset") room["board"]["changeRotation"](0); else {
                    if (_0x18cdfa == "rotate45left") room["board"].changeRotation(room["board"]["rotation"] - 45); else {
                      if (_0x18cdfa == "rotate45right") room["board"]["changeRotation"](room["board"].rotation + 45); else {
                        if (_0x18cdfa == "centerboard") _0x245d50["centerBoard"](); else {
                          if (_0x18cdfa == "fittoscreen") _0x245d50["fitToScreen"](); else _0x18cdfa == "fliphorizontally" && _0x245d50["flipView"](!_0x245d50.flipX);
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          items: {
            resetzoom: {
              name: "Reset zoom",
              icon: "fa-magnifying-glass"
            },
            zoomin: {
              name: "Zoom in",
              icon: "fa-magnifying-glass-plus"
            },
            zoomout: {
              name: "Zoom out",
              icon: "fa-magnifying-glass-minus"
            },
            "-": {
              type: "cm_separator"
            },
            rotatereset: {
              name: "Reset rotation",
              icon: "fa-rotate"
            },
            rotate45left: {
              name: "Rotate left",
              icon: "fa-rotate-left"
            },
            rotate45right: {
              name: "Rotate right",
              icon: "fa-rotate-right"
            },
            fliphorizontally: {
              name: "Flip horizontally",
              icon: "fa-arrows-alt-h"
            },
            "-2": {
              type: "cm_separator"
            },
            fittoscreen: {
              name: "Fit to screen",
              icon: "fa-expand-arrows-alt"
            },
            centerboard: {
              name: "Center board",
              icon: "fa-bullseye"
            }
          }
        };
        return $.each(_0x43e3e0.items, function (_0x8f82b1, _0x5eae7e) {
          _0x43e3e0["items"][_0x8f82b1]["name"] && (_0x43e3e0["items"][_0x8f82b1].name = function () {
            return textManager["getString"]("menu.boardMenu." + _0x8f82b1, null, false);
          });
        }), _0x43e3e0;
      }
    });
  }
  ["moveSidebar"](_0x779d35) {
    if (this.toolbarSide != _0x779d35) {
      let _0x5e40f9 = _0x779d35["toLowerCase"]() == "right";
      $(".contentScreen")["removeClass"](_0x5e40f9 ? "leftSidebar" : "rightSidebar")["addClass"](_0x5e40f9 ? "rightSidebar" : "leftSidebar"), this["dialogHandler"]["alertManager"].changeSide(_0x5e40f9), this["updateViewLimits"](), this["toolbarSide"] = _0x779d35;
    }
  }
  ["loadTheme"](_0x29b285, _0xbb5546 = true) {
    _0xbb5546 && this["hideScreen"]();
    $("head link[name=\"currentTheme\"]")["attr"]("href", this["baseDir"] + "themes/" + _0x29b285 + ".css?v=" + UI["version"]);
    if (_0xbb5546) {
      var _0x3c4c20 = this;
      setTimeout(function () {
        _0x3c4c20["showScreen"]();
      }, 1500);
    }
  }
  ["setup"](_0x23ec5e) {
    if (!this["initialized"]) {
      var _0x4f7d6d = $("<div />");
      $(".contentScreen")["append"](_0x4f7d6d), this["loadingScreen"] = new LoadingScreen(_0x4f7d6d), this.loadingScreen["show"](), this["screenWidth"] = window["screen"]["width"], this["screenHeight"] = window["screen"]["height"], this["userPreferences"] = new UserPreferences(storage), this.soundSystem = new SoundSystem(), this["content"] = _0x23ec5e, this["drawingArea"] = _0x23ec5e.find("#DrawingArea"), this.boardContainer = _0x23ec5e["find"](".boardContainer"), this["warningContainer"] = $("#warningContainer"), this["statusContainer"] = $("#statusContainer"), this["boardContainer"]["empty"]();
      var _0x262c5d = this;
      this["content"].on(UI["pointerEvent"]("dragstart"), function (_0x3255ce) {
        _0x3255ce["preventDefault"]();
      }), this["pip"] = new PIP($("#pip")), this["pip"]["hide"](), this["dialogHandler"] = new DialogHandler($("#dialogContainer"), $("#confirmationContainer"), $("#alertContainer")), $(this["dialogHandler"]).on("dialogOpened", function (_0x262c11) {
        _0x262c5d["setCurrentPointer"](null);
      }), this["mousePointer"] = new MousePointer($("body")), this["createShortcutManager"](), this["tooltips"] = new Tooltip(this.dialogHandler["container"]), this["drawingArea"].on("wheel", this["onWheelMove"]), this["buildContextMenu"](), this["bindEventsDocument"](), this["createBrushSelectionToolbar"](), this["loadTheme"](this["userPreferences"]["getProperty"]("theme", "dark"), false), this.moveSidebar(this["userPreferences"]["getProperty"]("toolbarside", "right")), this.radialMenu = new RadialMenu($("#tabletMenu")), this.radialMenu["addOption"]("size", textManager["getString"]("[html]radialMenu.lblSize")), this["radialMenu"].addOption("nexttool", textManager["getString"]("[html]radialMenu.lblNextTool")), this["radialMenu"].addOption("swapcolors", textManager["getString"]("[html]radialMenu.lblSwapColors")), this["radialMenu"]["addOption"]("pan", textManager.getString("[html]radialMenu.lblPan")), this["radialMenu"]["addOption"]("swaperaser", textManager["getString"]("[html]radialMenu.lblSwapEraser")), this["radialMenu"].addOption("prevtool", textManager["getString"]("[html]radialMenu.lblPreviousTool")), this["radialMenu"]["hide"](), !this["userPreferences"].hasProperty("language") && textManager["isSupportedLanguage"](this["preferredLanguage"]) && this["userPreferences"]["setProperty"]("language", this.preferredLanguage), this["hammer"] = new Hammer(_0x262c5d["boardContainer"][0]), this["hammer"].get("pinch")["set"]({
        enable: true
      }), this["hammer"].on("pinchstart", function (_0x5621d9) {
        _0x262c5d["pinching"] = true, _0x262c5d["gesturesPreAngle"] = 0, _0x262c5d["gesturesRotateAngle"] = room["board"]["rotation"], _0x262c5d.gesturesSize = _0x262c5d.boardContainer[0].getBoundingClientRect().width / _0x262c5d["boardContainer"][0]["offsetWidth"], room.myself.surface["penCancel"]();
      }), this["hammer"].on("pinchmove", function (_0x210d41) {
        _0x262c5d["gesturesPreAngle"] == 0 ? _0x262c5d.gesturesPreAngle = Math["round"](_0x210d41["rotation"]) : (_0x262c5d["gesturesCurrentAngle"] = _0x262c5d.gesturesRotateAngle + Math["round"](_0x210d41["rotation"]) - _0x262c5d["gesturesPreAngle"], _0x262c5d.boardContainer["css"]({
          transform: "scale(" + _0x262c5d["gesturesSize"] * _0x210d41["scale"] + ") rotate(" + _0x262c5d.gesturesCurrentAngle + "deg)"
        }));
      }), this["hammer"].on("pinchcancel", function (_0x2b2634) {
        _0x262c5d["pinching"] = false, room.board["changeScale"](100), room.board["changeRotation"](0);
      }), this["hammer"].on("pinchend", function (_0x5964e7) {
        _0x262c5d["pinching"] = false;
        !isNaN(_0x262c5d.gesturesCurrentAngle) && room["board"]["changeRotation"](_0x262c5d["gesturesCurrentAngle"]);
        let _0x3a0885 = _0x262c5d["gesturesSize"] * _0x5964e7["scale"];
        !isNaN(_0x3a0885) && room["board"]["changeScale"](_0x3a0885);
      }), $(this).on("firstSyncStarted", function (_0x1a425d) {
        _0x262c5d["firstSyncUser"] = _0x1a425d["username"], _0x262c5d.firstSyncEnabled = true, _0x262c5d["firstSyncProgress"] = false, _0x262c5d["hideScreen"](_0x1a425d["username"], true, 0.7), _0x262c5d["loadingScreen"].setText(textManager["getString"]("global.lblRequestingBoard", _0x1a425d["username"], false) + "<br /><br /><a href=\"#\" name=\"leaveRoom\">" + textManager.getString("global.lblCancelAndLeave") + "</a>"), room["loading"] = true;
        var _0x56f712 = 15;
        setTimeout(function () {
          !_0x262c5d["firstSyncProgress"] && room["session"] == _0x1a425d.roomsession && $(_0x262c5d)["triggerHandler"](new firstSyncEndedEvent(_0x1a425d["username"], true).getEvent());
        }, _0x56f712 * 1e3);
      }), $(this).on("firstSyncProgress", function (_0x32f9fc) {
        !_0x262c5d.firstSyncProgress && (_0x262c5d["loadingScreen"]["setText"](textManager["getString"]("global.lblSyncingWith", _0x32f9fc["username"], false) + '<br /><a href="#" class="skipSyncLink" style="opacity: 0" name="skipUserSync">' + textManager["getString"]("global.lblSkipUserSync") + "</a><br /><a href=\"#\" name=\"leaveRoom\">" + textManager["getString"]("global.lblCancelAndLeave") + "</a>"), setTimeout(function () {
          _0x262c5d.firstSyncFailed["length"] < Object["keys"](room["users"]).length - 1 && _0x262c5d["loadingScreen"].container["find"]('[name="skipUserSync"]')["animate"]({
            opacity: 1
          }, 2e3);
        }, 3e3)), _0x262c5d["firstSyncProgress"] = true, _0x262c5d["loadingScreen"]["showProgress"](_0x32f9fc["progress"]);
      }), $(this).on("firstSyncEnded", function (_0x372916) {
        _0x262c5d.firstSyncUser = null, _0x262c5d["firstSyncEnabled"] = false, room.loading = false;
        if (_0x372916.failed) {
          _0x262c5d.firstSyncFailed["push"](_0x372916["username"]);
          var _0x111529 = false;
          room["connected"] && $["each"](_0x262c5d["firstSyncOrder"], function (_0x1b0da6, _0x47ab8f) {
            !inArray(_0x47ab8f, _0x262c5d.firstSyncFailed) && (_0x262c5d["syncBoard"](_0x47ab8f, true), _0x111529 = true);
          }), !_0x111529 && _0x262c5d["showScreen"]();
        } else _0x262c5d.firstSyncFailed = [], _0x262c5d["showScreen"]();
      }), $(this.radialMenu).on("penMove", function (_0x4afe1b) {
        if (_0x262c5d["radialMenu"]["pressedButton"] == "size") {
          if (!room.myself["surface"].brushHandler["isOptionReadOnly"]("size")) {
            var _0x258613 = _0x262c5d["mousePointer"].position.y - _0x262c5d.radialMenu["position"].y,
              _0x23d740 = 125,
              _0x347c06 = (_0x23d740 - _0x258613) * 100 / _0x23d740;
            _0x262c5d["radialMenu"]["setSlider"]("size", _0x347c06), room["myself"]["surface"]["setBrushOption"]("size", parseInt(_0x347c06 * room["myself"].surface["maxSize"] / 100));
          }
        }
      }), $(this.radialMenu).on("buttonPressed", function (_0x43d897) {
        if (_0x43d897.id == "nexttool") _0x262c5d["sidebar"]["toolbar"]["selectNextTool"](); else {
          if (_0x43d897.id == "prevtool") _0x262c5d["sidebar"]["toolbar"]["selectPreviousTool"](); else {
            if (_0x43d897.id == "swaperaser") room["myself"]["surface"]["getCurrentBrush"]() == "eraser" ? _0x262c5d["sidebar"]["toolbar"]["selectPreviouslyUsed"]() : _0x262c5d["sidebar"]["toolbar"]["select"]("eraser"); else {
              if (_0x43d897.id == "swapcolors") _0x262c5d.sidebar["colorBox"]["swap"](); else {
                if (_0x43d897.id == "size") {
                  if (!room.myself.surface.brushHandler["isOptionReadOnly"]("size")) {
                    var _0x5d1037 = _0x262c5d["mousePointer"].position.y - _0x262c5d.radialMenu["position"].y,
                      _0x36e786 = 125,
                      _0x5e2a17 = (_0x36e786 - _0x5d1037) * 100 / _0x36e786;
                    _0x262c5d.radialMenu["setSlider"]("size", _0x5e2a17), room["myself"]["surface"]["setBrushOption"]("size", parseInt(_0x5e2a17 * room.myself["surface"].maxSize / 100));
                  }
                } else _0x43d897.id == "pan" && (room["myself"]["surface"]["getCurrentBrush"]() == "drag" ? _0x262c5d.sidebar["toolbar"]["selectPreviouslyUsed"]() : _0x262c5d.sidebar.toolbar["select"]("drag"));
              }
            }
          }
        }
      }), this["topbar"] = new Topbar($("#topbar"), this["clientName"], this["version"]), $(this["topbar"]).on("buttonPressed", function (_0xdad40d) {
        if (_0xdad40d.id == "fullscreenButton") _0x262c5d.toggleFullscreen(); else {
          if (_0xdad40d.id == "chatButton") _0x262c5d["dialogHandler"]["showDialog"]("chat"); else {
            if (_0xdad40d.id == "configButton") _0x262c5d["dialogHandler"].showDialog("config"); else {
              if (_0xdad40d.id == "leaveButton") {
                var _0x111bdd = _0x262c5d["dialogHandler"]["createConfirmation"](textManager.getString("messages.lblLeaveRoom"));
                _0x111bdd.on("confirmationClosed", function (_0x1b8ad2) {
                  _0x1b8ad2["response"] == "ok" && _0x262c5d["leaveRoom"](), _0x262c5d["dialogHandler"]["destroyConfirmation"]();
                });
              }
            }
          }
        }
        _0xdad40d.element && _0xdad40d["element"]["blur"]();
      }), this.bottombar = new Bottombar($("#bottombar")), $(this["bottombar"]).on("buttonPressed", function (_0x39019f) {
        if (_0x39019f.id == "flipXButton") _0x262c5d.flipView(!_0x262c5d.flipX); else {
          if (_0x39019f.id == "uploadButton") _0x262c5d["dialogHandler"]["showDialog"]("upload"); else {
            if (_0x39019f.id == "undoButton") _0x262c5d["dialogHandler"].showDialog("undo"); else {
              if (_0x39019f.id == "messengerButton") _0x262c5d["dialogHandler"].showDialog("messenger"); else {
                if (_0x39019f.id == "roomManagerButton") _0x262c5d["dialogHandler"]["showDialog"]("roommanager"); else {
                  if (_0x39019f.id == "adminConsoleButton") _0x262c5d["dialogHandler"]["showDialog"]("adminconsole"); else {
                    if (_0x39019f.id == "feedbackButton") _0x262c5d["dialogHandler"].showDialog("feedback"); else {
                      if (_0x39019f.id == "saveButton") _0x262c5d.dialogHandler["showDialog"]("save"); else {
                        if (_0x39019f.id == "zoominButton") {
                          var _0x46b911 = _0x262c5d["drawingArea"]["width"](),
                            _0x8dde7d = _0x262c5d["drawingArea"]["height"](),
                            _0x93d56b = _0x262c5d.drawingArea["offset"]();
                          _0x262c5d["zoomToScreenPoint"](_0x46b911 / 2 + _0x93d56b["left"], _0x8dde7d / 2 + _0x93d56b["top"], "zoomIn");
                        } else {
                          if (_0x39019f.id == "zoomoutButton") {
                            var _0x46b911 = _0x262c5d["drawingArea"]["width"](),
                              _0x8dde7d = _0x262c5d["drawingArea"]["height"](),
                              _0x93d56b = _0x262c5d.drawingArea["offset"]();
                            _0x262c5d["zoomToScreenPoint"](_0x46b911 / 2 + _0x93d56b["left"], _0x8dde7d / 2 + _0x93d56b["top"], "zoomOut");
                          } else {
                            if (_0x39019f.id == "centerButton") _0x262c5d.centerBoard(); else {
                              if (_0x39019f.id == "fitButton") _0x262c5d.fitToScreen(); else {
                                if (_0x39019f.id == "scaleLink") room["board"].changeScale(1), _0x262c5d["centerBoard"](); else {
                                  if (_0x39019f.id == "rotationLink") room["board"]["changeRotation"](0); else {
                                    if (_0x39019f.id == "toggleSmoothingButton") _0x262c5d["togglePixelSmoothing"](); else {
                                      if (_0x39019f.id == "registerButton") {
                                        var _0x52594b = {};
                                        _0x52594b["command"] = "ROOMREQUEST", _0x52594b["action"] = "Register", socket.send(_0x52594b, true);
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
        _0x39019f.element && _0x39019f["element"]["blur"]();
      }), $(textManager).on("localeChanged", function (_0x55b14e) {
        _0x262c5d["sidebar"] && _0x262c5d["sidebar"].layerPreview && _0x262c5d.sidebar["layerPreview"]["updateLayerCount"](true), UI["userPreferences"]["setProperty"]("language", _0x55b14e["current"]);
      }), this.setupDialogs(), this.initialized = true;
    }
  }
  ["rankToIndex"](_0x2051c0) {
    return this.userRanks["indexOf"](_0x2051c0);
  }
  ["indexToRank"](_0x7dbab5) {
    return this.userRanks[_0x7dbab5];
  }
  ["userRank"](_0x5689df, _0x36bb2f = true) {
    return textManager["getString"]("global.rank." + _0x5689df, null, _0x36bb2f);
  }
  ["userPrivilege"](_0x2ecf90, _0x88903f = true) {
    return textManager["getString"]("roommanager.privilege." + _0x2ecf90, null, _0x88903f);
  }
  ["createShortcutManager"]() {
    this.shortcutManager = new ShortcutManager(storage);
    var _0x207886 = this;
    $(this.shortcutManager).on("shortcutPressed shortcutReleased", function (_0x252a63) {
      if (_0x252a63["type"] == "shortcutPressed" && (_0x252a63["eventType"] == "keydown" || _0x252a63["eventType"] == "holdable")) {
        if (_0x252a63["stype"] == "tool") _0x207886["isToolAvailable"](_0x252a63.id) && _0x207886["sidebar"]["toolbar"].select(_0x252a63.id); else {
          if (_0x252a63["stype"] == "dialog") _0x252a63.id == "color" ? _0x207886["dialogHandler"]["getActiveDialogName"]() == "ColorDialog" ? _0x207886["colorDialog"]["hide"]() : ($(_0x207886["colorDialog"]).on("colorChanged.colorbox", function (_0x1735d5) {
            _0x207886["colorChange"](_0x1735d5["color"]), $(_0x207886.colorDialog)["off"](".colorbox");
          }), $(_0x207886["colorDialog"]).on("dialogClosed.colorbox", function (_0x41fb22) {
            $(_0x207886["colorDialog"])["off"](".colorbox");
          }), _0x207886.colorDialog["show"](_0x207886.sidebar["colorBox"]["primaryColor"])) : _0x207886.dialogHandler["toggleDialog"](_0x252a63.id); else {
            if (_0x252a63.stype == "coloroption") {
              var _0x237acc = _0x252a63.id["substr"](1),
                _0x4d57e1 = _0x252a63.id[0] == "+" ? 5 : -5,
                _0x12b152 = _0x207886["sidebar"]["colorBox"]["primaryColor"];
              _0x12b152[0] != "#" && (_0x12b152 = rgb2hex(_0x12b152));
              var _0x9cff0b = hex2rgb(_0x12b152),
                _0x28c499 = rgb2hsv(_0x9cff0b.r, _0x9cff0b.g, _0x9cff0b.b),
                _0x5a876b,
                _0x3c8802 = _0x237acc == "h" || _0x237acc == "s" || _0x237acc == "v";
              if (_0x3c8802) {
                if (_0x237acc == "h") _0x28c499.h = _0x28c499.h + _0x4d57e1; else {
                  if (_0x237acc == "s") _0x28c499.s = _0x28c499.s + _0x4d57e1; else _0x237acc == "v" && (_0x28c499.v = _0x28c499.v + _0x4d57e1);
                }
                var _0x2b39a7 = hsv2rgb(loopValue(_0x28c499.h, 360), loopValue(_0x28c499.s, 100), loopValue(_0x28c499.v, 100));
                _0x5a876b = "rgb(" + _0x2b39a7.r + "," + _0x2b39a7.g + "," + _0x2b39a7.b + ")";
              } else {
                if (_0x237acc == "r") _0x9cff0b.r = _0x9cff0b.r + _0x4d57e1; else {
                  if (_0x237acc == "g") _0x9cff0b.g = _0x9cff0b.g + _0x4d57e1; else _0x237acc == "b" && (_0x9cff0b.b = _0x9cff0b.b + _0x4d57e1);
                }
                _0x5a876b = "rgb(" + Math["min"](Math["max"](_0x9cff0b.r, 0), 255) + "," + Math.min(Math["max"](_0x9cff0b.g, 0), 255) + "," + Math.min(Math.max(_0x9cff0b.b, 0), 255) + ")";
              }
              room.myself["surface"]["setColor"](_0x5a876b);
            } else {
              if (_0x252a63["stype"] == "slideroption") {
                var _0x237acc = _0x252a63.id["substr"](1),
                  _0x4d26fe = room["myself"].surface["getBrushOptionObject"](_0x237acc),
                  _0x4d57e1 = _0x252a63.id[0] == "+" ? _0x4d26fe["step"] : _0x4d26fe["step"] * -1;
                if (room["myself"].surface["hasBrushOption"](_0x237acc)) {
                  if (!room["myself"]["surface"]["isBrushOptionReadOnly"](_0x237acc)) {
                    var _0xa2bade = room.myself["surface"]["getBrushOption"](_0x237acc);
                    room.myself["surface"]["setBrushOption"](_0x237acc, Math["max"](Math["min"](_0xa2bade + _0x4d57e1, _0x4d26fe["max"]), _0x4d26fe["min"]));
                  }
                }
              } else {
                if (_0x252a63.stype == "userlist") {
                  let _0x17d09f = _0x207886["sidebar"]["userList"]["getSelected"]();
                  if (_0x17d09f && _0x17d09f != room["myself"]["username"]) {
                    if (_0x252a63.id == "kickuser") room["myself"].surface["userRequestAction"]("Kck", _0x17d09f); else {
                      if (_0x252a63.id == "banuser") room["myself"].surface["userRequestAction"]("Bn", _0x17d09f); else {
                        if (_0x252a63.id == "muteuser") room.myself["surface"].userRequestAction("Muu", _0x17d09f); else {
                          if (_0x252a63.id == "unmuteuser") room["myself"]["surface"].userRequestAction("Umu", _0x17d09f); else {
                            if (_0x252a63.id == "silenceuser") room["myself"]["surface"].userRequestAction("Siu", _0x17d09f); else {
                              if (_0x252a63.id == "unsilenceuser") room["myself"].surface["userRequestAction"]("Usi", _0x17d09f); else _0x252a63.id == "toggleignoreuser" && room["toggleIgnoreUser"](_0x17d09f);
                            }
                          }
                        }
                      }
                    }
                  }
                } else {
                  if (_0x252a63["stype"] == "slidercheckoption") {
                    var _0x2f20f3 = _0x252a63.id[0],
                      _0x237acc = _0x252a63.id["substr"](1);
                    if (room["myself"]["surface"]["hasBrushOption"](_0x237acc)) {
                      if (!room.myself["surface"]["isBrushOptionReadOnly"](_0x237acc)) {
                        if (room["myself"]["surface"]["brushHandler"]["brush"]["options"][_0x237acc]["isCompatible"](room["type"], room["board"]["nLayers"])) {
                          var _0xa2bade = room["myself"]["surface"].getBrushOption(_0x237acc),
                            _0x5badd9;
                          if (_0x2f20f3 == "+") _0x5badd9 = true; else {
                            if (_0x2f20f3 == "-") _0x5badd9 = false; else _0x2f20f3 == "!" && (_0x5badd9 = !_0xa2bade[0]);
                          }
                          room.myself["surface"]["setBrushOption"](_0x237acc, [_0x5badd9, _0xa2bade[1]]);
                        }
                      }
                    }
                  } else {
                    if (_0x252a63["stype"] == "checkboxoption") {
                      var _0x2f20f3 = _0x252a63.id[0],
                        _0x237acc = _0x252a63.id["substr"](1);
                      if (room["myself"].surface["hasBrushOption"](_0x237acc)) {
                        if (!room["myself"]["surface"].isBrushOptionReadOnly(_0x237acc)) {
                          if (room.myself.surface.brushHandler["brush"]["options"][_0x237acc]["isCompatible"](room.type, room["board"]["nLayers"])) {
                            var _0x5badd9;
                            if (_0x2f20f3 == "+") _0x5badd9 = true; else {
                              if (_0x2f20f3 == "-") _0x5badd9 = false; else {
                                if (_0x2f20f3 == "!") {
                                  var _0xa2bade = room["myself"]["surface"].getBrushOption(_0x237acc);
                                  _0x5badd9 = !_0xa2bade;
                                }
                              }
                            }
                            room.myself["surface"]["setBrushOption"](_0x237acc, _0x5badd9);
                          }
                        }
                      }
                    } else {
                      if (_0x252a63["stype"] == "listoption") {
                        var _0x2f20f3 = _0x252a63.id[0],
                          _0x237acc = _0x252a63.id.substr(1);
                        if (room["myself"]["surface"]["hasBrushOption"](_0x237acc)) {
                          if (!room.myself.surface["isBrushOptionReadOnly"](_0x237acc)) {
                            if (room["myself"].surface["brushHandler"]["brush"]["options"][_0x237acc]["isCompatible"](room["type"], room["board"]["nLayers"])) {
                              var _0x32178a = Object["keys"](room.myself["surface"]["brushHandler"]["brush"]["options"][_0x237acc].list),
                                _0xa2bade = room["myself"]["surface"]["getBrushOption"](_0x237acc),
                                _0x21efde = _0x32178a["indexOf"](_0xa2bade),
                                _0x42c455;
                              _0x2f20f3 == "-" ? _0x21efde + 1 > _0x32178a["length"] - 1 ? _0x42c455 = 0 : _0x42c455 = _0x21efde + 1 : _0x21efde - 1 < 0 ? _0x42c455 = _0x32178a["length"] - 1 : _0x42c455 = _0x21efde - 1, room.myself.surface["setBrushOption"](_0x237acc, _0x32178a[_0x42c455]);
                            }
                          }
                        }
                      } else {
                        if (_0x252a63["stype"] == "custom") {
                          if (_0x252a63.id == "moveboard") _0x207886.preDrag(true); else {
                            if (_0x252a63.id == "changeprimarycolor") _0x207886["sidebar"].colorBox.changePrimary(); else {
                              if (_0x252a63.id == "changesecondarycolor") _0x207886.sidebar["colorBox"]["changeSecondary"](); else {
                                if (_0x252a63.id == "swapcolors") _0x207886["sidebar"]["colorBox"]["swap"](); else {
                                  if (_0x252a63.id == "nexttool") _0x207886["sidebar"]["toolbar"].selectNextTool(); else {
                                    if (_0x252a63.id == "previoustool") _0x207886["sidebar"]["toolbar"]["selectPreviousTool"](); else {
                                      if (_0x252a63.id == "switchprev") _0x207886["sidebar"]["toolbar"].selectPreviouslyUsed(); else {
                                        if (_0x252a63.id == "fullscreen") _0x207886.toggleFullscreen(); else {
                                          if (_0x252a63.id == "zoomin") {
                                            var _0x17525a = _0x207886["drawingArea"]["width"](),
                                              _0xdd028 = _0x207886.drawingArea["height"](),
                                              _0x1d3ca7 = _0x207886["drawingArea"].offset();
                                            _0x207886["zoomToScreenPoint"](_0x17525a / 2 + _0x1d3ca7["left"], _0xdd028 / 2 + _0x1d3ca7.top, "zoomIn");
                                          } else {
                                            if (_0x252a63.id == "zoomout") {
                                              var _0x17525a = _0x207886.drawingArea.width(),
                                                _0xdd028 = _0x207886["drawingArea"].height(),
                                                _0x1d3ca7 = _0x207886["drawingArea"]["offset"]();
                                              _0x207886["zoomToScreenPoint"](_0x17525a / 2 + _0x1d3ca7["left"], _0xdd028 / 2 + _0x1d3ca7["top"], "zoomOut");
                                            } else {
                                              if (_0x252a63.id == "nextlayerup") _0x207886.sidebar["layerPreview"]["nextLayerUp"](); else {
                                                if (_0x252a63.id == "nextlayerdown") _0x207886["sidebar"]["layerPreview"]["nextLayerDown"](); else {
                                                  if (_0x252a63.id == "closedialog") _0x207886["dialogHandler"].activeDialog && _0x207886["dialogHandler"]["activeDialog"]["closable"] && (_0x207886.dialogHandler["activeDialog"]["hasModal"]() ? _0x207886["dialogHandler"]["activeDialog"]["disableModal"]() : _0x207886.dialogHandler["activeDialog"]["hide"]()); else {
                                                    if (_0x252a63.id == "maximizedialog") _0x207886["dialogHandler"]["activeDialog"] && _0x207886["dialogHandler"]["activeDialog"]["toggleMaximize"](); else {
                                                      if (_0x252a63.id == "radialmenu") {
                                                        if (_0x207886["overBoard"]) {
                                                          var _0x2841e2 = room["myself"]["surface"]["brushHandler"]["getOption"]("size");
                                                          _0x207886["radialMenu"]["setSlider"]("size", _0x2841e2 * 100 / room["myself"]["surface"].maxSize), _0x207886["radialMenu"].move(_0x207886.mousePointer["position"].x, _0x207886.mousePointer["position"].y), _0x207886["radialMenu"]["show"]();
                                                        }
                                                      } else {
                                                        if (_0x252a63.id == "leaveroom") _0x207886["leaveRoom"](); else {
                                                          if (_0x252a63.id == "rotatereset") room.board["changeRotation"](0); else {
                                                            if (_0x252a63.id == "rotate45left") room.board["changeRotation"](room.board.rotation - 45); else {
                                                              if (_0x252a63.id == "rotate45right") room["board"]["changeRotation"](room["board"]["rotation"] + 45); else {
                                                                if (_0x252a63.id == "resetzoom") room["board"]["changeScale"](1), _0x207886["centerBoard"](); else {
                                                                  if (_0x252a63.id == "fittoscreen") _0x207886["fitToScreen"](); else {
                                                                    if (_0x252a63.id == "centerboard") _0x207886["centerBoard"](); else {
                                                                      if (_0x252a63.id == "viewflip") _0x207886["flipView"](!_0x207886["flipX"]); else {
                                                                        if (_0x252a63.id == "pixelsmoothing") _0x207886.togglePixelSmoothing(); else {
                                                                          if (_0x252a63.id == "cancelstroke") room["myself"]["surface"].penCancel(); else {
                                                                            if (_0x252a63.id == "rightclick") {
                                                                              if (room["myself"]["surface"]["brushHandler"]["hasOption"]("rightclick")) {
                                                                                var _0x1a15ab = room["myself"]["surface"].brushHandler.getOption("rightclick");
                                                                                _0x207886["rightClick"](_0x1a15ab);
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        } else {
                          if (_0x252a63["stype"] == "color") {
                            var _0x5c0a85 = parseInt(_0x252a63.id["replace"]("pickcolor", ""));
                            _0x207886.bottombar.colorBubbles["loadBubble"](_0x5c0a85 - 1);
                          } else {
                            if (_0x252a63["stype"] == "preset") {
                              var _0x5c0a85 = parseInt(_0x252a63.id["replace"]("loadpreset", ""));
                              _0x207886["sidebar"]["presets"]["loadBubble"](_0x5c0a85 - 1);
                            } else _0x252a63.stype == "blendmode" && room["myself"].surface["hasBrushOption"]("blendmode") && !room["myself"].surface["isBrushOptionReadOnly"]("blendmode") && room.myself["surface"]["setBrushOption"]("blendmode", _0x252a63.id);
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      } else {
        if (_0x252a63.type == "shortcutReleased" && (_0x252a63["eventType"] == "keyup" || _0x252a63.eventType == "holdable")) {
          if (_0x252a63.stype == "tool") _0x252a63["eventType"] == "holdable" && _0x252a63["heldFor"] > 0.3 && _0x207886["sidebar"]["toolbar"]["selectPreviouslyUsed"](); else {
            if (_0x252a63.id == "radialmenu") _0x207886.radialMenu["hide"](); else _0x252a63.stype == "custom" && _0x252a63.id == "moveboard" && _0x207886.preDrag(false);
          }
        }
      }
    });
  }
  ["playSound"](_0xb952ee) {
    this["soundSystem"] && this["soundSystem"].play(_0xb952ee);
  }
  ["leaveRoom"](_0x1ebb92 = false) {
    var _0x18dd9c = true;
    this["dialogHandler"].activeDialog && !this["dialogHanlder"]["activeDialog"].closable && (_0x18dd9c = false), (_0x18dd9c || _0x1ebb92) && (window["history"].pushState("", "FlockMod", this["baseDir"]), this["dialogHandler"].hideAll(), this["dialogHandler"]["showDialog"]("login"), this["loginDialog"]["refresh"]()), this.inRoom = false;
  }
  ["toggleFullscreen"]() {
    var _0x172522 = $(document.body)[0];
    document["fullscreenEnabled"] && (!document.fullscreenElement ? _0x172522.requestFullscreen && _0x172522["requestFullscreen"]() : document["exitFullscreen"] && document.exitFullscreen());
  }
  ["createBrushSelectionToolbar"]() {
    this.selectionToolbar = new FloatingToolbar(this["dialogHandler"]["container"]), this["selectionToolbar"]["clearButtons"](), this["selectionToolbar"].addButton("clear", textManager["getString"]("toolbar.btnClear"), "fa-eraser"), this["selectionToolbar"]["addButton"]("fill", textManager["getString"]("toolbar.btnFill"), "fa-fill-drip"), this.selectionToolbar["addButton"]("move", textManager["getString"]("toolbar.btnMove"), "fa-arrows-alt"), this["selectionToolbar"]["addButton"]("clone", textManager.getString("toolbar.btnClone"), "fa-clone"), this.selectionToolbar["addButton"]("save", textManager["getString"]("toolbar.btnSave"), "fa-save", "btn-primary"), this["selectionToolbar"]["addButton"]("undo", textManager["getString"]("toolbar.btnUndo"), "fa-undo", "btn-primary"), this["selectionToolbar"]["addButton"]("custom", textManager["getString"]("toolbar.btnCustomBrush"), "fa-paint-roller"), this["selectionToolbar"]["addButton"]("cancel", textManager["getString"]("toolbar.btnCancel"), "fa-times", "btn-secondary");
    var _0x651fd7 = this;
    $(this["selectionToolbar"]).on("optionSelected", function (_0x1e4726) {
      var _0x158a2e = room["myself"]["surface"]["brushHandler"]["brush"];
      if (_0x1e4726["option"] == "move" || _0x1e4726["option"] == "clone") {
        var _0xb9f96d = new Array();
        if (_0x158a2e.getOption("multilayer")) for (var _0x1c05ac = 0; _0x1c05ac < _0x158a2e["getOption"]("allowedlayers")["length"]; _0x1c05ac++) {
          _0xb9f96d["push"](_0x158a2e["getOption"]("allowedlayers")[_0x1c05ac]);
        } else _0xb9f96d["push"](room["myself"]["surface"]["currentLayer"]);
        if (_0xb9f96d["length"] > 0) {
          var _0x5e5bdb = 4,
            _0x23d41a = 0;
          _0x651fd7["uploader"]["clearLayers"](), $.each(_0xb9f96d, function (_0x577326, _0x9afa41) {
            var _0x37c59b = _0x158a2e.getSelectedImage(_0x9afa41);
            _0x37c59b.then(function (_0x157187) {
              _0x651fd7["uploader"]["addLayer"](_0x157187["layer"], _0x157187.img, _0x157187.position.x, _0x157187["position"].y, _0x5e5bdb), ++_0x23d41a >= _0xb9f96d["length"] && (room["myself"]["surface"]["brushParameter"]({
                action: _0x1e4726["option"]
              }), _0x651fd7["selectionToolbar"].hide(), _0x651fd7["uploader"]["show"]("selection", _0x1e4726["option"] == "move"));
            });
          });
        }
      } else {
        if (_0x1e4726.option == "custom") $(_0x651fd7.saveDialog).on("imageLoaded.toolbarSelection", function (_0x4b1f7d) {
          _0x651fd7["brushDesignerDialog"]["previewCanvas"](_0x651fd7["saveDialog"]["canvas"]["canvas"][0]), _0x651fd7["brushDesignerDialog"]["show"](), $(_0x651fd7.saveDialog)["off"](".toolbarSelection"), _0x651fd7["sidebar"]["toolbar"]["select"]("custom");
        }), _0x651fd7["saveDialog"].getBrushSelection(), this.hide(); else _0x1e4726["option"] == "save" ? (_0x651fd7["saveDialog"].show("selection"), this["hide"]()) : (_0x1e4726["option"] == "undo" && (_0x651fd7["undoDialog"].show(), _0x651fd7["undoDialog"]["changePartialSelection"]("lasso"), _0x651fd7["undoDialog"]["selection"]["setClicks"](_0x158a2e["getCoords"]()), _0x651fd7["undoDialog"]["selection"]["redraw"]()), room["myself"].surface["brushParameter"]({
          action: _0x1e4726["option"]
        }), this["hide"]());
      }
    }), $(this["selectionToolbar"]).on("floatingToolbarOpened floatingToolbarClosed", function (_0x1af45c) {
      _0x1af45c["type"] == "floatingToolbarOpened" && (_0x651fd7["isToolAvailable"]("custom") ? _0x651fd7.selectionToolbar["showButton"]("custom") : _0x651fd7["selectionToolbar"].hideButton("custom")), room["myself"]["surface"].getCurrentBrush() == "selection" && room["myself"]["surface"]["setBrushOptionReadOnly"]("selectiontype", _0x1af45c.type == "floatingToolbarOpened");
    });
  }
  ["setupDialogs"]() {
    this["chatDialog"] = this["dialogHandler"].createDialog("chat"), this["configDialog"] = this["dialogHandler"].createDialog("config"), this["loginDialog"] = this.dialogHandler.createDialog("login"), this["undoDialog"] = this.dialogHandler["createDialog"]("undo"), this["roomManagerDialog"] = this.dialogHandler["createDialog"]("roommanager"), this["saveDialog"] = this["dialogHandler"]["createDialog"]("save"), this["uploadDialog"] = this["dialogHandler"]["createDialog"]("upload"), this.brushDesignerDialog = this.dialogHandler["createDialog"]("brushdesigner"), this["brushGalleryDialog"] = this.dialogHandler["createDialog"]("brushgallery"), this.debugDialog = this["dialogHandler"]["createDialog"]("debug"), this["profileDialog"] = this.dialogHandler["createDialog"]("profile"), this["colorDialog"] = this["dialogHandler"].createDialog("color"), this.helpDialog = this["dialogHandler"]["createDialog"]("help"), this["adminConsoleDialog"] = this["dialogHandler"]["createDialog"]("adminconsole"), this["feedbackDialog"] = this.dialogHandler["createDialog"]("feedback"), this["animationDialog"] = this["dialogHandler"]["createDialog"]("animation"), this["messengerDialog"] = this["dialogHandler"].createDialog("messenger"), this["galleryImageDialog"] = this.dialogHandler["createDialog"]("galleryimage"), this.userGalleryDialog = this["dialogHandler"]["createDialog"]("usergallery");
    var _0x3b5ec4 = this;
    $(this["loginDialog"]).on("dialogOpened", function (_0x90e80f) {
      _0x3b5ec4["showScreen"]();
    }), $(this.chatDialog).on("unreadMessages", function (_0x4865f2) {
      var _0x5f42ed = "danger";
      if (_0x4865f2["messagetype"] == "events") _0x5f42ed = "default"; else _0x4865f2["messagetype"] == "pm" && (_0x5f42ed = "secondary");
      _0x3b5ec4["topbar"].setCounter("chatButton", _0x4865f2["messages"], _0x5f42ed);
    }), $(this["messengerDialog"]).on("unreadMessages", function (_0x4f55d4) {
      _0x3b5ec4.bottombar["setCounter"]("messengerButton", _0x4f55d4["messages"]);
    });
  }
  ["showScreen"]() {
    this["loadingScreen"]["hide"]();
  }
  ["hideScreen"](_0x689a07 = "", _0x5aa5ab = false, _0x15f3ae = 1, _0x35a5ce = "fa-cog") {
    this["loadingScreen"]["show"](_0x689a07, _0x5aa5ab, _0x15f3ae, _0x35a5ce);
  }
  ["showSelectionToolbar"]() {
    var _0x32f15c = room["myself"]["surface"]["brushHandler"].brush;
    if (_0x32f15c["constructor"].name == "BrushSelection") {
      var _0x39d20e, _0x35037c;
      _0x32f15c["getOption"]("selectiontype") ? (_0x39d20e = getLimits(_0x32f15c["clickX"]), _0x35037c = getLimits(_0x32f15c["clickY"])) : (_0x39d20e = getLimits(new Array(_0x32f15c["start"].x, _0x32f15c["end"].x)), _0x35037c = getLimits(new Array(_0x32f15c["start"].y, _0x32f15c["end"].y)));
      var _0x4d27b0 = 5,
        _0x2afca3 = room["board"]["offset"](),
        _0x1e583e = this["selectionToolbar"].toolbar["outerHeight"](),
        _0x562cf8 = Math["max"](Math["min"](_0x39d20e.x, room.board.canvasWidth), 0) + this.viewOffset.x,
        _0x5303ff = Math["max"](Math["min"](_0x35037c.x, room["board"]["canvasHeight"]), 0) + this["viewOffset"].y,
        _0x19a4bf = this["boardToScreen"](_0x562cf8, _0x5303ff);
      this["selectionToolbar"]["visible"]() ? this.selectionToolbar["position"](_0x19a4bf.x - _0x4d27b0, _0x19a4bf.y - _0x1e583e - _0x4d27b0) : (room["can"]("pundo") ? this["selectionToolbar"].showButton("undo") : this["selectionToolbar"]["hideButton"]("undo"), this["selectionToolbar"]["show"](_0x19a4bf.x - _0x4d27b0, _0x19a4bf.y - _0x1e583e - _0x4d27b0));
    }
  }
  ["resetViewSize"]() {
    this["setViewSize"](room["board"]["canvasWidth"], room["board"]["canvasHeight"]), this.setViewOffset(0, 0), this["updateViewLimits"]();
  }
  ["setViewSize"](_0x4b5282, _0x50f854) {
    var _0x364dd5 = !(_0x4b5282 == room["board"]["canvasWidth"] && _0x50f854 == room.board["canvasHeight"]);
    this["limitedViewSize"] != _0x364dd5 && (this["limitedViewSize"] = _0x364dd5, $(this).triggerHandler(new viewSizeChangedEvent(_0x364dd5, _0x4b5282, _0x50f854).getEvent())), this.boardContainer["css"]({
      width: _0x4b5282,
      height: _0x50f854
    });
  }
  ["setViewOffset"](_0x56a61b, _0x22aa07) {
    this["viewOffset"] = new Point(_0x56a61b, _0x22aa07), this.updateTransform();
  }
  ["bindEventsRoom"]() {
    var _0x4136b7 = this;
    $(room).on("roomChanged", function (_0x2fa037) {
      _0x4136b7["chatDialog"]["reset"](), room["board"]["clearLayers"]();
    }), $(room).on("roomConnected", function (_0x5479dc) {
      _0x4136b7["loginDialog"]["active"] && _0x4136b7["loginDialog"].hide(), room.createSession(), _0x4136b7["firstSyncFailed"] = [], _0x4136b7["firstSyncOrder"] = [], _0x4136b7.sidebar["userList"].addMyself(), room["myself"].surface["setUsername"](room["myself"].username), _0x4136b7.userPreferences["getGroupOption"]("graphics", "showusername", true) ? room.myself["surface"]["cursor"]["showUsername"]() : room["myself"].surface.cursor.hideUsername(), window.history["pushState"]("", _0x5479dc["room"], "/r/" + _0x5479dc["room"]), _0x4136b7.topbar["setText"]("", UI["baseURL"] + "/r/" + _0x5479dc.room), _0x4136b7["chatDialog"]["bindRoomEvents"](), _0x5479dc.description["trim"]() != "" && _0x4136b7["chatDialog"]["createMessage"]("public", "room", "MOTD", escapeHTML(_0x5479dc["description"])), $(document)["prop"]("title", "#" + _0x5479dc["room"] + " - FlockMod"), _0x4136b7["sidebar"]["userList"]["refresh"](), _0x4136b7["sidebar"]["layerPreview"].updateLayerCount(), _0x4136b7["sidebar"]["layerPreview"].highlight(room.myself["surface"]["currentLayer"]), _0x4136b7["sidebar"]["toolbar"]["highlight"](room["myself"]["surface"].getCurrentBrush()), _0x4136b7["topbar"]["showButton"]("chatButton"), $(room["myself"].surface).triggerHandler(new brushChangedEvent(_0x4136b7["defaultBrush"])["getEvent"]()), $(room["myself"]["surface"])["triggerHandler"](new colorChangedEvent(_0x4136b7["defaultColor"]).getEvent()), _0x4136b7["sidebar"]["toolbar"]["select"](_0x4136b7["defaultBrush"]), room["myself"]["surface"]["setColor"](_0x4136b7["defaultColor"]), _0x4136b7["warnExit"] = true, setTimeout(function (_0x5be726) {
        _0x4136b7.updateViewLimits(), _0x4136b7["centerBoard"]();
      }, 1e3);
    }), $(room).on("roomDisconnected", function (_0x2cfaa1) {
      $(document)["prop"]("title", "FlockMod"), _0x4136b7["selectionToolbar"]["visible"]() && _0x4136b7.selectionToolbar.hide(), _0x4136b7["chatDialog"]["unbindRoomEvents"](), _0x4136b7["undoDialog"]["pause"](), _0x4136b7.uploader["cancel"](), _0x4136b7.sidebar["layerPreview"]["reset"](), _0x4136b7.warnExit = false, _0x4136b7["topbar"]["hideButton"]("chatButton"), $["each"](room["users"], function (_0x357e7f, _0x34547c) {
        room.removeUser(_0x357e7f);
      }), _0x4136b7["sidebar"]["userList"]["clear"](), room.myself["surface"].clearSlate();
    }), $(room).on("youLeft", function (_0x28ea92) {
      _0x4136b7["topbar"]["setText"]("", "Welcome to FlockMod"), _0x4136b7.boardContainer["fadeOut"](400), _0x4136b7["sidebar"]["collapse"](), _0x4136b7["firstSyncFailed"] = [], _0x4136b7.firstSyncOrder = [], room["session"] = 0;
    }), $(room).on("roomTypeChanged", function (_0x5bc1e6) {
      _0x5bc1e6["newType"] == "A" ? (room["board"].drawGrid(room["animRows"], room["animCols"]), _0x4136b7["sidebar"]["showComponent"]("Animation")) : (room["board"]["clearGrid"](), _0x4136b7.sidebar["hideComponent"]("Animation"), _0x4136b7["limitedViewSize"] && (_0x4136b7.resetViewSize(), _0x4136b7.fitToScreen()));
    }), $(room).on("animationFrameChanged", function (_0x36bafe) {
      room["type"] == "A" && (room["board"]["drawGrid"](_0x36bafe["rows"], _0x36bafe["cols"]), _0x4136b7["limitedViewSize"] && (_0x4136b7["resetViewSize"](), _0x4136b7["fitToScreen"]()));
    }), $(room).on("userJoined", function (_0x29eb8d) {
      _0x4136b7["sidebar"]["userList"].addUser(_0x29eb8d), _0x4136b7["sidebar"]["userList"]["sort"]();
      var _0x39e720 = room["users"][_0x29eb8d.username];
      _0x39e720.surface["slate"]["canvas"]["hide"](), room["myself"]["alone"](room["users"]["length"] > 0), $(_0x39e720.surface).on("penShow", function (_0x52177d) {
        _0x39e720["surface"]["getCurrentBrush"]() == "text" && _0x39e720["surface"]["brushHandler"]["brush"]["positionText"]();
      });
      var _0x3f9ea5,
        _0x20bd22 = _0x4136b7["userRank"](_0x39e720["rank"], false),
        _0xa0990b = _0x39e720["username"],
        _0x46ada6 = (_0x39e720["country"] ? " <img class=\"flagIcon\" src=\"" + UI.baseDir + "images/flags/" + _0x39e720["country"] + '.png" alt="' + _0x39e720.country + "\" data-tooltip=\"" + _0x39e720["country"] + "\" />" : "") + (_0x39e720["proxy"] ? " <span data-tooltip=\"" + textManager["getString"]("events.txtProxy", null, false) + '">' + new Icon("fa-network-wired")["html"]() + "</span>" : "") + (_0x39e720["hasIP"]() ? " (" + _0x39e720.ip + ")" : "");
      _0x29eb8d["wasintheroom"] ? _0x3f9ea5 = textManager["getString"]("events.txtUserInRoom", [_0x20bd22, _0xa0990b, _0x46ada6], false) : _0x3f9ea5 = textManager["getString"]("events.txtUserEnters", [_0x20bd22, _0xa0990b, _0x46ada6], false), _0x4136b7["chatDialog"]["createMessage"]("public", "room", "EVENT", _0x3f9ea5), _0x4136b7["chatDialog"]["existsChannel"](_0x39e720["username"], "user") && _0x4136b7["chatDialog"]["createMessage"](_0x39e720["username"], "user", "EVENT", _0x3f9ea5);
    }), $(room).on("userLeft", function (_0x1f3ced) {
      room["myself"]["alone"](room.users.length > 0);
    }), $(room).on("userLeaving", function (_0x170668) {
      var _0x54fabe = room["users"][_0x170668["username"]],
        _0x3dc0aa = _0x4136b7["userRank"](_0x54fabe["rank"], false),
        _0x423a82 = _0x54fabe.username,
        _0x1f4896 = (_0x54fabe["country"] ? ' <img class="flagIcon" src="' + UI.baseDir + "images/flags/" + _0x54fabe.country + ".png\" alt=\"" + _0x54fabe["country"] + "\" data-tooltip=\"" + _0x54fabe.country + "\" />" : "") + (_0x54fabe.proxy ? " <span data-tooltip=\"Proxy\">" + new Icon("fa-network-wired")["html"]() + "</span>" : "") + (_0x54fabe["hasIP"]() ? " (" + _0x54fabe.ip + ")" : ""),
        _0x42be29 = _0x170668["reason"] && _0x170668["reason"] != "LEAVE" ? " (" + _0x170668["reason"] + ")" : "",
        _0x16dddb = textManager["getString"]("events.txtUserLeaves", [_0x3dc0aa, _0x423a82, _0x1f4896, _0x42be29], false);
      _0x4136b7["chatDialog"]["createMessage"]("public", "room", "EVENT", _0x16dddb), _0x4136b7["chatDialog"]["existsChannel"](_0x54fabe["username"], "user") && _0x4136b7["chatDialog"]["createMessage"](_0x54fabe["username"], "user", "EVENT", _0x16dddb), _0x4136b7["sidebar"].userList["removeUser"](_0x170668), $.each(room["transfers"], function (_0x233f86, _0xe04f27) {
        _0xe04f27["username"] == _0x170668["username"] && !_0xe04f27["completed"] && !_0xe04f27["failed"] && _0xe04f27["fail"]();
      });
    }), $(room).on("muteTimerStarted", function (_0x5f50b5) {
      _0x4136b7.muteTime(_0x5f50b5["time"]);
    }), $(room).on("roomPrivilegesChanged", function (_0x4a2679) {
      _0x4136b7["setupPrivileges"](room["privileges"]);
    }), $(room).on("roomToolsChanged", function (_0x1c2a5d) {
      _0x4136b7.setupTools(room["tools"]);
    }), $(room["myself"]).on("muteChanged", function (_0x551627) {
      !_0x551627["status"] && (_0x4136b7["syncBrushes"](), _0x4136b7["clearMuteTime"](), _0x4136b7["bottombar"]["setText"](""));
    }), $(room["myself"]).on("rankChanged", function (_0x1aef4c) {
      _0x4136b7.setupPrivileges(room["privileges"]), _0x4136b7["setupTools"](room["tools"]), _0x4136b7["profileDialog"]["checkAccountType"]();
    }), $(room.myself.surface).on("colorChanged", function (_0x38efff) {
      _0x4136b7["sidebar"]["colorBox"]["setPrimary"](_0x38efff["color"]), _0x4136b7.sidebar["colorWheel"]["setColor"](_0x38efff["color"]);
    }), $(room["myself"]["surface"]).on("brushOptionChanged", function (_0x190c48) {
      _0x4136b7["savedOption"][_0x190c48["option"]] = _0x190c48["value"];
    }), $(room["myself"]["surface"]).on("penDown", function (_0x17cae8) {
      room["myself"].surface.getCurrentBrush() == "selection" && _0x4136b7.selectionToolbar["visible"]() && _0x4136b7["selectionToolbar"]["hide"]();
    }), $(room.myself["surface"]).on("penUp", function (_0x4c358a) {
      if (room.myself["surface"].getCurrentBrush() == "selection") {
        var _0x3f9c7e = room["myself"]["surface"]["brushHandler"].brush;
        _0x3f9c7e["moved"] && _0x4136b7["showSelectionToolbar"]();
      }
    }), $(room["myself"].surface).on("brushChanged", function (_0x572c5b) {
      _0x4136b7.setCurrentPointer(null);
      room["myself"].surface["getCurrentBrush"]() != "selection" && _0x4136b7["selectionToolbar"].visible() && _0x4136b7["selectionToolbar"]["hide"]();
      $["each"](room["myself"].surface["getBrushOptions"](), function (_0x23bd07, _0x2b339b) {
        _0x4136b7["userPreferences"]["getGroupOption"]("syncedoptions", _0x23bd07) && _0x23bd07 in _0x4136b7["savedOption"] && !room.myself["surface"]["isBrushOptionReadOnly"](_0x23bd07) && room["myself"].surface.setBrushOption(_0x23bd07, _0x4136b7["savedOption"][_0x23bd07]);
      });
      if (_0x4136b7["radialMenu"]["isVisible"]()) {
        var _0x1d11b8 = room["myself"].surface["brushHandler"]["getOption"]("size");
        _0x4136b7["radialMenu"].setSlider("size", _0x1d11b8 * 100 / room.myself["surface"].maxSize);
      }
    }), $(room["myself"]).on("userUnwanted", function (_0xb38fa1) {
      setTimeout(function () {
        socket["disconnect"](true), socket = null;
        if (_0xb38fa1["reason"] == "ban") UI["hideScreen"](textManager["getString"]("alerts.txtYouHaveBeenBanned"), false, 1, "fa-radiation-alt"); else _0xb38fa1["reason"] == "kick" && UI["hideScreen"](textManager["getString"]("alerts.txtYouHaveBeenKicked"), false, 1, "fa-exclamation-circle");
      }, 1e3);
    }), $(room["board"]).on("backgroundColorChanged", function (_0x4aea6c) {
      _0x4136b7["boardContainer"]["css"]("background-color", _0x4aea6c.newColor);
    }), $(room.board).on("canvasSizeChanged", function (_0x3a6b3a) {
      _0x4136b7["boardContainer"]["css"]({
        width: _0x3a6b3a["newWidth"],
        height: _0x3a6b3a["newHeight"]
      }), room["myself"]["surface"]["slate"]["changeSize"](_0x3a6b3a["newWidth"], _0x3a6b3a["newHeight"]), $["each"](room["users"], function (_0x1d94a9, _0x3da2bd) {
        _0x3da2bd["surface"]["slate"].changeSize(_0x3a6b3a["newWidth"], _0x3a6b3a["newHeight"]);
      }), _0x4136b7["undoDialog"]["reset"](), _0x4136b7.sidebar["layerPreview"]["updatePreviewSize"](), _0x4136b7["fitToScreen"](), _0x4136b7["centerBoard"]();
      _0x4136b7["uploader"]["isVisible"]() && _0x4136b7["uploader"]["isOutOfBounds"]() && _0x4136b7["uploader"]["resetPosition"]();
      for (var _0xaa3331 = 0; _0xaa3331 < room["board"]["nLayers"]; _0xaa3331++) {
        _0xaa3331 in _0x4136b7["_tmp"] && room["board"]["putLayerData"](_0xaa3331, _0x4136b7["_tmp"][_0xaa3331], 0, 0, _0x3a6b3a["newWidth"], _0x3a6b3a["newHeight"]);
      }
      _0x4136b7["_tmp"] = null;
    }), $(_0x4136b7).on("viewFlipped", function (_0x5ccda7) {
      room["myself"]["surface"]["getCurrentBrush"]() == "selection" && _0x4136b7["selectionToolbar"]["visible"]() && _0x4136b7.showSelectionToolbar();
    });
  }
  ["bindEventsDocument"]() {
    var _0x1de768 = this;
    $(window).on("beforeunload", function () {
      if (_0x1de768["warnExit"]) return true;
    }), $(this).on("windowFocused", function (_0x1b656e) {
      _0x1de768["onFocus"] = true;
    }), $(this).on("windowBlurred", function (_0x2a06fc) {
      _0x1de768["onFocus"] = false, _0x1de768["shortcutManager"]["releaseShortcuts"](_0x1de768["dialogHandler"]["openedDialogs"] > 0);
    }), $(document).on("paste", function (_0x1f8cb8) {
      if (room && room["myself"]) {
        var _0x5b16ef = room.myself["surface"].getCurrentBrush() == "text" && room["myself"]["surface"]["brushHandler"]["brush"]["enabled"];
        if (_0x5b16ef && !UI["dialogHandler"]["activeDialog"]) {
          _0x1f8cb8.preventDefault();
          var _0xca4f0c = _0x1f8cb8["originalEvent"].clipboardData["getData"]("text");
          for (var _0x18df02 = 0; _0x18df02 < Math["min"](_0xca4f0c["length"], room.myself["surface"]["brushHandler"]["brush"]["maxLength"] - room["myself"].surface["brushHandler"]["brush"]["getCurrentLength"]()); _0x18df02++) {
            _0xca4f0c[_0x18df02]["charCodeAt"](0) != 10 && room["myself"].surface["keyPress"](_0xca4f0c[_0x18df02].charCodeAt(0));
          }
        }
      }
    }), $(document).on(this.pointerEvent("move", "ui"), function (_0x32c21d) {
      if (!_0x1de768["onFocus"]) return;
      if (_0x1de768["pinching"]) return;
      if (!_0x1de768["isCurrentPointer"](_0x32c21d["pointerId"])) return;
      var _0x4512f6 = _0x1de768["getInputPosition"](_0x32c21d);
      if (_0x1de768["mousePointer"] && _0x1de768["mousePointer"]["position"] && _0x1de768["mousePointer"]["position"].x == _0x4512f6.x && _0x1de768["mousePointer"]["position"].y == _0x4512f6.y) return;
      _0x1de768["mousePointer"]["move"](_0x4512f6.x, _0x4512f6.y), _0x1de768["overBoard"] = _0x1de768["mouseOverBoard"](), _0x1de768.updateCursor();
      _0x32c21d["originalEvent"]["pressure"] && (_0x32c21d["pointerType"] == "mouse" ? _0x1de768["updatePressure"](1) : _0x1de768["updatePressure"](parseInt(_0x32c21d["originalEvent"]["pressure"] * 10) / 10));
      var _0x3a7d24;
      room && room["myself"] && (_0x3a7d24 = room["myself"]["surface"]["getCurrentBrush"]());
      if (_0x1de768["dialogHandler"]["draggingDialog"]() || _0x1de768["dialogHandler"]["resizingDialog"]()) _0x1de768.dialogHandler.mouseMove(_0x4512f6.x, _0x4512f6.y); else {
        if (_0x3a7d24 == "drag" || _0x1de768["draggingMode"]) {
          if (_0x1de768["dragPoint"] && !_0x1de768["pinching"]) {
            var _0x2f59f7 = _0x1de768["drawingArea"]["offset"]();
            _0x1de768["moveBoard"](_0x4512f6.x - _0x2f59f7["left"] - _0x1de768["dragPoint"].x, _0x4512f6.y - _0x2f59f7.top - _0x1de768["dragPoint"].y);
          }
        } else {
          if (_0x3a7d24 == "rotate") {
            if (_0x1de768["dragPoint"] && !_0x1de768["pinching"]) {
              var _0x360a5e = Math["atan2"](_0x4512f6.x - _0x1de768["boardContainer"]["width"]() / 2, _0x4512f6.y - _0x1de768["boardContainer"]["height"]() / 2),
                _0x5d47a4 = _0x360a5e * (180 / Math.PI) * -1 + 90;
              _0x5d47a4 = _0x1de768.dragRotation + _0x5d47a4 - _0x1de768["dragInitialRotation"], _0x1de768.holdingSHIFT && (_0x5d47a4 = angleSnap(_0x5d47a4)), room["board"]["changeRotation"](_0x5d47a4);
            }
          } else {
            if (!_0x1de768["uploadMode"]) {
              if (room && room["myself"]) {
                if (_0x1de768["drawingAllowed"]() && room["myself"]["surface"]["getBrushShowPen"]()) {
                  if (_0x1de768["overBoard"] || room["myself"]["surface"]["penPressed"]) {
                    var _0x4b0410 = _0x1de768["screenToBoard"](_0x4512f6.x, _0x4512f6.y);
                    room["myself"]["surface"].penMove(parseInt(_0x4b0410.x * 100) / 100, parseInt(_0x4b0410.y * 100) / 100);
                  }
                }
                _0x1de768["overBoard"] && room.myself["surface"]["getBrushShowPen"]() ? _0x1de768["showPen"]() : _0x1de768.hidePen();
              }
            } else _0x1de768.uploader["mouseMove"](_0x4512f6.x, _0x4512f6.y);
          }
        }
      }
    }), $(document).on(this["pointerEvent"]("up", "ui"), function (_0x1c0c9e) {
      if (!_0x1de768["isCurrentPointer"](_0x1c0c9e["pointerId"])) return; else _0x1de768["setCurrentPointer"](null);
      _0x1c0c9e["preventDefault"]();
      if (!_0x1de768["draggingMode"] && (!_0x1c0c9e["which"] || _0x1c0c9e["which"] == 1)) {
        var _0x1764ef = _0x1de768.getInputPosition(_0x1c0c9e);
        _0x1c0c9e["type"] == "touchend" && (_0x1764ef = new Point(_0x1de768["mousePointer"].position.x, _0x1de768["mousePointer"]["position"].y));
        _0x1de768.mousePointer["move"](_0x1764ef.x, _0x1764ef.y);
        if (!_0x1de768["onFocus"]) return;
        _0x1de768.hovering = false;
        if (_0x1de768["dialogHandler"]["draggingDialog"]() || _0x1de768["dialogHandler"].resizingDialog()) _0x1de768["dialogHandler"]["mouseUp"](_0x1764ef.x, _0x1764ef.y); else {
          if (room && room["myself"]) {
            if (room.myself["surface"]["getCurrentBrush"]() == "picker") {
              if (_0x1de768["mouseOverBoard"]()) {
                var _0x509586 = 5,
                  _0x591abe = room.myself["surface"].brushHandler["getOption"]("size"),
                  _0x59d9b0 = room["myself"]["surface"].brushHandler["getOption"]("areaaverage") && _0x591abe > _0x509586;
                if (!_0x59d9b0) {
                  var _0x4a593f = _0x1de768["screenToBoard"](_0x1764ef.x, _0x1764ef.y),
                    _0x42f5ac = room["board"]["getPixelAllLayers"](_0x4a593f.x, _0x4a593f.y),
                    _0x55eaf6 = "rgb(" + _0x42f5ac[0] + "," + _0x42f5ac[1] + "," + _0x42f5ac[2] + ")";
                  _0x1de768["colorChange"](_0x55eaf6);
                } else {
                  var _0x4a593f = _0x1de768["screenToBoard"](_0x1764ef.x, _0x1764ef.y),
                    _0x1dec9f = room["board"]["getAllLayers"](_0x4a593f.x - _0x591abe / 2, _0x4a593f.y - _0x591abe / 2, _0x591abe, _0x591abe);
                  _0x1dec9f["then"](function (_0x4bf728) {
                    var _0x203e1a = new AdvancedCanvas(_0x591abe, _0x591abe),
                      _0x1ff7f1 = Object.keys(_0x4bf728)["length"],
                      _0x2fae89 = {},
                      _0x589073 = 0;
                    $["each"](_0x4bf728, function (_0x319e55, _0x2620ae) {
                      var _0x11def8 = new Image();
                      _0x2fae89[_0x319e55] = _0x11def8, _0x11def8["onload"] = function () {
                        if (++_0x589073 == _0x1ff7f1) {
                          for (var _0x14902b = 0; _0x14902b < room["board"]["nLayers"]; _0x14902b++) {
                            _0x14902b in _0x2fae89 && _0x203e1a["drawImage"](_0x2fae89[_0x14902b], 0, 0);
                          }
                          var _0x1a90c8 = getRadialAvg(_0x203e1a["getImageData"](), _0x591abe / 2, _0x591abe / 2, _0x591abe / 2, room["board"]["backgroundColor"]);
                          _0x1a90c8 = rgba2rgb(_0x1a90c8[0], _0x1a90c8[1], _0x1a90c8[2], _0x1a90c8[3] / 255);
                          var _0x462eb0 = "rgb(" + _0x1a90c8.r + "," + _0x1a90c8.g + "," + _0x1a90c8.b + ")";
                          _0x1de768["colorChange"](_0x462eb0), _0x203e1a["remove"]();
                        }
                      }, _0x11def8["src"] = _0x2620ae;
                    });
                  });
                }
                _0x1de768.userPreferences["getGroupOption"]("tools", "colorpickerswitch", false) && _0x1de768["sidebar"].toolbar["selectPreviouslyUsed"]();
              }
            } else {
              if (room["myself"]["surface"].penPressed) {
                var _0x4a593f = _0x1de768["screenToBoard"](_0x1764ef.x, _0x1764ef.y);
                room["myself"].surface["penUp"](parseInt(_0x4a593f.x * 100) / 100, parseInt(_0x4a593f.y * 100) / 100);
              }
            }
            room["myself"]["surface"]["getCurrentBrush"]() == "custom" && _0x1de768["mouseOverBoard"]() && !_0x1de768.hasSetCustomBrush && _0x1de768.dialogHandler["showAlert"](textManager["getString"]("alerts.txtSetCustomBrush")), _0x1de768["uploadMode"] && _0x1de768.uploader["mouseUp"](_0x1764ef.x, _0x1764ef.y);
          }
        }
      }
      _0x1de768.dragPoint = null, _0x1de768["dragRotation"] = 0, _0x1de768.dragInitialRotation = 0, _0x1de768.drag(false), _0x1de768.pip.hide();
    }), $(document).on("fullscreenchange", function (_0x1f7665) {
      _0x1de768["fitToScreen"](), _0x1de768["centerBoard"]();
    }), $(window).on("resize", function (_0x2eac59) {
      room && room["board"] && (_0x1de768["drawingArea"]["height"]() < _0x1de768.boardContainer["height"]() * room["board"]["scale"] || _0x1de768.drawingArea["width"]() < _0x1de768["boardContainer"]["width"]() * room["board"]["scale"]) && _0x1de768["fitToScreen"](), _0x1de768["centerBoard"](), _0x1de768.resizeTimeout === undefined ? $(_0x1de768).triggerHandler(new windowResizingStartedEvent()["getEvent"]()) : clearTimeout(_0x1de768.resizeTimeout), _0x1de768["resizeTimeout"] = setTimeout(_0x1de768["windowResizeEnded"], 500);
    }), $(window).on("focus", function (_0x2cbd1a) {
      this["focusTimer"] = setTimeout(function () {
        $(_0x1de768)["triggerHandler"](new windowFocusedEvent()["getEvent"]());
      }, 250);
    }), $(window).on("blur", function (_0x28d2d0) {
      this.focusTimer && clearTimeout(this["focusTimer"]), $(_0x1de768)["triggerHandler"](new windowBlurredEvent()["getEvent"]());
    }), $(document).on("visibilitychange", function (_0x1fc26b) {
      room && room["myself"] && room["myself"]["changeInactive"](document["visibilityState"] == "hidden");
    }), $(this.boardContainer).on(this["pointerEvent"]("over"), function (_0x3b2ef5) {
      _0x1de768["hovering"] = true;
    }), $(this["boardContainer"]).on(this["pointerEvent"]("out"), function (_0x1f2b77) {
      _0x1de768.hovering = false;
    }), $(document).on(this["pointerEvent"]("click"), '[name="leaveRoom"]', function (_0x48e2e4) {
      _0x48e2e4["preventDefault"](), _0x1de768["topbar"].pressButton("leaveButton");
    }), $(document).on(this["pointerEvent"]("click"), "[name=\"skipUserSync\"]", function (_0x32cfb1) {
      _0x32cfb1["preventDefault"](), _0x1de768["loadingScreen"]["container"].find("[name=\"skipUserSync\"]")["hide"](), $.each(room.transfers, function (_0x1c23f0, _0x3491a8) {
        _0x3491a8["ttype"] == "sync" && !_0x3491a8["sending"] && !_0x3491a8["completed"] && !_0x3491a8.failed && _0x3491a8["fail"]();
      });
    }), $(document).on(this["pointerEvent"]("click"), "[name=\"socketReconnect\"]", function (_0x566559) {
      _0x566559.preventDefault(), $("#warningContainer")["empty"](), cm["reset"](), cm["reconnect"](1);
    }), $(document).on("keypress", this.onKeyPressed), $(document).on("keydown", this.onKeyDown), $(document).on("keyup", this["onKeyUp"]);
  }
  ["showPen"]() {
    room && !room["myself"]["muted"] && room["myself"]["surface"]["penShow"]() && room["myself"]["surface"]["getCurrentBrush"]() == "text" && room.myself.surface.brushHandler["brush"]["positionText"]();
  }
  ["hidePen"]() {
    room["myself"]["surface"]["penHide"]();
  }
  ["setUploadMode"](_0x36a644) {
    this["uploadMode"] = _0x36a644, room["myself"]["surface"]["setUploadMode"](_0x36a644);
  }
  ["pointerEvent"](_0x263901, _0x5af64d = null) {
    var _0x56f24b = new Array();
    if (_0x263901 == "move") this.pointerSupport ? _0x56f24b["push"]("pointermove") : (_0x56f24b["push"]("touchmove"), _0x56f24b.push("mousemove")); else {
      if (_0x263901 == "up") this.pointerSupport ? _0x56f24b["push"]("pointerup") : (_0x56f24b["push"]("touchend"), _0x56f24b["push"]("mouseup")); else {
        if (_0x263901 == "down") this["pointerSupport"] ? _0x56f24b["push"]("pointerdown") : (_0x56f24b["push"]("touchstart"), _0x56f24b["push"]("mousedown")); else {
          if (_0x263901 == "over") this["pointerSupport"] ? _0x56f24b.push("pointerover") : _0x56f24b["push"]("mouseover"); else {
            if (_0x263901 == "out") this["pointerSupport"] ? _0x56f24b["push"]("pointerout") : _0x56f24b["push"]("mouseout"); else {
              if (_0x263901 == "click") this["pointerSupport"] ? _0x56f24b["push"]("click") : (_0x56f24b["push"]("touchend"), _0x56f24b["push"]("click")); else {
                if (_0x263901 == "dblclick") _0x56f24b["push"]("dblclick"); else _0x263901 == "dragstart" && _0x56f24b["push"]("dragstart");
              }
            }
          }
        }
      }
    }
    var _0x514485 = "";
    return $["each"](_0x56f24b, function (_0x276c4e, _0x508615) {
      _0x514485 += _0x508615 + (_0x5af64d ? "." + _0x5af64d : "") + " ";
    }), _0x514485;
  }
  ["windowResizeEnded"]() {
    clearTimeout(UI["resizeTimeout"]), UI["resizeTimeout"] = undefined, this["screenWidth"] = window.screen["width"], this["screenHeight"] = window["screen"]["height"], $(UI)["triggerHandler"](new windowResizingEndedEvent()["getEvent"]()), UI["sidebar"] && UI["sidebar"]["adaptToolbar"]();
  }
  ["updateInputDevice"](_0x1b8767) {
    var _0x4bccdc = "mouse";
    if (_0x1b8767["type"] == "pointerdown") _0x4bccdc = _0x1b8767.pointerType; else _0x1b8767["type"] == "touchstart" && (_0x4bccdc = "touch");
    room["myself"]["changeInputDevice"](_0x4bccdc);
  }
  ["updatePressure"](_0xe21787) {
    if (room && room["myself"]) {
      if (room.myself["surface"]["hasBrushOption"]("pressure")) {
        var _0x7d8af8 = room.myself["surface"].getBrushOption("pressure");
        !_0x7d8af8[0] && (_0xe21787 = 1);
        var _0x4ee48f = [_0x7d8af8[0], _0xe21787];
        !matches(_0x4ee48f, _0x7d8af8) && room.myself.surface["setBrushOption"]("pressure", _0x4ee48f);
      }
    }
  }
  ["updateCursor"]() {
    var _0x4771d3;
    room && room["myself"] && (_0x4771d3 = room["myself"].surface["getCurrentBrush"]());
    if (!this["overBoard"]) this["mousePointer"]["cursor"]("auto"); else {
      if (!this.drawingAllowed()) {
        if (!room["connected"]) this.mousePointer.cursor("not-allowed", textManager["getString"]("cursor.txtNotConnected")); else {
          if (room["loading"]) this["mousePointer"]["cursor"]("not-allowed", textManager.getString("cursor.txtLoading")); else {
            if (room.myself.muted) this.mousePointer["cursor"]("not-allowed", textManager.getString("cursor.txtYouAreMuted")); else {
              if (this["layerIsLocked"](room.myself["surface"]["currentLayer"]) && !room.can("drawlockedlayers")) this["mousePointer"]["cursor"]("not-allowed", textManager["getString"]("cursor.txtLayerIsLocked")); else !this["layerIsVisible"](room["myself"]["surface"]["currentLayer"]) ? this["mousePointer"]["cursor"]("not-allowed", textManager["getString"]("cursor.txtLayerIsInvisible")) : this["mousePointer"]["cursor"]("not-allowed");
            }
          }
        }
      } else {
        if (this.uploadMode) this.mousePointer["cursor"]("auto"); else {
          if (_0x4771d3 == "rotate") this["mousePointer"].cursor("rotate"); else _0x4771d3 == "drag" ? this["mousePointer"]["cursor"]("move") : UI["userPreferences"]["getGroupOption"]("graphics", "showmouse") ? this["mousePointer"].cursor("auto") : this["mousePointer"]["cursor"]("none");
        }
      }
    }
  }
  ["getInputPosition"](_0x2089a4) {
    var _0x33d86a = undefined,
      _0x204198 = undefined;
    return _0x2089a4.pageX !== undefined && (_0x33d86a = _0x2089a4["pageX"]), _0x2089a4["pageY"] !== undefined && (_0x204198 = _0x2089a4.pageY), _0x2089a4["originalEvent"] && _0x2089a4.originalEvent["touches"] && _0x2089a4["originalEvent"]["touches"]["length"] > 0 && (_0x33d86a = _0x2089a4["originalEvent"]["touches"][0]["pageX"], _0x204198 = _0x2089a4["originalEvent"]["touches"][0]["pageY"]), new Point(_0x33d86a, _0x204198);
  }
  ["bindEventsBoard"]() {
    var _0x10486a = this;
    this.drawingArea.on("dragover dragenter", function (_0xd32801) {
      _0xd32801["preventDefault"](), _0x10486a["boardContainer"]["css"]("outline", "3px solid red");
    }), this.drawingArea.on("dragleave", function (_0x1df044) {
      _0x1df044.preventDefault(), _0x10486a["boardContainer"]["css"]("outline", "3px solid #505050");
    }), this.drawingArea.on("drop", function (_0x17e3f6) {
      _0x17e3f6.preventDefault(), _0x10486a["boardContainer"]["css"]("outline", "3px solid #505050"), _0x10486a["uploader"]["uploadFile"](_0x17e3f6["originalEvent"].dataTransfer["files"]);
    }), this["drawingArea"]["contextmenu"](function (_0x453f30) {
      if (room && room["myself"]) {
        if (room.myself.surface["brushHandler"]["hasOption"]("rightclick")) {
          var _0x4cae37 = room["myself"].surface["brushHandler"]["getOption"]("rightclick");
          _0x10486a.rightClick(_0x4cae37);
        }
      }
    }), this["drawingArea"].on(this["pointerEvent"]("down", "ui"), function (_0x234e5f) {
      if (!_0x10486a["onFocus"]) return;
      if (!_0x10486a["isCurrentPointer"](_0x234e5f["pointerId"])) return; else _0x10486a["setCurrentPointer"](_0x234e5f["pointerId"]);
      var _0x115dd0 = _0x10486a["getInputPosition"](_0x234e5f);
      _0x10486a["mousePointer"].move(_0x115dd0.x, _0x115dd0.y);
      if (_0x10486a["preDraggingMode"] || _0x234e5f["which"] && _0x234e5f.which == 2) _0x234e5f["preventDefault"](), _0x10486a["drag"](true), !_0x10486a["dragPoint"] && (_0x10486a["dragPoint"] = new Point(_0x10486a["mousePointer"].position.x - _0x10486a["viewLeft"], _0x10486a["mousePointer"]["position"].y - _0x10486a["viewTop"])), _0x10486a["pip"]["show"](_0x10486a["getThumbnail"](), room["board"]["backgroundColor"]); else {
        if (!_0x234e5f["which"] || _0x234e5f.which == 1) {
          _0x234e5f["preventDefault"]();
          var _0x28f81f;
          room && room.myself && (_0x28f81f = room["myself"]["surface"]["getCurrentBrush"]());
          if (_0x28f81f == "drag") !_0x10486a["dragPoint"] && (_0x10486a.dragPoint = new Point(_0x10486a.mousePointer["position"].x - _0x10486a["viewLeft"], _0x10486a["mousePointer"]["position"].y - _0x10486a["viewTop"])), _0x10486a["pip"]["show"](_0x10486a["getThumbnail"](), room["board"]["backgroundColor"]); else {
            if (_0x28f81f == "rotate") {
              if (!_0x10486a["dragPoint"]) {
                _0x10486a["dragPoint"] = new Point(0, 0);
                var _0x264faa = Math["atan2"](_0x115dd0.x - _0x10486a["boardContainer"]["width"]() / 2, _0x115dd0.y - _0x10486a.boardContainer["height"]() / 2);
                _0x10486a["dragInitialRotation"] = _0x264faa * (180 / Math.PI) * -1 + 90, _0x10486a.dragRotation = room.board["rotation"];
              }
            }
          }
        }
      }
    }), this["boardContainer"]["find"](".slate.myself").on(this["pointerEvent"]("down", "ui"), function (_0x171670) {
      if (!_0x10486a["onFocus"]) return;
      if (!_0x10486a["isCurrentPointer"](_0x171670["pointerId"])) return;
      if (!_0x10486a["preDraggingMode"] && (!_0x171670["which"] || _0x171670["which"] == 1)) {
        _0x171670.preventDefault();
        var _0x3792e3 = _0x10486a["getInputPosition"](_0x171670);
        _0x10486a["mousePointer"].move(_0x3792e3.x, _0x3792e3.y), _0x10486a["hovering"] = true, _0x10486a.updateInputDevice(_0x171670);
        var _0x19d78d;
        room && room["myself"] && (_0x19d78d = room["myself"].surface["getCurrentBrush"]());
        if (_0x10486a.drawingAllowed()) {
          if (!_0x10486a["uploadMode"] || _0x10486a["uploadMode"] && !room["myself"]["surface"].getBrushDrawingTool()) {
            var _0x211446 = _0x10486a["screenToBoard"](_0x3792e3.x, _0x3792e3.y);
            room["myself"]["surface"]["penDown"](parseInt(_0x211446.x * 100) / 100, parseInt(_0x211446.y * 100) / 100);
          }
        }
        room && room["myself"] && (_0x10486a.overBoard && room["myself"]["surface"]["getBrushShowPen"]() ? _0x10486a["showPen"]() : _0x10486a["hidePen"]());
      }
    }), $(room["board"]["canvasContainer"]).on("mouseleave pointerleave", function (_0x1ed5c2) {
      _0x10486a.mousePointer["cursor"]("auto");
    }), $(room["board"]).on("scaleChanged", function (_0x45454f) {
      _0x10486a.updateViewLimits(), _0x10486a["bottombar"]["setScale"](parseInt(_0x45454f["scale"] * 100)), _0x45454f["center"] && _0x10486a["centerBoard"](), room["myself"]["surface"]["getCurrentBrush"]() == "selection" && _0x10486a.selectionToolbar["visible"]() && _0x10486a.showSelectionToolbar(), $("body")["get"](0).style["setProperty"]("--ui-scale", _0x45454f["scale"]);
    }), $(room["board"]).on("layerLocked layerUnlocked", function (_0x2075cb) {
      _0x10486a["setupLayerPrivileges"]();
    }), $(room["board"]).on("rotationChanged", function (_0x300e3d) {
      _0x10486a.updateViewLimits(), _0x10486a.bottombar["setRotation"](parseInt(_0x300e3d["rotation"]));
      if (_0x10486a.pip["isVisible"]()) {
        var _0x5a206f = _0x10486a.drawingArea["offset"](),
          _0x123a35 = _0x10486a["screenToBoard"](_0x5a206f["left"], _0x5a206f.top);
        _0x10486a["pip"]["setView"](_0x123a35.x, _0x123a35.y, UI["drawingArea"].width(), UI["drawingArea"].height(), room["board"]["scale"], room.board["rotation"]);
      }
    }), $(room["board"]).on("layerCountChange", function (_0x59d00d) {
      _0x10486a._tmp = [];
      for (var _0x4a98ba = 0; _0x4a98ba < _0x59d00d["oldLayers"]; _0x4a98ba++) {
        _0x4a98ba in room["board"].layers && _0x10486a["_tmp"]["push"](room["board"]["layers"][_0x4a98ba].getData());
      }
      $(room["myself"].surface)["triggerHandler"](new brushChangedEvent(room.myself.surface["getCurrentBrush"]())["getEvent"]()), _0x10486a["undoDialog"]["reset"](), _0x10486a["sidebar"].layerPreview["updatePreviews"](), room["myself"]["surface"]["currentLayer"] >= room.board.nLayers && room["myself"].surface["setCurrentLayer"](0);
    }), $(room["board"]).on("canvasSizeChange", function (_0x746546) {
      _0x10486a["_tmp"] = [];
      for (var _0x17eba7 = 0; _0x17eba7 < room["board"]["nLayers"]; _0x17eba7++) {
        _0x10486a["_tmp"]["push"](room["board"]["layers"][_0x17eba7]["getData"]());
      }
    }), $(room.board).on("layerCountChanged", function (_0x5c5bab) {
      var _0x590a12 = 0,
        _0x2e35ff = _0x10486a["_tmp"]["length"];
      for (var _0x4b433c = 0; _0x4b433c < _0x5c5bab["layers"]; _0x4b433c++) {
        _0x4b433c in _0x10486a._tmp && room["board"].layers[_0x4b433c].putData(_0x10486a._tmp[_0x4b433c])["then"](function () {
          ++_0x590a12 == _0x2e35ff && _0x10486a.sidebar.layerPreview["updatePreviews"]();
        });
      }
      if (_0x5c5bab["layers"] < _0x5c5bab["oldLayers"]) for (var _0x4b433c = _0x5c5bab.layers; _0x4b433c < _0x5c5bab["oldLayers"]; _0x4b433c++) {
        room.board.layers[_0x5c5bab["layers"] - 1]["putData"](_0x10486a["_tmp"][_0x4b433c]).then(function () {
          _0x10486a["sidebar"]["layerPreview"]["updatePreview"](_0x5c5bab["layers"] - 1);
        });
      }
      _0x10486a["sidebar"].layerPreview["updateLayerCount"](), _0x10486a["_tmp"] = null, _0x10486a.setupLayerPrivileges();
    }), $(this.uploader).on("imageChanged", function (_0x25602b) {
      room && room["myself"] && (_0x10486a.showPen(), room["myself"].surface["drawSilhouette"](_0x25602b.x, _0x25602b.y, _0x25602b.width, _0x25602b["height"], _0x25602b["rotation"]));
    }), $(this.uploader).on("uploaderOpened uploaderClosed", function (_0x53b750) {
      room["myself"]["surface"].getCurrentBrush() == "selection" && room["myself"].surface.setBrushOptionReadOnly("multilayer", _0x53b750["type"] == "uploaderOpened");
    });
  }
  ["isCurrentPointer"](_0xd36145) {
    return this["drawingWithPointer"] == null || this.drawingWithPointer == _0xd36145;
  }
  ["setCurrentPointer"](_0x238fca) {
    this["drawingWithPointer"] != _0x238fca && (this["drawingWithPointer"] = _0x238fca);
  }
  ["rightClick"](_0x462edb = "donothing") {
    if (_0x462edb == "cancelstroke") room["myself"]["surface"].penCancel(); else {
      if (_0x462edb == "showmenu") try {
        $(".boardMenu").contextMenu({
          x: this.mousePointer["position"].x,
          y: this["mousePointer"].position.y
        });
      } catch (_0x31c619) { } else {
        if (_0x462edb == "swapcolors") this["sidebar"]["colorBox"]["swap"](); else {
          if (_0x462edb == "centerboard") this["centerBoard"](); else {
            if (_0x462edb == "fittoscreen") this["fitToScreen"](); else {
              if (_0x462edb == "resetzoom") room["board"]["changeScale"](1), self["centerBoard"](); else {
                if (_0x462edb == "rotatereset") room.board["changeRotation"](0); else {
                  if (_0x462edb == "rotate45right") room.board["changeRotation"](room.board["rotation"] + 45); else {
                    if (_0x462edb == "toggleareaaverage") !room["myself"]["surface"]["isBrushOptionReadOnly"]("areaaverage") && room["myself"]["surface"]["setBrushOption"]("areaaverage", !room["myself"]["surface"]["getBrushOption"]("areaaverage")); else {
                      if (_0x462edb == "togglemultilayer") !room.myself["surface"]["isBrushOptionReadOnly"]("multilayer") && room["myself"]["surface"].setBrushOption("multilayer", !room.myself["surface"]["getBrushOption"]("multilayer")); else {
                        if (_0x462edb == "toggleselectiontype") !room["myself"]["surface"]["isBrushOptionReadOnly"]("selectiontype") && room.myself.surface["setBrushOption"]("selectiontype", !room.myself["surface"]["getBrushOption"]("selectiontype")); else {
                          if (_0x462edb == "togglesnap") !room["myself"]["surface"]["isBrushOptionReadOnly"]("snap") && room["myself"]["surface"]["setBrushOption"]("snap", !room["myself"]["surface"]["getBrushOption"]("snap")); else {
                            if (_0x462edb == "toggleaspectratio") !room["myself"]["surface"]["isBrushOptionReadOnly"]("aspectratio") && room["myself"]["surface"].setBrushOption("aspectratio", !room["myself"].surface["getBrushOption"]("aspectratio")); else {
                              if (_0x462edb == "toggleerasermode") !room["myself"]["surface"]["isBrushOptionReadOnly"]("erasermode") && room["myself"].surface["setBrushOption"]("erasermode", !room["myself"]["surface"]["getBrushOption"]("erasermode")); else {
                                if (_0x462edb == "toggledrawgrid") !room["myself"]["surface"].isBrushOptionReadOnly("drawgrid") && room.myself["surface"].setBrushOption("drawgrid", !room["myself"].surface["getBrushOption"]("drawgrid")); else {
                                  if (_0x462edb == "cleartext") room.myself["surface"]["getCurrentBrush"]() == "text" && room["myself"]["surface"].penCancel(); else {
                                    if (_0x462edb == "switchprevtool") this["sidebar"]["toolbar"].selectPreviouslyUsed(); else {
                                      if (_0x462edb == "selecteraser") this.sidebar["toolbar"].select("eraser"); else {
                                        if (_0x462edb == "nextfont") {
                                          var _0x580287 = "font",
                                            _0x2d6ff1 = "+";
                                          if (room["myself"]["surface"]["hasBrushOption"](_0x580287)) {
                                            if (!room["myself"]["surface"].isBrushOptionReadOnly(_0x580287)) {
                                              var _0x2faa50 = Object["keys"](room["myself"]["surface"]["brushHandler"]["brush"]["options"][_0x580287].list),
                                                _0x175a54 = room["myself"]["surface"]["getBrushOption"](_0x580287),
                                                _0x3d8f10 = _0x2faa50["indexOf"](_0x175a54),
                                                _0x498dd0;
                                              _0x2d6ff1 == "+" ? _0x3d8f10 + 1 > _0x2faa50["length"] - 1 ? _0x498dd0 = 0 : _0x498dd0 = _0x3d8f10 + 1 : _0x3d8f10 - 1 < 0 ? _0x498dd0 = _0x2faa50.length - 1 : _0x498dd0 = _0x3d8f10 - 1, room["myself"].surface["setBrushOption"](_0x580287, _0x2faa50[_0x498dd0]);
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  ["bindEvents"]() {
    var _0x340150 = this;
    this["bindEventsRoom"](), this.bindEventsBoard(), $(".appMain").on("contextmenu", function (_0x49d72f) {
      _0x49d72f.preventDefault();
    }), this["boardContainer"].on("contextmenu", function (_0x2714bf) {
      _0x2714bf["preventDefault"]();
    }), $(this["colorBox"]).on("colorChanged", function (_0x30c564) {
      _0x340150["colorChange"](_0x30c564.color);
    });
  }
  ["setupTools"](_0x80d00) {
    var _0x336a84 = this;
    $["each"](_0x80d00, function (_0x16f70a, _0x2fe424) {
      _0x2fe424 ? _0x336a84["sidebar"].toolbar["showTool"](_0x16f70a) : _0x336a84["sidebar"]["toolbar"]["hideTool"](_0x16f70a);
    });
  }
  ["isToolAvailable"](_0x36e0e9) {
    if (this["sidebar"] && this.sidebar.toolbar) return this["sidebar"].toolbar["container"].find("[name=\"" + _0x36e0e9 + '"]').is(":visible");
    return false;
  }
  ["setupPrivileges"](_0x4d3150) {
    var _0x1e5e75 = this;
    room.myself["rank"] == "UU" ? _0x1e5e75["bottombar"].hideButton("messengerButton") : _0x1e5e75["bottombar"].showButton("messengerButton"), room.myself["rank"] == "GM" ? _0x1e5e75["bottombar"]["showButton"]("adminConsoleButton") : _0x1e5e75["bottombar"]["hideButton"]("adminConsoleButton"), $["each"](_0x4d3150, function (_0x54c26b, _0x45fa21) {
      if (_0x54c26b == "pundo") _0x45fa21 ? (_0x1e5e75["bottombar"]["showButton"]("undoButton"), _0x1e5e75["undoDialog"]["enable"](room.name)) : (_0x1e5e75["bottombar"].hideButton("undoButton"), _0x1e5e75.undoDialog.disable()); else {
        if (_0x54c26b == "pload") _0x45fa21 ? _0x1e5e75.bottombar["showButton"]("uploadButton") : _0x1e5e75.bottombar["hideButton"]("uploadButton"); else {
          if (_0x54c26b == "roommanager") _0x45fa21 ? _0x1e5e75["bottombar"].showButton("roomManagerButton") : _0x1e5e75.bottombar.hideButton("roomManagerButton"); else {
            if (_0x54c26b == "clearlayer") _0x45fa21 ? _0x1e5e75["sidebar"]["layerPreview"]["enableButton"]("clear") : _0x1e5e75.sidebar["layerPreview"]["disableButton"]("clear"); else {
              if (_0x54c26b == "locklayers") _0x45fa21 ? _0x1e5e75.sidebar["layerPreview"]["enableButton"]("locktoggle") : _0x1e5e75["sidebar"].layerPreview["disableButton"]("locktoggle"); else {
                if (_0x54c26b == "fliplayer") _0x45fa21 ? (_0x1e5e75.sidebar["layerPreview"]["enableButton"]("flipv"), _0x1e5e75["sidebar"]["layerPreview"]["enableButton"]("fliph")) : (_0x1e5e75["sidebar"]["layerPreview"]["disableButton"]("flipv"), _0x1e5e75["sidebar"]["layerPreview"]["disableButton"]("fliph")); else {
                  if (_0x54c26b == "mergelayer") _0x45fa21 ? _0x1e5e75["sidebar"]["layerPreview"]["enableButton"]("mergeLayer") : _0x1e5e75.sidebar["layerPreview"]["disableButton"]("mergeLayer"); else _0x54c26b == "manageframes" && (_0x45fa21 ? _0x1e5e75.sidebar["animationOptions"]["enableButton"]("frameOptions") : _0x1e5e75.sidebar["animationOptions"].disableButton("frameOptions"));
                }
              }
            }
          }
        }
      }
    }), this["setupLayerPrivileges"]();
  }
  ["setupLayerPrivileges"]() {
    var _0xddb694 = new Array();
    for (var _0x37dafd = 0; _0x37dafd < room["board"]["nLayers"]; _0x37dafd++) {
      (!this["layerIsLocked"](_0x37dafd) || room["can"]("drawlockedlayers")) && _0xddb694["push"](_0x37dafd);
    }
    var _0x407add = {},
      _0x4fdd6b = this;
    $.each(room["myself"]["surface"]["brushHandler"]["brushes"], function (_0x278446, _0x21bc69) {
      _0x21bc69.hasOption("allowedlayers") && (_0x407add[_0x278446] = {}, _0x407add[_0x278446]["allowedlayers"] = _0xddb694);
    }), room["myself"]["surface"]["setBrushesOptions"](_0x407add);
  }
  ["updateViewLimits"]() {
    var _0x568077 = this["boardContainer"][0].getBoundingClientRect();
    this["viewLeft"] = _0x568077["left"], this["viewTop"] = _0x568077["top"], this.viewWidth = _0x568077.width, this["viewHeight"] = _0x568077["height"];
  }
  ["calculateFlipX"](_0x2002f9) {
    return UI["flipX"] ? room["board"]["canvasWidth"] - _0x2002f9 : _0x2002f9;
  }
  ["calculateRotation"](_0x58fa83, _0xab2482, _0x51bc45) {
    var _0x3743b8 = this["viewWidth"] / 2 / room["board"]["scale"],
      _0x1378eb = this["viewHeight"] / 2 / room["board"]["scale"],
      _0x10f2d8 = -_0x51bc45 * Math.PI / 180,
      _0x13523c = (_0x58fa83 - _0x3743b8) * Math["cos"](_0x10f2d8) - (_0xab2482 - _0x1378eb) * Math.sin(_0x10f2d8) + this["boardContainer"]["width"]() / 2,
      _0x158c80 = (_0xab2482 - _0x1378eb) * Math.cos(_0x10f2d8) + (_0x58fa83 - _0x3743b8) * Math["sin"](_0x10f2d8) + this["boardContainer"].height() / 2;
    return new Point(_0x13523c, _0x158c80);
  }
  ["calculateReverseRotation"](_0x3a4bf9, _0x4dca0f, _0x437761) {
    var _0x55c006 = this["boardContainer"]["width"]() / 2,
      _0x4d89e3 = this["boardContainer"]["height"]() / 2,
      _0xaab1cd = _0x437761 * Math.PI / 180,
      _0x21491e = (_0x3a4bf9 - _0x55c006) * Math["cos"](_0xaab1cd) - (_0x4dca0f - _0x4d89e3) * Math["sin"](_0xaab1cd) + this.viewWidth / room["board"]["scale"] / 2,
      _0x3e9184 = (_0x4dca0f - _0x4d89e3) * Math["cos"](_0xaab1cd) + (_0x3a4bf9 - _0x55c006) * Math["sin"](_0xaab1cd) + this.viewHeight / room["board"]["scale"] / 2;
    return new Point(_0x21491e, _0x3e9184);
  }
  ["updateTransform"]() {
    var _0x3ba85d = this["flipX"] ? -1 : 1;
    room["board"]["cursorContainer"].css("transform", "translateZ(0) scaleX(" + _0x3ba85d + ") translate(" + this["viewOffset"].x + "px, " + this.viewOffset.y + "px)"), room["board"]["canvasContainer"]["css"]("transform", "translateZ(0) scaleX(" + _0x3ba85d + ") translate(" + this["viewOffset"].x + "px, " + this["viewOffset"].y + "px)");
  }
  ["flipView"](_0x5aee26) {
    this["flipLabels"](), _0x5aee26 ? this.bottombar["selectButton"]("flipXButton") : this["bottombar"]["unselectButton"]("flipXButton"), this["flipX"] = _0x5aee26, this["updateTransform"](), $(this)["triggerHandler"](new viewFlippedEvent(_0x5aee26).getEvent());
  }
  ["optionToObject"](_0x277b18, _0x370311 = null) {
    if (_0x277b18 == "size") return new SizeOption(_0x370311); else {
      if (_0x277b18 == "alpha") return new AlphaOption(_0x370311); else {
        if (_0x277b18 == "blur") return new BlurOption(_0x370311); else {
          if (_0x277b18 == "smooth") return new SmoothOption(_0x370311); else {
            if (_0x277b18 == "blendmode") return new BlendModeOption(_0x370311); else {
              if (_0x277b18 == "pressure") return new PressureOption(_0x370311); else {
                if (_0x277b18 == "spacing") return new SpacingOption(_0x370311); else {
                  if (_0x277b18 == "customize") return new CustomizeOption(_0x370311); else {
                    if (_0x277b18 == "gallery") return new GalleryOption(_0x370311); else {
                      if (_0x277b18 == "multilayer") return new MultilayerOption(_0x370311); else {
                        if (_0x277b18 == "selectiontype") return new SelectionTypeOption(_0x370311); else {
                          if (_0x277b18 == "rightclick") return new RightClickOption(null, _0x370311); else {
                            if (_0x277b18 == "cursor") return new CursorOption(null, _0x370311); else {
                              if (_0x277b18 == "erasermode") return new EraserModeOption(_0x370311); else {
                                if (_0x277b18 == "areaaverage") return new AreaAverageOption(_0x370311); else {
                                  if (_0x277b18 == "aspectratio") return new AspectRatioOption(_0x370311); else {
                                    if (_0x277b18 == "snap") return new SnapOption(_0x370311); else {
                                      if (_0x277b18 == "drawgrid") return new DrawGridOption(_0x370311); else {
                                        if (_0x277b18 == "font") return new FontOption(_0x370311); else {
                                          if (_0x277b18 == "fill") return new FillOption(_0x370311); else {
                                            if (_0x277b18 == "allowedlayers") return new AllowedLayersOption(_0x370311); else {
                                              if (_0x277b18 == "image") return new ImageOption(_0x370311); else {
                                                if (_0x277b18 == "tint") return new TintOption(_0x370311); else {
                                                  if (_0x277b18 == "randomrotation") return new RandomRotationOption(_0x370311); else log("Missing option: " + _0x277b18);
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    return "";
  }
  ["optionToName"](_0x3f51af) {
    return textManager.getString("tooloption." + _0x3f51af);
  }
  ["rankToStyle"](_0x1a0c30) {
    if (_0x1a0c30 == "GM") return "rankGM"; else {
      if (_0x1a0c30 == "RO" || _0x1a0c30 == "CO") return "rankRO"; else {
        if (_0x1a0c30 == "LM") return "rankLM"; else {
          if (_0x1a0c30 == "FM") return "rankFM"; else {
            if (_0x1a0c30 == "RM") return "rankRM"; else {
              if (_0x1a0c30 == "TU") return "rankTU"; else {
                if (_0x1a0c30 == "RU") return "rankRU"; else {
                  if (_0x1a0c30 == "UU") return "rankUU";
                }
              }
            }
          }
        }
      }
    }
  }
  ["brushToName"](_0x16a42f) {
    return textManager.getString("tool." + _0x16a42f);
  }
  ["brushToIcon"](_0x4309cb) {
    if (_0x4309cb == "drag") return new Icon("fa-hand-paper"); else {
      if (_0x4309cb == "rotate") return new Icon("fa-sync-alt"); else {
        if (_0x4309cb == "picker") return new Icon("fa-eye-dropper"); else {
          if (_0x4309cb == "selection") return new Icon("fa-mouse-pointer"); else {
            if (_0x4309cb == "pen") return new Icon("fa-paint-brush"); else {
              if (_0x4309cb == "eraser") return new Icon("fa-eraser"); else {
                if (_0x4309cb == "text") return new Icon("fa-font"); else {
                  if (_0x4309cb == "line") return new Icon("fa-arrows-alt-v"); else {
                    if (_0x4309cb == "rect") return new Icon("fa-square", "far"); else {
                      if (_0x4309cb == "ellipse") return new Icon("fa-circle", "far"); else {
                        if (_0x4309cb == "fill") return new Icon("fa-fill-drip"); else {
                          if (_0x4309cb == "blend") return new Icon("fa-spinner"); else {
                            if (_0x4309cb == "custom") return new Icon("fa-paint-roller"); else {
                              if (_0x4309cb == "blur") return new Icon("fa-tint"); else {
                                if (_0x4309cb == "pixel") return new Icon("fa-pencil-alt");
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  ["getImageLayer"](_0x22dffb) {
    return new Promise(function (_0x1d8111, _0x2208fa) {
      var _0x2c071f = new Image();
      _0x2c071f["alt"] = _0x22dffb, _0x2c071f["onload"] = function () {
        _0x1d8111(_0x2c071f);
      }, _0x2c071f.src = room.board["layers"][_0x22dffb].getData();
    });
  }
  ["colorChange"](_0x110727) {
    room.myself["surface"]["setColor"](_0x110727);
  }
  ["getThumbnail"]() {
    var _0x3cb00e = new Array();
    for (var _0x37acf2 = 0; _0x37acf2 < room["board"]["nLayers"]; _0x37acf2++) {
      _0x3cb00e.push(this.sidebar["layerPreview"]["previews"][_0x37acf2].getData());
    }
    return _0x3cb00e;
  }
  ["getScreenSize"]() {
    var _0x316b67 = this["drawingArea"]["css"]("width").replace("px", "");
    return sizeToName(_0x316b67);
  }
  ["setupScreenSize"](_0x43c8da) {
    _0x43c8da == "lg" || _0x43c8da == "md" ? this["sidebar"]["set"](true, false) : this["sidebar"]["set"](false, true);
  }
  ["setupControls"]() {
    this.uploader = new Uploader($("#uploadFile")), this.sidebar = new Sidebar($("#sidebar"));
    var _0x3b3e1b = this;
    $(this["sidebar"]).on("sidebarCollapsed sidebarUncollapsed", function (_0x381e77) {
      _0x381e77["type"] == "sidebarCollapsed" ? $(_0x3b3e1b)["triggerHandler"](new sidebarCollapsedEvent()["getEvent"]()) : $(_0x3b3e1b)["triggerHandler"](new sidebarUncollapsedEvent()["getEvent"]());
    }), room.myself["surface"]["setColor"](this["sidebar"]["colorBox"]["primaryColor"]);
  }
  ["drawingAllowed"]() {
    if (!this.sidebar["layerPreview"] || !room || !room["myself"]) return false;
    return this["layerIsVisible"](room["myself"]["surface"]["currentLayer"]) && (!this["layerIsLocked"](room["myself"]["surface"].currentLayer) || this["layerIsLocked"](room.myself["surface"].currentLayer) && room["can"]("drawlockedlayers")) && room.connected && !room["loading"] && !room["myself"]["muted"];
  }
  ["onWheelMove"](_0x8b2d19) {
    _0x8b2d19["preventDefault"]();
    if (!UI["dialogHandler"].activeDialog) {
      if (UI["sidebar"]["toolbar"]) {
        if (!(UI["sidebar"]["toolbar"]["getHighlighted"]() == "drag" || UI["sidebar"]["toolbar"]["getHighlighted"]() == "rotate")) {
          if (!room.myself["surface"]["isBrushOptionReadOnly"]("size")) {
            var _0x5cdba4 = room["myself"]["surface"]["getBrushOptionObject"]("size"),
              _0x39e527 = UI["holdingSHIFT"] ? 1 : 2,
              _0x12f629 = _0x5cdba4["value"];
            _0x8b2d19["originalEvent"]["deltaY"] < 0 ? room["myself"].surface["setBrushOption"]("size", Math["max"](Math["min"](_0x12f629 + _0x39e527, _0x5cdba4["max"]), _0x5cdba4["min"])) : room["myself"].surface.setBrushOption("size", Math["max"](Math["min"](_0x12f629 - _0x39e527, _0x5cdba4["max"]), _0x5cdba4["min"]));
          }
        } else _0x8b2d19["originalEvent"]["deltaY"] < 0 ? UI["zoomToScreenPoint"](UI["mousePointer"]["position"].x, UI["mousePointer"]["position"].y, "zoomIn") : UI.zoomToScreenPoint(UI["mousePointer"]["position"].x, UI["mousePointer"].position.y, "zoomOut");
      }
    }
  }
  ["togglePixelSmoothing"]() {
    this.pixelSmoothing = !this["pixelSmoothing"], this.pixelSmoothing ? (this.boardContainer["removeClass"]("noPixelSmoothing"), this["bottombar"]["unselectButton"]("toggleSmoothingButton")) : (this.boardContainer["addClass"]("noPixelSmoothing"), this["bottombar"]["selectButton"]("toggleSmoothingButton"));
  }
  ["fitToScreen"]() {
    if (room) {
      var _0x24dcdd = this.drawingArea["width"](),
        _0x4862fc = this["drawingArea"]["height"](),
        _0x3341c1 = this["boardContainer"]["width"](),
        _0x17c647 = this["boardContainer"]["height"](),
        _0x408a90 = 0.01,
        _0x58c3e0 = _0x4862fc / _0x17c647,
        _0x6e67ff = _0x24dcdd / _0x3341c1,
        _0x2f6216 = Math["min"](_0x58c3e0, _0x6e67ff),
        _0x49110f = parseInt(_0x2f6216 / _0x408a90);
      room.board["changeScale"](_0x49110f * _0x408a90, true);
    }
  }
  ["centerBoard"]() {
    var _0x2bc242 = this["drawingArea"]["width"](),
      _0x41a2b3 = this["drawingArea"]["height"]();
    this["moveBoard"]((_0x2bc242 - this["viewWidth"]) / 2, (_0x41a2b3 - this["viewHeight"]) / 2);
  }
  ["moveBoard"](_0x427c7e, _0x97d75a) {
    room && this["boardContainer"]["css"]({
      left: _0x427c7e + (this.viewWidth - this["boardContainer"]["width"]()) / 2 + "px",
      top: _0x97d75a + (this.viewHeight - this["boardContainer"].height()) / 2 + "px"
    });
    this["updateViewLimits"]();
    var _0x2ccaab = this["drawingArea"]["offset"](),
      _0x5e8204 = this["screenToBoard"](_0x2ccaab["left"], _0x2ccaab.top);
    this["pip"]["setView"](_0x5e8204.x, _0x5e8204.y, UI["drawingArea"]["width"](), UI["drawingArea"]["height"](), room["board"]["scale"], room["board"]["rotation"]), room && room["myself"] && room["myself"]["surface"]["getCurrentBrush"]() == "selection" && self["selectionToolbar"] && self["selectionToolbar"]["visible"]() && this["showSelectionToolbar"]();
  }
  ["boardToScreen"](_0x224af3, _0x594578) {
    if (room) {
      var _0x5d0317 = new Point(this["calculateFlipX"](_0x224af3), _0x594578);
      return _0x5d0317 = this["calculateReverseRotation"](_0x5d0317.x, _0x5d0317.y, room["board"].rotation), _0x5d0317.x = _0x5d0317.x * room["board"]["scale"] + this["viewLeft"], _0x5d0317.y = _0x5d0317.y * room.board["scale"] + this["viewTop"], _0x5d0317;
    }
    return null;
  }
  ["screenToBoard"](_0x2cf122, _0x37e1c1) {
    if (room) {
      var _0x193c5f = this["calculateRotation"]((_0x2cf122 - this["viewLeft"]) / room["board"]["scale"], (_0x37e1c1 - this.viewTop) / room.board.scale, room["board"]["rotation"]);
      return new Point(this.calculateFlipX(_0x193c5f.x) - this["viewOffset"].x, _0x193c5f.y - this["viewOffset"].y);
    }
    return null;
  }
  ["zoomToScreenPoint"](_0x556d94, _0x393bd2, _0x472a85) {
    if (room) {
      var _0x1c11a4 = this.drawingArea["offset"](),
        _0xc9b547 = _0x556d94 - _0x1c11a4["left"],
        _0x3ee383 = _0x393bd2 - _0x1c11a4["top"],
        _0x2ed82f = (_0x556d94 - this["viewLeft"]) / room["board"].scale,
        _0x251a9b = (_0x393bd2 - this["viewTop"]) / room["board"]["scale"];
      _0x472a85 == "zoomIn" ? room["board"]["increaseZoom"](this["holdingSHIFT"] ? 0.01 : null) : room["board"]["decreaseZoom"](this["holdingSHIFT"] ? 0.01 : null), this.moveBoard(_0xc9b547 - _0x2ed82f * room.board["scale"], _0x3ee383 - _0x251a9b * room["board"]["scale"]);
    }
  }
  ["onKeyPressed"](_0x2c550b) {
    room && room["connected"] && room["myself"] && UI["dialogHandler"].openedDialogs == 0 && (room["myself"]["surface"]["getCurrentBrush"]() == "text" && _0x2c550b["preventDefault"](), _0x2c550b["which"] != 13 && room["myself"]["surface"]["keyPress"](_0x2c550b.which));
  }
  ["onKeyDown"](_0xe76660) {
    var _0x368e6d = UI;
    if (_0x368e6d["shortcutManager"]["setupMode"]) {
      _0xe76660["preventDefault"]();
      var _0x38b8f2 = _0x368e6d.shortcutManager["getShortcutString"](_0xe76660["ctrlKey"], _0xe76660["altKey"], _0xe76660["shiftKey"], _0xe76660["which"], _0xe76660["key"], _0xe76660.location || _0xe76660["originalEvent"]["location"]);
      _0x368e6d.configDialog["shortcutPressed"](_0x38b8f2);
      return;
    }
    if (_0x368e6d.dialogHandler["openedDialogs"] == 0) {
      var _0x561148 = [8];
      _0x561148["indexOf"](_0xe76660["which"]) > -1 && _0xe76660["preventDefault"]();
    }
    if (room && room["myself"]) {
      var _0x38b8f2 = _0x368e6d.shortcutManager.getShortcutString(_0xe76660["ctrlKey"], _0xe76660.altKey, _0xe76660["shiftKey"], _0xe76660["which"], _0xe76660["key"], _0xe76660["location"] || _0xe76660["originalEvent"]["location"]),
        _0x4480e2 = _0x368e6d["shortcutManager"]["getShortcutInfo"](_0x38b8f2),
        _0x55966f = room.myself["surface"]["getCurrentBrush"]() == "text" && room.myself["surface"]["brushHandler"]["brush"].enabled,
        _0x12a0f0 = (_0x4480e2.printablechars || _0x4480e2["numbers"]) && !_0x4480e2.ctrl && !_0x4480e2["alt"] && !_0x4480e2["specialchars"];
      (!_0x55966f || _0x55966f && !_0x12a0f0) && _0x368e6d["shortcutManager"]["process"](_0xe76660, "keydown", _0x368e6d.dialogHandler["openedDialogs"] > 0) && (_0xe76660["preventDefault"](), _0x368e6d["setCurrentPointer"](null), _0x368e6d["updateCursor"]());
      if (_0xe76660["which"] == 16) {
        if (_0x368e6d.holdingSHIFT) return;
        _0x368e6d["holdingSHIFT"] = true;
      }
      if (_0xe76660["which"] == 17) {
        if (_0x368e6d["holdingCTRL"]) return;
        _0x368e6d["holdingCTRL"] = true;
      }
      if (_0xe76660["which"] == 18) {
        if (_0x368e6d["holdingALT"]) return;
        _0x368e6d["holdingALT"] = true;
      }
      if (_0x368e6d["dialogHandler"]["openedDialogs"] > 0) {
        _0x368e6d.focusedElementKeyEvent(_0xe76660.which);
        return;
      }
      room["myself"]["surface"]["getCurrentBrush"]() == "text" && (_0xe76660["which"] == 13 || _0xe76660["which"] == 32) && (_0x368e6d["boardContainer"].focus(), _0xe76660.preventDefault());
      _0xe76660["which"] == 8 && _0x368e6d.dialogHandler["openedDialogs"] > 0 && _0xe76660["preventDefault"]();
      if (!_0x368e6d["dialogHandler"]["active"]) {
        if (room && room["myself"]) {
          if (_0xe76660.which == 16 || _0xe76660["which"] == 13 || _0xe76660["which"] == 32) !(_0xe76660["which"] == 16 && _0x55966f) && room["myself"]["surface"].modifierDown(_0xe76660["which"]); else _0xe76660["which"] == 8 && room["myself"].surface["keyPress"](_0xe76660["which"]);
          if (_0xe76660.which == 16) {
            if (room["myself"].surface.getCurrentBrush() == "line") !room.myself["surface"]["isBrushOptionReadOnly"]("snap") && room.myself["surface"].setBrushOption("snap", !room["myself"]["surface"].getBrushOption("snap")); else {
              if (room["myself"]["surface"]["getCurrentBrush"]() == "rect") !room.myself["surface"]["isBrushOptionReadOnly"]("aspectratio") && room["myself"].surface["setBrushOption"]("aspectratio", !room.myself["surface"].getBrushOption("aspectratio")); else room["myself"]["surface"].getCurrentBrush() == "ellipse" && !room["myself"]["surface"]["isBrushOptionReadOnly"]("aspectratio") && room.myself["surface"]["setBrushOption"]("aspectratio", !room["myself"]["surface"]["getBrushOption"]("aspectratio"));
            }
          }
        }
      }
      _0x368e6d["uploadMode"] ? _0xe76660.which == 16 ? _0x368e6d["uploader"]["modifierDown"](_0xe76660["which"]) : _0x368e6d["uploader"]["keyPress"](_0xe76660.which) : _0x368e6d["focusedElementKeyEvent"](_0xe76660.which);
    }
  }
  ["focusedElementKeyEvent"](_0x365afb) {
    this["focusedElement"] && this["focusedElement"].keyPress && this["focusedElement"]["container"] && this["focusedElement"]["container"].is(":visible") && this["focusedElement"]["keyPress"](_0x365afb);
  }
  ["onKeyUp"](_0x471a5e) {
    var _0x93423d = UI;
    if (room && room.myself) {
      var _0x48e8f1 = _0x93423d["shortcutManager"]["getShortcutString"](_0x471a5e["ctrlKey"], _0x471a5e["altKey"], _0x471a5e.shiftKey, _0x471a5e["which"], _0x471a5e["key"], _0x471a5e["location"] || _0x471a5e["originalEvent"]["location"]),
        _0x1e11c2 = _0x93423d.shortcutManager.getShortcutInfo(_0x48e8f1),
        _0x4ef998 = room["myself"]["surface"]["getCurrentBrush"]() == "text" && room.myself["surface"]["brushHandler"]["brush"]["enabled"],
        _0x2f6b1e = (_0x1e11c2["printablechars"] || _0x1e11c2["numbers"]) && !_0x1e11c2.ctrl && !_0x1e11c2.alt && !_0x1e11c2["specialchars"];
      ;
      (!_0x4ef998 || _0x4ef998 && !_0x2f6b1e) && _0x93423d["shortcutManager"]["process"](_0x471a5e, "keyup", _0x93423d["dialogHandler"]["openedDialogs"] > 0) && _0x93423d["updateCursor"]();
      if (_0x471a5e["which"] == 16) {
        if (!_0x93423d["holdingSHIFT"]) return;
        _0x93423d.holdingSHIFT = false;
      }
      if (_0x471a5e["which"] == 17) {
        if (!_0x93423d["holdingCTRL"]) return;
        _0x93423d["holdingCTRL"] = false;
      }
      if (_0x471a5e["which"] == 18) {
        if (!_0x93423d["holdingALT"]) return;
        _0x93423d["holdingALT"] = false;
      }
      if (_0x93423d.dialogHandler["openedDialogs"] > 0) return;
      _0x471a5e["which"] == 8 && _0x93423d["dialogHandler"]["openedDialogs"] > 0 && _0x471a5e["preventDefault"]();
      if (_0x471a5e["which"] == 16 || _0x471a5e.which == 13 || _0x471a5e["which"] == 32) {
        room.myself["surface"].modifierUp(_0x471a5e["which"]);
        if (_0x471a5e["which"] == 16) {
          if (room["myself"]["surface"]["getCurrentBrush"]() == "line") !room.myself["surface"]["isBrushOptionReadOnly"]("snap") && room["myself"]["surface"]["setBrushOption"]("snap", !room["myself"]["surface"]["getBrushOption"]("snap")); else {
            if (room.myself["surface"].getCurrentBrush() == "rect") !room["myself"]["surface"]["isBrushOptionReadOnly"]("aspectratio") && room["myself"].surface.setBrushOption("aspectratio", !room["myself"].surface["getBrushOption"]("aspectratio")); else room["myself"]["surface"].getCurrentBrush() == "ellipse" && !room["myself"].surface["isBrushOptionReadOnly"]("aspectratio") && room["myself"]["surface"]["setBrushOption"]("aspectratio", !room["myself"]["surface"]["getBrushOption"]("aspectratio"));
          }
        }
        _0x93423d["uploadMode"] && _0x93423d.uploader["modifierUp"](_0x471a5e["which"]);
      }
    }
  }
  ["mouseOverBoard"]() {
    return this.hovering || this["boardContainer"].is(":hover");
  }
  ["flipLabels"]() {
    room["board"]["cursorContainer"]["find"](".pointerLabel").css("transform", "translateZ(0) scaleX(" + (this.flipX ? 1 : -1) + ")");
  }
  ["syncBrushes"](_0x19c45c = null) {
    room && room["myself"] && $["each"](room["users"], function (_0x418a4f, _0x482399) {
      if (_0x19c45c == null || _0x482399["username"] == _0x19c45c) {
        var _0xc44490 = {};
        _0xc44490["command"] = "DIRECT", _0xc44490["target"] = _0x482399.username, _0xc44490["action"] = "SYNC", _0xc44490["status"] = room.myself["status"], _0xc44490["inactive"] = room["myself"].inactive, _0xc44490.x = room.myself["surface"]["cursor"].x, _0xc44490.y = room.myself["surface"]["cursor"].y, _0xc44490.visible = room["myself"]["surface"]["cursor"].isVisible(), _0xc44490["brush"] = room.myself["surface"]["getCurrentBrush"](), _0xc44490.color = room["myself"]["surface"]["drawColor"], _0xc44490.options = room["myself"]["surface"].getBrushesOptions(), _0xc44490["layer"] = room["myself"]["surface"]["currentLayer"], _0xc44490["penPressed"] = room["myself"]["surface"]["penPressed"];
        var _0x56cf7c = room["myself"]["surface"]["getCurrentBrush"]();
        (room["myself"]["surface"].penPressed || _0x56cf7c == "text" || _0x56cf7c == "selection") && (_0xc44490["brushSync"] = room.myself.surface["getBrushSync"]()), socket.send(_0xc44490, true);
      }
    });
  }
  ["clearMuteTime"]() {
    this.muteInterval && clearInterval(this["muteInterval"]), this["muteInterval"] = null, this["muteSeconds"] = 0;
  }
  ["muteTime"](_0x5d5d9e) {
    if (_0x5d5d9e <= 0) this["clearMuteTime"](); else {
      this["muteSeconds"] = _0x5d5d9e;
      if (!this["muteInterval"]) {
        var _0x3b6ad7 = this;
        this["muteInterval"] = setInterval(function () {
          if (_0x3b6ad7["muteSeconds"] > 1e5) _0x3b6ad7["bottombar"].setText(textManager["getString"]("alerts.txtYouAreMuted")); else _0x3b6ad7["muteSeconds"] - 1 > 0 ? _0x3b6ad7["bottombar"]["setText"](textManager["getString"]("alerts.txtYouWillBeUnmutedIn", formatSeconds(--_0x3b6ad7["muteSeconds"]), false)) : _0x3b6ad7.bottombar["setText"](textManager["getString"]("alerts.txtYouWillBeUnmuted"));
        }, 1e3);
      }
    }
  }
  ["layerIsVisible"](_0x2381a4) {
    return room["board"]["layers"][_0x2381a4]["isVisible"]();
  }
  ["layerIsLocked"](_0x2e21c9) {
    return room["board"]["layers"][_0x2e21c9]["locked"];
  }
  ["showAllLayers"]() {
    for (var _0x1e1e9d = 0; _0x1e1e9d < room["board"]["nLayers"]; _0x1e1e9d++) {
      room["board"].layers[_0x1e1e9d]["show"]();
    }
  }
  ["hideAllLayers"]() {
    for (var _0x412e1b = 0; _0x412e1b < room.board["nLayers"]; _0x412e1b++) {
      room.board.layers[_0x412e1b]["hide"]();
    }
  }
  ["syncBoard"](_0x4302d5, _0x4dadee = false) {
    if (room["userExists"](_0x4302d5)) {
      if (_0x4dadee) $(this)["triggerHandler"](new firstSyncStartedEvent(_0x4302d5, room["session"])["getEvent"]()); else {
        this.manualSync = _0x4302d5;
        var _0x2f626b = this;
        setTimeout(function () {
          _0x2f626b["manualSync"] = null;
        }, 6e4);
      }
      var _0x486d29 = {};
      _0x486d29["command"] = "DIRECT", _0x486d29["target"] = _0x4302d5, _0x486d29.action = "GETBOARD", socket["send"](_0x486d29, true);
    }
  }
  ["getFocusElement"](_0x55ae4a) {
    return this["focusedElement"];
  }
  ["setFocusElement"](_0x34a3f6) {
    this["focusedElement"] = _0x34a3f6;
  }
  ["reloadStorage"]() {
    this.userPreferences["loadFromStorage"](), this.shortcutManager["loadFromStorage"](), this["sidebar"]["colorBox"]["loadFromStorage"](), this["sidebar"]["colorBox"].redraw(), this["bottombar"]["colorBubbles"]["loadFromStorage"](), this.bottombar.colorBubbles.redraw(), this["colorDialog"].colorBubbles.loadFromStorage(), this["colorDialog"]["colorBubbles"]["redraw"](), this["sidebar"]["presets"]["loadFromStorage"](), this["sidebar"]["presets"].redraw();
  }
  ["preDrag"](_0x150ec5) {
    this["preDraggingMode"] = _0x150ec5, this["hammer"]["get"]("pinch")["set"]({
      enable: !_0x150ec5
    });
  }
  ["drag"](_0x1e3619) {
    this["draggingMode"] = _0x1e3619, this["hammer"]["get"]("pinch")["set"]({
      enable: !_0x1e3619
    });
  }
  ["setCustomBrush"](_0x265f17) {
    this["hasSetCustomBrush"] = true;
    var _0xeb46ca = {};
    _0xeb46ca["custom"] = {}, _0xeb46ca["custom"]["image"] = _0x265f17, room["myself"]["surface"]["setBrushesOptions"](_0xeb46ca);
  }
  ["recommendedSync"](_0x181fdd) {
    this["firstSyncOrder"] = _0x181fdd, this["trySync"]();
  }
  ["trySync"]() {
    var _0x863a00 = this["firstSyncOrder"][0];
    _0x863a00 in room["users"] && this["syncBoard"](_0x863a00, true);
  }
  ["acceptingSync"](_0x150957) {
    if (this.firstSyncEnabled && this["firstSyncUser"] == _0x150957) return true; else {
      if (this["manualSync"] == _0x150957) return true;
    }
    return false;
  }
}
class Device {
  constructor(_0x3ab0ca = null) {
    this.ip = {};
    var _0x5ab4ab = "other";
    this["navigator"] = {}, this["screen"] = {}, this["webgl"] = this["getWebGLInfo"](), this["time"] = this["getTimeInfo"](), this["bot"] = this["getBotInfo"](), _0x3ab0ca != null && (this["import"](_0x3ab0ca), this["detectBrowser"]());
  }
  ["import"](_0x210ff0) {
    var _0x50e51d = this,
      _0x296669 = new Array("appCodeName", "appName", "appVersion", "cookieEnabled", "buildID", "deviceMemory", "doNotTrack", "hardwareConcurrency", "language", "languages", "maxTouchPoints", "mimeTypes", "onLine", "oscpu", "platform", "plugins", "product", "productSub", "userAgent", "vendor", "vendorSub");
    $["each"](_0x296669, function (_0x5abd49, _0x376193) {
      _0x376193 in _0x210ff0.navigator && (_0x50e51d["navigator"][_0x376193] = _0x210ff0.navigator[_0x376193]);
    });
    var _0x2ae0dd = new Array("availHeight", "availLeft", "availTop", "availWidth", "height", "left", "top", "width", "colorDepth", "pixelDepth", "orientation");
    $["each"](_0x2ae0dd, function (_0x49480c, _0x118e34) {
      _0x118e34 in _0x210ff0.screen && (_0x50e51d.screen[_0x118e34] = _0x210ff0["screen"][_0x118e34]);
    });
  }
  ["detectBrowser"]() {
    let _0x1e2699 = this.navigator["userAgent"];
    if (_0x1e2699.match(/edg/i)) this.browser = "edge"; else {
      if (_0x1e2699.match(/firefox|fxios/i)) this["browser"] = "firefox"; else {
        if (_0x1e2699["match"](/opr\//i)) this.browser = "opera"; else {
          if (_0x1e2699["match"](/safari/i)) this["browser"] = "safari"; else _0x1e2699.match(/chrome|chromium|crios/i) ? this["browser"] = "chrome" : this["browser"] = "other";
        }
      }
    }
  }
  ["getWebGLInfo"]() {
    var _0x30f9c8 = this["getWebGL"]("webgl");
    return !_0x30f9c8["unmaskedRenderer"] && (_0x30f9c8 = this["getWebGL"]("experimental-webgl")), _0x30f9c8;
  }
  ["getWebGL"](_0x4d8d72) {
    var _0x88631f = $("<canvas />"),
      _0x3c163f = _0x88631f[0]["getContext"](_0x4d8d72),
      _0x43dd66 = {};
    _0x43dd66["renderer"] = _0x3c163f.getParameter(_0x3c163f["RENDERER"]), _0x43dd66["vendor"] = _0x3c163f["getParameter"](_0x3c163f["VENDOR"]);
    var _0xdb4c77 = _0x3c163f["getExtension"]("WEBGL_debug_renderer_info");
    return _0xdb4c77 != null && (_0x43dd66["unmaskedRenderer"] = _0x3c163f.getParameter(_0xdb4c77.UNMASKED_RENDERER_WEBGL), _0x43dd66.unmaskedVendor = _0x3c163f["getParameter"](_0xdb4c77.UNMASKED_VENDOR_WEBGL)), _0x88631f["remove"](), _0x43dd66;
  }
  ["getIPAddressInfo"](_0x4a3a18) {
    //var _0x22efdc = "";
    //Disabling the ajax call to prevent tracking (I think?)
    /*
    return $["ajax"]({
      type: "POST",
      cache: false,
      async: false,
      url: "/api/conn.php?ip=" + _0x4a3a18,
      contentType: "application/json",
      dataType: "json"
    })
    
    ["done"](function (_0x228a16) {
      _0x22efdc = _0x228a16;
    }), _0x22efdc;
    */
    return ""
  }
  ["getBotInfo"]() {
    var _0x2fde35 = {};
    _0x2fde35["webdriver"] = false, _0x2fde35["headless"] = false, _0x2fde35["notifications"] = false, _0x2fde35["plugins"] = false, _0x2fde35["languages"] = false;
    try {
      (navigator.webdriver || window["document"].documentElement["getAttribute"]("webdriver")) && (_0x2fde35.webdriver = true);
    } catch (_0x355fcf) { }
    try {
      /Headless/.test(window["navigator"]["userAgent"]) && (_0x2fde35.headless = true);
    } catch (_0x6f56ee) { }
    try {
      navigator["permissions"]["query"]({
        name: "notifications"
      })["then"](function (_0x40da2e) {
        Notification["permission"] === "denied" && _0x40da2e["state"] === "prompt" && (_0x2fde35.notifications = true);
      });
    } catch (_0x553131) { }
    try {
      navigator["plugins"]["length"] === 0 && (_0x2fde35["plugins"] = true);
    } catch (_0x414dc7) { }
    try {
      navigator["languages"] === "" && (_0x2fde35["languages"] = true);
    } catch (_0x2b70b2) { }
    return _0x2fde35;
  }
  ["isBot"]() {
    return this["bot"]["headless"] || this["bot"].webdriver;
  }
  ["getString"]() {
    var _0xe51413 = this.getPluginString(),
      _0x38fd66 = this.getMimeString(),
      _0x179805 = this.getWebGLString();
    return this.navigator.appCodeName + ";" + this["navigator"]["appName"] + ";" + this["navigator"]["appVersion"] + ";" + this.navigator["buildID"] + this["navigator"]["maxTouchPoints"] + ";" + this["navigator"]["cookieEnabled"] + ";" + this["navigator"]["oscpu"] + ";" + this.navigator["language"] + ";" + this["navigator"]["onLine"] + ";" + this["navigator"]["platform"] + ";" + this.navigator["product"] + ";" + this["navigator"]["productSub"] + ";" + this["navigator"]["deviceMemory"] + ";" + this["navigator"]["maxTouchPoints"] + ";" + this.screen["width"] + " x " + this.screen["height"] + ";$;" + _0x179805 + ";@;" + _0x38fd66 + ";" + _0xe51413;
  }
  ["getTimeInfo"]() {
    var _0x313763;
    try {
      _0x313763 = new Date()["getTimezoneOffset"]();
    } catch (_0xa4dd20) { }
    var _0x4aac5d;
    try {
      _0x4aac5d = Intl.DateTimeFormat()["resolvedOptions"]()["timeZone"];
    } catch (_0x1eed3c) { }
    var _0x3479cc = {};
    return _0x3479cc["offset"] = _0x313763, _0x3479cc["zone"] = _0x4aac5d, _0x3479cc;
  }
  ["getTimeString"]() {
    return "t$: " + this["time"].offset + ";" + this["time"].zone;
  }
  ["getBotString"]() {
    return "b$: " + (this["isBot"]() ? 1 : 0) + ";" + (this["bot"]["webdriver"] ? 1 : 0) + ";" + (this["bot"].headless ? 1 : 0) + ";" + (this["bot"]["notifications"] ? 1 : 0) + ";" + (this["bot"]["plugins"] ? 1 : 0) + ";" + (this["bot"]["languages"] ? 1 : 0);
  }
  ["getPluginString"]() {
    var _0x3d07c9 = "";
    return $["each"](this["plugins"], function (_0x2fda92, _0x5ee2e8) {
      _0x3d07c9 += separator + _0x5ee2e8["name"] + "," + _0x5ee2e8["filename"], separator = ",";
    }), _0x3d07c9;
  }
  ["getMimeString"]() {
    var _0x31567c = "",
      _0x29ac52 = "";
    return $["each"](this["mime"], function (_0x18852f, _0x27f513) {
      _0x31567c += _0x29ac52 + _0x27f513["description"] + "," + _0x27f513["suffixes"] + "," + _0x27f513["type"], _0x29ac52 = ",";
    }), _0x31567c;
  }
  ["getWebGLString"]() {
    var _0x1f5816 = this["webgl"]["renderer"] + ";" + this["webgl"]["vendor"];
    return this["webgl"]["unmaskedRenderer"] && (_0x1f5816 += ";" + this.webgl["unmaskedRenderer"]), this.webgl["unmaskedVendor"] && (_0x1f5816 += ";" + this.webgl.unmaskedVendor), _0x1f5816;
  }
  ["getUniqueID"]() {
    return hash(this["getString"]());
  }
  ["getCanvasId"]() {
    var _0x3c3939 = $("<canvas />");
    _0x3c3939["attr"]("width", 280), _0x3c3939.attr("height", 30);
    var _0x50be21 = _0x3c3939[0]["getContext"]("2d"),
      _0x202947 = "flockMOD, 1.0 <áüò$@€&%☺☻♥😄>";
    return _0x50be21["textBaseline"] = "top", _0x50be21["font"] = "14px Arial", _0x50be21.textBaseline = "alphabetic", _0x50be21["fillStyle"] = "#f60", _0x50be21["fillRect"](125, 1, 62, 20), _0x50be21.fillStyle = "#069", _0x50be21["fillText"](_0x202947, 2, 15), _0x50be21["fillStyle"] = "rgba(102, 204, 0, 0.7)", _0x50be21["fillText"](_0x202947, 4, 17), hash(_0x3c3939[0].toDataURL());
  }
}
class SoundSystem {
  constructor() {
    this["sounds"] = {}, this["addSound"]("chat", "sounds/chat.mp3"), this.addSound("pm", "sounds/pm.mp3"), this["addSound"]("inbox", "sounds/inbox.mp3"), this["addSound"]("staff", "sounds/staff.mp3");
  }
  ["addSound"](_0xb506b6, _0x5b0a11) {
    this["sounds"][_0xb506b6] = new Audio(_0x5b0a11);
  }
  ["play"](_0x3ed8aa) {
    if (_0x3ed8aa in this["sounds"]) {
      var _0x4dfb96 = UI["userPreferences"].getProperty("soundvolume", 1);
      if (UI["userPreferences"]["getGroupOption"]("sounds", _0x3ed8aa, true) && _0x4dfb96 > 0) {
        var _0x216d10 = this["sounds"][_0x3ed8aa];
        _0x216d10["volume"] = _0x4dfb96, _0x216d10["play"]();
      }
    }
  }
}
class ImagePreview {
  constructor() {
    this["imageServices"] = [], this["createPreviewServices"]();
  }
  ["createPreviewServices"]() {
    var _0x5df47e;
    this["imageServices"] = [], _0x5df47e = {}, _0x5df47e["name"] = "fmgalleryuser", _0x5df47e["regexp"] = /(https\:\/\/(www\.)?flockmod\.com\/gallery\/index\.php\?q\=\/post\/list\/user_id=([0-9]*)?[^\s]*)/i, _0x5df47e["match"] = 3, this["imageServices"]["push"](_0x5df47e), _0x5df47e = {}, _0x5df47e["name"] = "fmgallery", _0x5df47e.regexp = /(https\:\/\/(www\.)?flockmod\.com\/gallery\/index\.php\?q\=\/post\/view\/([0-9]*)?[^\s]*)/i, _0x5df47e.match = 3, this.imageServices.push(_0x5df47e), _0x5df47e = {}, _0x5df47e.name = "fmgallery", _0x5df47e.regexp = /(https\:\/\/(www\.)?flockmod\.com\/img\/\?([0-9]*)?[^\s]*)/i, _0x5df47e["match"] = 3, this["imageServices"]["push"](_0x5df47e), _0x5df47e = {}, _0x5df47e["name"] = "youtube", _0x5df47e["regexp"] = /(https\:\/\/(www\.)?youtube\.com\/watch\?v\=([^\#\&\? ]*)?[^\s]*)/i, _0x5df47e["match"] = 3, this["imageServices"]["push"](_0x5df47e), _0x5df47e = {}, _0x5df47e.name = "youtube", _0x5df47e.regexp = /(https\:\/\/(www\.)?youtu\.be\/([^\#\&\? ]*)?[^\s]*)/i, _0x5df47e["match"] = 3, this["imageServices"]["push"](_0x5df47e), _0x5df47e = {}, _0x5df47e["name"] = "imgur", _0x5df47e.regexp = /(https\:\/\/(www\.)?(i\.)?imgur\.com\/(a\/)?([^\.\#\&\? ]*)?[^\s]*)/i, _0x5df47e["match"] = 5, this["imageServices"]["push"](_0x5df47e);
  }
  ["containsImage"](_0x53a0ea) {
    var _0x2af0ca = null;
    $["each"](this["imageServices"], function (_0x460742, _0x733f11) {
      if (_0x2af0ca == null) {
        let _0xd6931b = _0x733f11["regexp"]["exec"](_0x53a0ea);
        _0xd6931b = _0x733f11.regexp["exec"](_0x53a0ea), _0xd6931b && (_0x2af0ca = {}, _0x2af0ca.service = _0x733f11["name"], _0x2af0ca["regexp"] = _0x733f11.regexp, _0x2af0ca["value"] = _0xd6931b[_0x733f11["match"]], _0x2af0ca["url"] = _0xd6931b[0]);
      }
    });
    if (_0x2af0ca != null) return _0x2af0ca;
    return null;
  }
  ["getThumb"](_0x288117) {
    return new Promise(function (_0x59b3ae, _0x7d6264) {
      var _0x4acc4e = {};
      _0x4acc4e["service"] = _0x288117["service"], _0x4acc4e.url = _0x288117["url"], _0x4acc4e.id = _0x288117["value"];
      var _0x424ce5 = this;
      if (_0x288117["service"] == "fmgallery") $["ajax"]({
        type: "POST",
        cache: true,
        async: true,
        url: "/api/img.php?id=" + _0x288117["value"],
        contentType: "application/json",
        dataType: "json"
      })["done"](function (_0x2db451) {
        _0x4acc4e.url = _0x2db451["picture"], _0x4acc4e["image"] = _0x2db451["thumb"], _0x59b3ae(_0x4acc4e);
      }); else {
        if (_0x288117["service"] == "fmgalleryuser") _0x4acc4e["image"] = UI.baseDir + "images/fmgalleryuser.png"; else {
          if (_0x288117["service"] == "youtube") _0x4acc4e["image"] = "https://img.youtube.com/vi/" + _0x288117["value"] + "/mqdefault.jpg"; else _0x288117["service"] == "imgur" && (_0x4acc4e["image"] = "https://i.imgur.com/" + _0x288117.value + "m.png");
        }
        _0x59b3ae(_0x4acc4e);
      }
    });
  }
}
class Icon {
  constructor(_0x1ed354, _0x217d22 = "fas", _0x3e041e = "", _0x1282f6 = "inherit") {
    this["name"] = _0x1ed354, this.category = _0x217d22, this["properties"] = _0x3e041e, this["color"] = _0x1282f6;
  }
  ["html"]() {
    return this["name"] == "" ? "" : "<i style=\"color: " + this.color + '" class="' + this["category"] + " " + this["name"] + " " + this["properties"] + "\"></i>";
  }
}
class Account {
  constructor(_0x19b371, _0x5405e2, _0x448682 = "UU") {
    this.change(_0x19b371, _0x5405e2, _0x448682);
  }
  ["change"](_0x5dba10, _0x1f3ba8, _0x4d12cf = "UU") {
    var _0x4ca535 = this.username;
    _0x5dba10 == "" && (_0x5dba10 = "Anonymous"), this["username"] = _0x5dba10, this["password"] = _0x1f3ba8, this["rank"] = _0x4d12cf, this.username != _0x4ca535 && $(this)["triggerHandler"](new usernameChangedEvent(this["username"], _0x4ca535)["getEvent"]());
  }
}
class LoadingScreen {
  constructor(_0x59c0a6) {
    this["container"] = _0x59c0a6, this["container"]["attr"]("id", "loadingContainer"), this["container"].addClass("loadingSpinner"), this["half"], this["container"]["contextmenu"](function (_0x306113) {
      _0x306113.preventDefault();
    });
  }
  ["show"](_0x491808 = "", _0x256172 = false, _0x561d5f = 1, _0x523611 = "fa-cog") {
    this["half"] = false, _0x256172 ? this["container"]["html"]("<div class=\"circularProgress sync\"><span class=\"progress-left\"><span class=\"progress-bar\"></span></span><span class=\"progress-right\"><span class=\"progress-bar\"></span></span><div class=\"progress-value\">0%</div></div><p class=\"progressText bottomProgressText\"><span class=\"text\"></span></p>") : this["container"]["html"]('<p class="progressText"><span class="icon">' + new Icon(_0x523611, "fas", "fa-spin")["html"]() + "</span><span class=\"text\"></span></p>"), this["setText"](_0x491808), this["container"]["css"]("opacity", _0x561d5f), this["container"]["show"]();
  }
  ["hide"]() {
    var _0xd2647f = this;
    this.container["fadeOut"](750, function () {
      _0xd2647f["container"].empty();
    });
  }
  ["showProgress"](_0x45827b) {
    var _0x544d6a = Math.min(Math["max"](_0x45827b, 1), 100) * 180 / 100 * 2;
    this["container"]["find"](".progress-value")["html"](parseInt(_0x45827b) + "%"), parseInt(_0x45827b) <= 50 ? this["container"].find(".progress-right .progress-bar")["css"]("transform", "rotate(" + _0x544d6a + "deg)") : (!this.half && (this["container"]["find"](".progress-right .progress-bar").css("transform", "rotate(180deg)"), this["half"] = true), this.container["find"](".progress-left .progress-bar").css("transform", "rotate(" + (_0x544d6a - 180) + "deg)"));
  }
  ["setText"](_0x13ae35, _0x3c3090 = null) {
    this.container["find"](".progressText span.text")["html"](_0x13ae35), _0x3c3090 != null && this["setIcon"](_0x3c3090);
  }
  ["setIcon"](_0x34fd70) {
    this["container"]["find"](".progressText span.icon")["html"](_0x34fd70);
  }
}
class TextManager {
  constructor() {
    this["availableLanguages"] = {
      en: "English",
      es: "Español",
      de: "Deutsch",
      pt: "Portugu\xEAs",
      ru: "\u0420\u0443\u0441\u0441\u043A\u0438\u0439"
    };
  }
  ["loadFiles"](_0x1f11ba) {
    var _0x3643de = this;
    $.i18n()["load"](_0x1f11ba)["done"](function () {
      $(_0x3643de).triggerHandler(new fileLoadedEvent()["getEvent"]());
    });
  }
  ["getString"](_0x23e2c9, _0x25aee5 = null, _0x27f0e7 = true) {
    if (_0x25aee5 != null) {
      if (Array.isArray(_0x25aee5)) return _0x25aee5.unshift(_0x23e2c9), (_0x27f0e7 ? "<span data-i18n=\"" + _0x23e2c9 + '"' + (_0x25aee5 ? " data-i18n-args=\"" + _0x25aee5["toString"]() + '"' : "") + ">" : "") + $["i18n"].apply(null, _0x25aee5) + (_0x27f0e7 ? "</span>" : "");
    }
    return (_0x27f0e7 ? '<span data-i18n="' + _0x23e2c9 + '"' + (_0x25aee5 ? " data-i18n-args=\"" + _0x25aee5 + '"' : "") + ">" : "") + $["i18n"](_0x23e2c9, _0x25aee5) + (_0x27f0e7 ? "</span>" : "");
  }
  ["getLocale"]() {
    return $["i18n"]()["locale"];
  }
  ["changeLocale"](_0x449edc) {
    if (Object.keys(this.availableLanguages).indexOf(_0x449edc) > -1) {
      if ($["i18n"]()["locale"] != _0x449edc) {
        let _0x24ad4c = $["i18n"]()["locale"];
        $.i18n().locale = _0x449edc, $(this)["triggerHandler"](new localeChangedEvent(_0x449edc, _0x24ad4c)["getEvent"]());
      }
    }
  }
  ["getSupportedLanguages"]() {
    return this.availableLanguages;
  }
  ["isSupportedLanguage"](_0x226584) {
    return Object["keys"](this["availableLanguages"]).indexOf(_0x226584) >= 0;
  }
  ["updateElement"](_0x2ba9a5) {
    _0x2ba9a5["i18n"]();
  }
}
var room,
  socket,
  cm,
  UI,
  storage,
  device,
  domain = "flockmod.com",
  textManager;
  function run() {
    // Initialize core components
    storage = new LocalStorage("fmod");
    device = new Device(window);

    socket = new Socket("wss://" + "flockmod.com" + "/server/");
    cm = new ConnectionManager(socket);
    
    // Setup UI
    UI.setup($("#content"));
    const userLang = UI.userPreferences.getProperty("language", "en");
    textManager.changeLocale(userLang);
  
    // Join lobby room
    
    room = new Room(UI.boardContainer, "lobby", "L", 1, "1P");
    
  /*
     UI.loadingScreen.hide(); //Added to hide the loading screen
    
     setupOfflineMode(); // Defined below, sets up the UI

    setTimeout(() => {
      room.board.changeSize(1920, 2160);
    },1000)
     //Set canvas size here, fixes a minor alignment issue with the cursor

    // Set frame rate and update loop
    
    */
                                                           
    const framesPerSecond = 30;
    const intervalTime = parseInt(1000 / framesPerSecond);
  
    const intervalId = window.setInterval(function () {
     socket.execFrame();
  
      if (room && room.connected) {
        room.myself.frameBuffer.execFrame();
  
        $.each(room.users, function (userId) {
          room.users[userId].frameBuffer.execFrame();
        });
      }
    }, intervalTime);


  }

function loadTexts() {
  textManager = new TextManager(), $(textManager).on("fileLoaded", function (_0x243bb2) {
    this["changeLocale"]("en"), run(), this.updateElement($("body")), $(".splashScreen")["stop"]()["animate"]({
      height: "0%"
    }, {
      duration: 2e3,
      easing: "swing"
    });
  }), textManager["loadFiles"](embeddedLocales); //Embedded json files directly into the code below
}
$(document)["ready"](function () {
  UI = new UserInterface();
  var _0x3752a1 = 4,
    _0x481822 = this;
  $(".splashScreen").contextmenu(function (_0x37d86a) {
    _0x37d86a.preventDefault();
  });
  var _0x38662c = setInterval(function () {
    if (_0x3752a1 == 0) clearInterval(_0x38662c), changeCaption("LOADING..."), $("#startButton:not(.disabled)")["trigger"]("click"); else _0x3752a1 > 0 && changeCaption("START DRAWING (" + _0x3752a1-- + ")");
  }, 1e3);
  $("#startButton").on("touchstart click", function (_0x243cd9) {
    _0x243cd9.preventDefault();
    $(this).addClass("disabled");
    hideButton();
  
    const html = embeddedHTML["forms/app.main.html"];
    $(".contentScreen").html(html);
    loadTexts();
  });

});
function changeCaption(_0xcee181) {
  $("#startButton").length > 0 && $("#startButton")["html"](_0xcee181);
}
function hideButton() {
  $("#startButton")["length"] > 0 && $("#startButton")["fadeOut"]("slow");
}

//Added manually
function zeroToOnePercentage(_0x15f254) {
  return parseInt(_0x15f254 * 0x64);
}

function setupOfflineMode(){

  data = {"command":"ENTERED","room":"","type":"L","mute":"N","knownproxy":"N","background":"#FFFFFF","bottomtransparency":true,"animcols":3,"animrows":3,"size":"XL","description":"","numlayers":1,"capacity":69,"lockedlayers":[],"registered":true,"you":{"name":"Anonymous","rank":"UU","muted":false,"silenced":false,"privileges":{"pundo":true,"pload":true,"mergelayer":true,"modmessageuse":true,"mute":true,"silence":true,"roommanager":true,"clearlayer":true,"kick":true,"addmod":false,"ban":false,"unbanothers":false,"seelowerips":false,"seesameips":false,"seehigherips":false,"unregisterroom":false,"changeprivileges":false,"changetools":true,"locklayers":true,"drawlockedlayers":false,"fliplayer":true,"bypasspwd":false,"roombans":false,"bypassfull":false,"manageframes":false},"tools":{"drag":true,"rotate":true,"picker":true,"selection":true,"pen":true,"eraser":true,"text":true,"line":true,"rect":true,"ellipse":true,"blend":true,"fill":true,"blur":true,"custom":true,"pixel":true},"uid":0}}
  
  if (room.connected) {
    room.connected = false;
  }
  
  room.createMyself(data.you.name, "GM");
  
  if (!UI.configured) {
    UI.configured = true;
    UI.setupControls();
    UI.bindEvents();
  }
  room.connected = true;
  room.capacity = data.capacity;
  room.description = unescapeHTML(data.description);
  room.changeSize(data.size);
  room.changeTransparency(data.bottomtransparency);
  room.changeType(data.type);
  room.changeLayers(data.numlayers);
  room.changeBackground(data.background, true);
  room.changeAnimationOptions(data.animrows, data.animcols);
  room.change(data.room);
  
  if (data.usercount > 0) {
    room.board.clearLayers();
  }
  
  room.myself.changeMute(data.you.muted);
  room.myself.changeSilence(data.you.silenced);
  room.setPrivileges(data.you.privileges);
  room.setTools(data.you.tools);
  room.myself.uid = data.you.uid;
  
  if (data.you.muted && data.you.mutetime) {
    UI.muteTime(parseInt(data.you.mutetime));
  }
  
  if ("registered" in data) {
    if (data.registered) {
      UI.bottombar.hideButton("registerButton");
    } else {
      UI.bottombar.showButton("registerButton");
    }
  }
  
  UI.setupScreenSize(UI.getScreenSize());
  UI.showAllLayers();
  UI.inRoom = true;
  
  let user = new User("Anonymous", "GM", "0.0.0.0", "BR", false);

  room.addUser(user, true);

  setTimeout(function () {
    UI.fitToScreen();
    UI.boardContainer.fadeIn(500);
  }, 500);

}



const embeddedLocales = {
    en: {"@metadata":{"authors":["auto"],"last-updated":"2022-10-23","locale":"en"},"global.phFilter":"Filter","global.lblYou":"YOU","global.lblLasso":"lasso","global.lblRectangle":"rectangle","global.lblYes":"yes","global.lblNo":"no","global.lblTool":"Tool","global.lblColor":"Color","global.lblHoldTap":"Hold to set. Tap to load.","global.enabled":"enabled","global.disabled":"disabled","global.opaque":"opaque","global.transparent":"transparent","global.days.today":"Today","global.days.yesterday":"Yesterday","global.months.1":"Jan","global.months.2":"Feb","global.months.3":"Mar","global.months.4":"Apr","global.months.5":"May","global.months.6":"Jun","global.months.7":"Jul","global.months.8":"Aug","global.months.9":"Sep","global.months.10":"Oct","global.months.11":"Nov","global.months.12":"Dec","global.lblUnknown":"Unknown","global.lblNoResults":"No results found","global.shortcut.lblOr":"$1 or $2","global.rank.UU":"Unregistered user","global.rank.RU":"Registered user","global.rank.TU":"Trusted user","global.rank.RM":"Moderator","global.rank.FM":"Full moderator","global.rank.LM":"Lead moderator","global.rank.CO":"Room owner","global.rank.RO":"Room owner","global.rank.GM":"Global moderator","global.shortRank.UU":"UU","global.shortRank.RU":"RU","global.shortRank.TU":"TU","global.shortRank.RM":"M","global.shortRank.FM":"FM","global.shortRank.LM":"LM","global.shortRank.CO":"CO","global.shortRank.RO":"RO","global.shortRank.GM":"GM","global.lblClickOrEnterToChat":"<strong>CLICK</strong> or press <strong>ENTER</strong> to chat","global.lblRequestingBoard":"Requesting board to $1","global.lblSyncingWith":"Syncing with $1","global.lblSkipUserSync":"Too slow? Skip this user","global.lblCancelAndLeave":"Cancel and leave the room","radialMenu.lblSize":"Size","radialMenu.lblNextTool":"Next<br />Tool","radialMenu.lblSwapColors":"Swap<br />Colors","radialMenu.lblPan":"Pan","radialMenu.lblSwapEraser":"Swap<br />Eraser","radialMenu.lblPreviousTool":"Previous<br />Tool","layerPreview.btnClear":"Clear layer","layerPreview.btnFlipHorizontally":"Flip horizontally","layerPreview.btnFlipVertically":"Flip vertically","layerPreview.btnSave":"Save layer","layerPreview.btnHide":"Show / Hide layer","layerPreview.btnLock":"Lock / Unlock layer","menu.layers.MergeWithLayer":"Merge with layer $1","menu.undoPreview.save":"Save selected layers","menu.layerPreview.clear":"Clear layer","menu.boardMenu.resetzoom":"Reset zoom","menu.boardMenu.zoomin":"Zoom in","menu.boardMenu.zoomout":"Zoom out","menu.boardMenu.rotatereset":"Reset rotation","menu.boardMenu.rotate45left":"Rotate left","menu.boardMenu.rotate45right":"Rotate right","menu.boardMenu.fliphorizontally":"Flip horizontally","menu.boardMenu.fittoscreen":"Fit to screen","menu.boardMenu.centerboard":"Center board","menu.userList.Snc":"Sync board","menu.userList.Dbg":"Debug","menu.userList.Ugd":"Gallery","menu.userList.Ccb":"Copy custom brush","menu.userList.Pm":"Private message","menu.userList.IgnToggle":"Ignore / Unignore","menu.userList.Kck":"Kick","menu.userList.Bn":"Ban","menu.userList.Muu":"Mute","menu.userList.Umu":"Unmute","menu.userList.Siu":"Silence","menu.userList.Usi":"Unsilence","menu.userList.Pru":"Promote","menu.userList.Deu":"Demote","menu.userList.Pfl":"Profile","menu.userList.Reg":"Register room","menu.textbox.copy":"Copy","menu.textbox.select":"Select all","menu.textbox.clear":"Clear text","menu.textbox.copylink":"Copy link","menu.textbox.openlink":"Open link","menu.messenger.remove":"Delete conversation","animation.title":"Animation","animation.mnuPlay":"Play","animation.mnuFrames":"Frames","animation.play.lblSpeed":"Speed:","animation.play.btnSave":"Save","animation.frames.lblCloning":"Cloning","animation.frames.lblLayers":"Layers","animation.frames.lblLayer":"Layer $1","animation.frames.lblFrames":"Frames","animation.frames.lblFrame":"Frame:","animation.frames.lblAction":"Action:","animation.frames.optClear":"Clear","animation.frames.optClone":"Clone","animation.frames.lblFrameTarget":"Target:","animation.frames.lblOpacity":"Opacity:","animation.frames.btnApplyChanges":"Apply","animation.sidebar.btnPlay":"Play","animation.sidebar.btnViewAll":"View all","animation.sidebar.lblFrames":"Frames:","login.title":"Welcome","login.lblJoinRoom":"Join a room","login.lblTypeRoomName":"Type a room name:","login.lblPickRoom":"Or pick one from the following list of public rooms:","login.btnRefreshRoomList":"Refresh room list","login.btnJoinRoom":"Join room","login.lblAccountInfo":"You don't need an account to use <strong>FlockMod</strong>, just type any username and leave the password blank. Although if you want extra features, consider <a name=\"accountRegister\" href=\"#\" class=\"inlineLink\">registering an account</a> for free.","login.lblPickUsername":"Pick a username","login.lblTypeUsername":"Type your username:","login.lblTypePassword":"Password (optional):","login.lblForgotPassword":"Forgot your password?","login.btnSignUp":"Sign up","login.btnOkay":"OK","login.btnCancel":"Cancel","login.btnCreate":"Create","login.lblPasswordProtectedRoom":"Password-protected room","login.lblPassword":"Password","login.lblRegisterAccount":"Register an account","login.lblUsername":"Username:","login.lblPassword1":"Password:","login.lblConfirmPassword":"Confirm password:","login.lblEmailAddress":"E-Mail address:","login.lblSecretQuestion":"Secret question:","login.lblSecretAnswer":"Secret answer:","login.phRoomName":"Room name","login.rowRoomName":"Room name","config.title":"Configuration","config.mnuSettings":"Settings","config.mnuHotkeys":"Hotkeys","config.mnuAboutUs":"About us","config.lblSettings":"Settings","config.lblHotkeys":"Hotkeys","config.lblAboutUs":"About us","config.lblLanguage":"Language:","config.lblTheme":"Theme:","config.optThemeDark":"Dark","config.optThemeLight":"Light","config.optThemeClassic":"Classic","config.lblVolume":"Volume:","config.lblSidebar":"Sidebar:","config.lblStrokePreviewQuality":"Stroke preview quality:","config.optQualityHigh":"High","config.optQualityNormal":"Normal","config.lblLoadingPresetWillChange":"Loading a preset will change:","config.lblGraphics":"Graphics:","config.lblSounds":"Sounds:","config.lblTools":"Tools:","config.lblSyncOptions":"Sync these options across tools:","config.btnExport":"Export","config.btnImport":"Import","config.btnApplyChanges":"Apply changes","config.optBrush":"Tool","config.optColor":"Color","config.optSize":"Size","config.optAlpha":"Opacity","config.optBlur":"Blur","config.optSmooth":"Smoothing","config.optSpacing":"Spacing","config.optMode":"Mode","config.optRightClick":"Right click","config.optCursor":"Cursor","config.optAutoSwitch":"Auto-switch color picker","config.sync.optSize":"Size","config.sync.optAlpha":"Opacity","config.sync.optBlur":"Blur","config.sync.optMode":"Mode","config.optLeft":"Left","config.optRight":"Right","config.optChatTone":"Public chat message tone","config.optStaffChatTone":"Staff chat message tone","config.optPrivateTone":"Private message tone","config.optInboxTone":"Messenger message tone","config.optShowUsername":"Show own username next to cursor","config.optShowMouse":"Show mouse cursor on the canvas","config.optDisableTooltips":"Disable tooltips","config.optChatPreviews":"Show image previews on chat","config.btnChangeHotkey":"Change hotkey","config.btnLoadDefaults":"Load defaults","config.btnApply":"Apply","config.btnCancel":"Cancel","config.lblEditHotkey":"Edit hotkey","config.lblDescription":"Description:","config.lblPrimaryHotkey":"Primary hotkey:","config.lblSecondaryHotkey":"Secondary hotkey:","config.btnChange":"Change","config.btnClear":"Clear","config.rowDescription":"Description","config.rowHotkey":"Hotkey","config.rowHotkey2":"Hotkey 2","config.sc.drag.tool":"Select Drag tool","config.sc.rotate.tool":"Select Rotation tool","config.sc.picker.tool":"Select Color picker tool","config.sc.selection.tool":"Select Selection tool","config.sc.pen.tool":"Select Brush tool","config.sc.eraser.tool":"Select Eraser tool","config.sc.text.tool":"Select Text tool","config.sc.line.tool":"Select Line tool","config.sc.rect.tool":"Select Rectangle tool","config.sc.ellipse.tool":"Select Ellipse tool","config.sc.blend.tool":"Select Blend tool","config.sc.fill.tool":"Select Fill tool","config.sc.pixel.tool":"Select Pixel tool","config.sc.custom.tool":"Select Custom tool","config.sc.rightclick.custom":"Trigger right click action","config.sc.cancelstroke.custom":"Cancel current stroke","config.sc.previoustool.custom":"Previous tool","config.sc.nexttool.custom":"Next tool","config.sc.switchprev.custom":"Switch to previously selected tool","config.sc.+size.slideroption":"Increase brush size","config.sc.-size.slideroption":"Decrease brush size","config.sc.+alpha.slideroption":"Increase brush opacity","config.sc.-alpha.slideroption":"Decrease brush opacity","config.sc.+blur.slideroption":"Increase brush blur","config.sc.-blur.slideroption":"Decrease brush blur","config.sc.+smooth.slideroption":"Increase brush smoothing","config.sc.-smooth.slideroption":"Decrease brush smoothing","config.sc.+spacing.slideroption":"Increase brush spacing","config.sc.-spacing.slideroption":"Decrease brush spacing","config.sc.+multilayer.checkboxoption":"Switch on \"All layers\"","config.sc.-multilayer.checkboxoption":"Switch off \"All layers\"","config.sc.!multilayer.checkboxoption":"Toggle \"All layers\"","config.sc.+areaaverage.checkboxoption":"Switch on \"Area average\"","config.sc.-areaaverage.checkboxoption":"Switch off \"Area average\"","config.sc.!areaaverage.checkboxoption":"Toggle \"Area average\"","config.sc.+tint.checkboxoption":"Switch on \"Tint\"","config.sc.-tint.checkboxoption":"Switch off \"Tint\"","config.sc.!tint.checkboxoption":"Toggle \"Tint\"","config.sc.+randomrotation.checkboxoption":"Switch on \"Rand. rotation\"","config.sc.-randomrotation.checkboxoption":"Switch off \"Rand. rotation\"","config.sc.!randomrotation.checkboxoption":"Toggle \"Rand. rotation\"","config.sc.+selectiontype.checkboxoption":"Switch selection type to \"lasso\"","config.sc.-selectiontype.checkboxoption":"Switch selection type to \"rectangle\"","config.sc.!selectiontype.checkboxoption":"Toggle selection type","config.sc.+pressure.slidercheckoption":"Switch on \"Pressure\"","config.sc.-pressure.slidercheckoption":"Switch off \"Pressure\"","config.sc.!pressure.slidercheckoption":"Toggle \"Pressure\"","config.sc.+blendmode.listoption":"Next mode","config.sc.-blendmode.listoption":"Previous mode","config.sc.normal.blendmode":"Select blend mode: Normal","config.sc.darken.blendmode":"Select blend mode: Darken","config.sc.lighten.blendmode":"Select blend mode: Lighten","config.sc.difference.blendmode":"Select blend mode: Difference","config.sc.exclusion.blendmode":"Select blend mode: Exclusion","config.sc.hard-light.blendmode":"Select blend mode: Hard Light","config.sc.soft-light.blendmode":"Select blend mode: Soft Light","config.sc.multiply.blendmode":"Select blend mode: Multiply","config.sc.overlay.blendmode":"Select blend mode: Overlay","config.sc.screen.blendmode":"Select blend mode: Screen","config.sc.saturation.blendmode":"Select blend mode: Saturation","config.sc.luminosity.blendmode":"Select blend mode: Luminosity","config.sc.hue.blendmode":"Select blend mode: Hue","config.sc.color.blendmode":"Select blend mode: Color","config.sc.color-dodge.blendmode":"Select blend mode: Color Dodge","config.sc.color-burn.blendmode":"Select blend mode: Color Burn","config.sc.kickuser.userlist":"Kick selected user","config.sc.banuser.userlist":"Ban selected user","config.sc.muteuser.userlist":"Mute selected user","config.sc.unmuteuser.userlist":"Unmute selected user","config.sc.silenceuser.userlist":"Silence selected user","config.sc.unsilenceuser.userlist":"Unsilence selected user","config.sc.toggleignoreuser.userlist":"Ignore / Unignore selected user","config.sc.config.dialog":"Open / Close Configruation","config.sc.roommanager.dialog":"Open / Close Room Manager","config.sc.messenger.dialog":"Open / Close Messenger","config.sc.profile.dialog":"Open / Close Profile","config.sc.chat.dialog":"Open / Close Chat","config.sc.undo.dialog":"Open / Close Undo","config.sc.upload.dialog":"Open / Close Upload","config.sc.save.dialog":"Open / Close Save","config.sc.color.dialog":"Open / Close Color","config.sc.radialmenu.custom":"Open Radial menu","config.sc.maximizedialog.custom":"Toggle maximize current dialog","config.sc.closedialog.custom":"Close current dialog","config.sc.leaveroom.custom":"Leave the room","config.sc.fullscreen.custom":"Toogle fullscreen","config.sc.zoomin.custom":"Zoom in","config.sc.zoomout.custom":"Zoom out","config.sc.resetzoom.custom":"Reset zoom","config.sc.nextlayerup.custom":"Next layer up","config.sc.nextlayerdown.custom":"Next layer down","config.sc.swapcolors.custom":"Swap colors","config.sc.changeprimarycolor.custom":"Change primary color","config.sc.changesecondarycolor.custom":"Change secondary color","config.sc.+r.coloroption":"Increase color value: Red","config.sc.-r.coloroption":"Decrease color value: Red","config.sc.+g.coloroption":"Increase color value: Green","config.sc.-g.coloroption":"Decrease color value: Green","config.sc.+b.coloroption":"Increase color value: Blue","config.sc.-b.coloroption":"Decrease color value: Blue","config.sc.+h.coloroption":"Increase color value: Hue","config.sc.-h.coloroption":"Decrease color value: Hue","config.sc.+s.coloroption":"Increase color value: Saturation","config.sc.-s.coloroption":"Decrease color value: Saturation","config.sc.+v.coloroption":"Increase color value: Value","config.sc.-v.coloroption":"Decrease color value: Value","config.sc.rotatereset.custom":"Reset rotation","config.sc.rotate45left.custom":"Rotate 45 degrees to the left","config.sc.rotate45right.custom":"Rotate 45 degrees to the right","config.sc.moveboard.custom":"Move board","config.sc.fittoscreen.custom":"Fit to screen","config.sc.centerboard.custom":"Center board","config.sc.viewflip.custom":"Flip view horizontally","config.sc.pixelsmoothing.custom":"Toggle \"Sharp pixels\"","config.sc.pickcolor1.color":"Pick saved color 1","config.sc.pickcolor2.color":"Pick saved color 2","config.sc.pickcolor3.color":"Pick saved color 3","config.sc.pickcolor4.color":"Pick saved color 4","config.sc.pickcolor5.color":"Pick saved color 5","config.sc.pickcolor6.color":"Pick saved color 6","config.sc.pickcolor7.color":"Pick saved color 7","config.sc.pickcolor8.color":"Pick saved color 8","config.sc.pickcolor9.color":"Pick saved color 9","config.sc.pickcolor10.color":"Pick saved color 10","config.sc.loadpreset1.preset":"Load preset 1","config.sc.loadpreset2.preset":"Load preset 2","config.sc.loadpreset3.preset":"Load preset 3","config.sc.loadpreset4.preset":"Load preset 4","config.sc.loadpreset5.preset":"Load preset 5","config.sc.loadpreset6.preset":"Load preset 6","config.sc.loadpreset7.preset":"Load preset 7","config.sc.loadpreset8.preset":"Load preset 8","config.sc.loadpreset9.preset":"Load preset 9","config.sc.loadpreset10.preset":"Load preset 10","config.sc.loadpreset11.preset":"Load preset 11","config.sc.loadpreset12.preset":"Load preset 12","config.sc.loadpreset13.preset":"Load preset 13","config.sc.loadpreset14.preset":"Load preset 14","config.sc.loadpreset15.preset":"Load preset 15","config.sc.loadpreset16.preset":"Load preset 16","config.sc.loadpreset17.preset":"Load preset 17","config.sc.loadpreset18.preset":"Load preset 18","config.lblListening":"Listening...","config.lblAbout":"<strong>FlockMod</strong> is a collaborative drawing platform, all made while keeping artists and communication in mind. FlockMod is founded and hosted by <strong class=\"rankGM\">FDT</strong>, and actively developed and maintained by <strong class=\"rankGM\">auto</strong>.</p>","config.lblUsefulLinks":"Useful links","config.btnGallery":"Gallery","config.btnNewsUpdates":"News and updates","config.btnFeedback":"Give us your feedback","config.btnIdeasPage":"Ideas and suggestions","config.btnHelp":"Help","config.lblSpecialThanks":"Special thanks","config.rowThanksName":"Name (alphabetical order)","tooloption.size":"Size","tooloption.alpha":"Opacity","tooloption.blur":"Blur","tooloption.smooth":"Smoothing","tooloption.blendmode":"Mode","tooloption.pressure":"Pressure","tooloption.spacing":"Spacing","tooloption.customize":"Customize","tooloption.gallery":"Gallery","tooloption.multilayer":"All Layers","tooloption.selectiontype":"Type","tooloption.areaaverage":"Area average","tooloption.tint":"Tint","tooloption.randomrotation":"Rand. rotation","tooloption.rightclick":"Right click","tooloption.cursor":"Cursor","tooloption.erasermode":"Eraser","tooloption.aspectratio":"Aspect ratio","tooloption.snap":"Angle snap","tooloption.drawgrid":"Show grid","tooloption.font":"Font","tooloption.fill":"Fill","tooloption.image":"Image","tooloption.rightClickList.donothing":"Do nothing","tooloption.rightClickList.cancelstroke":"Cancel stroke","tooloption.rightClickList.toggleselectiontype":"Toggle Type","tooloption.rightClickList.togglemultilayer":"Toggle All layers","tooloption.rightClickList.swapcolors":"Swap colors","tooloption.rightClickList.toggleareaaverage":"Toggle Area avg.","tooloption.rightClickList.rotatereset":"Reset rotation","tooloption.rightClickList.rotate45right":"Rotate 45 degrees","tooloption.rightClickList.centerboard":"Center board","tooloption.rightClickList.fittoscreen":"Fit to screen","tooloption.rightClickList.resetzoom":"Reset zoom","tooloption.rightClickList.togglesnap":"Toggle Angle snap","tooloption.rightClickList.toggleaspectratio":"Toggle Keep ratio","tooloption.rightClickList.toggleerasermode":"Toggle Eraser","tooloption.rightClickList.toggledrawgrid":"Toggle Show grid","tooloption.rightClickList.nextfont":"Next font","tooloption.rightClickList.cleartext":"Clear text","tooloption.rightClickList.switchprevtool":"Switch prev. tool","tooloption.rightClickList.selecteraser":"Switch to eraser","tooloption.rightClickList.showmenu":"Show menu","tooloption.blendmodes.normal":"Normal","tooloption.blendmodes.darken":"Darken","tooloption.blendmodes.lighten":"Lighten","tooloption.blendmodes.difference":"Difference","tooloption.blendmodes.exclusion":"Exclusion","tooloption.blendmodes.hard-light":"Hard Light","tooloption.blendmodes.soft-light":"Soft Light","tooloption.blendmodes.multiply":"Multiply","tooloption.blendmodes.overlay":"Overlay","tooloption.blendmodes.screen":"Screen","tooloption.blendmodes.saturation":"Saturation","tooloption.blendmodes.luminosity":"Luminosity","tooloption.blendmodes.hue":"Hue","tooloption.blendmodes.color":"Color","tooloption.blendmodes.color-dodge":"Color Dodge","tooloption.blendmodes.color-burn":"Color Burn","tooloption.cursorList.circle":"Circle","tooloption.cursorList.square":"Square","tooloption.cursorList.crosshair":"Crosshair","tooloption.cursorList.dot":"Dot","tooloption.cursorList.cross":"Cross","tool.drag":"Drag","tool.rotate":"Rotate","tool.picker":"Color picker","tool.selection":"Selection","tool.pen":"Brush","tool.eraser":"Eraser","tool.text":"Text","tool.line":"Line","tool.rect":"Rectangle","tool.ellipse":"Ellipse","tool.blend":"Blend","tool.fill":"Flood Fill","tool.custom":"Custom","tool.blur":"Blur","tool.pixel":"Pixel","sidebar.lblUserList":"User list","sidebar.lblToolOptions":"Tool options","sidebar.lblPresets":"Presets","sidebar.lblColorWheel":"Color wheel","sidebar.lblLayers":"Layers","sidebar.lblAnimation":"Animation","sidebar.btnRearrange":"Rearrange","sidebar.lblDragAndDrop":"Drag and drop to the desired position.","sidebar.btnConfirm":"Confirm","sidebar.btnCancel":"Cancel","toolbar.btnClear":"Clear","toolbar.btnFill":"Fill","toolbar.btnMove":"Move / Resize","toolbar.btnClone":"Clone","toolbar.btnSave":"Save","toolbar.btnUndo":"Undo","toolbar.btnCustomBrush":"Custom brush","toolbar.btnFlip":"Flip","toolbar.btnConfirm":"Confirm","toolbar.btnDelete":"Delete","toolbar.btnCancel":"Cancel","tooltip.lblZoomIn":"Zoom in","tooltip.lblZoomOut":"Zoom out","tooltip.lblCenterBoard":"Center board","tooltip.lblFitScreen":"Fit to screen","tooltip.lblFlipHorizontally":"Flip horizontally","tooltip.lblPixelSmoothing":"Sharp pixels","tooltip.lblFeedback":"Feedback","tooltip.lblAdminConsole":"Admin Console","tooltip.lblRoomManager":"Room Manager","tooltip.lblUndo":"Undo","tooltip.lblMessenger":"Messenger","tooltip.lblUpload":"Upload","tooltip.lblSave":"Save","tooltip.lblMaximize":"Maximize","tooltip.lblClose":"Close","tooltip.lblHelp":"Help","tooltip.lblConfiguration":"Configuration","tooltip.lblChat":"Chat","tooltip.lblFullScreen":"Fullscreen","tooltip.lblLeaveRoom":"Leave the room","tooltip.lblRegisterRoom":"Register room","tooltip.lblChangePrimaryColor":"Change primary color","tooltip.lblChangeSecondaryColor":"Change secondary color","tooltip.lblSwapColors":"Swap colors","roommanager.title":"Room Manager","roommanager.mnuSettings":"Settings","roommanager.mnuStaff":"Staff","roommanager.mnuPrivileges":"Privileges","roommanager.mnuTools":"Tools","roommanager.mnuBans":"Bans","roommanager.settings.lblSettings":"Room settings","roommanager.settings.lblDescription":"Description:","roommanager.settings.lblRoomMode":"Mode:","roommanager.settings.lblLayers":"Layers: *","roommanager.settings.lblCanvasSize":"Canvas size:","roommanager.settings.lblAnimRows":"Rows (animation):","roommanager.settings.lblAnimCols":"Columns (animation):","roommanager.settings.lblRoomCapacity":"Capacity:","roommanager.settings.lblRoomPassword":"Access password:","roommanager.settings.lblMuteLength":"Mute length:","roommanager.settings.lblBanLength":"Default ban length:","roommanager.settings.lblBackground":"Background:","roommanager.settings.lblBottomLayer":"Bottom layer:","roommanager.settings.lblUserJoins":"When a user joins the room:","roommanager.settings.lblProxyJoins":"When a known proxy joins (ignores staff):","roommanager.settings.lblBlendModes":"* Blend modes are only available on 1 layer rooms.","roommanager.settings.btnApplyChanges":"Apply changes","roommanager.settings.btnUnregisterRoom":"Unregister room","roommanager.settings.lblUsers":"users","roommanager.settings.optRegular":"Regular","roommanager.settings.optAnimation":"Animation","roommanager.settings.optSmall":"Small","roommanager.settings.optMedium":"Medium","roommanager.settings.optLarge":"Large","roommanager.settings.optExtraLarge":"Extra Large","roommanager.settings.optDoNothing":"Do nothing","roommanager.settings.optMuteNotReg":"Mute if unregistered","roommanager.settings.optMuteNotStaff":"Mute if not staff member","roommanager.settings.optMute":"Mute","roommanager.settings.optSilence":"Silence","roommanager.settings.optMuteSilence":"Mute and silence","roommanager.settings.optBlock":"Block connection","roommanager.settings.optTransparent":"Transparent","roommanager.settings.optOpaque":"Opaque","roommanager.settings.optWhite":"White","roommanager.settings.optGray":"Gray","roommanager.settings.optBlack":"Black","roommanager.settings.optPrivateRoom":"private room","roommanager.settings.optPublicRoom":"public room","roommanager.staff.lblStaff":"Staff","roommanager.staff.rowUsername":"Username","roommanager.staff.rowRank":"Rank","roommanager.staff.rowPromotedBy":"Promoted by","roommanager.staff.rowDate":"Date","roommanager.staff.btnAddUser":"Add user","roommanager.staff.btnEditUser":"Edit user","roommanager.staff.btnRemoveUser":"Remove user","roommanager.staff.lblEditStaffMember":"Edit staff member","roommanager.staff.lblAddStaffMember":"Add staff member","roommanager.staff.lblUsername":"Username:","roommanager.staff.lblRank":"Rank:","roommanager.staff.btnAdd":"Add","roommanager.staff.btnCancel":"Cancel","roommanager.staff.btnOkay":"OK","roommanager.privileges.lblPrivileges":"Privileges","roommanager.privileges.btnApplyChanges":"Apply changes","roommanager.privileges.btnLoadDefaults":"Load defaults","roommanager.privileges.rowPrivilege":"Privilege","roommanager.privilege.roommanager":"Edit Room Manager: Settings","roommanager.privilege.changeprivileges":"Edit Room Manager: Privileges","roommanager.privilege.roombans":"Edit Room Manager: Bans","roommanager.privilege.rmstaff":"Edit Room Manager: Staff","roommanager.privilege.addmod":"Promote or demote users","roommanager.privilege.mute":"Mute users","roommanager.privilege.kick":"Kick users","roommanager.privilege.silence":"Silence users","roommanager.privilege.ban":"Ban users","roommanager.privilege.unbanothers":"Edit other staff member's bans","roommanager.privilege.changetools":"Edit Room Manager: Tools","roommanager.privilege.mergelayer":"Merge layers","roommanager.privilege.clearlayer":"Clear layers","roommanager.privilege.fliplayer":"Flip layers","roommanager.privilege.locklayers":"Lock layers","roommanager.privilege.drawlockedlayers":"Draw on locked layers","roommanager.privilege.modmessageuse":"Use the staff chat","roommanager.privilege.pload":"Upload pictures","roommanager.privilege.pundo":"Undo the board","roommanager.privilege.seehigherips":"See higher ranked users' IP","roommanager.privilege.seelowerips":"See lower ranked users' IP","roommanager.privilege.seesameips":"See same ranked users' IP","roommanager.privilege.bypasspwd":"Bypass room password","roommanager.privilege.bypassfull":"Enter when the room is full","roommanager.privilege.manageframes":"Clear and clone frames in animation mode","roommanager.tools.lblTools":"Tools","roommanager.tools.btnApplyChanges":"Apply changes","roommanager.tools.btnLoadDefaults":"Load defaults","roommanager.tools.rowTool":"Tool","roommanager.bans.lblBans":"Bans","roommanager.bans.btnAddBan":"Add ban","roommanager.bans.btnEditBan":"Edit ban","roommanager.bans.btnRemoveBan":"Remove ban","roommanager.bans.rowIP":"IP","roommanager.bans.rowBannedBy":"Banned by","roommanager.bans.rowLength":"Length","roommanager.bans.lblAddBan":"Add ban","roommanager.bans.lblEditBan":"Edit ban","roommanager.bans.lblIPAddress":"IP address:","roommanager.bans.lblUsername":"Username:","roommanager.bans.lblLength":"Length:","roommanager.bans.btnOkay":"OK","roommanager.bans.btnAdd":"Add","roommanager.bans.btnCancel":"Cancel","global.lengths.lblPermanent":"Permanent","global.lengths.lblSecond":"$1 {{PLURAL:$1|second|seconds}}","global.lengths.lblMinute":"$1 {{PLURAL:$1|minute|minutes}}","global.lengths.lblHour":"$1 {{PLURAL:$1|hour|hours}}","global.lengths.lblDay":"$1 {{PLURAL:$1|day|days}}","global.lengths.lblWeek":"$1 {{PLURAL:$1|week|weeks}}","global.lengths.lblMonth":"$1 {{PLURAL:$1|month|months}}","global.lengths.lblYear":"$1 {{PLURAL:$1|year|years}}","color.title":"Color selector","color.lblHoldTap":"Hold to set. Tap to load.","color.lblSavedColors":"Saved colors","color.lblPreview":"Preview:","color.lblHexadecimal":"Hexadecimal:","color.lblRed":"Red:","color.lblGreen":"Green:","color.lblBlue":"Blue:","color.lblHue":"Hue:","color.lblSaturation":"Saturation:","color.lblValue":"Value:","color.btnOkay":"OK","color.lblR":"R:","color.lblG":"G:","color.lblB":"B:","color.lblH":"H:","color.lblS":"S:","color.lblV":"V:","undo.title":"Undo","undo.mnuPreview":"Preview","undo.mnuSettings":"Settings","undo.preview.lblUndo":"Undo","undo.preview.lblOldest":"Oldest","undo.preview.lblNewest":"Newest","undo.settings.lblSettings":"Settings","undo.preview.lblPartialSelection":"Partial selection:","undo.preview.lblLayers":"Layers","undo.preview.btnUndoNow":"Undo now","undo.settings.lblSaveBoardInterval":"Save the board every:","undo.settings.lblSaveBoardLimit":"With a limit of:","undo.settings.lblSeconds":"seconds","undo.settings.lblSavedBoards":"saved boards","undo.preview.lblLayer":"Layer $1","undo.settings.btnApplyChanges":"Apply changes","undo.settings.btnLoadDefaults":"Load defaults","profile.mnuProfile":"Profile","profile.mnuYourRooms":"Your rooms","profile.mnuYourRanks":"Your ranks","profile.title":"Profile","profile.info.lblProfile":"Profile","profile.info.lblUsername":"Username:","profile.info.lblStatus":"Status:","profile.info.btnChange":"Change","profile.info.btnClear":"Clear","profile.info.btnApplyChanges":"Apply changes","profile.info.btnOkay":"OK","profile.info.btnCancel":"Cancel","profile.info.lblChangeUsername":"Change username","profile.info.lblNewUsername":"New username:","profile.info.lblOptionalPassword":"Password (optional):","profile.rooms.lblOwnedRooms":"Your rooms","profile.ranks.lblRanks":"Your ranks","profile.rooms.rowRoom":"Room","profile.ranks.rowRoom":"Room","profile.ranks.rowRank":"Rank","system.lblCaptcha":"Captcha","system.lblTypeText":"Type the text:","system.btnConfirm":"Confirm","system.btnCancel":"Cancel","save.title":"Save","save.lblBackground":"Background:","save.lblPartialSelection":"Partial selection:","save.btnSaveGallery":"Save to the gallery","save.btnSaveHardDisk":"Save to your hard disk","upload.title":"Upload","upload.lblDragAndDrop":"DRAG AND DROP FILES HERE","upload.btnUploadFile":"Or browse your files","feedback.title":"Feedback","feedback.lblGiveFeedback":"Gives us feedback!","feedback.lblLikeNewFlockMod":"Do you like this new FlockMod?","feedback.lblComments":"Comments (ideas, suggestions, bug reports...):","feedback.btnSendComments":"Send comments","feedback.lblThankYou":"Thank you for your feedback!","messenger.title":"Messenger","messenger.lblYou":"YOU","messenger.btnNewConversation":"New","messenger.lblNewConversation":"New conversation","messenger.lblUsername":"Username:","messenger.lblFMMessenger":"FlockMod Messenger","messenger.lblNoMessages":"Select any user from the sidebar to resume a conversation or click \"New\" to start a new one with someone else.","messenger.lblDeleteConversation":"Are you sure you want to delete this conversation? Your recipient will still see it.","messenger.lblDeleteMessage":"Are you sure you want to delete your copy of this message? Your recipient will still see it.","messenger.btnOkay":"OK","messenger.btnCancel":"Cancel","galleryimage.title":"Gallery Image","galleryimage.lblDeleteComment":"Are you sure you want to delete this comment?","galleryimage.lblOwner":"Uploaded by $1","usergallery.title":"Gallery","usergallery.lblGalleryTitle":"$1's gallery","debug.title":"Debug","debug.rowParameter":"Parameter","debug.rowValue":"Value","chat.title":"Chat","chat.room.public":"public","chat.room.staff":"staff","chat.btnNewPM":"Private Msg.","chat.lblSelectUser":"Select a user","chat.lblUsername":"Username:","chat.btnOkay":"OK","chat.btnCancel":"Cancel","messages.btnYes":"Yes","messages.btnNo":"No","messages.lblUnregisterRoom":"Are you sure you want to unregister this room?","messages.lblLeaveRoom":"Are you sure you want to leave the room?","events.txtLayer":"Layer $1 has been cleared by $2.","events.txtFlipH":"Layer $1 has been flipped horizontally by $2.","events.txtFlipV":"Layer $1 has been flipped vertically by $2.","events.txtLock":"Layer $1 has been locked by $2.","events.txtUnlock":"Layer $1 has been unlocked by $2.","events.txtMerge":"Layers $1 and $2 have been merged by $3.","events.txtKick":"$1 has been kicked by $2.","events.txtBan":"$1 has been banned by $2.","events.txtMute":"$1 has been muted by $2.","events.txtMute2":"$1 has been muted.","events.txtUnmute":"$1 has been unmuted by $2.","events.txtUnmute2":"$1 has been unmuted.","events.txtSilence":"$1 has been silenced by $2.","events.txtUnsilence":"$1 has been unsilenced by $2.","events.txtRankUpdate":"$1's rank has been updated by $2.","events.txtUndo":"Board has been undone by $1.","events.txtPartialUndo":"Board has been partially undone by $1.","events.txtSync":"Got board from $1.","events.txtLoad":"Picture uploaded by $1.","events.txtAnimationFrameClear":"Frame $2 has been cleared by $3.","events.txtAnimationFrameClone":"Frame $2 has been cloned on frame $3 by $4.","events.txtProxy":"Proxy","events.txtUserInRoom":"$1 $2 $3 is in the room.","events.txtUserEnters":"$1 $2 $3 has entered the room.","events.txtUserLeaves":"$1 $2 $3 has left the room. $4","events.txtNowKnown":"$1 $2 is now known as $3 $4.","events.txtYouNowKnown":"You are now known as $1 $2.","events.txtIgnore":"$1 has been ignored.","events.txtUnignore":"$1 has been unignored.","events.txtAutoIgnore":"SPAM DETECTED: $1 has been auto-ignored.","events.txtUnreadMessenger":"You have $1 unread {{PLURAL:$1|message|messages}} in the Messenger.","brushgallery.title":"Brush Gallery","brushgallery.lblGallery":"Gallery","brushgallery.btnCancel":"Cancel","brushgallery.btnSelect":"Select","brushgallery.lblBy":"By $1","brushdesigner.title":"Brush Designer","brushdesigner.btnClear":"Clear","brushdesigner.btnLoad":"Load","brushdesigner.btnSave":"Save","brushdesigner.btnOkay":"OK","brushdesigner.btnCancel":"Cancel","brushdesigner.lblSize":"Size:","brushdesigner.lblAlpha":"Opacity:","brushdesigner.lblColor":"Color:","brushdesigner.toolDrag":"Drag","brushdesigner.toolPen":"Pen","brushdesigner.toolEraser":"Eraser","brushdesigner.toolPicker":"Color picker","brushdesigner.lblZoomIn":"Zoom in","brushdesigner.lblZoomOut":"Zoom out","brushdesigner.lblCenter":"Center","help.title":"Help","alerts.txtFileTypeNotSupported":"File type not supported.","alerts.txtUploadNotAllowed":"You are not allowed to upload pictures","alerts.txtLayerIsLocked":"The layer is locked.","alerts.txtInvalidIP":"Invalid IP address.","alerts.txtNoMoreUsers":"There are no more users available.","alerts.txtReservedHotkey":"ERROR: This hotkey is reserved.","alerts.txtHotkeyInUse":"ERROR: This hotkey is already in use.","alerts.txtIncorrectFileType":"ERROR: Incorrect file type.","alerts.txtSaved":"Saved!","alerts.txtSent":"Sent!","alerts.txtSuccess":"Success!","alerts.txtCaptchaFailed":"ERROR: Captcha test failed.","alerts.txtGallerySaveFailed":"Error while trying to upload to the gallery.","alerts.txtSelectOneLayer":"Select at least one layer.","alerts.txtTooManyConnections":"Too many connections.","alerts.txtNegotiationFailed":"Negotiation failed. Connection cannot be established.","alerts.txtOutdatedApp":"Your app is outdated. <br />Press <kbd>CTRL</kbd> + <kbd>F5</kbd> to refresh.","alerts.txtServerDown":"Server is down.<br />Please try again later.<br /><a href=\"#\" class=\"btn btn-xs btn-primary mt-2\" name=\"socketReconnect\">Retry</a>","alerts.txtRoomRegistered":"Room registered successfully.","alerts.txtConnectionLost":"Connection lost.","alerts.btnReconnect":"Reconnect","alerts.txtYouHaveBeenBanned":"You have been banned","alerts.txtYouHaveBeenKicked":"You have been kicked","alerts.txtGIFfailed":"GIF file creation failed","alerts.txtAreaTooBig":"The area is too big","alerts.txtYouAreMuted":"You are muted","alerts.txtYouWillBeUnmuted":"You will be unmuted soon","alerts.txtYouWillBeUnmutedIn":"You will be unmuted in $1","alerts.roomEnter.txtAccountRestricted":"Login failed. You cannot use this account unless you type the right password.","alerts.roomEnter.txtWrongPassword":"Wrong password.","alerts.roomEnter.txtYouAreBanned":"You can't enter this room. You are banned.","alerts.roomEnter.txtRoomIsFull":"You can't enter this room. The room is full.","alerts.roomEnter.txtTooManyConnections":"You can't enter this room. Too many connections.","alerts.roomEnter.txtUsernameNotValid":"You can't enter this room. Your username is not valid.","alerts.roomEnter.txtProxyNotAllowed":"You seem to be using a VPN/Proxy service. They are not allowed in this room.","alerts.txtUsernameContainsEmojis":"ERROR: Username mustn't contain emojis.","alerts.txtPasswordDontMatch":"ERROR: Passwords don't match","alerts.txtSecretsMatch":"ERROR: Your secret answer cannot be the same as your secret question.","alerts.txtFillSecrets":"ERROR: Please fill the secret question and secret answer.","alerts.txtPasswordTooShort":"ERROR: The password is too short.","alerts.txtUsernameTooShort":"ERROR: The username is too short.","alerts.txtNotAvailableYet":"This feature is not available yet.","alerts.txtSetCustomBrush":"Click on 'Gallery' or 'Customize' in the Tool Options to start using this tool.","notifications.categories.GM":"Global Message","notifications.categories.EVENT":"Event","notifications.categories.PUBLICROOM":"#public","notifications.categories.STAFFROOM":"#staff","notifications.categories.PM":"Private","notifications.categories.MOTD":"Room","cursor.txtNotConnected":"Not connected","cursor.txtLoading":"Loading...","cursor.txtYouAreMuted":"You are muted","cursor.txtLayerIsLocked":"Layer is locked","cursor.txtLayerIsInvisible":"Layer is invisible","client.codes.usernotfound":"User not found","global.EOF":""},
    es: {"@metadata":{"authors":["auto"],"last-updated":"2022-10-23","locale":"es"},"global.phFilter":"Filtro","global.lblYou":"TÚ","global.lblLasso":"libre","global.lblRectangle":"rectángulo","global.lblYes":"sí","global.lblNo":"no","global.lblTool":"Herramienta","global.lblColor":"Color","global.lblHoldTap":"Mantener para guardar. Pulsar para cargar.","global.enabled":"habilitado","global.disabled":"deshabilitado","global.opaque":"opaco","global.transparent":"transparente","global.days.today":"Hoy","global.days.yesterday":"Ayer","global.months.1":"Ene","global.months.2":"Feb","global.months.3":"Mar","global.months.4":"Abr","global.months.5":"May","global.months.6":"Jun","global.months.7":"Jul","global.months.8":"Ago","global.months.9":"Sep","global.months.10":"Oct","global.months.11":"Nov","global.months.12":"Dic","global.lblUnknown":"Desconocido","global.lblNoResults":"No se han encontrado resultados","global.shortcut.lblOr":"$1 o $2","global.rank.UU":"Usuario no registrado","global.rank.RU":"Usuario registrado","global.rank.TU":"Usuario de confianza","global.rank.RM":"Moderador","global.rank.FM":"Moderador completo","global.rank.LM":"Moderador líder","global.rank.CO":"Propietario de la sala","global.rank.RO":"Propietario de la sala","global.rank.GM":"Moderador global","global.shortRank.UU":"UN","global.shortRank.RU":"UR","global.shortRank.TU":"UC","global.shortRank.RM":"M","global.shortRank.FM":"MC","global.shortRank.LM":"ML","global.shortRank.CO":"PS","global.shortRank.RO":"PS","global.shortRank.GM":"MG","global.lblClickOrEnterToChat":"Haz <strong>CLIC</strong> o pulsa <strong>INTRO</strong> para chatear","global.lblRequestingBoard":"Solicitando lienzo a $1","global.lblSyncingWith":"Sincronizando con $1","global.lblSkipUserSync":"¿Demasiado lento? Saltar este usuario","global.lblCancelAndLeave":"Cancelar y abandonar la sala","radialMenu.lblSize":"Tamaño","radialMenu.lblNextTool":"Siguiente<br />Herramienta","radialMenu.lblSwapColors":"Intercambiar<br />Colores","radialMenu.lblPan":"Mover","radialMenu.lblSwapEraser":"Cambiar a<br />Borrador","radialMenu.lblPreviousTool":"Anterior<br />Herramienta","layerPreview.btnClear":"Limpiar capa","layerPreview.btnFlipHorizontally":"Invertir horizonalmente","layerPreview.btnFlipVertically":"Invertir vericalmente","layerPreview.btnSave":"Guardar capa","layerPreview.btnHide":"Mostrar / Ocultar capa","layerPreview.btnLock":"Bloquear / Desbloquear capa","menu.layers.MergeWithLayer":"Fusionar con la capa $1","menu.undoPreview.save":"Guardar capas seleccionadas","menu.layerPreview.clear":"Limpiar capa","menu.boardMenu.resetzoom":"Reestablecer zoom","menu.boardMenu.zoomin":"Aumentar zoom","menu.boardMenu.zoomout":"Disminuir zoom","menu.boardMenu.rotatereset":"Reestablecer rotación","menu.boardMenu.rotate45left":"Rotar a la izquierda","menu.boardMenu.rotate45right":"Rotar a la derecha","menu.boardMenu.fliphorizontally":"Invertir horizontalmente","menu.boardMenu.fittoscreen":"Ajustar a la pantalla","menu.boardMenu.centerboard":"Centrar lienzo","menu.userList.Snc":"Sincronizar lienzo","menu.userList.Dbg":"Depuración","menu.userList.Ugd":"Galería","menu.userList.Ccb":"Copiar pincel personalizado","menu.userList.Pm":"Mensaje privado","menu.userList.IgnToggle":"Ignorar / Dejar de ignorar","menu.userList.Kck":"Expulsar","menu.userList.Bn":"Bloquear","menu.userList.Muu":"Impedir dibujar","menu.userList.Umu":"Permitir dibujar","menu.userList.Siu":"Impedir chatear","menu.userList.Usi":"Permitir chatear","menu.userList.Pru":"Subir nivel","menu.userList.Deu":"Bajar nivel","menu.userList.Pfl":"Perfil","menu.userList.Reg":"Registrar sala","menu.textbox.copy":"Copiar","menu.textbox.select":"Seleccionar todo","menu.textbox.clear":"Limpiar texto","menu.textbox.copylink":"Copiar enlace","menu.textbox.openlink":"Abrir enlace","menu.messenger.remove":"Eliminar conversación","animation.title":"Animación","animation.mnuPlay":"Reproducir","animation.mnuFrames":"Fotogramas","animation.play.lblSpeed":"Velocidad:","animation.play.btnSave":"Guardar","animation.frames.lblCloning":"Clonado","animation.frames.lblLayers":"Capas","animation.frames.lblLayer":"Capa $1","animation.frames.lblFrames":"Fotogramas","animation.frames.lblFrame":"Fotograma:","animation.frames.lblAction":"Acción:","animation.frames.optClear":"Limpiar","animation.frames.optClone":"Clonar","animation.frames.lblFrameTarget":"Destino:","animation.frames.lblOpacity":"Opacidad:","animation.frames.btnApplyChanges":"Aplicar","animation.sidebar.btnPlay":"Reproducir","animation.sidebar.btnViewAll":"Ver todo","animation.sidebar.lblFrames":"Fotogramas:","login.title":"Bienvenido","login.lblJoinRoom":"Unirse a una sala","login.lblTypeRoomName":"Escribe el nombre de la sala:","login.lblPickRoom":"O elige una de las siguientes salas públicas:","login.btnRefreshRoomList":"Actualizar lista de salas","login.btnJoinRoom":"Unirse a la sala","login.lblAccountInfo":"No necesitas una cuenta para utilizar <strong>FlockMod</strong>, simplemente escribe un nombre de usuario y deja la contraseña en blanco. No obstante, si quieres funcionalidades adicionales, considera <a name=\"accountRegister\" href=\"#\" class=\"inlineLink\">registrar una cuenta</a> gratuitamente.","login.lblPickUsername":"Elige un nombre de usuario","login.lblTypeUsername":"Escribe tu nombre de usuario:","login.lblTypePassword":"Contraseña (opcional):","login.lblForgotPassword":"¿Olvidaste tu contraseña?","login.btnSignUp":"Registrarse","login.btnOkay":"Aceptar","login.btnCancel":"Cancelar","login.btnCreate":"Crear","login.lblPasswordProtectedRoom":"Sala protegida con contraseña","login.lblPassword":"Contraseña","login.lblRegisterAccount":"Registra una cuenta","login.lblUsername":"Usuario:","login.lblPassword1":"Contraseña:","login.lblConfirmPassword":"Repite la contraseña:","login.lblEmailAddress":"Correo electrónico:","login.lblSecretQuestion":"Pregunta secreta:","login.lblSecretAnswer":"Respuesta secreta:","login.phRoomName":"Nombre de la sala","login.rowRoomName":"Sala","config.title":"Configuración","config.mnuSettings":"Config.","config.mnuHotkeys":"Accesos rápidos","config.mnuAboutUs":"Quiénes somos","config.lblSettings":"Configuración","config.lblHotkeys":"Accesos rápidos","config.lblAboutUs":"Quiénes somos","config.lblLanguage":"Idioma:","config.lblTheme":"Tema:","config.optThemeDark":"Oscuro","config.optThemeLight":"Claro","config.optThemeClassic":"Clásico","config.lblVolume":"Volumen:","config.lblSidebar":"Barra lateral:","config.lblStrokePreviewQuality":"Calidad de previsualización de trazo:","config.optQualityHigh":"Alta","config.optQualityNormal":"Normal","config.lblLoadingPresetWillChange":"Al cargar un preestablecido cambiará:","config.lblGraphics":"Gráficos:","config.lblSounds":"Sonidos:","config.lblTools":"Herramientas:","config.lblSyncOptions":"Sincronizar las siguientes opciones en todas las herramientas:","config.btnExport":"Exportar","config.btnImport":"Importar","config.btnApplyChanges":"Aplicar cambios","config.optBrush":"Herramienta","config.optColor":"Color","config.optSize":"Tamaño","config.optAlpha":"Opacidad","config.optBlur":"Difuminado","config.optSmooth":"Suavizado","config.optSpacing":"Espaciado","config.optMode":"Modo","config.optRightClick":"Clic derecho","config.optCursor":"Cursor","config.optAutoSwitch":"Cambiar automáticamente Selector de color","config.sync.optSize":"Tamaño","config.sync.optAlpha":"Opacidad","config.sync.optBlur":"Desenfoque","config.sync.optMode":"Modo","config.optLeft":"Izquierda","config.optRight":"Derecha","config.optChatTone":"Sonido de mensaje de chat público","config.optStaffChatTone":"Sonido de mensaje de chat de miembros","config.optPrivateTone":"Sonido de mensaje privado","config.optInboxTone":"Sonido de Mensajería","config.optShowUsername":"Mostrar tu nombre junto al cursor","config.optShowMouse":"Mostrar el cursor del ratón sobre el lienzo","config.optDisableTooltips":"Deshabilitar tooltips","config.optChatPreviews":"Previsualizaciones de imágenes en el chat","config.btnChangeHotkey":"Cambiar acceso rápido","config.btnLoadDefaults":"Reestablecer","config.btnApply":"Aplicar","config.btnCancel":"Cancelar","config.lblEditHotkey":"Editar acceso rápido","config.lblDescription":"Descripción:","config.lblPrimaryHotkey":"Acceso rápido primario:","config.lblSecondaryHotkey":"Acceso rápido secundario:","config.btnChange":"Cambiar","config.btnClear":"Quitar","config.rowDescription":"Descripción","config.rowHotkey":"Acceso rápido","config.rowHotkey2":"Acceso rápido 2","config.sc.drag.tool":"Seleccionar herramienta Mover","config.sc.rotate.tool":"Seleccionar herramienta Rotar","config.sc.picker.tool":"Seleccionar herramienta Selector de color","config.sc.selection.tool":"Seleccionar herramienta Seleccionar","config.sc.pen.tool":"Seleccionar herramienta Pincel","config.sc.eraser.tool":"Seleccionar herramienta Borrador","config.sc.text.tool":"Seleccionar herramienta Texto","config.sc.line.tool":"Seleccionar herramienta Línea","config.sc.rect.tool":"Seleccionar herramienta Rectángulo","config.sc.ellipse.tool":"Seleccionar herramienta Elipse","config.sc.blend.tool":"Seleccionar herramienta Mezclador","config.sc.fill.tool":"Seleccionar herramienta Rellenar","config.sc.pixel.tool":"Seleccionar herramienta Pixel","config.sc.custom.tool":"Seleccionar herramienta Pincel personalizado","config.sc.rightclick.custom":"Ejecutar acción Clic derecho","config.sc.cancelstroke.custom":"Cancelar trazo actual","config.sc.previoustool.custom":"Herramienta anterior","config.sc.nexttool.custom":"Herramienta siguiente","config.sc.switchprev.custom":"Cambiar a herramienta previa","config.sc.+size.slideroption":"Aumentar tamaño","config.sc.-size.slideroption":"Disminuir tamaño","config.sc.+alpha.slideroption":"Aumentar opacidad","config.sc.-alpha.slideroption":"Disminuir opacidad","config.sc.+blur.slideroption":"Aumentar difuminado","config.sc.-blur.slideroption":"Disminuir difuminado","config.sc.+smooth.slideroption":"Aumentar suavizado","config.sc.-smooth.slideroption":"Disminuir suavizado","config.sc.+spacing.slideroption":"Aumentar espaciado","config.sc.-spacing.slideroption":"Disminuir espaciado","config.sc.+multilayer.checkboxoption":"Activar \"Multicapa\"","config.sc.-multilayer.checkboxoption":"Desactivar \"Multicapa\"","config.sc.!multilayer.checkboxoption":"Alternar \"Multicapa\"","config.sc.+areaaverage.checkboxoption":"Activar \"Promedio área\"","config.sc.-areaaverage.checkboxoption":"Desactivar \"Promedio área\"","config.sc.!areaaverage.checkboxoption":"Alternar \"Promedio área\"","config.sc.+tint.checkboxoption":"Activar \"Tintar\"","config.sc.-tint.checkboxoption":"Desactivar \"Tintar\"","config.sc.!tint.checkboxoption":"Alternar \"Tintar\"","config.sc.+randomrotation.checkboxoption":"Activar \"Rotación aleatoria\"","config.sc.-randomrotation.checkboxoption":"Desactivar \"Rotación aleatoria\"","config.sc.!randomrotation.checkboxoption":"Alternar \"Rotación aleatoria\"","config.sc.+selectiontype.checkboxoption":"Cambiar a tipo de seleccion \"libre\"","config.sc.-selectiontype.checkboxoption":"Cambiar a tipo de selección \"rectángulo\"","config.sc.!selectiontype.checkboxoption":"Alternar tipo de selección","config.sc.+pressure.slidercheckoption":"Activar \"Presión\"","config.sc.-pressure.slidercheckoption":"Desactivar \"Presión\"","config.sc.!pressure.slidercheckoption":"Alternar \"Presión\"","config.sc.+blendmode.listoption":"Siguiente modo de fusión","config.sc.-blendmode.listoption":"Anterior modo de fusión","config.sc.normal.blendmode":"Cambiar modo de fusión: Normal","config.sc.darken.blendmode":"Cambiar modo de fusión: Oscurecer","config.sc.lighten.blendmode":"Cambiar modo de fusión: Aclarar","config.sc.difference.blendmode":"Cambiar modo de fusión: Diferencia","config.sc.exclusion.blendmode":"Cambiar modo de fusión: Exclusión","config.sc.hard-light.blendmode":"Cambiar modo de fusión: Luz fuerte","config.sc.soft-light.blendmode":"Cambiar modo de fusión: Luz suave","config.sc.multiply.blendmode":"Cambiar modo de fusión: Multiplicar","config.sc.overlay.blendmode":"Cambiar modo de fusión: Superponer","config.sc.screen.blendmode":"Cambiar modo de fusión: Trama","config.sc.saturation.blendmode":"Cambiar modo de fusión: Saturación","config.sc.luminosity.blendmode":"Cambiar modo de fusión: Luminosidad","config.sc.hue.blendmode":"Cambiar modo de fusión: Tono","config.sc.color.blendmode":"Cambiar modo de fusión: Color","config.sc.color-dodge.blendmode":"Cambiar modo de fusión: Sobreexponer color","config.sc.color-burn.blendmode":"Cambiar modo de fusión: Subexponer color","config.sc.kickuser.userlist":"Expulsar usuario seleccionado","config.sc.banuser.userlist":"Bloquear acceso a usuario seleccionado","config.sc.muteuser.userlist":"Impedir dibujar a usuario seleccionado","config.sc.unmuteuser.userlist":"Permitir dibujar a usuario seleccionado","config.sc.silenceuser.userlist":"Impedir chatear a usuario seleccionado","config.sc.unsilenceuser.userlist":"Permitir chatear usuario seleccionado","config.sc.toggleignoreuser.userlist":"Ignorar / Dejar de ignorar usuario seleccionado","config.sc.config.dialog":"Abrir / Cerrar ventana Configuración","config.sc.roommanager.dialog":"Abrir / Cerrar ventana Gestión de sala","config.sc.messenger.dialog":"Abrir / Cerrar ventana Mensajería","config.sc.profile.dialog":"Abrir / Cerrar ventana Perfil","config.sc.chat.dialog":"Abrir / Cerrar ventana Chat","config.sc.undo.dialog":"Abrir / Cerrar ventana Deshacer","config.sc.upload.dialog":"Abrir / Cerrar ventana Subir","config.sc.save.dialog":"Abrir / Cerrar ventana Guardar","config.sc.color.dialog":"Abrir / Cerrar ventana Color","config.sc.radialmenu.custom":"Abrir menú radial","config.sc.maximizedialog.custom":"Maximizar ventana actual","config.sc.closedialog.custom":"Cerrar ventana actual","config.sc.leaveroom.custom":"Abandonar la sala","config.sc.fullscreen.custom":"Alternar Pantalla completa","config.sc.zoomin.custom":"Aumentar zoom","config.sc.zoomout.custom":"Disminuir zoom","config.sc.resetzoom.custom":"Reestablecer zoom","config.sc.nextlayerup.custom":"Cambiar a capa superior","config.sc.nextlayerdown.custom":"Cambiar a capa inferior","config.sc.changeprimarycolor.custom":"Cambiar color primario","config.sc.changesecondarycolor.custom":"Cambiar color secundario","config.sc.swapcolors.custom":"Intercambiar colores","config.sc.+r.coloroption":"Aumentar valor de color: Rojo","config.sc.-r.coloroption":"Disminuir valor de color: Rojo","config.sc.+g.coloroption":"Aumentar valor de color: Verde","config.sc.-g.coloroption":"Disminuir valor de color: Verde","config.sc.+b.coloroption":"Aumentar valor de color: Azul","config.sc.-b.coloroption":"Disminuir valor de color: Azul","config.sc.+h.coloroption":"Aumentar valor de color: Matiz","config.sc.-h.coloroption":"Disminuir valor de color: Matiz","config.sc.+s.coloroption":"Aumentar valor de color: Saturación","config.sc.-s.coloroption":"Disminuir valor de color: Saturación","config.sc.+v.coloroption":"Aumentar valor de color: Valor","config.sc.-v.coloroption":"Disminuir valor de color: Valor","config.sc.rotatereset.custom":"Reestablecer rotación","config.sc.rotate45left.custom":"Rotar 45 grados a la izquierda","config.sc.rotate45right.custom":"Rotar 45 grados a la derecha","config.sc.moveboard.custom":"Mover lienzo","config.sc.fittoscreen.custom":"Ajustar a la pantalla","config.sc.centerboard.custom":"Centrar lienzo","config.sc.viewflip.custom":"Invertir vista horizontalmente","config.sc.pixelsmoothing.custom":"Alternar \"Píxeles nítidos\"","config.sc.pickcolor1.color":"Cargar color guardado 1","config.sc.pickcolor2.color":"Cargar color guardado 2","config.sc.pickcolor3.color":"Cargar color guardado 3","config.sc.pickcolor4.color":"Cargar color guardado 4","config.sc.pickcolor5.color":"Cargar color guardado 5","config.sc.pickcolor6.color":"Cargar color guardado 6","config.sc.pickcolor7.color":"Cargar color guardado 7","config.sc.pickcolor8.color":"Cargar color guardado 8","config.sc.pickcolor9.color":"Cargar color guardado 9","config.sc.pickcolor10.color":"Cargar color guardado 10","config.sc.loadpreset1.preset":"Cargar preestablecido 1","config.sc.loadpreset2.preset":"Cargar preestablecido 2","config.sc.loadpreset3.preset":"Cargar preestablecido 3","config.sc.loadpreset4.preset":"Cargar preestablecido 4","config.sc.loadpreset5.preset":"Cargar preestablecido 5","config.sc.loadpreset6.preset":"Cargar preestablecido 6","config.sc.loadpreset7.preset":"Cargar preestablecido 7","config.sc.loadpreset8.preset":"Cargar preestablecido 8","config.sc.loadpreset9.preset":"Cargar preestablecido 9","config.sc.loadpreset10.preset":"Cargar preestablecido 10","config.sc.loadpreset11.preset":"Cargar preestablecido 11","config.sc.loadpreset12.preset":"Cargar preestablecido 12","config.sc.loadpreset13.preset":"Cargar preestablecido 13","config.sc.loadpreset14.preset":"Cargar preestablecido 14","config.sc.loadpreset15.preset":"Cargar preestablecido 15","config.sc.loadpreset16.preset":"Cargar preestablecido 16","config.sc.loadpreset17.preset":"Cargar preestablecido 17","config.sc.loadpreset18.preset":"Cargar preestablecido 18","config.lblListening":"Escuchando...","config.lblAbout":"<strong>FlockMod</strong> es una plataforma de dibujo colaborativo, creada teniendo en cuenta a artistas y su comunicación. FlockMod ha sido fundada por <strong class=\"rankGM\">FDT</strong>, y es mantenida y desarrollada por <strong class=\"rankGM\">auto</strong>.</p>","config.lblUsefulLinks":"Enlaces de interés","config.btnGallery":"Galería","config.btnNewsUpdates":"Noticias y actualizaciones","config.btnFeedback":"Danos tu opinión","config.btnIdeasPage":"Ideas y sugerencias","config.btnHelp":"Ayuda","config.lblSpecialThanks":"Agradecimientos","config.rowThanksName":"Nombre (orden alfabético)","tooloption.size":"Tamaño","tooloption.alpha":"Opacidad","tooloption.blur":"Difuminado","tooloption.smooth":"Suavizado","tooloption.blendmode":"Modo","tooloption.pressure":"Presión","tooloption.spacing":"Espaciado","tooloption.customize":"Personalizar","tooloption.gallery":"Galería","tooloption.multilayer":"Multicapa","tooloption.selectiontype":"Tipo","tooloption.areaaverage":"Promedio área","tooloption.tint":"Tintar","tooloption.randomrotation":"Rot. aleatoria","tooloption.rightclick":"Clic derecho","tooloption.cursor":"Cursor","tooloption.erasermode":"Borrador","tooloption.aspectratio":"Rel. aspecto","tooloption.snap":"Autoalineado","tooloption.drawgrid":"Mostrar rejilla","tooloption.font":"Fuente","tooloption.fill":"Rellenar","tooloption.image":"Imagen","tooloption.rightClickList.donothing":"Nada","tooloption.rightClickList.cancelstroke":"Cancelar trazo","tooloption.rightClickList.toggleselectiontype":"Alternar Tipo","tooloption.rightClickList.togglemultilayer":"Alternar Multicapa","tooloption.rightClickList.swapcolors":"Intercambiar colores","tooloption.rightClickList.toggleareaaverage":"Alternar Promedio","tooloption.rightClickList.rotatereset":"Reestablecer rot.","tooloption.rightClickList.rotate45right":"Rotar 45 grados","tooloption.rightClickList.centerboard":"Centrar lienzo","tooloption.rightClickList.fittoscreen":"Ajustar a la pantalla","tooloption.rightClickList.resetzoom":"Reestablecer zoom","tooloption.rightClickList.togglesnap":"Alternar Autoalineado","tooloption.rightClickList.toggleaspectratio":"Alternar Rel. aspecto","tooloption.rightClickList.toggleerasermode":"Alternar Borrador","tooloption.rightClickList.toggledrawgrid":"Alternar Mostrar rejilla","tooloption.rightClickList.nextfont":"Siguiente fuente","tooloption.rightClickList.cleartext":"Limpiar texto","tooloption.rightClickList.switchprevtool":"Herramienta previa","tooloption.rightClickList.selecteraser":"Cambiar a Borrador","tooloption.rightClickList.showmenu":"Mostrar menú","tooloption.blendmodes.normal":"Normal","tooloption.blendmodes.darken":"Oscurecer","tooloption.blendmodes.lighten":"Aclarar","tooloption.blendmodes.difference":"Diferencia","tooloption.blendmodes.exclusion":"Exclusión","tooloption.blendmodes.hard-light":"Luz fuerte","tooloption.blendmodes.soft-light":"Luz suave","tooloption.blendmodes.multiply":"Multiplicar","tooloption.blendmodes.overlay":"Superponer","tooloption.blendmodes.screen":"Trama","tooloption.blendmodes.saturation":"Saturación","tooloption.blendmodes.luminosity":"Luminosidad","tooloption.blendmodes.hue":"Tono","tooloption.blendmodes.color":"Color","tooloption.blendmodes.color-dodge":"Sobreexponer color","tooloption.blendmodes.color-burn":"Subexponer color","tooloption.cursorList.circle":"Círculo","tooloption.cursorList.square":"Cuadrado","tooloption.cursorList.crosshair":"Punto de mira","tooloption.cursorList.dot":"Punto","tooloption.cursorList.cross":"Cruz","tool.drag":"Mover","tool.rotate":"Rotar","tool.picker":"Selector de color","tool.selection":"Seleccionar","tool.pen":"Pincel","tool.eraser":"Borrador","tool.text":"Texto","tool.line":"Línea","tool.rect":"Rectángulo","tool.ellipse":"Elipse","tool.blend":"Mezclador","tool.fill":"Rellenar","tool.custom":"Personalizado","tool.blur":"Difuminar","tool.pixel":"Pixel","sidebar.lblUserList":"Lista de usuarios","sidebar.lblToolOptions":"Opciones de la herramienta","sidebar.lblPresets":"Preestablecidos","sidebar.lblColorWheel":"Colores","sidebar.lblLayers":"Capas","sidebar.lblAnimation":"Animación","sidebar.btnRearrange":"Reordenar","sidebar.lblDragAndDrop":"Arrastra y suelta a la posición deseada.","sidebar.btnConfirm":"Confirmar","sidebar.btnCancel":"Cancelar","toolbar.btnClear":"Limpiar","toolbar.btnFill":"Rellenar","toolbar.btnMove":"Mover / Redimensionar","toolbar.btnClone":"Clonar","toolbar.btnSave":"Guardar","toolbar.btnUndo":"Deshacer","toolbar.btnCustomBrush":"Pincel personalizado","toolbar.btnFlip":"Invertir","toolbar.btnConfirm":"Confirmar","toolbar.btnDelete":"Eliminar","toolbar.btnCancel":"Cancelar","tooltip.lblZoomIn":"Aumentar zoom","tooltip.lblZoomOut":"Disminuir zoom","tooltip.lblCenterBoard":"Centrar lienzo","tooltip.lblFitScreen":"Ajustar a pantalla","tooltip.lblFlipHorizontally":"Invertir horizontalmente","tooltip.lblPixelSmoothing":"Píxeles nítidos","tooltip.lblFeedback":"Opina","tooltip.lblAdminConsole":"Consola de administración","tooltip.lblRoomManager":"Gestión de la sala","tooltip.lblUndo":"Deshacer","tooltip.lblMessenger":"Mensajería","tooltip.lblUpload":"Subir","tooltip.lblSave":"Guardar","tooltip.lblMaximize":"Maximizar","tooltip.lblClose":"Cerrar","tooltip.lblHelp":"Ayuda","tooltip.lblConfiguration":"Configuración","tooltip.lblChat":"Chat","tooltip.lblFullScreen":"Pantalla completa","tooltip.lblLeaveRoom":"Abandonar la sala","tooltip.lblRegisterRoom":"Registrar sala","tooltip.lblChangePrimaryColor":"Cambiar color primario","tooltip.lblChangeSecondaryColor":"Cambiar color secundario","tooltip.lblSwapColors":"Intercambiar colores","roommanager.title":"Gestión de la sala","roommanager.mnuSettings":"Config.","roommanager.mnuStaff":"Miembros","roommanager.mnuPrivileges":"Privilegios","roommanager.mnuTools":"Herramientas","roommanager.mnuBans":"Bloqueos","roommanager.settings.lblSettings":"Configuración de la sala","roommanager.settings.lblDescription":"Descripción:","roommanager.settings.lblRoomMode":"Modo:","roommanager.settings.lblLayers":"Capas: *","roommanager.settings.lblCanvasSize":"Tamaño del lienzo:","roommanager.settings.lblAnimRows":"Filas (animación):","roommanager.settings.lblAnimCols":"Columnas (animación):","roommanager.settings.lblRoomCapacity":"Capacidad:","roommanager.settings.lblRoomPassword":"Contraseña de acceso:","roommanager.settings.lblMuteLength":"Duración de Impedir dibujar:","roommanager.settings.lblBanLength":"Duración de bloqueos por defecto:","roommanager.settings.lblBackground":"Fondo:","roommanager.settings.lblBottomLayer":"Capa inferior:","roommanager.settings.lblUserJoins":"Cuando se une un usuario:","roommanager.settings.lblProxyJoins":"Cuando se une un proxy conocido (ignora miembros):","roommanager.settings.lblBlendModes":"* Los modos de fusión solo están disponibles en salas de 1 capa.","roommanager.settings.btnApplyChanges":"Aplicar cambios","roommanager.settings.btnUnregisterRoom":"Dar de baja la sala","roommanager.settings.lblUsers":"usuarios","roommanager.settings.optRegular":"Normal","roommanager.settings.optAnimation":"Animación","roommanager.settings.optSmall":"Pequeño","roommanager.settings.optMedium":"Mediano","roommanager.settings.optLarge":"Grande","roommanager.settings.optExtraLarge":"Extra grande","roommanager.settings.optDoNothing":"Nada","roommanager.settings.optMuteNotReg":"Impedir dibujar si no está registrado","roommanager.settings.optMuteNotStaff":"Impedir dibujar si no es miembro","roommanager.settings.optMute":"Impedir dibujar","roommanager.settings.optSilence":"Impedir chatear","roommanager.settings.optMuteSilence":"Impedir dibujar y chatear","roommanager.settings.optBlock":"Bloquear acceso","roommanager.settings.optTransparent":"Transparente","roommanager.settings.optOpaque":"Opaca","roommanager.settings.optWhite":"Blanco","roommanager.settings.optGray":"Gris","roommanager.settings.optBlack":"Negro","roommanager.settings.optPrivateRoom":"sala privada","roommanager.settings.optPublicRoom":"sala pública","roommanager.staff.lblStaff":"Miembros","roommanager.staff.rowUsername":"Usuario","roommanager.staff.rowRank":"Nivel","roommanager.staff.rowPromotedBy":"Ascendido por","roommanager.staff.rowDate":"Fecha","roommanager.staff.btnAddUser":"Añadir usuario","roommanager.staff.btnEditUser":"Editar usuario","roommanager.staff.btnRemoveUser":"Eliminar usuario","roommanager.staff.lblEditStaffMember":"Editar miembro","roommanager.staff.lblAddStaffMember":"Añadir miembro","roommanager.staff.lblUsername":"Nombre de usuario:","roommanager.staff.lblRank":"Nivel:","roommanager.staff.btnAdd":"Añadir","roommanager.staff.btnCancel":"Cancelar","roommanager.staff.btnOkay":"Aceptar","roommanager.privileges.lblPrivileges":"Privilegios","roommanager.privileges.btnApplyChanges":"Aplicar cambios","roommanager.privileges.btnLoadDefaults":"Reestablecer","roommanager.privileges.rowPrivilege":"Privilegio","roommanager.privilege.roommanager":"Editar Gestión de la sala: Configuración","roommanager.privilege.changeprivileges":"Editar Gestión de la sala: Privilegios","roommanager.privilege.roombans":"Editar Gestión de la sala: Bloqueos","roommanager.privilege.rmstaff":"Editar Gestión de la sala: Miembros","roommanager.privilege.addmod":"Subir o bajar nivel de usuarios","roommanager.privilege.mute":"Impedir dibujar a usuarios","roommanager.privilege.kick":"Expulsar usuarios","roommanager.privilege.silence":"Impedir chatear a usuarios","roommanager.privilege.ban":"Bloquear usuarios","roommanager.privilege.unbanothers":"Editar bloqueos de otros miembros","roommanager.privilege.changetools":"Editar Gestión de la sala: Herramientas","roommanager.privilege.mergelayer":"Fusionar capas","roommanager.privilege.clearlayer":"Limpiar capas","roommanager.privilege.fliplayer":"Invertir capas","roommanager.privilege.locklayers":"Bloquear capas","roommanager.privilege.drawlockedlayers":"Dibujar en capas bloqueadas","roommanager.privilege.modmessageuse":"Usar el chat para miembros","roommanager.privilege.pload":"Subir imágenes","roommanager.privilege.pundo":"Revertir el lienzo a un estado anterior","roommanager.privilege.seehigherips":"Ver IP de usuarios de mayor nivel","roommanager.privilege.seelowerips":"Ver IP de usuarios de menor nivel","roommanager.privilege.seesameips":"Ver IP de usuarios del mismo nivel","roommanager.privilege.bypasspwd":"Saltarse la contraseña de acceso","roommanager.privilege.bypassfull":"Acceder a la sala cuando está llena","roommanager.privilege.manageframes":"Limpiar y clonar fotogramas en el modo animación","roommanager.tools.lblTools":"Herramientas","roommanager.tools.btnApplyChanges":"Aplicar cambios","roommanager.tools.btnLoadDefaults":"Reestablecer","roommanager.tools.rowTool":"Herramienta","roommanager.bans.lblBans":"Bloqueos","roommanager.bans.btnAddBan":"Añadir bloqueo","roommanager.bans.btnEditBan":"Editar bloqueo","roommanager.bans.btnRemoveBan":"Eliminar bloqueo","roommanager.bans.rowIP":"IP","roommanager.bans.rowBannedBy":"Bloqueado por","roommanager.bans.rowLength":"Duración","roommanager.bans.lblAddBan":"Añadir bloqueo","roommanager.bans.lblEditBan":"Editar bloqueo","roommanager.bans.lblIPAddress":"Dirección IP:","roommanager.bans.lblUsername":"Nombre de usuario:","roommanager.bans.lblLength":"Duración:","roommanager.bans.btnOkay":"Aceptar","roommanager.bans.btnAdd":"Añadir","roommanager.bans.btnCancel":"Cancelar","global.lengths.lblPermanent":"Permanente","global.lengths.lblSecond":"$1 {{PLURAL:$1|segundo|segundos}}","global.lengths.lblMinute":"$1 {{PLURAL:$1|minuto|minutos}}","global.lengths.lblHour":"$1 {{PLURAL:$1|hora|horas}}","global.lengths.lblDay":"$1 {{PLURAL:$1|día|días}}","global.lengths.lblWeek":"$1 {{PLURAL:$1|semana|semanas}}","global.lengths.lblMonth":"$1 {{PLURAL:$1|mes|meses}}","global.lengths.lblYear":"$1 {{PLURAL:$1|año|años}}","color.title":"Selector de color","color.lblHoldTap":"Mantener para guardar. Pulsar para cargar.","color.lblSavedColors":"Colores guardados","color.lblPreview":"Previsualización:","color.lblHexadecimal":"Hexadecimal:","color.lblRed":"Rojo:","color.lblGreen":"Verde:","color.lblBlue":"Azul:","color.lblHue":"Matiz:","color.lblSaturation":"Saturación:","color.lblValue":"Valor:","color.btnOkay":"Aceptar","color.lblR":"R:","color.lblG":"G:","color.lblB":"B:","color.lblH":"H:","color.lblS":"S:","color.lblV":"V:","undo.title":"Deshacer","undo.mnuPreview":"Deshacer","undo.mnuSettings":"Config.","undo.preview.lblUndo":"Deshacer","undo.preview.lblOldest":"Más viejo","undo.preview.lblNewest":"Más nuevo","undo.settings.lblSettings":"Configuración","undo.preview.lblPartialSelection":"Selección parcial:","undo.preview.lblLayers":"Capas","undo.preview.btnUndoNow":"Revertir ahora","undo.settings.lblSaveBoardInterval":"Guardar el lienzo cada:","undo.settings.lblSaveBoardLimit":"Con un límite de:","undo.settings.lblSeconds":"segundos","undo.settings.lblSavedBoards":"lienzos guardados","undo.preview.lblLayer":"Capa $1","undo.settings.btnApplyChanges":"Aplicar cambios","undo.settings.btnLoadDefaults":"Reestablecer","profile.mnuProfile":"Perfil","profile.mnuYourRooms":"Tus salas","profile.mnuYourRanks":"Tus niveles","profile.title":"Perfil","profile.info.lblProfile":"Perfil","profile.info.lblUsername":"Nombre de usuario:","profile.info.lblStatus":"Estado:","profile.info.btnChange":"Cambiar","profile.info.btnClear":"Limpiar","profile.info.btnApplyChanges":"Aplicar cambios","profile.info.btnOkay":"Aceptar","profile.info.btnCancel":"Cancelar","profile.info.lblChangeUsername":"Cambiar nombre de usuario","profile.info.lblNewUsername":"Nuevo nombre de usuario:","profile.info.lblOptionalPassword":"Contraseña (opcional):","profile.rooms.lblOwnedRooms":"Tus salas","profile.ranks.lblRanks":"Tus niveles","profile.rooms.rowRoom":"Sala","profile.ranks.rowRoom":"Sala","profile.ranks.rowRank":"Nivel","system.lblCaptcha":"Captcha","system.lblTypeText":"Escribe el texto:","system.btnConfirm":"Confirmar","system.btnCancel":"Cancelar","save.title":"Guardar","save.lblBackground":"Fondo:","save.lblPartialSelection":"Selección parcial:","save.btnSaveGallery":"Guardar en la galería","save.btnSaveHardDisk":"Guardar en el disco duro","upload.title":"Subir","upload.lblDragAndDrop":"ARRASTRA Y SUELTA UN ARCHIVO AQUÍ","upload.btnUploadFile":"O selecciona un archivo","feedback.title":"Opina","feedback.lblGiveFeedback":"Danos tu opinión","feedback.lblLikeNewFlockMod":"¿Te gusta este nuevo FlockMod?","feedback.lblComments":"Comentarios (ideas, sugerencias, informe de errores...):","feedback.btnSendComments":"Enviar comentarios","feedback.lblThankYou":"¡Gracias por enviarnos tu opinión!","messenger.title":"Mensajería","messenger.lblYou":"TÚ","messenger.btnNewConversation":"Nueva","messenger.lblNewConversation":"Nueva conversación","messenger.lblUsername":"Nombre de usuario:","messenger.lblFMMessenger":"Mensajería de FlockMod","messenger.lblNoMessages":"Selecciona un usuario de la barra lateral para continuar una conversación o pulsa \"Nueva\" para empezar una con otra persona.","messenger.lblDeleteConversation":"¿Estás seguro de que deseas borrar esta conversación? Aun así, el destinatario podrá verla.","messenger.lblDeleteMessage":"¿Estás seguro de que deseas borrar tu copia de este mensaje? Aun así, el destinatario podrá verlo.","messenger.btnOkay":"Aceptar","messenger.btnCancel":"Cancelar","galleryimage.title":"Imagen de la galería","galleryimage.lblDeleteComment":"¿Estás seguro de que deseas borrar este comentario?","galleryimage.lblOwner":"Imagen subida por $1","usergallery.title":"Galería","usergallery.lblGalleryTitle":"Galería de $1","debug.title":"Depuración","debug.rowParameter":"Parámetro","debug.rowValue":"Valor","chat.title":"Chat","chat.room.public":"público","chat.room.staff":"miembros","chat.btnNewPM":"Msj. privado","chat.lblSelectUser":"Selecciona un usuario","chat.lblUsername":"Nombre de usuario:","chat.btnOkay":"Aceptar","chat.btnCancel":"Cancelar","messages.btnYes":"Sí","messages.btnNo":"No","messages.lblUnregisterRoom":"¿Estás seguro de que deseas dar de baja esta sala?","messages.lblLeaveRoom":"¿Estás seguro de que deseas abandonar la sala?","events.txtLayer":"La capa $1 ha sido limpiada por $2.","events.txtFlipH":"La capa $1 ha sido invertida horizontalmente por $2.","events.txtFlipV":"La capa $1 ha sido invertida verticalmente por $2.","events.txtLock":"La capa $1 ha sido bloqueada por $2.","events.txtUnlock":"La capa $1 ha sido desbloqueada por $2.","events.txtMerge":"Las capas $1 y $2 han sido fusionadas por $3.","events.txtKick":"$1 ha sido expulsado por $2.","events.txtBan":"$1 ha sido bloqueado por $2.","events.txtMute":"$2 ha impedido que $1 dibuje.","events.txtMute2":"$1 no tiene permitido dibujar.","events.txtUnmute":"$2 ha permitido que $1 dibuje.","events.txtUnmute2":"$1 puede ahora dibujar.","events.txtSilence":"$2 ha impedido que $1 chatee.","events.txtUnsilence":"$2 ha permitido que $1 chatee.","events.txtRankUpdate":"El nivel de $1 ha sido actualizado por $2.","events.txtUndo":"El lienzo ha sido revertido a un estado anterior por $1.","events.txtPartialUndo":"El lienzo ha sido parcialmente revertido a un estado anterior por $1.","events.txtSync":"Sincronizado lienzo con $1.","events.txtLoad":"Imagen subida por $1.","events.txtAnimationFrameClear":"El fotograma $2 ha sido limpiado por $3.","events.txtAnimationFrameClone":"El fotograma $2 ha sido clonado en $3 por $4.","events.txtProxy":"Proxy","events.txtUserInRoom":"$1 $2 $3 está en la sala.","events.txtUserEnters":"$1 $2 $3 ha entrado a la sala.","events.txtUserLeaves":"$1 $2 $3 ha abandonado la sala. $4","events.txtNowKnown":"$1 $2 es ahora conocido como $3 $4.","events.txtYouNowKnown":"Ahora eres conocido como $1 $2.","events.txtIgnore":"Estás ignorando a $1.","events.txtUnignore":"Has dejado de ignorar a $1.","events.txtAutoIgnore":"REPETICIONES DETECTADAS: $1 ha sido ignorado automáticamente.","events.txtUnreadMessenger":"Tienes $1 {{PLURAL:$1|mensaje|mensajes}} sin leer en la Mensajería.","brushgallery.title":"Galería de pinceles","brushgallery.lblGallery":"Galería","brushgallery.btnCancel":"Cancelar","brushgallery.btnSelect":"Seleccionar","brushgallery.lblBy":"Por $1","brushdesigner.title":"Diseñador","brushdesigner.btnClear":"Limpiar","brushdesigner.btnLoad":"Cargar","brushdesigner.btnSave":"Guardar","brushdesigner.btnOkay":"Aceptar","brushdesigner.btnCancel":"Cancelar","brushdesigner.lblSize":"Tamaño:","brushdesigner.lblAlpha":"Opacidad:","brushdesigner.lblColor":"Color:","brushdesigner.toolDrag":"Mover","brushdesigner.toolPen":"Pincel","brushdesigner.toolEraser":"Borrador","brushdesigner.toolPicker":"Selector de color","brushdesigner.lblZoomIn":"Aumentar zoom","brushdesigner.lblZoomOut":"Disminuir zoom","brushdesigner.lblCenter":"Centrar","help.title":"Ayuda","alerts.txtFileTypeNotSupported":"Tipo de archivo no soportado.","alerts.txtUploadNotAllowed":"No se te permite subir imágenes.","alerts.txtLayerIsLocked":"La capa está bloqueada.","alerts.txtInvalidIP":"Dirección IP no válida.","alerts.txtNoMoreUsers":"No hay más usuarios disponibles.","alerts.txtReservedHotkey":"ERROR: Este acceso rápido está reservado.","alerts.txtHotkeyInUse":"ERROR: Este acceso rápido está en uso.","alerts.txtIncorrectFileType":"ERROR: Tipo de archivo erróneo.","alerts.txtSaved":"Guardado.","alerts.txtSent":"Enviado.","alerts.txtSuccess":"Proceso finalizado correctamente.","alerts.txtCaptchaFailed":"ERROR: El captcha no es correcto.","alerts.txtGallerySaveFailed":"Error al intentar subir imagen en la galería.","alerts.txtSelectOneLayer":"Selecciona al menos una capa.","alerts.txtTooManyConnections":"Demasiadas conexiones.","alerts.txtNegotiationFailed":"La negociación ha fallado. No se puede establecer una conexión.","alerts.txtOutdatedApp":"Tu aplicación está obsoleta. <br />Pulsa <kbd>CTRL</kbd> + <kbd>F5</kbd> para actualizar.","alerts.txtServerDown":"El servidor está caído.<br />Por favor vuelve a intentarlo más tarde.<br /><a href=\"#\" class=\"btn btn-xs btn-primary mt-2\" name=\"socketReconnect\">Reintentar</a>","alerts.txtRoomRegistered":"La sala ha sido registrada correctamente.","alerts.txtConnectionLost":"Conexión perdida.","alerts.btnReconnect":"Reconectar","alerts.txtYouHaveBeenBanned":"Has sido bloqueado","alerts.txtYouHaveBeenKicked":"Has sido expulsado","alerts.txtGIFfailed":"La creación del fichero GIF falló","alerts.txtAreaTooBig":"El área es demasiado grande","alerts.txtYouAreMuted":"Se te ha impedido dibujar","alerts.txtYouWillBeUnmuted":"Se te permitirá dibujar pronto","alerts.txtYouWillBeUnmutedIn":"Se te permitirá dibujar en $1","alerts.roomEnter.txtAccountRestricted":"Inicio de sesión fallido. No puedes usar esta cuenta a menos que introduzcas las credenciales correctas.","alerts.roomEnter.txtWrongPassword":"Contraseña incorrecta.","alerts.roomEnter.txtYouAreBanned":"No puedes entrar a esta sala. Estás bloqueado.","alerts.roomEnter.txtRoomIsFull":"No puedes entrar a esta sala. Está llena.","alerts.roomEnter.txtTooManyConnections":"No puedes entrar a esta sala. Demasiadas conexiones.","alerts.roomEnter.txtUsernameNotValid":"No puedes entrar a esta sala. Tu nombre de usuario es incorrecto.","alerts.roomEnter.txtProxyNotAllowed":"Parece que estás usando un servicio VPN/Proxy. No se permiten en esta sala.","alerts.txtUsernameContainsEmojis":"ERROR: El nombre de usuario no puede contener emojis.","alerts.txtPasswordDontMatch":"ERROR: Las contraseñas no coinciden.","alerts.txtSecretsMatch":"ERROR: Tu pregunta secreta no puede ser la misma que tu respuesta secreta.","alerts.txtFillSecrets":"ERROR: Por favor rellena la pregunta y la respuesta secretas.","alerts.txtPasswordTooShort":"ERROR: Tu contraseña es muy corta.","alerts.txtUsernameTooShort":"ERROR: Tu nombre de usuario es muy corto.","alerts.txtNotAvailableYet":"Esta función no está disponible todavía.","alerts.txtSetCustomBrush":"Para empezar a usar este pincel, haga clic en 'Galería' o 'Personalizar' en las Opciones de la Herramienta.","notifications.categories.GM":"Mensaje Global","notifications.categories.EVENT":"Evento","notifications.categories.PUBLICROOM":"#público","notifications.categories.STAFFROOM":"#miembros","notifications.categories.PM":"Privado","notifications.categories.MOTD":"Sala","cursor.txtNotConnected":"Sin conexión","cursor.txtLoading":"Cargando...","cursor.txtYouAreMuted":"No se te permite dibujar","cursor.txtLayerIsLocked":"La capa está bloqueada","cursor.txtLayerIsInvisible":"La capa es invisible","client.codes.usernotfound":"Usuario no encontrado","global.EOF":""},
    de: {"@metadata":{"authors":["cntrct","sphoon"],"last-updated":"2023-12-29","locale":"de"},"global.phFilter":"Filter","global.lblYou":"DU","global.lblLasso":"Lasso","global.lblRectangle":"Rechteck","global.lblYes":"Ja","global.lblNo":"Nein","global.lblTool":"Werkzeug","global.lblColor":"Farbe","global.lblHoldTap":"Halten um festzulegen. Drücken um zu laden.","global.enabled":"an","global.disabled":"aus","global.opaque":"undurchsichtig","global.transparent":"durchsichtig","global.days.today":"Heute","global.days.yesterday":"Gestern","global.months.1":"Jan","global.months.2":"Feb","global.months.3":"Mär","global.months.4":"Apr","global.months.5":"Mai","global.months.6":"Jun","global.months.7":"Jul","global.months.8":"Aug","global.months.9":"Sep","global.months.10":"Okt","global.months.11":"Nov","global.months.12":"Dez","global.lblUnknown":"Unbekannt","global.lblNoResults":"Keine Ergebnisse gefunden","global.shortcut.lblOr":"$1 oder $2","global.rank.UU":"Nicht registrierter Benutzer","global.rank.RU":"Registrierter Benutzer","global.rank.TU":"Vertraunswürdiger Benutzer","global.rank.RM":"Moderator","global.rank.FM":"Vollmoderator","global.rank.LM":"Hauptmoderator","global.rank.CO":"Raumbesitzer","global.rank.RO":"Raumbesitzer","global.rank.GM":"Globaler Moderator","global.shortRank.UU":"NR","global.shortRank.RU":"RN","global.shortRank.TU":"VN","global.shortRank.RM":"RM","global.shortRank.FM":"VM","global.shortRank.LM":"HM","global.shortRank.CO":"CB","global.shortRank.RO":"RB","global.shortRank.GM":"GM","global.lblClickOrEnterToChat":"<strong>KLICKEN</strong> oder <strong>ENTER</strong> drücken um zu chatten","global.lblRequestingBoard":"Board-Anforderung an $1","global.lblSyncingWith":"Synchronisierung mit $1","global.lblSkipUserSync":"Zu langsam? Überspringe diesen Benutzer","global.lblCancelAndLeave":"Abbrechen und Raum verlassen","radialMenu.lblSize":"Größe","radialMenu.lblNextTool":"Nächstes<br />Werkzeug","radialMenu.lblSwapColors":"Farbe<br />ändern","radialMenu.lblPan":"Bewegen","radialMenu.lblSwapEraser":"Zu Radiergummi<br />wechseln","radialMenu.lblPreviousTool":"Vorheriges<br />Werkzeug","layerPreview.btnClear":"Ebene löschen","layerPreview.btnFlipHorizontally":"Horizontal spiegeln","layerPreview.btnFlipVertically":"Vertikal spiegeln","layerPreview.btnSave":"Ebene speichern","layerPreview.btnHide":"Ebene anzeigen / verstecken","layerPreview.btnLock":"Ebene sperren / entsperren","menu.layers.MergeWithLayer":"Mit Ebene $1 verbinden","menu.undoPreview.save":"Gewählte Ebenen speichern","menu.layerPreview.clear":"Ebene löschen","menu.boardMenu.resetzoom":"Zoom zurrücksetzen","menu.boardMenu.zoomin":"Reinzoomen","menu.boardMenu.zoomout":"Rauszoomen","menu.boardMenu.rotatereset":"Drehung zurrücksetzen","menu.boardMenu.rotate45left":"Links drehen","menu.boardMenu.rotate45right":"Rechts drehen","menu.boardMenu.fliphorizontally":"Horizontal spiegeln","menu.boardMenu.fittoscreen":"Größe anpassen","menu.boardMenu.centerboard":"Board zentrieren","menu.userList.Snc":"Synchronisieren","menu.userList.Dbg":"Debuggen","menu.userList.Ugd":"Galerie","menu.userList.Ccb":"Benutzer-Pinsel kopieren","menu.userList.Pm":"Private Nachricht","menu.userList.IgnToggle":"Ignorieren / Un-ignorieren","menu.userList.Kck":"Kick","menu.userList.Bn":"Ban","menu.userList.Muu":"Zeichnen verbieten","menu.userList.Umu":"Zeichnen erlauben","menu.userList.Siu":"Stummschalten","menu.userList.Usi":"Stummschaltung aufheben","menu.userList.Pru":"Hochstufen","menu.userList.Deu":"Runterstufen","menu.userList.Pfl":"Profil","menu.userList.Reg":"Raum registrieren","menu.textbox.copy":"Kopieren","menu.textbox.select":"Alles auswählen","menu.textbox.clear":"Text löschen","menu.textbox.copylink":"Link kopieren","menu.textbox.openlink":"Link öffnen","menu.messenger.remove":"Konversation löschen","animation.title":"Animation","animation.mnuPlay":"Abspielen","animation.mnuFrames":"Frames","animation.play.lblSpeed":"Geschwindigkeit:","animation.play.btnSave":"Speichern","animation.frames.lblCloning":"Klonen","animation.frames.lblLayers":"Ebenen","animation.frames.lblLayer":"Ebene $1","animation.frames.lblFrames":"Frames","animation.frames.lblFrame":"Frame:","animation.frames.lblAction":"Aktion:","animation.frames.optClear":"Löschen","animation.frames.optClone":"Klonen","animation.frames.lblFrameTarget":"Ziel:","animation.frames.lblOpacity":"Durchsichtigkeit:","animation.frames.btnApplyChanges":"Anwenden","animation.sidebar.btnPlay":"Abspielen","animation.sidebar.btnViewAll":"Alle ansehen","animation.sidebar.lblFrames":"Frames:","login.title":"Willkommen","login.lblJoinRoom":"Trete einem Raum bei","login.lblTypeRoomName":"Gib einen Raumnamen ein:","login.lblPickRoom":"Oder wähle einen der folgenden öffentlichen Räume","login.btnRefreshRoomList":"Raumliste neu laden","login.btnJoinRoom":"Raum beitreten","login.lblAccountInfo":"Du benötigst keinen Account, um <strong>FlockMod</strong> zu nutzen. Gib einfach einen beliebigen Benutzernamen ein und lass das Passwort leer. Wenn du allerdings Extra-Features nutzen willst, empfiehlt es sich, <a name=\"accountRegister\" href=\"#\" class=\"inlineLink\">einen kostenlosen Account zu registrieren</a>.","login.lblPickUsername":"Benutzernamen eingeben","login.lblTypeUsername":"Gib deinen Benutzernamen ein:","login.lblTypePassword":"Passwort (optional):","login.lblForgotPassword":"Passwort vergessen?","login.btnSignUp":"Anmelden","login.btnOkay":"OK","login.btnCancel":"Abbrechen","login.btnCreate":"Erstellen","login.lblPasswordProtectedRoom":"Passwort-geschützer Raum","login.lblPassword":"Passwort","login.lblRegisterAccount":"Account registrieren","login.lblUsername":"Benutzername:","login.lblPassword1":"Passwort:","login.lblConfirmPassword":"Passwort wiederholen:","login.lblEmailAddress":"E-Mail-Adresse:","login.lblSecretQuestion":"Geheimfrage:","login.lblSecretAnswer":"Geheime Antwort:","login.phRoomName":"Raumname","login.rowRoomName":"Raumname","config.title":"Konfiguration","config.mnuSettings":"Einstellungen","config.mnuHotkeys":"Hotkeys","config.mnuAboutUs":"Über uns","config.lblSettings":"Einstellungen","config.lblHotkeys":"Hotkeys","config.lblAboutUs":"Über uns","config.lblLanguage":"Sprache:","config.lblTheme":"Thema:","config.optThemeDark":"Dunkel","config.optThemeLight":"Hell","config.optThemeClassic":"Klassisch","config.lblVolume":"Lautstärke:","config.lblSidebar":"Seitenleiste:","config.lblStrokePreviewQuality":"Qualität der Strichvorschau:","config.optQualityHigh":"Hoch","config.optQualityNormal":"Normal","config.lblLoadingPresetWillChange":"Das Laden einer Voreinstellung ändert:","config.lblGraphics":"Grafik:","config.lblSounds":"Sounds:","config.lblTools":"Werkzeuge:","config.lblSyncOptions":"Einstellungen mit jedem Werkzeug synchronisieren:","config.btnExport":"Exportieren","config.btnImport":"Importieren","config.btnApplyChanges":"Anpassungen übernehmen","config.optBrush":"Werkzeug","config.optColor":"Farbe","config.optSize":"Größe","config.optAlpha":"Durchsichtigkeit","config.optBlur":"Verwischen","config.optSmooth":"Glätten","config.optSpacing":"Abstand","config.optMode":"Modus","config.optRightClick":"Rechtsklick","config.optCursor":"Cursor","config.optAutoSwitch":"Automatische Farbauswahl","config.sync.optSize":"Größe","config.sync.optAlpha":"Durchsichtigkeit","config.sync.optBlur":"Verwischen","config.sync.optMode":"Modus","config.optLeft":"Links","config.optRight":"Rechts","config.optChatTone":"Nachrichtenton im öffentlichen Chat","config.optStaffChatTone":"Nachrichtenton im privaten Chat","config.optPrivateTone":"Privat-Nachricht Ton","config.optInboxTone":"Posteingang-Nachricht Ton","config.optShowUsername":"Eigenen Namen neben Cursor anzeigen","config.optShowMouse":"Mauszeiger auf der Leinwand anzeigen","config.optDisableTooltips":"Tooltips deaktivieren","config.optChatPreviews":"Bildvorschau im Chat","config.btnChangeHotkey":"Hotkey ändern","config.btnLoadDefaults":"Zurrücksetzen","config.btnApply":"Anwenden","config.btnCancel":"Abbrechen","config.lblEditHotkey":"Hotkey bearbeiten","config.lblDescription":"Beschreibung:","config.lblPrimaryHotkey":"Primär Hotkey:","config.lblSecondaryHotkey":"Sekundär Hotkey:","config.btnChange":"Ändern","config.btnClear":"Löschen","config.rowDescription":"Description","config.rowHotkey":"Hotkey","config.rowHotkey2":"Hotkey 2","config.sc.drag.tool":"Ziehwerkzeug auswählen","config.sc.rotate.tool":"Drehwerkzeug auswählen","config.sc.picker.tool":"Farbauswahlwerkzeug auswählen","config.sc.selection.tool":"Auswahlwerkzeug auswählen","config.sc.pen.tool":"Pinsel auswählen","config.sc.eraser.tool":"Radiergummi auswählen","config.sc.text.tool":"Textwerkzeug auswählen","config.sc.line.tool":"Linienwerkzeug auswählen","config.sc.rect.tool":"Rechteck-Werkzeug auswählen","config.sc.ellipse.tool":"Ellipsen-Werkzeug auswählen","config.sc.blend.tool":"Mischwerkzeug auswählen","config.sc.fill.tool":"Eimer auswählen","config.sc.pixel.tool":"Pixelwerkzeug auswählen","config.sc.custom.tool":"Eigenen Pinsel auswählen","config.sc.rightclick.custom":"Rechtsklick-Aktion auslösen","config.sc.cancelstroke.custom":"Aktuellen Strich abbrechen","config.sc.previoustool.custom":"Vorheriges Werkzeug","config.sc.nexttool.custom":"Nächstes Werkzeug","config.sc.switchprev.custom":"Zum vorherigen Werkzeug wechseln","config.sc.+size.slideroption":"Pinsel vergrößern","config.sc.-size.slideroption":"Pinsel verkleinern","config.sc.+alpha.slideroption":"Pinsel-Undurchsichtigkeit erhöhen","config.sc.-alpha.slideroption":"Pinsel-Undurchsichtigkeit verringern","config.sc.+blur.slideroption":"Pinsel-Verwischung erhöhen","config.sc.-blur.slideroption":"Pinsel-Verwischung verringern","config.sc.+smooth.slideroption":"Pinsel-Glättung erhöhen","config.sc.-smooth.slideroption":"Pinsel-Glättung verringern","config.sc.+spacing.slideroption":"Pinsel-Abstand erhöhen","config.sc.-spacing.slideroption":"Pinsel-Abstand verringern","config.sc.+multilayer.checkboxoption":"\"Alle Ebenen\" einschalten","config.sc.-multilayer.checkboxoption":"\"Alle Ebenen\" ausschalten","config.sc.!multilayer.checkboxoption":"\"Alle Ebenen\" togglen","config.sc.+areaaverage.checkboxoption":"\"Flächendurchschnitt\" einschalten","config.sc.-areaaverage.checkboxoption":"\"Flächendurchschnitt\" ausschalten","config.sc.!areaaverage.checkboxoption":" \"Flächendurchschnitt\" togglen","config.sc.+tint.checkboxoption":"\"Farbton\" einschalten","config.sc.-tint.checkboxoption":"\"Farbton\" ausschalten","config.sc.!tint.checkboxoption":"\"Farbton\" togglen","config.sc.+randomrotation.checkboxoption":"\"Zufällige Drehung\" einschalten","config.sc.-randomrotation.checkboxoption":"\"Zufällige Drehung\" ausschalten","config.sc.!randomrotation.checkboxoption":"\"Zufällige Drehung\" toggeln","config.sc.+selectiontype.checkboxoption":"Auswahltyp zu \"Lasso\" wechseln","config.sc.-selectiontype.checkboxoption":"Auswahltyp zu \"Rechteck\" wechseln","config.sc.!selectiontype.checkboxoption":"Auswahltyp togglen","config.sc.+pressure.slidercheckoption":"\"Druck\" einschalten","config.sc.-pressure.slidercheckoption":"\"Druck\" ausschalten","config.sc.!pressure.slidercheckoption":"\"Druck\" togglen","config.sc.+blendmode.listoption":"Nächster Modus","config.sc.-blendmode.listoption":"Vorheriger Modus","config.sc.normal.blendmode":"Mischmodus auswählen: Normal","config.sc.darken.blendmode":"Mischmodus auswählen: Verdunkeln","config.sc.lighten.blendmode":"Mischmodus auswählen: Aufhellen","config.sc.difference.blendmode":"Mischmodus auswählen: Differenz","config.sc.exclusion.blendmode":"Mischmodus auswählen: Ausschluss","config.sc.hard-light.blendmode":"Mischmodus auswählen: Hartes Licht","config.sc.soft-light.blendmode":"Mischmodus auswählen: Weiches Licht","config.sc.multiply.blendmode":"Mischmodus auswählen: Multiplizieren","config.sc.overlay.blendmode":"Mischmodus auswählen: Überlagern","config.sc.screen.blendmode":"Mischmodus auswählen: Negativ multiplizieren","config.sc.saturation.blendmode":"Mischmodus auswählen: Sättigung","config.sc.luminosity.blendmode":"Mischmodus auswählen: Lichtstärke","config.sc.hue.blendmode":"Mischmodus auswählen: Farbton","config.sc.color.blendmode":"Mischmodus auswählen: Farbe","config.sc.color-dodge.blendmode":"Mischmodus auswählen: Farbig abwedeln","config.sc.color-burn.blendmode":"Mischmodus auswählen: Farbig nachbelichten","config.sc.kickuser.userlist":"Ausgew. Benutzer kicken","config.sc.banuser.userlist":"Ausgew. Benutzer bannen","config.sc.muteuser.userlist":"Ausgew. Benutzer zeichnnen verbieten","config.sc.unmuteuser.userlist":"Ausgew. Benutzer zeichnnen erlauben","config.sc.silenceuser.userlist":"Ausgew. Benutzer stummschalten","config.sc.unsilenceuser.userlist":"Stummschaltung des ausgew. Benutzers aufheben","config.sc.toggleignoreuser.userlist":"Ausgwählten Benutzer Ignorieren / Un-ignorieren","config.sc.config.dialog":"Konfiguration Öffnen / Schließen","config.sc.roommanager.dialog":"Raummanager Öffnen / Schließen","config.sc.messenger.dialog":"Messenger Öffnen / Schließen","config.sc.profile.dialog":"Profil Öffnen / Schließen","config.sc.chat.dialog":"Chat Öffnen / Schließen","config.sc.undo.dialog":"Rückgängig machen Öffnen / Schließen","config.sc.upload.dialog":"Hochladen Öffnen / Schließen","config.sc.save.dialog":"Speichern Öffnen / Schließen","config.sc.color.dialog":"Farbe Öffnen / Schließen","config.sc.radialmenu.custom":"Radiales Menü öffnen","config.sc.maximizedialog.custom":"Maximierung des aktuellen Dialogs toggeln","config.sc.closedialog.custom":"Aktuellen Dialog schließen","config.sc.leaveroom.custom":"Raum verlassen","config.sc.fullscreen.custom":"Vollbild toggeln","config.sc.zoomin.custom":"Reinzoomen","config.sc.zoomout.custom":"Rauszoomen","config.sc.resetzoom.custom":"Zoom zurrücksetzen","config.sc.nextlayerup.custom":"Nächste Ebene oben","config.sc.nextlayerdown.custom":"Nächste Ebene unten","config.sc.swapcolors.custom":"Farben wechseln","config.sc.changeprimarycolor.custom":"Primärfarbe wechseln","config.sc.changesecondarycolor.custom":"Sekundärfarbe wechseln","config.sc.+r.coloroption":"Farbwert erhöhen: Rot","config.sc.-r.coloroption":"Farbwert verringern: Rot","config.sc.+g.coloroption":"Farbwert erhöhen: Grün","config.sc.-g.coloroption":"Farbwert verringern: Grün","config.sc.+b.coloroption":"Farbwert erhöhen: Blau","config.sc.-b.coloroption":"Farbwert verringern: Blau","config.sc.+h.coloroption":"Farbwert erhöhen: Farbton","config.sc.-h.coloroption":"Farbwert verringern: Farbton","config.sc.+s.coloroption":"Farbwert erhöhen: Sättigung","config.sc.-s.coloroption":"Farbwert verringern: Sättigung","config.sc.+v.coloroption":"Farbwert erhöhen","config.sc.-v.coloroption":"Farbwert verringern","config.sc.rotatereset.custom":"Drehung zurrücksetzen","config.sc.rotate45left.custom":"45 Grad nach links drehen","config.sc.rotate45right.custom":"45 Grad nach rechts drehen","config.sc.moveboard.custom":"Board bewegen","config.sc.fittoscreen.custom":"An Bildschirm anpassen","config.sc.centerboard.custom":"Board zentrieren","config.sc.viewflip.custom":"Horizontal spiegeln","config.sc.pixelsmoothing.custom":"\"Scharfe Pixel\" togglen","config.sc.pickcolor1.color":"Gespeicherte Farbe auswählen 1","config.sc.pickcolor2.color":"Gespeicherte Farbe auswählen 2","config.sc.pickcolor3.color":"Gespeicherte Farbe auswählen 3","config.sc.pickcolor4.color":"Gespeicherte Farbe auswählen 4","config.sc.pickcolor5.color":"Gespeicherte Farbe auswählen 5","config.sc.pickcolor6.color":"Gespeicherte Farbe auswählen 6","config.sc.pickcolor7.color":"Gespeicherte Farbe auswählen 7","config.sc.pickcolor8.color":"Gespeicherte Farbe auswählen 8","config.sc.pickcolor9.color":"Gespeicherte Farbe auswählen 9","config.sc.pickcolor10.color":"Gespeicherte Farbe auswählen 10","config.sc.loadpreset1.preset":"Voreinstellung laden 1","config.sc.loadpreset2.preset":"Voreinstellung laden 2","config.sc.loadpreset3.preset":"Voreinstellung laden 3","config.sc.loadpreset4.preset":"Voreinstellung laden 4","config.sc.loadpreset5.preset":"Voreinstellung laden 5","config.sc.loadpreset6.preset":"Voreinstellung laden 6","config.sc.loadpreset7.preset":"Voreinstellung laden 7","config.sc.loadpreset8.preset":"Voreinstellung laden 8","config.sc.loadpreset9.preset":"Voreinstellung laden 9","config.sc.loadpreset10.preset":"Voreinstellung laden 10","config.sc.loadpreset11.preset":"Voreinstellung laden 11","config.sc.loadpreset12.preset":"Voreinstellung laden 12","config.sc.loadpreset13.preset":"Voreinstellung laden 13","config.sc.loadpreset14.preset":"Voreinstellung laden 14","config.sc.loadpreset15.preset":"Voreinstellung laden 15","config.sc.loadpreset16.preset":"Voreinstellung laden 16","config.sc.loadpreset17.preset":"Voreinstellung laden 17","config.sc.loadpreset18.preset":"Voreinstellung laden 18","config.lblListening":"Hört...","config.lblAbout":"<strong>FlockMod</strong> ist eine kollaborative Zeichenplattform, die unter Berücksichtigung von Künstlern und Kommunikation entwickelt wurde. FlockMod wurde von <strong class=\"rankGM\">FDT</strong> gegründet und gehosted, und wird aktiv weiterentwickelt und gepflegt von <strong class=\"rankGM\">auto</strong>.</p>","config.lblUsefulLinks":"Nützliche Links","config.btnGallery":"Gallerie","config.btnNewsUpdates":"Neuigkeiten und Updates","config.btnFeedback":"Gib uns dein Feedback","config.btnIdeasPage":"Ideen und Vorschläge","config.btnHelp":"Hilfe","config.lblSpecialThanks":"Besonderer Dank an","config.rowThanksName":"Name (alphabetische Reihenfolge)","tooloption.size":"Größe","tooloption.alpha":"Undurchsichtigkeit","tooloption.blur":"Verwischung","tooloption.smooth":"Glättung","tooloption.blendmode":"Modus","tooloption.pressure":"Druck","tooloption.spacing":"Abstand","tooloption.customize":"Anpassen","tooloption.gallery":"Gallerie","tooloption.multilayer":"Alle Ebenen","tooloption.selectiontype":"Typ","tooloption.areaaverage":"Flächendurchschnitt","tooloption.tint":"Farbton","tooloption.randomrotation":"Zufällige Drehung","tooloption.rightclick":"Rechtsclick","tooloption.cursor":"Cursor","tooloption.erasermode":"Radiergummi","tooloption.aspectratio":"Seitenverhältnis","tooloption.snap":"Winkelschnapper","tooloption.drawgrid":"Raster anzeigen","tooloption.font":"Schriftart","tooloption.fill":"Füllen","tooloption.image":"Bild","tooloption.rightClickList.donothing":"Nichts machen","tooloption.rightClickList.cancelstroke":"Pinselstrich abbrechen","tooloption.rightClickList.toggleselectiontype":"Typ togglen","tooloption.rightClickList.togglemultilayer":"Alle Ebenen toggeln","tooloption.rightClickList.swapcolors":"Farben wechseln","tooloption.rightClickList.toggleareaaverage":"Flächendurchschnitt toggeln","tooloption.rightClickList.rotatereset":"Drehung zurücksetzen","tooloption.rightClickList.rotate45right":"Um 45 Grad drehen","tooloption.rightClickList.centerboard":"Board zentrieren","tooloption.rightClickList.fittoscreen":"An Bildschirm anpassen","tooloption.rightClickList.resetzoom":"Zoom zurücksetzen","tooloption.rightClickList.togglesnap":"Winkelschnappung toggeln","tooloption.rightClickList.toggleaspectratio":"Seitenverhältnis einhalten toggeln","tooloption.rightClickList.toggleerasermode":"Radiergummi toggeln","tooloption.rightClickList.toggledrawgrid":"Raster toggeln","tooloption.rightClickList.nextfont":"Nächste Schriftart","tooloption.rightClickList.cleartext":"Text löschen","tooloption.rightClickList.switchprevtool":"Vorheriges Werkzeug auswählen","tooloption.rightClickList.selecteraser":"Zu Radiergummi wechseln","tooloption.rightClickList.showmenu":"Menü anzeigen","tooloption.blendmodes.normal":"Normal","tooloption.blendmodes.darken":"Verdunkeln","tooloption.blendmodes.lighten":"Aufhellen","tooloption.blendmodes.difference":"Differenz","tooloption.blendmodes.exclusion":"Ausschluss","tooloption.blendmodes.hard-light":"Hartes Licht","tooloption.blendmodes.soft-light":"Weiches Licht","tooloption.blendmodes.multiply":"Multiplizieren","tooloption.blendmodes.overlay":"Überlagern","tooloption.blendmodes.screen":"Negativ multiplizieren","tooloption.blendmodes.saturation":"Sättigung","tooloption.blendmodes.luminosity":"Lichtstärke","tooloption.blendmodes.hue":"Farbton","tooloption.blendmodes.color":"Farbe","tooloption.blendmodes.color-dodge":"Farbig abwedeln","tooloption.blendmodes.color-burn":"Farbig nachbelichten","tooloption.cursorList.circle":"Kreis","tooloption.cursorList.square":"Viereck","tooloption.cursorList.crosshair":"Fadenkreuz","tooloption.cursorList.dot":"Punkt","tooloption.cursorList.cross":"Kreuz","tool.drag":"Ziehen","tool.rotate":"Drehen","tool.picker":"Farbwähler","tool.selection":"Auswahl","tool.pen":"Pinsel","tool.eraser":"Radiergummi","tool.text":"Text","tool.line":"Linienwerkzeug","tool.rect":"Rechteck-Werkzeug","tool.ellipse":"Ellipsen-Werkzeug","tool.blend":"Mischwerkzeug","tool.fill":"Eimer","tool.custom":"Benutzerdefinierter Pinsel","tool.blur":"Verwischung","tool.pixel":"Pixel","sidebar.lblUserList":"Benutzerliste","sidebar.lblToolOptions":"Werkzeugeinstellungen","sidebar.lblPresets":"Voreinstellungen","sidebar.lblColorWheel":"Farbkreis","sidebar.lblLayers":"Ebenen","sidebar.lblAnimation":"Animation","sidebar.btnRearrange":"Neu anordnen","sidebar.lblDragAndDrop":"Per Drag & Drop an die gewünschte Position ziehen.","sidebar.btnConfirm":"Anwenden","sidebar.btnCancel":"Abbrechen","toolbar.btnClear":"Löschen","toolbar.btnFill":"Füllen","toolbar.btnMove":"Verschieben / Größe ändern","toolbar.btnClone":"Klonen","toolbar.btnSave":"Speichern","toolbar.btnUndo":"Rückgängig machen","toolbar.btnCustomBrush":"Benutzerdefinierter Pinsel","toolbar.btnFlip":"Spiegeln","toolbar.btnConfirm":"Anwenden","toolbar.btnDelete":"Löschen","toolbar.btnCancel":"Abbrechen","tooltip.lblZoomIn":"Reinzoomen","tooltip.lblZoomOut":"Rauszoomen","tooltip.lblCenterBoard":"Board zentrieren","tooltip.lblFitScreen":"An Bildschirm anpassen","tooltip.lblFlipHorizontally":"Horizontal spiegeln","tooltip.lblPixelSmoothing":"Scharfe Pixel","tooltip.lblFeedback":"Rückmeldung","tooltip.lblAdminConsole":"Admin-Konsole","tooltip.lblRoomManager":"Raummanager","tooltip.lblUndo":"Rückgängig machen","tooltip.lblMessenger":"Messenger","tooltip.lblUpload":"Hochladen","tooltip.lblSave":"Speichern","tooltip.lblMaximize":"Maximieren","tooltip.lblClose":"Schließen","tooltip.lblHelp":"Hilfe","tooltip.lblConfiguration":"Konfiguration","tooltip.lblChat":"Chat","tooltip.lblFullScreen":"Vollbild","tooltip.lblLeaveRoom":"Raum verlassen","tooltip.lblRegisterRoom":"Raum registrieren","tooltip.lblChangePrimaryColor":"Primärfarbe ändern","tooltip.lblChangeSecondaryColor":"Sekundärfarbe ändern","tooltip.lblSwapColors":"Farben wechseln","roommanager.title":"Raummanager","roommanager.mnuSettings":"Einstellungen","roommanager.mnuStaff":"Personal","roommanager.mnuPrivileges":"Privilegien","roommanager.mnuTools":"Werkzeuge","roommanager.mnuBans":"Bans","roommanager.settings.lblSettings":"Raumeinstellungen","roommanager.settings.lblDescription":"Beschreibung:","roommanager.settings.lblRoomMode":"Modus:","roommanager.settings.lblLayers":"Ebenen: *","roommanager.settings.lblCanvasSize":"Leinwandgröße:","roommanager.settings.lblAnimRows":"Reihen (Animation):","roommanager.settings.lblAnimCols":"Spalten (Animation):","roommanager.settings.lblRoomCapacity":"Kapazität:","roommanager.settings.lblRoomPassword":"Zugangspasswort:","roommanager.settings.lblMuteLength":"Dauer des Zeichnungsverbots:","roommanager.settings.lblBanLength":"Standard-Bandauer:","roommanager.settings.lblBackground":"Hintergrund:","roommanager.settings.lblBottomLayer":"Untere Ebene:","roommanager.settings.lblUserJoins":"Wenn ein Benutzer den Raum beitritt:","roommanager.settings.lblProxyJoins":"Wenn ein bekannter Proxy beitritt (Personal wird ignoriert):","roommanager.settings.lblBlendModes":"* Mischmodi sind nur für Räume mit einer Ebene verfügbar.","roommanager.settings.btnApplyChanges":"Anpassungen übernehmen","roommanager.settings.btnUnregisterRoom":"Raum abmelden","roommanager.settings.lblUsers":"Benutzer","roommanager.settings.optRegular":"Normal","roommanager.settings.optAnimation":"Animation","roommanager.settings.optSmall":"Klein","roommanager.settings.optMedium":"Mittel","roommanager.settings.optLarge":"Groß","roommanager.settings.optExtraLarge":"Extra Groß","roommanager.settings.optDoNothing":"Nichts machen","roommanager.settings.optMuteNotReg":"Zeichnen verbieten, wenn nicht registriert","roommanager.settings.optMuteNotStaff":"Zeichnen verbieten, wenn nicht nicht Personal","roommanager.settings.optMute":"Zeichnen verbieten","roommanager.settings.optSilence":"Stummschalten","roommanager.settings.optMuteSilence":"Zeichnen verbieten und stummschalten","roommanager.settings.optBlock":"Verbindung blockieren","roommanager.settings.optTransparent":"Durchsichtig","roommanager.settings.optOpaque":"Undurchsichtig","roommanager.settings.optWhite":"Weiß","roommanager.settings.optGray":"Grau","roommanager.settings.optBlack":"Schwarz","roommanager.settings.optPrivateRoom":"privater Raum","roommanager.settings.optPublicRoom":"öffentlicher Raum","roommanager.staff.lblStaff":"Personal","roommanager.staff.rowUsername":"Benutzername","roommanager.staff.rowRank":"Rang","roommanager.staff.rowPromotedBy":"Beförtdert von","roommanager.staff.rowDate":"Datum","roommanager.staff.btnAddUser":"Benutzer hinzufügen","roommanager.staff.btnEditUser":"Benutzer bearbeiten","roommanager.staff.btnRemoveUser":"Benutzer entfernen","roommanager.staff.lblEditStaffMember":"Personal-Mitglied bearbeiten","roommanager.staff.lblAddStaffMember":"Personal-Mitglied hinzufügen","roommanager.staff.lblUsername":"Benutzername:","roommanager.staff.lblRank":"Rang:","roommanager.staff.btnAdd":"Hinzufügen","roommanager.staff.btnCancel":"Abbrechen","roommanager.staff.btnOkay":"OK","roommanager.privileges.lblPrivileges":"Privilegien","roommanager.privileges.btnApplyChanges":"Anpassungen übernehmen","roommanager.privileges.btnLoadDefaults":"Standardwerte laden","roommanager.privileges.rowPrivilege":"Privileg","roommanager.privilege.roommanager":"Raummanager bearbeiten: Einstellungen","roommanager.privilege.changeprivileges":"Raummanager bearbeiten: Privilegien","roommanager.privilege.roombans":"Raummanager bearbeiten: Bans","roommanager.privilege.rmstaff":"Raummanager bearbeiten: Personal","roommanager.privilege.addmod":"Benutzer befördern oder zurückstufen","roommanager.privilege.mute":"Benutzern das Zeichnen verbieten","roommanager.privilege.kick":"Benutzer kicken","roommanager.privilege.silence":"Benutzer stummschalten","roommanager.privilege.ban":"Benutzer bannen","roommanager.privilege.unbanothers":"Bans anderer Personal-Mitglieder bearbeiten","roommanager.privilege.changetools":"Raummanager bearbeiten: Werkzeuge","roommanager.privilege.mergelayer":"Ebenen verbinden","roommanager.privilege.clearlayer":"Ebenen löschen","roommanager.privilege.fliplayer":"Ebenen spiegeln","roommanager.privilege.locklayers":"Ebenen sperren","roommanager.privilege.drawlockedlayers":"Auf gesperrten Ebenen zeichnen","roommanager.privilege.modmessageuse":"Personalchat nutzen","roommanager.privilege.pload":"Bilder hochladen","roommanager.privilege.pundo":"Board rückgängig machen","roommanager.privilege.seehigherips":"IP-Adresse höherrangiger Benutzer anzeigen","roommanager.privilege.seelowerips":"IP-Adresse niederrangiger Benutzer anzeigen","roommanager.privilege.seesameips":"IP-Adressen gleichrangiger Benutzer anzeigen","roommanager.privilege.bypasspwd":"Raumpasswort umgehen","roommanager.privilege.bypassfull":"Beitreten wenn der Raum voll ist","roommanager.privilege.manageframes":"Löschen und klonen von Frames im Animationsmodus","roommanager.tools.lblTools":"Werkzeuge","roommanager.tools.btnApplyChanges":"Anpassungen übernehmen","roommanager.tools.btnLoadDefaults":"Standardwerte laden","roommanager.tools.rowTool":"Werkzeuge","roommanager.bans.lblBans":"Bans","roommanager.bans.btnAddBan":"Ban hinzufügen","roommanager.bans.btnEditBan":"Ban bearbeiten","roommanager.bans.btnRemoveBan":"Ban entfernen","roommanager.bans.rowIP":"IP","roommanager.bans.rowBannedBy":"Gebannt von","roommanager.bans.rowLength":"Dauer","roommanager.bans.lblAddBan":"Ban hinzufügen","roommanager.bans.lblEditBan":"Ban bearbeiten","roommanager.bans.lblIPAddress":"IP-Adresse:","roommanager.bans.lblUsername":"Benutzername:","roommanager.bans.lblLength":"Dauer:","roommanager.bans.btnOkay":"OK","roommanager.bans.btnAdd":"Hinzufügen","roommanager.bans.btnCancel":"Abbrechen","global.lengths.lblPermanent":"Permanent","global.lengths.lblSecond":"$1 {{PLURAL:$1|Sekunde|Sekunden}}","global.lengths.lblMinute":"$1 {{PLURAL:$1|Minute|Minuten}}","global.lengths.lblHour":"$1 {{PLURAL:$1|Stunde|Stunden}}","global.lengths.lblDay":"$1 {{PLURAL:$1|Tag|Tage}}","global.lengths.lblWeek":"$1 {{PLURAL:$1|Woche|Wochen}}","global.lengths.lblMonth":"$1 {{PLURAL:$1|Monat|Monate}}","global.lengths.lblYear":"$1 {{PLURAL:$1|Jahr|Jahre}}","color.title":"Farbwähler","color.lblHoldTap":"Halten um festzulegen. Drücken um zu Laden.","color.lblSavedColors":"Gespeicherte Farben","color.lblPreview":"Vorschau:","color.lblHexadecimal":"Hexadezimal:","color.lblRed":"Rot:","color.lblGreen":"Grün:","color.lblBlue":"Blau:","color.lblHue":"Farbton:","color.lblSaturation":"Sättigung:","color.lblValue":"Farbwert:","color.btnOkay":"OK","color.lblR":"R:","color.lblG":"G:","color.lblB":"B:","color.lblH":"H:","color.lblS":"S:","color.lblV":"V:","undo.title":"Rückgängig machen","undo.mnuPreview":"Vorschau","undo.mnuSettings":"Einstellungen","undo.preview.lblUndo":"Rückgängig machen","undo.preview.lblOldest":"Älteste","undo.preview.lblNewest":"Neuste","undo.settings.lblSettings":"Einstellungen","undo.preview.lblPartialSelection":"Teilauswahl:","undo.preview.lblLayers":"Ebenen","undo.preview.btnUndoNow":"Jetzt Rückgängig machen","undo.settings.lblSaveBoardInterval":"Board speichern alle:","undo.settings.lblSaveBoardLimit":"Mit einem Limit von:","undo.settings.lblSeconds":"Sekunden","undo.settings.lblSavedBoards":"Gespeicherte Boards","undo.preview.lblLayer":"Ebene $1","undo.settings.btnApplyChanges":"Anpassungen übernehmen","undo.settings.btnLoadDefaults":"Standardwerte laden","profile.mnuProfile":"Profil","profile.mnuYourRooms":"Deine Räume","profile.mnuYourRanks":"Deine Ränge","profile.title":"Profil","profile.info.lblProfile":"Profil","profile.info.lblUsername":"Benutzername:","profile.info.lblStatus":"Status:","profile.info.btnChange":"Ändern","profile.info.btnClear":"Löschen","profile.info.btnApplyChanges":"Anpassungen übernehmen","profile.info.btnOkay":"OK","profile.info.btnCancel":"Abbrechen","profile.info.lblChangeUsername":"Benutzernamen ändern","profile.info.lblNewUsername":"Neuer Benutzername:","profile.info.lblOptionalPassword":"Passwort (optional):","profile.rooms.lblOwnedRooms":"Deine Räume","profile.ranks.lblRanks":"Deine Ränge","profile.rooms.rowRoom":"Raum","profile.ranks.rowRoom":"Raum","profile.ranks.rowRank":"Rang","system.lblCaptcha":"Captcha","system.lblTypeText":"Schreibe den Text:","system.btnConfirm":"Übernehmen","system.btnCancel":"Abbrechen","save.title":"Speichern","save.lblBackground":"Hintergrund:","save.lblPartialSelection":"Teilauswahl:","save.btnSaveGallery":"In die Gallerie speichern","save.btnSaveHardDisk":"Auf die Festplatte speichern","upload.title":"Hochladen","upload.lblDragAndDrop":"DRAG AND DROP DIE DATEI HIERHER","upload.btnUploadFile":"Oder eigene Dateien durchsuchen","feedback.title":"Rückmeldung","feedback.lblGiveFeedback":"Gib uns deine Rückmeldung!","feedback.lblLikeNewFlockMod":"Gefällt dir das neue FlockMod?","feedback.lblComments":"Kommentare (Ideen, Vorschläge, Fehlerbericht...):","feedback.btnSendComments":"Kommentare senden","feedback.lblThankYou":"Danke für deine Rückmeldung!","messenger.title":"Messenger","messenger.lblYou":"DU","messenger.btnNewConversation":"Neu","messenger.lblNewConversation":"Neue Konversation","messenger.lblUsername":"Benutzername:","messenger.lblFMMessenger":"FlockMod Messenger","messenger.lblNoMessages":"Wählen Sie einen beliebigen Benutzer aus der Benutzerliste aus, um ein Gespräch fortzusetzen, oder drücken Sie \"Neu\" um ein neues Gespräch mit einer anderen Person zu beginnen.","messenger.lblDeleteConversation":"Sind Sie sicher, dass Sie diese Konversation löschen möchten? Ihr Empfänger wird es weiterhin sehen.","messenger.lblDeleteMessage":"Sind Sie sicher, dass Sie Ihre Kopie dieser Nachricht löschen möchten? Ihr Empfänger wird es weiterhin sehen.","messenger.btnOkay":"OK","messenger.btnCancel":"Abbrechen","galleryimage.title":"Galeriebild","galleryimage.lblDeleteComment":"Sind Sie sicher, dass Sie diesen Kommentar löschen möchten?","galleryimage.lblOwner":"Hochgeladen von $1","usergallery.title":"Gallerie","usergallery.lblGalleryTitle":"Gallerie von $1","debug.title":"Debug","debug.rowParameter":"Parameter","debug.rowValue":"Wert","chat.title":"Chat","chat.room.public":"öffentlich","chat.room.staff":"personal","chat.btnNewPM":"Privat-Nachricht","chat.lblSelectUser":"Benutzer auswählen","chat.lblUsername":"Benutzername:","chat.btnOkay":"OK","chat.btnCancel":"Abbrechen","messages.btnYes":"Ja","messages.btnNo":"Nein","messages.lblUnregisterRoom":"Sind Sie sicher, dass Sie diesen Raum abmelden möchten?","messages.lblLeaveRoom":"Sind Sie sicher, dass Sie den Raum verlassen möchten?","events.txtLayer":"Ebene $1 wurde von $2 gelöscht.","events.txtFlipH":"Ebene $1 wurde von $2 horizontal gespiegelt.","events.txtFlipV":"Ebene $1 wurde von $2 vertikal gespiegelt.","events.txtLock":"Ebene $1 wurde von $2 gesperrt.","events.txtUnlock":"Ebene $1 wurde von $2 entsperrt.","events.txtMerge":"Ebenen $1 und $2 wurden von $3 zusammengelegt.","events.txtKick":"$1 wurde von $2 gekickt.","events.txtBan":"$1 wurde von $2 gebannt.","events.txtMute":"$1 wurde das Zeichnen von $2 verboten.","events.txtMute2":"$1 wurde das Zeichnen verboten.","events.txtUnmute":"$1 wurde das Zeichnen von $2 erlaubt.","events.txtUnmute2":"$1 wurde das Zeichnen erlaubt.","events.txtSilence":"$1 wurde von $2 stummgeschaltet.","events.txtUnsilence":"$1 wurde von $2 entstummt.","events.txtRankUpdate":"Der Rang von $1 wurde von $2 verädert.","events.txtUndo":"Board wurde von $1 rückgängig gemacht.","events.txtPartialUndo":"Board wurde von $1 teilweise rückgängig gemacht.","events.txtSync":"Board stammt von $1.","events.txtLoad":"Bild hochgeladen von $1.","events.txtAnimationFrameClear":"Frame $2 wurde von $3 gelöscht.","events.txtAnimationFrameClone":"Frame $2 wurde auf Frame $3 von $4 geklont.","events.txtProxy":"Proxy","events.txtUserInRoom":"$1 $2 $3 ist im Raum.","events.txtUserEnters":"$1 $2 $3 ist dem Raum beigetreten.","events.txtUserLeaves":"$1 $2 $3 hat den Raum verlassen. $4","events.txtNowKnown":"$1 $2 ist nun bekannt als $3 $4.","events.txtYouNowKnown":"Du bist nun bekannt als $1 $2.","events.txtIgnore":"$1 wurde stummgeschaltet.","events.txtUnignore":"$1 wurde entstummt.","events.txtAutoIgnore":"SPAM ENTDECKT: $1 wurde automatisch stummgeschaltet.","events.txtUnreadMessenger":"Du hast $1 ungelesene {{PLURAL:$1|Nachricht|Nachrichten}} im Messenger.","brushgallery.title":"Pinsel-Gallerie","brushgallery.lblGallery":"Gallerie","brushgallery.btnCancel":"Abbrechen","brushgallery.btnSelect":"Auswählen","brushgallery.lblBy":"Von $1","brushdesigner.title":"Pinsel-Designer","brushdesigner.btnClear":"Löschen","brushdesigner.btnLoad":"Laden","brushdesigner.btnSave":"Speichern","brushdesigner.btnOkay":"OK","brushdesigner.btnCancel":"Abbrechen","brushdesigner.lblSize":"Größe:","brushdesigner.lblAlpha":"Undurchsichtigkeit:","brushdesigner.lblColor":"Farbe:","brushdesigner.toolDrag":"Ziehen","brushdesigner.toolPen":"Stift","brushdesigner.toolEraser":"Radiergummi","brushdesigner.toolPicker":"Farbwähler","brushdesigner.lblZoomIn":"Reinzoomen","brushdesigner.lblZoomOut":"Rauszoomen","brushdesigner.lblCenter":"Zentrieren","help.title":"Hilfe","alerts.txtFileTypeNotSupported":"Dateientyp nicht unterstützt.","alerts.txtUploadNotAllowed":"Du darfst keine Bilder hochladen","alerts.txtLayerIsLocked":"Die Ebene ist gesperrt.","alerts.txtInvalidIP":"Ungültige IP-Adresse.","alerts.txtNoMoreUsers":"Es sind keine weiteren Benutzer verfügbar.","alerts.txtReservedHotkey":"FEHLER: Dieses Hotkey ist reserviert.","alerts.txtHotkeyInUse":"FEHLER: Dieses Hotkey wird schon benutzt.","alerts.txtIncorrectFileType":"FEHLER: Falscher Dateityp.","alerts.txtSaved":"Gespeichert!","alerts.txtSent":"Abgeschickt!","alerts.txtSuccess":"Erfolg!","alerts.txtCaptchaFailed":"FEHLER: Der Captcha-Test ist fehlgeschlagen.","alerts.txtGallerySaveFailed":"FEHLER beim Hochladen in die Galerie","alerts.txtSelectOneLayer":"Wähle mindestens eine Ebene aus.","alerts.txtTooManyConnections":"Zu viele Verbindungen.","alerts.txtNegotiationFailed":"Verhandlung fehlgeschlagen. Die Verbindung kann nicht hergestellt werden.","alerts.txtOutdatedApp":"Deine App ist veraltet. <br />Drücke <kbd>CTRL</kbd> + <kbd>F5</kbd> um die Seite neu zu laden.","alerts.txtServerDown":"Server ist nicht erreichbar.<br />Bitte versuche es später erneut.<br /><a href=\"#\" class=\"btn btn-xs btn-primary mt-2\" name=\"socketReconnect\">Erneut versuchen</a>","alerts.txtRoomRegistered":"Raum erfolgreich angemeldet.","alerts.txtConnectionLost":"Verbindung verloren.","alerts.btnReconnect":"Erneut verbinden","alerts.txtYouHaveBeenBanned":"Du wurdest gebannt","alerts.txtYouHaveBeenKicked":"Du wurdest gekickt","alerts.txtGIFfailed":"GIF-Datei-Erstellung fehlgeschlagen","alerts.txtAreaTooBig":"Die Fläche ist zu groß","alerts.txtYouAreMuted":"Dir wurde das Zeichnen verboten","alerts.txtYouWillBeUnmuted":"Dir wird bald das Zeichnen erlaubt","alerts.txtYouWillBeUnmutedIn":"Zeichnungserlaubniss genehmigt in $1","alerts.roomEnter.txtAccountRestricted":"Anmeldung fehlgeschlagen. Du kannst diesen Account nicht nutzen, es sei denn, du gibst das richtige Passwort ein.","alerts.roomEnter.txtWrongPassword":"Falsches Passwort.","alerts.roomEnter.txtYouAreBanned":"Du kannst diesen Raum nicht betreten. Du bist gebannt.","alerts.roomEnter.txtRoomIsFull":"Du kannst diesen Raum nicht betreten. Der Raum ist voll","alerts.roomEnter.txtTooManyConnections":"Du kannst diesen Raum nicht betreten. Zu viele Verbindungen.","alerts.roomEnter.txtUsernameNotValid":"Du kannst diesen Raum nicht betreten. Dein Benutzername ist ungültig.","alerts.roomEnter.txtProxyNotAllowed":"Es scheint, als würdest du einen VPN-/Proxy-Dienst verwenden. Diese sind in diesem Raum nicht erlaubt.","alerts.txtUsernameContainsEmojis":"FEHLER: Der Benutzername darf keine Emojis enthalten.","alerts.txtPasswordDontMatch":"FEHLER: Passwörter stimmen nicht überein","alerts.txtSecretsMatch":"FEHLER: Die Geheimantwort darf nicht gleich der Geheimfrage sein.","alerts.txtFillSecrets":"FEHLER: Bitte füllen Sie die Geheimfrage und die Geheimantwort aus.","alerts.txtPasswordTooShort":"FEHLER: Das Passwort ist zu kurz.","alerts.txtUsernameTooShort":"FEHLER: Der Benutzername ist zu kurz.","alerts.txtNotAvailableYet":"Diese Funktion ist noch nicht verfügbar.","alerts.txtSetCustomBrush":"Klicke auf 'Galerie' oder 'Anpassen' in den Werkzeugeinstellungen, um dieses Werkzeug zu nutzen","notifications.categories.GM":"Globalnachricht","notifications.categories.EVENT":"Ereignis","notifications.categories.PUBLICROOM":"#öffentlich","notifications.categories.STAFFROOM":"#personal","notifications.categories.PM":"Privat","notifications.categories.MOTD":"Raum","cursor.txtNotConnected":"Nicht verbunden","cursor.txtLoading":"Laden...","cursor.txtYouAreMuted":"Dir wurde das Zeichnen verboten","cursor.txtLayerIsLocked":"Ebene ist gesperrt","cursor.txtLayerIsInvisible":"Ebene ist nicht sichtbar","client.codes.usernotfound":"Benutzer nicht gefunden","global.EOF":""},
    pt: {"@metadata":{"authors":["anon"],"last-updated":"2023-12-28","locale":"pt"},"global.phFilter":"Filtro","global.lblYou":"VOCÊ","global.lblLasso":"lasso","global.lblRectangle":"retângulo","global.lblYes":"sim","global.lblNo":"não","global.lblTool":"Ferramenta","global.lblColor":"Cor","global.lblHoldTap":"Segure para salvar. Aperte para usar.","global.enabled":"habilitado","global.disabled":"desabilitado","global.opaque":"opaco","global.transparent":"transparente","global.days.today":"Hoje","global.days.yesterday":"Ontem","global.months.1":"Jan","global.months.2":"Fev","global.months.3":"Mar","global.months.4":"Abr","global.months.5":"Maio","global.months.6":"Jun","global.months.7":"Jul","global.months.8":"Ago","global.months.9":"Set","global.months.10":"Out","global.months.11":"Nov","global.months.12":"Dez","global.lblUnknown":"Desconhecido","global.lblNoResults":"Não foram encontrados resultados","global.shortcut.lblOr":"$1 o $2","global.rank.UU":"Usuário não registrado","global.rank.RU":"Usuário registrado","global.rank.TU":"Usuário confiável","global.rank.RM":"Moderador","global.rank.FM":"Moderador completo","global.rank.LM":"Moderador líder","global.rank.CO":"Dono da sala","global.rank.RO":"Dono da sala","global.rank.GM":"Moderador global","global.shortRank.UU":"UN","global.shortRank.RU":"UR","global.shortRank.TU":"UC","global.shortRank.RM":"M","global.shortRank.FM":"MC","global.shortRank.LM":"ML","global.shortRank.CO":"DS","global.shortRank.RO":"DS","global.shortRank.GM":"MG","global.lblClickOrEnterToChat":"<strong>CLIQUE</strong> ou pressione <strong>ENTER</strong> para escrever","global.lblRequestingBoard":"Solicitando canvas a $1","global.lblSyncingWith":"Sincronizando com $1","global.lblSkipUserSync":"Muito lento? Pular este usuário","global.lblCancelAndLeave":"Cancelar e abandonar a sala","radialMenu.lblSize":"Tamanho","radialMenu.lblNextTool":"Seguinte<br />Ferramenta","radialMenu.lblSwapColors":"Trocar<br />Cores","radialMenu.lblPan":"Mover","radialMenu.lblSwapEraser":"Trocar a<br />Borracha","radialMenu.lblPreviousTool":"Anterior<br />Ferramenta","layerPreview.btnClear":"Limpar camada","layerPreview.btnFlipHorizontally":"Inverter horizontalmente","layerPreview.btnFlipVertically":"Inverter verticalmente","layerPreview.btnSave":"Guardar camada","layerPreview.btnHide":"Mostrar / Ocultar camada","layerPreview.btnLock":"Bloquear / Desbloquear capa","menu.layers.MergeWithLayer":"Fundir com a camada $1","menu.undoPreview.save":"Guardar camadas selecionadas","menu.layerPreview.clear":"Limpar camada","menu.boardMenu.resetzoom":"Resetar zoom","menu.boardMenu.zoomin":"Aumentar zoom","menu.boardMenu.zoomout":"Diminuir zoom","menu.boardMenu.rotatereset":"Resetar rotação","menu.boardMenu.rotate45left":"Rotacionar à esquerda","menu.boardMenu.rotate45right":"Rotacionar à direita","menu.boardMenu.fliphorizontally":"Inverter horizontalmente","menu.boardMenu.fittoscreen":"Ajustar à tela","menu.boardMenu.centerboard":"Centralizar canvas","menu.userList.Snc":"Sincronizar canvas","menu.userList.Dbg":"Depuracão","menu.userList.Ugd":"Galeria","menu.userList.Ccb":"Copiar pincel personalizado","menu.userList.Pm":"Mensagem privada","menu.userList.IgnToggle":"Ignorar / Deixar de ignorar","menu.userList.Kck":"Expulsar","menu.userList.Bn":"Banir","menu.userList.Muu":"Impedir de desenhar","menu.userList.Umu":"Permitir desenhar","menu.userList.Siu":"Impedir uso do chat","menu.userList.Usi":"Permitir uso do chat","menu.userList.Pru":"Promover rank","menu.userList.Deu":"Abaixar rank","menu.userList.Pfl":"Perfil","menu.userList.Reg":"Registrar sala","menu.textbox.copy":"Copiar","menu.textbox.select":"Selecionar tudo","menu.textbox.clear":"Limpar texto","menu.textbox.copylink":"Copiar link","menu.textbox.openlink":"Abrir link","menu.messenger.remove":"Deletar conversa","animation.title":"Animação","animation.mnuPlay":"Reproduzir","animation.mnuFrames":"Frames","animation.play.lblSpeed":"Velocidade:","animation.play.btnSave":"Salvar","animation.frames.lblCloning":"Clonando","animation.frames.lblLayers":"Camadas","animation.frames.lblLayer":"Camada $1","animation.frames.lblFrames":"Frames","animation.frames.lblFrame":"Frame:","animation.frames.lblAction":"Ação:","animation.frames.optClear":"Limpar","animation.frames.optClone":"Clonar","animation.frames.lblFrameTarget":"Destino:","animation.frames.lblOpacity":"Opacidade:","animation.frames.btnApplyChanges":"Salvar","animation.sidebar.btnPlay":"Reproduzir","animation.sidebar.btnViewAll":"Ver tudo","animation.sidebar.lblFrames":"Frames:","login.title":"Bem vindo","login.lblJoinRoom":"Entrar em uma sala","login.lblTypeRoomName":"Escreva o nome da sala:","login.lblPickRoom":"Ou escolha uma das salas públicas:","login.btnRefreshRoomList":"Atualizar lista de salas","login.btnJoinRoom":"Entrar na sala","login.lblAccountInfo":"Não precisa de uma conta para usar o <strong>FlockMod</strong>, simplemente escreva um nome de usuário e deixe a senha em branco. Porém, se desejar acesso a funcionalidades adicionais, considere <a name=\"accountRegister\" href=\"#\" class=\"inlineLink\">registrar uma conta</a> gratuitamente.","login.lblPickUsername":"Escolha um nome de usuário","login.lblTypeUsername":"Escreva seu nome de usuário:","login.lblTypePassword":"Senha (opcional):","login.lblForgotPassword":"Esqueceu sua senha?","login.btnSignUp":"Registrar","login.btnOkay":"Aceitar","login.btnCancel":"Cancelar","login.btnCreate":"Criar","login.lblPasswordProtectedRoom":"Sala protegida por senha","login.lblPassword":"Senha","login.lblRegisterAccount":"Registrar uma conta","login.lblUsername":"Usuário:","login.lblPassword1":"Senha:","login.lblConfirmPassword":"Repita a senha:","login.lblEmailAddress":"Endereço de e-mail:","login.lblSecretQuestion":"Pergunta secreta:","login.lblSecretAnswer":"Resposta secreta:","login.phRoomName":"Nome da sala","login.rowRoomName":"Sala","config.title":"Configuração","config.mnuSettings":"Config","config.mnuHotkeys":"Atalhos","config.mnuAboutUs":"Quem somos","config.lblSettings":"Configuração","config.lblHotkeys":"Atalhos","config.lblAboutUs":"Quem somos","config.lblLanguage":"Idioma:","config.lblTheme":"Tema:","config.optThemeDark":"Escuro","config.optThemeLight":"Claro","config.optThemeClassic":"Clássico","config.lblVolume":"Volume:","config.lblSidebar":"Barra lateral:","config.lblStrokePreviewQuality":"Qualidade de previsualização do traço:","config.optQualityHigh":"Alta","config.optQualityNormal":"Normal","config.lblLoadingPresetWillChange":"Carregar um preset trocará:","config.lblGraphics":"Gráficos:","config.lblSounds":"Notificações sonoras:","config.lblTools":"Ferramentas:","config.lblSyncOptions":"Sincronizar as seguintes opções em todas as ferramentas:","config.btnExport":"Exportar","config.btnImport":"Importar","config.btnApplyChanges":"Salvar mudanças","config.optBrush":"Ferramenta","config.optColor":"Cor","config.optSize":"Tamanho","config.optAlpha":"Opacidade","config.optBlur":"Blur","config.optSmooth":"Suavização","config.optSpacing":"Espaçamento","config.optMode":"Modo","config.optRightClick":"Clique direito","config.optCursor":"Cursor","config.optAutoSwitch":"Trocar automaticamente seletor de cores","config.sync.optSize":"Tamanho","config.sync.optAlpha":"Opacidade","config.sync.optBlur":"Blur","config.sync.optMode":"Modo","config.optLeft":"Esquerda","config.optRight":"Direita","config.optChatTone":"Chat público","config.optStaffChatTone":"Chat de moderadores","config.optPrivateTone":"Mensagens privadas","config.optInboxTone":"Messenger","config.optShowUsername":"Mostrar seu nome junto ao cursor do mouse","config.optShowMouse":"Mostrar cursor de hardware no canvas","config.optDisableTooltips":"Desabilitar dicas de ferramentas","config.optChatPreviews":"Previsualizações de imagens no chat","config.btnChangeHotkey":"Trocar tecla de atalho","config.btnLoadDefaults":"Restaurar padrões","config.btnApply":"Salvar","config.btnCancel":"Cancelar","config.lblEditHotkey":"Editar atalhos","config.lblDescription":"Descrição:","config.lblPrimaryHotkey":"Atalho primário:","config.lblSecondaryHotkey":"Atalho secundário:","config.btnChange":"Trocar","config.btnClear":"Limpar","config.rowDescription":"Descrição","config.rowHotkey":"Atalho","config.rowHotkey2":"Atalho 2","config.sc.drag.tool":"Selecionar ferramenta Mover","config.sc.rotate.tool":"Selecionar ferramenta Rotacionar","config.sc.picker.tool":"Selecionar ferramenta Seletor de cores","config.sc.selection.tool":"Selecionar ferramenta Selecionar","config.sc.pen.tool":"Selecionar ferramenta Pincel","config.sc.eraser.tool":"Selecionar ferramenta Borracha","config.sc.text.tool":"Selecionar ferramenta Texto","config.sc.line.tool":"Selecionar ferramenta Linha","config.sc.rect.tool":"Selecionar ferramenta Retângulo","config.sc.ellipse.tool":"Selecionar ferramenta Elipse","config.sc.blend.tool":"Selecionar ferramenta Mesclador","config.sc.fill.tool":"Selecionar ferramenta Encher","config.sc.pixel.tool":"Selecionar ferramenta Píxel","config.sc.custom.tool":"Selecionar ferramenta Pincel personalizado","config.sc.rightclick.custom":"Executar ação do clique direito","config.sc.cancelstroke.custom":"Cancelar traço atual","config.sc.previoustool.custom":"Ferramenta anterior","config.sc.nexttool.custom":"Ferramenta seguinte","config.sc.switchprev.custom":"Trocar à ferramenta anterior","config.sc.+size.slideroption":"Aumentar tamanho","config.sc.-size.slideroption":"Diminuir tamanho","config.sc.+alpha.slideroption":"Aumentar opacidade","config.sc.-alpha.slideroption":"Diminuir opacidade","config.sc.+blur.slideroption":"Aumentar blur","config.sc.-blur.slideroption":"Diminuir blur","config.sc.+smooth.slideroption":"Aumentar suavizador","config.sc.-smooth.slideroption":"Diminuir suavizador","config.sc.+spacing.slideroption":"Aumentar espaçamento","config.sc.-spacing.slideroption":"Diminuir espaçamento","config.sc.+multilayer.checkboxoption":"Ativar \"Multicamadas\"","config.sc.-multilayer.checkboxoption":"Desativar \"Multicamadas\"","config.sc.!multilayer.checkboxoption":"Alternar \"Multicamadas\"","config.sc.+areaaverage.checkboxoption":"Ativar \"Área média\"","config.sc.-areaaverage.checkboxoption":"Desativar \"Área média\"","config.sc.!areaaverage.checkboxoption":"Alternar \"Área média\"","config.sc.+tint.checkboxoption":"Ativar \"Matiz\"","config.sc.-tint.checkboxoption":"Desativar \"Matiz\"","config.sc.!tint.checkboxoption":"Alternar \"Matiz\"","config.sc.+randomrotation.checkboxoption":"Ativar \"Rotação aleatoria\"","config.sc.-randomrotation.checkboxoption":"Desativar \"Rotação aleatória\"","config.sc.!randomrotation.checkboxoption":"Alternar \"Rotação aleatória\"","config.sc.+selectiontype.checkboxoption":"Trocar para seleção \"livre\"","config.sc.-selectiontype.checkboxoption":"Trocar pra seleção \"retângulo\"","config.sc.!selectiontype.checkboxoption":"Alternar tipo de seleção","config.sc.+pressure.slidercheckoption":"Ativar \"Pressão\"","config.sc.-pressure.slidercheckoption":"Desativar \"Pressão\"","config.sc.!pressure.slidercheckoption":"Alternar \"Pressão\"","config.sc.+blendmode.listoption":"Modo seguinte de fusão","config.sc.-blendmode.listoption":"Modo anterior de fusão","config.sc.normal.blendmode":"Trocar modo de fusão: Normal","config.sc.darken.blendmode":"Trocar modo de fusão: Escurecer","config.sc.lighten.blendmode":"Trocar modo de fusão: Clarear","config.sc.difference.blendmode":"Trocar modo de fusão: Diferença","config.sc.exclusion.blendmode":"Trocar modo de fusão: Exclusão","config.sc.hard-light.blendmode":"Trocar modo de fusão: Luz forte","config.sc.soft-light.blendmode":"Trocar modo de fusão: Luz suave","config.sc.multiply.blendmode":"Trocar modo de fusão: Multiplicar","config.sc.overlay.blendmode":"Trocar modo de fusão: Sobreposição","config.sc.screen.blendmode":"Trocar modo de fusão: Trama","config.sc.saturation.blendmode":"Trocar modo de fusão: Saturação","config.sc.luminosity.blendmode":"Trocar modo de fusão: Luminosidade","config.sc.hue.blendmode":"Trocar modo de fusão: Matiz","config.sc.color.blendmode":"Trocar modo de fusão: Cor","config.sc.color-dodge.blendmode":"Trocar modo de fusão: Superexposição","config.sc.color-burn.blendmode":"Trocar modo de fusão: Subexposição","config.sc.kickuser.userlist":"Kickar usuário selecionado","config.sc.banuser.userlist":"Banir usuário selecionado","config.sc.muteuser.userlist":"Impedir usuário selecionado de desenhar","config.sc.unmuteuser.userlist":"Permitir usuário selecionado de desenhar","config.sc.silenceuser.userlist":"Impedir usuário selecionado de usar o chat","config.sc.unsilenceuser.userlist":"Permitir usuário selecionado de usar o chat","config.sc.toggleignoreuser.userlist":"Ignorar / Deixar de ignorar usuário selecionado","config.sc.config.dialog":"Abrir / fechar Configurações","config.sc.roommanager.dialog":"Abrir / Fechar janela de Gestão da sala","config.sc.messenger.dialog":"Abrir / Fechar janela Messenger","config.sc.profile.dialog":"Abrir / Fechar janela de Perfil","config.sc.chat.dialog":"Abrir / Fechar janela Chat","config.sc.undo.dialog":"Abrir / Fechar janela Desfazer","config.sc.upload.dialog":"Abrir / Fechar janela de Upload","config.sc.save.dialog":"Abrir / Fechar janela de Salvar","config.sc.color.dialog":"Abrir / Fechar janela de Cor","config.sc.radialmenu.custom":"Abrir menu radial","config.sc.maximizedialog.custom":"Maximizar janela atual","config.sc.closedialog.custom":"Fechar janela atual","config.sc.leaveroom.custom":"Sair da sala","config.sc.fullscreen.custom":"Habilitar/desabilitar Tela inteira","config.sc.zoomin.custom":"Aumentar zoom","config.sc.zoomout.custom":"Diminuir zoom","config.sc.resetzoom.custom":"Resetar zoom","config.sc.nextlayerup.custom":"Trocar para a camada superior","config.sc.nextlayerdown.custom":"Trocar para a camada inferior","config.sc.changeprimarycolor.custom":"Trocar cor primária","config.sc.changesecondarycolor.custom":"Trocar cor secundário","config.sc.swapcolors.custom":"Trocar cores","config.sc.+r.coloroption":"Aumentar valor de cor: Roxo","config.sc.-r.coloroption":"Diminuir valor de cor: Roxo","config.sc.+g.coloroption":"Aumentar valor de cor: Verde","config.sc.-g.coloroption":"Diminuir valor de cor: Verde","config.sc.+b.coloroption":"Aumentar valor de cor: Azul","config.sc.-b.coloroption":"Diminuir valor de cor: Azul","config.sc.+h.coloroption":"Aumentar valor de cor: Matiz","config.sc.-h.coloroption":"Diminuir valor de cor: Matiz","config.sc.+s.coloroption":"Aumentar valor de cor: Saturação","config.sc.-s.coloroption":"Diminuir valor de cor: Saturacão","config.sc.+v.coloroption":"Aumentar valor de cor: Valor","config.sc.-v.coloroption":"Diminuir valor de cor: Valor","config.sc.rotatereset.custom":"Restaurar rotação","config.sc.rotate45left.custom":"Rotacionar 45 graus à esquerda","config.sc.rotate45right.custom":"Rotacionar 45 graus à direita","config.sc.moveboard.custom":"Mover canvas","config.sc.fittoscreen.custom":"Ajustar à tela","config.sc.centerboard.custom":"Centralizar canvas","config.sc.viewflip.custom":"Inverter vista horizontalmente","config.sc.pixelsmoothing.custom":"Alternar \"Píxels nítidos\"","config.sc.pickcolor1.color":"Carregar cor guardada 1","config.sc.pickcolor2.color":"Carregar cor guardada 2","config.sc.pickcolor3.color":"Carregar cor guardada 3","config.sc.pickcolor4.color":"Carregar cor guardada 4","config.sc.pickcolor5.color":"Carregar cor guardada 5","config.sc.pickcolor6.color":"Carregar cor guardada 6","config.sc.pickcolor7.color":"Carregar cor guardada 7","config.sc.pickcolor8.color":"Carregar cor guardada 8","config.sc.pickcolor9.color":"Carregar cor guardada 9","config.sc.pickcolor10.color":"Carregar cor guardada 10","config.sc.loadpreset1.preset":"Carregar preset 1","config.sc.loadpreset2.preset":"Carregar preset 2","config.sc.loadpreset3.preset":"Carregar preset 3","config.sc.loadpreset4.preset":"Carregar preset 4","config.sc.loadpreset5.preset":"Carregar preset 5","config.sc.loadpreset6.preset":"Carregar preset 6","config.sc.loadpreset7.preset":"Carregar preset 7","config.sc.loadpreset8.preset":"Carregar preset 8","config.sc.loadpreset9.preset":"Carregar preset 9","config.sc.loadpreset10.preset":"Carregar preset 10","config.sc.loadpreset11.preset":"Carregar preset 11","config.sc.loadpreset12.preset":"Carregar preset 12","config.sc.loadpreset13.preset":"Carregar preset 13","config.sc.loadpreset14.preset":"Carregar preset 14","config.sc.loadpreset15.preset":"Carregar preset 15","config.sc.loadpreset16.preset":"Carregar preset 16","config.sc.loadpreset17.preset":"Carregar preset 17","config.sc.loadpreset18.preset":"Carregar preset 18","config.lblListening":"Escutando...","config.lblAbout":"<strong>FlockMod</strong> é uma plataforma de desenho colaborativo, criada levando em conta os requirementos artísticos dos usuários e a comunicação entre eles. FlockMod foi fundado por <strong class=\"rankGM\">FDT</strong> e é mantido e ativamente atualizado por <strong class=\"rankGM\">auto</strong>.</p>","config.lblUsefulLinks":"Links úteis","config.btnGallery":"Galeria","config.btnNewsUpdates":"Notícias e atualizações","config.btnFeedback":"Dê seu feedback","config.btnIdeasPage":"Ideias e sugestões","config.btnHelp":"Ajuda","config.lblSpecialThanks":"Agradecimentos","config.rowThanksName":"Nomes (ordem alfabética)","tooloption.size":"Tamanho","tooloption.alpha":"Opacidade","tooloption.blur":"Blur","tooloption.smooth":"Suavizador","tooloption.blendmode":"Modo","tooloption.pressure":"Pressão","tooloption.spacing":"Espaçamento","tooloption.customize":"Personalizar","tooloption.gallery":"Galeria","tooloption.multilayer":"Multicamada","tooloption.selectiontype":"Tipo","tooloption.areaaverage":"Média de área","tooloption.tint":"Matiz","tooloption.randomrotation":"Rot. aleatória","tooloption.rightclick":"Clique direito","tooloption.cursor":"Cursor","tooloption.erasermode":"Borracha","tooloption.aspectratio":"Rel. aspecto","tooloption.snap":"Auto ajuste angular","tooloption.drawgrid":"Mostrar grade","tooloption.font":"Fonte","tooloption.fill":"Encher","tooloption.image":"Imagem","tooloption.rightClickList.donothing":"Nada","tooloption.rightClickList.cancelstroke":"Cancelar traço","tooloption.rightClickList.toggleselectiontype":"Alternar Tipo","tooloption.rightClickList.togglemultilayer":"Alternar Multicamada","tooloption.rightClickList.swapcolors":"Trocar cores","tooloption.rightClickList.toggleareaaverage":"Alternar área média","tooloption.rightClickList.rotatereset":"Restaurar rot.","tooloption.rightClickList.rotate45right":"Rotacionar 45 graus","tooloption.rightClickList.centerboard":"Centralizar canvas","tooloption.rightClickList.fittoscreen":"Ajustar à tela","tooloption.rightClickList.resetzoom":"Resetar zoom","tooloption.rightClickList.togglesnap":"Alternar auto ajuste angular","tooloption.rightClickList.toggleaspectratio":"Alternar Rel. aspecto","tooloption.rightClickList.toggleerasermode":"Alternar Borracha","tooloption.rightClickList.toggledrawgrid":"Alternar Mostrar grade","tooloption.rightClickList.nextfont":"Próxima fonte","tooloption.rightClickList.cleartext":"Limpar texto","tooloption.rightClickList.switchprevtool":"Ferramenta anterior","tooloption.rightClickList.selecteraser":"Trocar para Borracha","tooloption.rightClickList.showmenu":"Mostrar menu","tooloption.blendmodes.normal":"Normal","tooloption.blendmodes.darken":"Escurecer","tooloption.blendmodes.lighten":"Clarear","tooloption.blendmodes.difference":"Diferença","tooloption.blendmodes.exclusion":"Exclusão","tooloption.blendmodes.hard-light":"Luz forte","tooloption.blendmodes.soft-light":"Luz suave","tooloption.blendmodes.multiply":"Multiplicar","tooloption.blendmodes.overlay":"Sobreposição","tooloption.blendmodes.screen":"Trama","tooloption.blendmodes.saturation":"Saturacão","tooloption.blendmodes.luminosity":"Luminosidade","tooloption.blendmodes.hue":"Matiz","tooloption.blendmodes.color":"Cor","tooloption.blendmodes.color-dodge":"Superexposição de cor","tooloption.blendmodes.color-burn":"Subexposição de cor","tooloption.cursorList.circle":"Círculo","tooloption.cursorList.square":"Quadrado","tooloption.cursorList.crosshair":"Crosshair","tooloption.cursorList.dot":"Ponto","tooloption.cursorList.cross":"Cruz","tool.drag":"Mover","tool.rotate":"Rotacionar","tool.picker":"Seletor de cor","tool.selection":"Selecionar","tool.pen":"Pincel","tool.eraser":"Borracha","tool.text":"Texto","tool.line":"Linha","tool.rect":"Retângulo","tool.ellipse":"Elipse","tool.blend":"Mesclador","tool.fill":"Encher","tool.custom":"Personalizado","tool.blur":"Blur","tool.pixel":"Píxel","sidebar.lblUserList":"Lista de usuários","sidebar.lblToolOptions":"Opções de ferramenta","sidebar.lblPresets":"Presets","sidebar.lblColorWheel":"Roda de cores","sidebar.lblLayers":"Camadas","sidebar.lblAnimation":"Animação","sidebar.btnRearrange":"Reordenar","sidebar.lblDragAndDrop":"Arraste e solte à posição desejada.","sidebar.btnConfirm":"Confirmar","sidebar.btnCancel":"Cancelar","toolbar.btnClear":"Limpar","toolbar.btnFill":"Encher","toolbar.btnMove":"Mover / Redimensionar","toolbar.btnClone":"Clonar","toolbar.btnSave":"Guardar","toolbar.btnUndo":"Desfazer","toolbar.btnCustomBrush":"Pincel personalizado","toolbar.btnFlip":"Inverter","toolbar.btnConfirm":"Confirmar","toolbar.btnDelete":"Eliminar","toolbar.btnCancel":"Cancelar","tooltip.lblZoomIn":"Aumentar zoom","tooltip.lblZoomOut":"Diminuir zoom","tooltip.lblCenterBoard":"Centralizar canvas","tooltip.lblFitScreen":"Ajustar à tela","tooltip.lblFlipHorizontally":"Inverter horizontalmente","tooltip.lblPixelSmoothing":"Píxels nítidos","tooltip.lblFeedback":"Feedback","tooltip.lblAdminConsole":"Console de administração","tooltip.lblRoomManager":"Gestão da sala","tooltip.lblUndo":"Desfazer","tooltip.lblMessenger":"Messenger","tooltip.lblUpload":"Upload","tooltip.lblSave":"Salvar","tooltip.lblMaximize":"Maximizar","tooltip.lblClose":"Fechar","tooltip.lblHelp":"Ajuda","tooltip.lblConfiguration":"Configuração","tooltip.lblChat":"Chat","tooltip.lblFullScreen":"Tela inteira","tooltip.lblLeaveRoom":"Sair da sala","tooltip.lblRegisterRoom":"Registrar sala","tooltip.lblChangePrimaryColor":"Trocar cor primária","tooltip.lblChangeSecondaryColor":"Trocar cor secundária","tooltip.lblSwapColors":"Alternar entre cores","roommanager.title":"Gestão da sala","roommanager.mnuSettings":"Configuração","roommanager.mnuStaff":"Staff","roommanager.mnuPrivileges":"Privilégios","roommanager.mnuTools":"Ferramentas","roommanager.mnuBans":"Bans","roommanager.settings.lblSettings":"Configuração da sala","roommanager.settings.lblDescription":"Descrição:","roommanager.settings.lblRoomMode":"Modo:","roommanager.settings.lblLayers":"Camadas: *","roommanager.settings.lblCanvasSize":"Tamanho do canvas:","roommanager.settings.lblAnimRows":"Linhas (animação):","roommanager.settings.lblAnimCols":"Colunas (animação):","roommanager.settings.lblRoomCapacity":"Capacidade:","roommanager.settings.lblRoomPassword":"Senha da sala:","roommanager.settings.lblMuteLength":"Duração do impedimento de desehar:","roommanager.settings.lblBanLength":"Duração de bans:","roommanager.settings.lblBackground":"Fundo:","roommanager.settings.lblBottomLayer":"Camada inferior:","roommanager.settings.lblUserJoins":"Quando um usuário entra","roommanager.settings.lblProxyJoins":"Quando um VPN entra na sala (não afeta moderadores):","roommanager.settings.lblBlendModes":"* Os modos de fusão só estão disponíveis em salas de uma camada.","roommanager.settings.btnApplyChanges":"Salvar mudanças","roommanager.settings.btnUnregisterRoom":"Desregistrar sala","roommanager.settings.lblUsers":"usuários","roommanager.settings.optRegular":"Normal","roommanager.settings.optAnimation":"Animação","roommanager.settings.optSmall":"Pequeno","roommanager.settings.optMedium":"Médio","roommanager.settings.optLarge":"Grande","roommanager.settings.optExtraLarge":"Extra grande","roommanager.settings.optDoNothing":"Nada","roommanager.settings.optMuteNotReg":"Impedir usuários sem conta de desenhar","roommanager.settings.optMuteNotStaff":"Impedir usuários sem rank de desenhar","roommanager.settings.optMute":"Impedir de desenhar","roommanager.settings.optSilence":"Impedir de usar o chat","roommanager.settings.optMuteSilence":"Impedir de desenhar e usar o chat","roommanager.settings.optBlock":"Bloquear acesso","roommanager.settings.optTransparent":"Transparente","roommanager.settings.optOpaque":"Opaca","roommanager.settings.optWhite":"Branco","roommanager.settings.optGray":"Cinza","roommanager.settings.optBlack":"Preto","roommanager.settings.optPrivateRoom":"sala privada","roommanager.settings.optPublicRoom":"sala pública","roommanager.staff.lblStaff":"Staff","roommanager.staff.rowUsername":"Usuário","roommanager.staff.rowRank":"Rank","roommanager.staff.rowPromotedBy":"Promovido por","roommanager.staff.rowDate":"Data","roommanager.staff.btnAddUser":"Adicionar usuário","roommanager.staff.btnEditUser":"Editar usuário","roommanager.staff.btnRemoveUser":"Eliminar usuário","roommanager.staff.lblEditStaffMember":"Editar moderador","roommanager.staff.lblAddStaffMember":"Añadir moderador","roommanager.staff.lblUsername":"Nome de usuário:","roommanager.staff.lblRank":"Rank:","roommanager.staff.btnAdd":"Adicionar","roommanager.staff.btnCancel":"Cancelar","roommanager.staff.btnOkay":"Aceitar","roommanager.privileges.lblPrivileges":"Privilégios","roommanager.privileges.btnApplyChanges":"Salvar mudanças","roommanager.privileges.btnLoadDefaults":"Restaurar padrões","roommanager.privileges.rowPrivilege":"Privilégio","roommanager.privilege.roommanager":"Editar Gestão da sala: Configuração","roommanager.privilege.changeprivileges":"Editar Gestão da sala: Privilégios","roommanager.privilege.roombans":"Editar Gestão da sala: Bans","roommanager.privilege.rmstaff":"Editar Gestão da sala: Moderadores","roommanager.privilege.addmod":"Subir ou abaixar rank de usuários","roommanager.privilege.mute":"Impedir usuários de desenhar","roommanager.privilege.kick":"Kickar usuários","roommanager.privilege.silence":"Impedir usuários de usar o chat","roommanager.privilege.ban":"Banir usuários","roommanager.privilege.unbanothers":"Editar bans de outros moderadores","roommanager.privilege.changetools":"Editar Gestão da sala: Ferramentas","roommanager.privilege.mergelayer":"Fundir camadas","roommanager.privilege.clearlayer":"Limpar camadas","roommanager.privilege.fliplayer":"Inverter camadas","roommanager.privilege.locklayers":"Bloquear camadas","roommanager.privilege.drawlockedlayers":"Desenhar em camadas bloqueadas","roommanager.privilege.modmessageuse":"Usar o chat para moderadores","roommanager.privilege.pload":"Upload de imagens","roommanager.privilege.pundo":"Reverter o canvas a um estado anterior","roommanager.privilege.seehigherips":"Ver IP de usuários de rank superior","roommanager.privilege.seelowerips":"Ver IP de usuários de rank inferior","roommanager.privilege.seesameips":"Ver IP de usuários do mesmo rank","roommanager.privilege.bypasspwd":"Acesso à sala sem necessidade da senha","roommanager.privilege.bypassfull":"Acesso à sala quando ela está cheia","roommanager.privilege.manageframes":"Limpar e clonar frames no modo de animação","roommanager.tools.lblTools":"Ferramentas","roommanager.tools.btnApplyChanges":"Salvar mudanças","roommanager.tools.btnLoadDefaults":"Restaurar padrões","roommanager.tools.rowTool":"Ferramenta","roommanager.bans.lblBans":"Bans","roommanager.bans.btnAddBan":"Adicionar ban","roommanager.bans.btnEditBan":"Editar ban","roommanager.bans.btnRemoveBan":"Eliminar ban","roommanager.bans.rowIP":"IP","roommanager.bans.rowBannedBy":"Banido por","roommanager.bans.rowLength":"Duracão","roommanager.bans.lblAddBan":"Adicionar ban","roommanager.bans.lblEditBan":"Editar ban","roommanager.bans.lblIPAddress":"Endereço de IP:","roommanager.bans.lblUsername":"Nome do usuário:","roommanager.bans.lblLength":"Duração:","roommanager.bans.btnOkay":"Aceitar","roommanager.bans.btnAdd":"Adicionar","roommanager.bans.btnCancel":"Cancelar","global.lengths.lblPermanent":"Permanente","global.lengths.lblSecond":"$1 {{PLURAL:$1|segundo|segundos}}","global.lengths.lblMinute":"$1 {{PLURAL:$1|minuto|minutos}}","global.lengths.lblHour":"$1 {{PLURAL:$1|hora|horas}}","global.lengths.lblDay":"$1 {{PLURAL:$1|dia|dias}}","global.lengths.lblWeek":"$1 {{PLURAL:$1|semana|semanas}}","global.lengths.lblMonth":"$1 {{PLURAL:$1|mês|meses}}","global.lengths.lblYear":"$1 {{PLURAL:$1|ano|anos}}","color.title":"Seletor de cor","color.lblHoldTap":"Segure para salvar. Aperte para usar","color.lblSavedColors":"Cores guardadas","color.lblPreview":"Previsualização:","color.lblHexadecimal":"Hexadecimal:","color.lblRed":"Roxo:","color.lblGreen":"Verde:","color.lblBlue":"Azul:","color.lblHue":"Matiz:","color.lblSaturation":"Saturacão:","color.lblValue":"Valor:","color.btnOkay":"Aceitar","color.lblR":"R:","color.lblG":"G:","color.lblB":"B:","color.lblH":"H:","color.lblS":"S:","color.lblV":"V:","undo.title":"Desfazer","undo.mnuPreview":"Desfazer","undo.mnuSettings":"Config.","undo.preview.lblUndo":"Desfazer","undo.preview.lblOldest":"Mais velho","undo.preview.lblNewest":"Mais novo","undo.settings.lblSettings":"Configuração","undo.preview.lblPartialSelection":"Seleção parcial:","undo.preview.lblLayers":"Camadas","undo.preview.btnUndoNow":"Reverter agora","undo.settings.lblSaveBoardInterval":"Salvar o canvas a cada:","undo.settings.lblSaveBoardLimit":"Com um limite de:","undo.settings.lblSeconds":"segundos","undo.settings.lblSavedBoards":"canvas guardados","undo.preview.lblLayer":"Camada $1","undo.settings.btnApplyChanges":"Salvar mudanças","undo.settings.btnLoadDefaults":"Restaurar padrões","profile.mnuProfile":"Perfil","profile.mnuYourRooms":"Suas salas","profile.mnuYourRanks":"Seus ranks","profile.title":"Perfil","profile.info.lblProfile":"Perfil","profile.info.lblUsername":"Nome de usuário:","profile.info.lblStatus":"Status:","profile.info.btnChange":"Trocar","profile.info.btnClear":"Limpar","profile.info.btnApplyChanges":"Salvar mudanças","profile.info.btnOkay":"Aceitar","profile.info.btnCancel":"Cancelar","profile.info.lblChangeUsername":"Trocar nome de usuário","profile.info.lblNewUsername":"Novo nome de usuário:","profile.info.lblOptionalPassword":"Senha (opcional):","profile.rooms.lblOwnedRooms":"Suas salas","profile.ranks.lblRanks":"Seus ranks","profile.rooms.rowRoom":"Sala","profile.ranks.rowRoom":"Sala","profile.ranks.rowRank":"Rank","system.lblCaptcha":"Captcha","system.lblTypeText":"Escreva o texto:","system.btnConfirm":"Confirmar","system.btnCancel":"Cancelar","save.title":"Salvar","save.lblBackground":"Fundo:","save.lblPartialSelection":"Seleção parcial:","save.btnSaveGallery":"Salvar à galeria","save.btnSaveHardDisk":"Salvar no seu computador","upload.title":"Upload","upload.lblDragAndDrop":"ARRASTE E SOLTE UM ARQUIVO AQUI","upload.btnUploadFile":"Ou escolha um de seus arquivos","feedback.title":"Feedback","feedback.lblGiveFeedback":"Dê sua opinião","feedback.lblLikeNewFlockMod":"Você gosta do novo Flockmod?","feedback.lblComments":"Comentários (ideias, sugestões, reportar problemas...):","feedback.btnSendComments":"Enviar comentários","feedback.lblThankYou":"Obrigado pelo feedback!","messenger.title":"Messenger","messenger.lblYou":"VOCÊ","messenger.btnNewConversation":"Nova","messenger.lblNewConversation":"Nova conversa","messenger.lblUsername":"Nome de usuário:","messenger.lblFMMessenger":"Flockmod Messenger","messenger.lblNoMessages":"Selecione qualquer usuário na barra lateral para continuar uma conversa ou pressione \"Nova\" para conversar com outra pessoa.","messenger.lblDeleteConversation":"Tem certeza de que deseja deletar essa conversa? O recepiente ainda será capaz de vê-la.","messenger.lblDeleteMessage":"Tem certeza de que deseja deletar esta mensagem? O recepiente ainda será capaz de vê-la.","messenger.btnOkay":"Aceitar","messenger.btnCancel":"Cancelar","galleryimage.title":"Imagem da galeria","galleryimage.lblDeleteComment":"Tem certeza de que deseja deletar este comentário?","galleryimage.lblOwner":"Imagem upada por $1","usergallery.title":"Galeria","usergallery.lblGalleryTitle":"Galeria de $1","debug.title":"Depuracão","debug.rowParameter":"Parâmetro","debug.rowValue":"Valor","chat.title":"Chat","chat.room.public":"público","chat.room.staff":"staff","chat.btnNewPM":"Msg. privada","chat.lblSelectUser":"Selecione um usuário","chat.lblUsername":"Nome de usuário:","chat.btnOkay":"Aceitar","chat.btnCancel":"Cancelar","messages.btnYes":"sim","messages.btnNo":"Não","messages.lblUnregisterRoom":"Tem certeza que deseja desregistrar esta sala?","messages.lblLeaveRoom":"Tem certeza que deseja sair da sala?","events.txtLayer":"A camada $1 foi limpa por $2.","events.txtFlipH":"A camada $1 foi invertida horizontalmente por $2.","events.txtFlipV":"A camada $1 foi invertida verticalmente por $2.","events.txtLock":"A camada $1 foi bloqueada por $2.","events.txtUnlock":"A camada $1 foi desbloqueada por $2.","events.txtMerge":"As camadas $1 y $2 foram fundidas por $3.","events.txtKick":"$1 foi kickado por $2.","events.txtBan":"$1 foi banido por $2.","events.txtMute":"$1 foi impedido de desenhar por $2.","events.txtMute2":"$1 foi impedido de desenhar.","events.txtUnmute":"$2 permitiu que $1 desenhe.","events.txtUnmute2":"$1 pode desenhar agora.","events.txtSilence":"$2 impediu que $1 use o chat.","events.txtUnsilence":"$2 permitiu que $1 use o chat.","events.txtRankUpdate":"O rank de $1 foi atualizado por $2.","events.txtUndo":"O canvas foi revertido a um estado anterior por $1.","events.txtPartialUndo":"O canvas foi parcialmente revertido a um estado anterior por $1.","events.txtSync":"Canvas sincronizado com $1.","events.txtLoad":"Imagem upada por $1.","events.txtAnimationFrameClear":"O frame $2 foi limpado por $3.","events.txtAnimationFrameClone":"O frame $2 foi clonado on frame $3 por $4.","events.txtProxy":"Proxy","events.txtUserInRoom":"$1 $2 $3 está na sala.","events.txtUserEnters":"$1 $2 $3 entrou na sala.","events.txtUserLeaves":"$1 $2 $3 saiu da sala. $4","events.txtNowKnown":"$1 $2 é agora conhecido como $3 $4.","events.txtYouNowKnown":"Agora é conhecido como $1 $2.","events.txtIgnore":"Está ignorando a $1.","events.txtUnignore":"Deixou de ignorar a $1.","events.txtAutoIgnore":"SPAM DETECTADO: $1 foi ignorado automaticamente.","events.txtUnreadMessenger":"Você tem $1 {{PLURAL:$1|mensagem|mensagens}} não lidas no Messenger.","brushgallery.title":"Galeria de pincéis","brushgallery.lblGallery":"Galeria","brushgallery.btnCancel":"Cancelar","brushgallery.btnSelect":"Selecionar","brushgallery.lblBy":"Por $1","brushdesigner.title":"Designer de pincel","brushdesigner.btnClear":"Limpar","brushdesigner.btnLoad":"Carregar","brushdesigner.btnSave":"Salvar","brushdesigner.btnOkay":"Aceitar","brushdesigner.btnCancel":"Cancelar","brushdesigner.lblSize":"Tamanho:","brushdesigner.lblAlpha":"Opacidade:","brushdesigner.lblColor":"Cor:","brushdesigner.toolDrag":"Mover","brushdesigner.toolPen":"Pincel","brushdesigner.toolEraser":"Borracha","brushdesigner.toolPicker":"Seletor de cor","brushdesigner.lblZoomIn":"Aumentar zoom","brushdesigner.lblZoomOut":"Diminuir zoom","brushdesigner.lblCenter":"Centralizar","help.title":"Ajuda","alerts.txtFileTypeNotSupported":"Tipo de arquivo não suportado.","alerts.txtUploadNotAllowed":"Você não tem a permissão de upar imagens.","alerts.txtLayerIsLocked":"A camada está bloqueada.","alerts.txtInvalidIP":"Endereço de IP inválido.","alerts.txtNoMoreUsers":"Não existem mais usuários disponíveis.","alerts.txtReservedHotkey":"ERROR: Este atalho está reservado.","alerts.txtHotkeyInUse":"ERROR: Este atalho está em uso.","alerts.txtIncorrectFileType":"ERROR: Tipo de arquivo inválido.","alerts.txtSaved":"Salvo!","alerts.txtSent":"Enviado!","alerts.txtSuccess":"Sucesso!","alerts.txtCaptchaFailed":"ERRO: O captcha não está correto.","alerts.txtGallerySaveFailed":"Erro ao upar imagem à galeria.","alerts.txtSelectOneLayer":"Selecione pelo menos uma camada.","alerts.txtTooManyConnections":"Muitas conexões.","alerts.txtNegotiationFailed":"A negociação falhou. Não se pode estabelecer uma conexão.","alerts.txtOutdatedApp":"Sua aplicação está obsoleta. <br />Pressiona <kbd>CTRL</kbd> + <kbd>F5</kbd> para atualizar.","alerts.txtServerDown":"O servidor está offline.<br />Por favor tente mais tarde.<br /><a href=\"#\" class=\"btn btn-xs btn-primary mt-2\" name=\"socketReconnect\">Tentar novamente</a>","alerts.txtRoomRegistered":"A sala foi registrada com sucesso.","alerts.txtConnectionLost":"Conexão perdida.","alerts.btnReconnect":"Reconectar","alerts.txtYouHaveBeenBanned":"Você foi banido","alerts.txtYouHaveBeenKicked":"Você foi kickado","alerts.txtGIFfailed":"A criação do arquivo GIF falhou","alerts.txtAreaTooBig":"A área é grande demais","alerts.txtYouAreMuted":"Você foi impedido de desenhar","alerts.txtYouWillBeUnmuted":"Você será permitido de desenhar logo","alerts.txtYouWillBeUnmutedIn":"Você será permitido de desenhar em $1","alerts.roomEnter.txtAccountRestricted":"O login falhou. Não pode usar esta conta a menos que introduza as credenciais corretas.","alerts.roomEnter.txtWrongPassword":"Senha incorreta.","alerts.roomEnter.txtYouAreBanned":"Não pode entrar nesta sala. Está banido.","alerts.roomEnter.txtRoomIsFull":"Não pode entrar nesta sala. Está cheia.","alerts.roomEnter.txtTooManyConnections":"Não pode entrar nesta sala. Muitas conexões.","alerts.roomEnter.txtUsernameNotValid":"Não pode entrar nesta sala. Nome de usuário inválido.","alerts.roomEnter.txtProxyNotAllowed":"Parece que você está usando um VPN. Não são permitidos nesta sala.","alerts.txtUsernameContainsEmojis":"ERRO: O nome de usuário não pode conter emoticons.","alerts.txtPasswordDontMatch":"ERRO: as senhas não iguais.","alerts.txtSecretsMatch":"ERRO: Sua pergunta secreta não pode ser a mesma que a resposta secreta.","alerts.txtFillSecrets":"ERRO: Por favor, preencha a pergunta e resposta secreta.","alerts.txtPasswordTooShort":"ERRO: Sua senha é muito curta","alerts.txtUsernameTooShort":"ERRO: Seu nome de usuário é muito curto.","alerts.txtNotAvailableYet":"Esta função ainda não está disponível.","alerts.txtSetCustomBrush":"Clique em 'Galeria' ou 'Customizar' nas opções de ferramenta para começar a usar este pincel.","notifications.categories.GM":"Mensagem global","notifications.categories.EVENT":"Evento","notifications.categories.PUBLICROOM":"#público","notifications.categories.STAFFROOM":"#staff","notifications.categories.PM":"Privado","notifications.categories.MOTD":"Sala","cursor.txtNotConnected":"Não conectado","cursor.txtLoading":"Loading...","cursor.txtYouAreMuted":"Você não está permitido a desenhar","cursor.txtLayerIsLocked":"A camada está bloqueada","cursor.txtLayerIsInvisible":"A camada está invisível","client.codes.usernotfound":"Usuário não encontrado","global.EOF":""},
    ru: {"@metadata":{"authors":["cntrct","sphoon"],"last-updated":"2023-12-30","locale":"ru"},"global.phFilter":"Фильтр","global.lblYou":"ВЫ","global.lblLasso":"лассо","global.lblRectangle":"прямоугольник","global.lblYes":"да","global.lblNo":"нет","global.lblTool":"Инструмент","global.lblColor":"Цвет","global.lblHoldTap":"Удерживайте для установки. Нажмите, чтобы загрузить.","global.enabled":"включено","global.disabled":"выключено","global.opaque":"непрозрачный","global.transparent":"прозрачный","global.days.today":"Сегодня","global.days.yesterday":"Вчера","global.months.1":"Янв","global.months.2":"Фев","global.months.3":"Мар","global.months.4":"Апр","global.months.5":"Май","global.months.6":"Июн","global.months.7":"Июл","global.months.8":"Авг","global.months.9":"Сен","global.months.10":"Окт","global.months.11":"Ноя","global.months.12":"Дек","global.lblUnknown":"Неизвестно","global.lblNoResults":"Результатов не найдено","global.shortcut.lblOr":"$1 или $2","global.rank.UU":"Незарегистрированный пользователь","global.rank.RU":"Зарегистрированный пользователь","global.rank.TU":"Доверенный пользователь","global.rank.RM":"Модератор","global.rank.FM":"Полный модератор","global.rank.LM":"Ведущий модератор","global.rank.CO":"Владелец комнаты","global.rank.RO":"Владелец комнаты","global.rank.GM":"Глобальный модератор","global.shortRank.UU":"НП","global.shortRank.RU":"ЗП","global.shortRank.TU":"ДП","global.shortRank.RM":"M","global.shortRank.FM":"ПМ","global.shortRank.LM":"ВМ","global.shortRank.CO":"ВК","global.shortRank.RO":"ВК","global.shortRank.GM":"ГМ","global.lblClickOrEnterToChat":"<strong>КЛИКНИТЕ</strong> или нажмите <strong>ВВОД</strong>, чтобы переписываться","global.lblRequestingBoard":"Запрос доски к $1","global.lblSyncingWith":"Синхронизация с $1","global.lblSkipUserSync":"Слишком медленно? Пропустите этого пользователя","global.lblCancelAndLeave":"Отменить и покинуть комнату","radialMenu.lblSize":"Размер","radialMenu.lblNextTool":"Следующий<br />Инструмент","radialMenu.lblSwapColors":"Поменять<br />Цвета","radialMenu.lblPan":"Рука","radialMenu.lblSwapEraser":"Поменять<br />Ластик","radialMenu.lblPreviousTool":"Предыдущий<br />Инструмент","layerPreview.btnClear":"Очистить слой","layerPreview.btnFlipHorizontally":"Отразить по горизонтали","layerPreview.btnFlipVertically":"Отразить по вертикали","layerPreview.btnSave":"Сохранить слой","layerPreview.btnHide":"Показать / Скрыть слой","layerPreview.btnLock":"Заблокировать / Разблокировать слой","menu.layers.MergeWithLayer":"Объединить с слоем $1","menu.undoPreview.save":"Сохранить выбранные слои","menu.layerPreview.clear":"Очистить слой","menu.boardMenu.resetzoom":"Сбросить масштаб","menu.boardMenu.zoomin":"Увеличить","menu.boardMenu.zoomout":"Уменьшить","menu.boardMenu.rotatereset":"Сбросить поворот","menu.boardMenu.rotate45left":"Повернуть влево на 45 градусов","menu.boardMenu.rotate45right":"Повернуть вправо на 45 градусов","menu.boardMenu.fliphorizontally":"Отразить по горизонтали","menu.boardMenu.fittoscreen":"Подогнать под экран","menu.boardMenu.centerboard":"Центрировать доску","menu.userList.Snc":"Синхронизировать доску","menu.userList.Dbg":"Дебаг","menu.userList.Ugd":"Галерея","menu.userList.Ccb":"Копировать пользовательскую кисть","menu.userList.Pm":"Личное сообщение","menu.userList.IgnToggle":"Игнорировать / Отменить игнор","menu.userList.Kck":"Выгнать","menu.userList.Bn":"Забанить","menu.userList.Muu":"Запретить рисовать","menu.userList.Umu":"Разрешить рисовать","menu.userList.Siu":"Запретить говорить","menu.userList.Usi":"Разрешить говорить","menu.userList.Pru":"Повысить","menu.userList.Deu":"Понизить","menu.userList.Pfl":"Профиль","menu.userList.Reg":"Зарегистрировать комнату","menu.textbox.copy":"Копировать","menu.textbox.select":"Выбрать все","menu.textbox.clear":"Очистить текст","menu.textbox.copylink":"Копировать ссылку","menu.textbox.openlink":"Открыть ссылку","menu.messenger.remove":"Удалить беседу","animation.title":"Анимация","animation.mnuPlay":"Воспроизвести","animation.mnuFrames":"Кадры","animation.play.lblSpeed":"Скорость:","animation.play.btnSave":"Сохранить","animation.frames.lblCloning":"Клонирование","animation.frames.lblLayers":"Слои","animation.frames.lblLayer":"Слой $1","animation.frames.lblFrames":"Кадры","animation.frames.lblFrame":"Кадр:","animation.frames.lblAction":"Действие:","animation.frames.optClear":"Очистить","animation.frames.optClone":"Клонировать","animation.frames.lblFrameTarget":"Цель:","animation.frames.lblOpacity":"Непрозрачность:","animation.frames.btnApplyChanges":"Применить","animation.sidebar.btnPlay":"Воспроизвести","animation.sidebar.btnViewAll":"Просмотреть все","animation.sidebar.lblFrames":"Кадры:","login.title":"Добро пожаловать","login.lblJoinRoom":"Присоединиться к комнате","login.lblTypeRoomName":"Введите имя комнаты:","login.lblPickRoom":"Или выберите из списка общедоступных комнат:","login.btnRefreshRoomList":"Обновить список комнат","login.btnJoinRoom":"Присоединиться к комнате","login.lblAccountInfo":"Для использования <strong>FlockMod</strong> вам не нужен аккаунт, просто введите любое имя пользователя и оставьте поле пароля пустым. Хотя, если вы хотите получить дополнительные функции, рассмотрите возможность <a name=\"accountRegister\" href=\"#\" class=\"inlineLink\">регистрации аккаунта</a> бесплатно.","login.lblPickUsername":"Выберите имя пользователя","login.lblTypeUsername":"Введите ваше имя пользователя:","login.lblTypePassword":"Пароль (необязательно):","login.lblForgotPassword":"Забыли пароль?","login.btnSignUp":"Зарегистрироваться","login.btnOkay":"OK","login.btnCancel":"Отмена","login.btnCreate":"Создать","login.lblPasswordProtectedRoom":"Комната с паролем","login.lblPassword":"Пароль","login.lblRegisterAccount":"Зарегистрировать аккаунт","login.lblUsername":"Имя пользователя:","login.lblPassword1":"Пароль:","login.lblConfirmPassword":"Подтвердите пароль:","login.lblEmailAddress":"E-Mail адрес:","login.lblSecretQuestion":"Секретный вопрос:","login.lblSecretAnswer":"Секретный ответ:","login.phRoomName":"Имя комнаты","login.rowRoomName":"Имя комнаты","config.title":"Настройки","config.mnuSettings":"Настройки","config.mnuHotkeys":"Горячие клавиши","config.mnuAboutUs":"О нас","config.lblSettings":"Настройки","config.lblHotkeys":"Горячие клавиши","config.lblAboutUs":"О нас","config.lblLanguage":"Язык:","config.lblTheme":"Тема:","config.optThemeDark":"Темная","config.optThemeLight":"Светлая","config.optThemeClassic":"Классическая","config.lblVolume":"Громкость:","config.lblSidebar":"Боковая панель:","config.lblStrokePreviewQuality":"Качество предпросмотра штриха:","config.optQualityHigh":"Высокое","config.optQualityNormal":"Нормальное","config.lblLoadingPresetWillChange":"Загрузка предустановки изменит:","config.lblGraphics":"Графика:","config.lblSounds":"Звуки:","config.lblTools":"Инструменты:","config.lblSyncOptions":"Синхронизировать эти параметры между инструментами:","config.btnExport":"Экспорт","config.btnImport":"Импорт","config.btnApplyChanges":"Применить изменения","config.optBrush":"Инструмент","config.optColor":"Цвет","config.optSize":"Размер","config.optAlpha":"Непрозрачность","config.optBlur":"Размытие","config.optSmooth":"Сглаживание","config.optSpacing":"Промежуток","config.optMode":"Режим","config.optRightClick":"Правый клик","config.optCursor":"Курсор","config.optAutoSwitch":"Авто-переключение выбора цвета","config.sync.optSize":"Размер","config.sync.optAlpha":"Непрозрачность","config.sync.optBlur":"Размытие","config.sync.optMode":"Режим","config.optLeft":"Слева","config.optRight":"Справа","config.optChatTone":"Звук общедоступного чата","config.optStaffChatTone":"Звук чата персонала","config.optPrivateTone":"Звук личного сообщения","config.optInboxTone":"Звук сообщения в мессенджере","config.optShowUsername":"Показывать собственное имя рядом с курсором","config.optShowMouse":"Показывать курсор мыши на холсте","config.optDisableTooltips":"Отключить подсказки","config.optChatPreviews":"Показывать предварительные просмотры изображений в чате","config.btnChangeHotkey":"Изменить горячую клавишу","config.btnLoadDefaults":"По умолчанию","config.btnApply":"Применить","config.btnCancel":"Отмена","config.lblEditHotkey":"Редактировать горячую клавишу","config.lblDescription":"Описание:","config.lblPrimaryHotkey":"Основная горячая клавиша:","config.lblSecondaryHotkey":"Дополнительная горячая клавиша:","config.btnChange":"Изменить","config.btnClear":"Очистить","config.rowDescription":"Описание","config.rowHotkey":"Горячая клавиша","config.rowHotkey2":"Горячая клавиша 2","config.sc.drag.tool":"Выбрать инструмент 'Рука'","config.sc.rotate.tool":"Выбрать инструмент 'Поворот'","config.sc.picker.tool":"Выбрать инструмент 'Пипетка'","config.sc.selection.tool":"Выбрать инструмент 'Выделение'","config.sc.pen.tool":"Выбрать инструмент 'Кисть'","config.sc.eraser.tool":"Выбрать инструмент 'Ластик'","config.sc.text.tool":"Выбрать инструмент 'Текст'","config.sc.line.tool":"Выбрать инструмент 'Линия'","config.sc.rect.tool":"Выбрать инструмент 'Прямоугольник'","config.sc.ellipse.tool":"Выбрать инструмент 'Эллипс'","config.sc.blend.tool":"Выбрать инструмент 'Смешивание'","config.sc.fill.tool":"Выбрать инструмент 'Заливка'","config.sc.pixel.tool":"Выбрать инструмент 'Пиксель'","config.sc.custom.tool":"Выбрать инструмент 'Пользовательский'","config.sc.rightclick.custom":"Вызвать действие правого клика","config.sc.cancelstroke.custom":"Отменить текущий штрих","config.sc.previoustool.custom":"Предыдущий инструмент","config.sc.nexttool.custom":"Следующий инструмент","config.sc.switchprev.custom":"Переключиться на предыдущий инструмент","config.sc.+size.slideroption":"Увеличить размер кисти","config.sc.-size.slideroption":"Уменьшить размер кисти","config.sc.+alpha.slideroption":"Увеличить непрозрачность кисти","config.sc.-alpha.slideroption":"Уменьшить непрозрачность кисти","config.sc.+blur.slideroption":"Увеличить размытие кисти","config.sc.-blur.slideroption":"Уменьшить размытие кисти","config.sc.+smooth.slideroption":"Увеличить сглаживание кисти","config.sc.-smooth.slideroption":"Уменьшить сглаживание кисти","config.sc.+spacing.slideroption":"Увеличить промежуток кисти","config.sc.-spacing.slideroption":"Уменьшить промежуток кисти","config.sc.+multilayer.checkboxoption":"Включить \"Все слои\"","config.sc.-multilayer.checkboxoption":"Выключить \"Все слои\"","config.sc.!multilayer.checkboxoption":"Переключить \"Все слои\"","config.sc.+areaaverage.checkboxoption":"Включить \"Среднее значение области\"","config.sc.-areaaverage.checkboxoption":"Выключить \"Среднее значение области\"","config.sc.!areaaverage.checkboxoption":"Переключить \"Среднее значение области\"","config.sc.+tint.checkboxoption":"Включить \"Оттенок\"","config.sc.-tint.checkboxoption":"Выключить \"Оттенок\"","config.sc.!tint.checkboxoption":"Переключить \"Оттенок\"","config.sc.+randomrotation.checkboxoption":"Включить \"Случайный поворот\"","config.sc.-randomrotation.checkboxoption":"Выключить \"Случайный поворот\"","config.sc.!randomrotation.checkboxoption":"Переключить \"Случайный поворот\"","config.sc.+selectiontype.checkboxoption":"Переключить тип выделения на \"Лассо\"","config.sc.-selectiontype.checkboxoption":"Переключить тип выделения на \"Прямоугольник\"","config.sc.!selectiontype.checkboxoption":"Переключить тип выделения","config.sc.+pressure.slidercheckoption":"Включить \"Давление\"","config.sc.-pressure.slidercheckoption":"Выключить \"Давление\"","config.sc.!pressure.slidercheckoption":"Переключить \"Давление\"","config.sc.+blendmode.listoption":"Следующий режим","config.sc.-blendmode.listoption":"Предыдущий режим","config.sc.normal.blendmode":"Выбрать режим наложения: Обычный","config.sc.darken.blendmode":"Выбрать режим наложения: Затемнение","config.sc.lighten.blendmode":"Выбрать режим наложения: Просветление","config.sc.difference.blendmode":"Выбрать режим наложения: Разница","config.sc.exclusion.blendmode":"Выбрать режим наложения: Исключение","config.sc.hard-light.blendmode":"Выбрать режим смешивания: Жесткий свет","config.sc.soft-light.blendmode":"Выбрать режим смешивания: Мягкий свет","config.sc.multiply.blendmode":"Выбрать режим смешивания: Умножение","config.sc.overlay.blendmode":"Выбрать режим смешивания: Наложение","config.sc.screen.blendmode":"Выбрать режим смешивания: Экран","config.sc.saturation.blendmode":"Выбрать режим смешивания: Насыщение","config.sc.luminosity.blendmode":"Выбрать режим смешивания: Светимость","config.sc.hue.blendmode":"Выбрать режим смешивания: Тон","config.sc.color.blendmode":"Выбрать режим смешивания: Цвет","config.sc.color-dodge.blendmode":"Выбрать режим смешивания: Отбеливание цвета","config.sc.color-burn.blendmode":"Выбрать режим смешивания: Затемнение цвета","config.sc.kickuser.userlist":"Исключить выбранного пользователя","config.sc.banuser.userlist":"Забанить выбранного пользователя","config.sc.muteuser.userlist":"Запретить рисовать выбранному пользователю","config.sc.unmuteuser.userlist":"Разрешить рисовать выбранному пользователю","config.sc.silenceuser.userlist":"Запретить говорить выбранному пользователю","config.sc.unsilenceuser.userlist":"Разрешить говорить выбранному пользователю","config.sc.toggleignoreuser.userlist":"Игнорировать / Прекратить игнорирование выбранного пользователя","config.sc.config.dialog":"Открыть / Закрыть конфигурацию","config.sc.roommanager.dialog":"Открыть / Закрыть Менеджер комнаты","config.sc.messenger.dialog":"Открыть / Закрыть Мессенджер","config.sc.profile.dialog":"Открыть / Закрыть Профиль","config.sc.chat.dialog":"Открыть / Закрыть Чат","config.sc.undo.dialog":"Открыть / Закрыть Отмену","config.sc.upload.dialog":"Открыть / Закрыть Загрузку","config.sc.save.dialog":"Открыть / Закрыть Сохранение","config.sc.color.dialog":"Открыть / Закрыть Цвет","config.sc.radialmenu.custom":"Открыть радиальное меню","config.sc.maximizedialog.custom":"Переключить на полноэкранный режим текущего диалога","config.sc.closedialog.custom":"Закрыть текущий диалог","config.sc.leaveroom.custom":"Покинуть комнату","config.sc.fullscreen.custom":"Переключить полноэкранный режим","config.sc.zoomin.custom":"Увеличить","config.sc.zoomout.custom":"Уменьшить","config.sc.resetzoom.custom":"Сбросить масштаб","config.sc.nextlayerup.custom":"Следующий слой вверх","config.sc.nextlayerdown.custom":"Следующий слой вниз","config.sc.swapcolors.custom":"Поменять цвета","config.sc.changeprimarycolor.custom":"Изменить основной цвет","config.sc.changesecondarycolor.custom":"Изменить вторичный цвет","config.sc.+r.coloroption":"Увеличить значение цвета: Красный","config.sc.-r.coloroption":"Уменьшить значение цвета: Красный","config.sc.+g.coloroption":"Увеличить значение цвета: Зеленый","config.sc.-g.coloroption":"Уменьшить значение цвета: Зеленый","config.sc.+b.coloroption":"Увеличить значение цвета: Синий","config.sc.-b.coloroption":"Уменьшить значение цвета: Синий","config.sc.+h.coloroption":"Увеличить значение цвета: Оттенок","config.sc.-h.coloroption":"Уменьшить значение цвета: Оттенок","config.sc.+s.coloroption":"Увеличить значение цвета: Насыщенность","config.sc.-s.coloroption":"Уменьшить значение цвета: Насыщенность","config.sc.+v.coloroption":"Увеличить значение цвета: Значение","config.sc.-v.coloroption":"Уменьшить значение цвета: Значение","config.sc.rotatereset.custom":"Сбросить вращение","config.sc.rotate45left.custom":"Повернуть на 45 градусов влево","config.sc.rotate45right.custom":"Повернуть на 45 градусов вправо","config.sc.moveboard.custom":"Переместить доску","config.sc.fittoscreen.custom":"Подогнать под экран","config.sc.centerboard.custom":"Центрировать доску","config.sc.viewflip.custom":"Отразить вид горизонтально","config.sc.pixelsmoothing.custom":"Переключить \"Резкие пиксели\"","config.sc.pickcolor1.color":"Выбрать сохраненный цвет 1","config.sc.pickcolor2.color":"Выбрать сохраненный цвет 2","config.sc.pickcolor3.color":"Выбрать сохраненный цвет 3","config.sc.pickcolor4.color":"Выбрать сохраненный цвет 4","config.sc.pickcolor5.color":"Выбрать сохраненный цвет 5","config.sc.pickcolor6.color":"Выбрать сохраненный цвет 6","config.sc.pickcolor7.color":"Выбрать сохраненный цвет 7","config.sc.pickcolor8.color":"Выбрать сохраненный цвет 8","config.sc.pickcolor9.color":"Выбрать сохраненный цвет 9","config.sc.pickcolor10.color":"Выбрать сохраненный цвет 10","config.sc.loadpreset1.preset":"Загрузить предустановку 1","config.sc.loadpreset2.preset":"Загрузить предустановку 2","config.sc.loadpreset3.preset":"Загрузить предустановку 3","config.sc.loadpreset4.preset":"Загрузить предустановку 4","config.sc.loadpreset5.preset":"Загрузить предустановку 5","config.sc.loadpreset6.preset":"Загрузить предустановку 6","config.sc.loadpreset7.preset":"Загрузить предустановку 7","config.sc.loadpreset8.preset":"Загрузить предустановку 8","config.sc.loadpreset9.preset":"Загрузить предустановку 9","config.sc.loadpreset10.preset":"Загрузить предустановку 10","config.sc.loadpreset11.preset":"Загрузить предустановку 11","config.sc.loadpreset12.preset":"Загрузить предустановку 12","config.sc.loadpreset13.preset":"Загрузить предустановку 13","config.sc.loadpreset14.preset":"Загрузить предустановку 14","config.sc.loadpreset15.preset":"Загрузить предустановку 15","config.sc.loadpreset16.preset":"Загрузить предустановку 16","config.sc.loadpreset17.preset":"Загрузить предустановку 17","config.sc.loadpreset18.preset":"Загрузить предустановку 18","config.lblListening":"Ввод...","config.lblAbout":"<strong>FlockMod</strong> - это совместная платформа для рисования, созданная с учетом потребностей художников и коммуникации. FlockMod основан и обслуживается <strong class=\"rankGM\">FDT</strong> и активно разрабатывается и поддерживается <strong class=\"rankGM\">auto</strong>.</p>","config.lblUsefulLinks":"Полезные ссылки","config.btnGallery":"Галерея","config.btnNewsUpdates":"Новости и обновления","config.btnFeedback":"Дайте нам свой отзыв","config.btnIdeasPage":"Идеи и предложения","config.btnHelp":"Помощь","config.lblSpecialThanks":"Особая благодарность","config.rowThanksName":"Имя (в алфавитном порядке)","tooloption.size":"Размер","tooloption.alpha":"Непрозрачность","tooloption.blur":"Размытие","tooloption.smooth":"Сглаживание","tooloption.blendmode":"Режим","tooloption.pressure":"Давление","tooloption.spacing":"Промежуток","tooloption.customize":"Настроить","tooloption.gallery":"Галерея","tooloption.multilayer":"Все слои","tooloption.selectiontype":"Тип","tooloption.areaaverage":"Среднее по области","tooloption.tint":"Оттенок","tooloption.randomrotation":"Случ. вращение","tooloption.rightclick":"Правый клик","tooloption.cursor":"Курсор","tooloption.erasermode":"Режим ластика","tooloption.aspectratio":"Соотношение сторон","tooloption.snap":"Привязка к углу","tooloption.drawgrid":"Показать сетку","tooloption.font":"Шрифт","tooloption.fill":"Заполнение","tooloption.image":"Изображение","tooloption.rightClickList.donothing":"Ничего не делать","tooloption.rightClickList.cancelstroke":"Отменить штрих","tooloption.rightClickList.toggleselectiontype":"Переключить тип","tooloption.rightClickList.togglemultilayer":"Переключить все слои","tooloption.rightClickList.swapcolors":"Поменять цвета","tooloption.rightClickList.toggleareaaverage":"Переключить среднее по области","tooloption.rightClickList.rotatereset":"Сбросить вращение","tooloption.rightClickList.rotate45right":"Повернуть на 45 градусов вправо","tooloption.rightClickList.centerboard":"Центрировать доску","tooloption.rightClickList.fittoscreen":"Подогнать под экран","tooloption.rightClickList.resetzoom":"Сбросить масштаб","tooloption.rightClickList.togglesnap":"Переключить привязку угла","tooloption.rightClickList.toggleaspectratio":"Переключить соотношение сторон","tooloption.rightClickList.toggleerasermode":"Переключить режим ластика","tooloption.rightClickList.toggledrawgrid":"Переключить отображение сетки","tooloption.rightClickList.nextfont":"Следующий шрифт","tooloption.rightClickList.cleartext":"Очистить текст","tooloption.rightClickList.switchprevtool":"Переключить предыдущий инструмент","tooloption.rightClickList.selecteraser":"Переключиться на ластик","tooloption.rightClickList.showmenu":"Показать меню","tooloption.blendmodes.normal":"Обычный","tooloption.blendmodes.darken":"Затемнение","tooloption.blendmodes.lighten":"Осветление","tooloption.blendmodes.difference":"Разница","tooloption.blendmodes.exclusion":"Исключение","tooloption.blendmodes.hard-light":"Твердый свет","tooloption.blendmodes.soft-light":"Мягкий свет","tooloption.blendmodes.multiply":"Умножение","tooloption.blendmodes.overlay":"Наложение","tooloption.blendmodes.screen":"Экран","tooloption.blendmodes.saturation":"Насыщенность","tooloption.blendmodes.luminosity":"Светимость","tooloption.blendmodes.hue":"Оттенок","tooloption.blendmodes.color":"Цвет","tooloption.blendmodes.color-dodge":"Увеличение цвета","tooloption.blendmodes.color-burn":"Затемнение цвета","tooloption.cursorList.circle":"Круг","tooloption.cursorList.square":"Квадрат","tooloption.cursorList.crosshair":"Перекрестие","tooloption.cursorList.dot":"Точка","tooloption.cursorList.cross":"Крест","tool.drag":"Перемещение","tool.rotate":"Вращение","tool.picker":"Пипетка","tool.selection":"Выделение","tool.pen":"Кисть","tool.eraser":"Ластик","tool.text":"Текст","tool.line":"Линия","tool.rect":"Прямоугольник","tool.ellipse":"Эллипс","tool.blend":"Смешивание","tool.fill":"Заливка","tool.custom":"Настроенный","tool.blur":"Размытие","tool.pixel":"Пиксель","sidebar.lblUserList":"Список пользователей","sidebar.lblToolOptions":"Настройки инструмента","sidebar.lblPresets":"Предустановки","sidebar.lblColorWheel":"Цветовое колесо","sidebar.lblLayers":"Слои","sidebar.lblAnimation":"Анимация","sidebar.btnRearrange":"Переставить","sidebar.lblDragAndDrop":"Перетащите на нужное место.","sidebar.btnConfirm":"Подтвердить","sidebar.btnCancel":"Отмена","toolbar.btnClear":"Очистить","toolbar.btnFill":"Заливка","toolbar.btnMove":"Переместить / Изменить размер","toolbar.btnClone":"Клонировать","toolbar.btnSave":"Сохранить","toolbar.btnUndo":"Отменить","toolbar.btnCustomBrush":"Настроенная кисть","toolbar.btnFlip":"Отразить","toolbar.btnConfirm":"Подтвердить","toolbar.btnDelete":"Удалить","toolbar.btnCancel":"Отмена","tooltip.lblZoomIn":"Увеличить","tooltip.lblZoomOut":"Уменьшить","tooltip.lblCenterBoard":"Центрировать доску","tooltip.lblFitScreen":"Подогнать под экран","tooltip.lblFlipHorizontally":"Отразить по горизонтали","tooltip.lblPixelSmoothing":"Размытие пикселей","tooltip.lblFeedback":"Обратная связь","tooltip.lblAdminConsole":"Консоль администратора","tooltip.lblRoomManager":"Менеджер комнаты","tooltip.lblUndo":"Отменить","tooltip.lblMessenger":"Мессенджер","tooltip.lblUpload":"Загрузить","tooltip.lblSave":"Сохранить","tooltip.lblMaximize":"Увеличить","tooltip.lblClose":"Закрыть","tooltip.lblHelp":"Помощь","tooltip.lblConfiguration":"Настройки","tooltip.lblChat":"Чат","tooltip.lblFullScreen":"Полноэкранный режим","tooltip.lblLeaveRoom":"Покинуть комнату","tooltip.lblRegisterRoom":"Зарегистрировать комнату","tooltip.lblChangePrimaryColor":"Изменить основной цвет","tooltip.lblChangeSecondaryColor":"Изменить вторичный цвет","tooltip.lblSwapColors":"Обменять цвета","roommanager.title":"Менеджер комнаты","roommanager.mnuSettings":"Настройки","roommanager.mnuStaff":"Сотрудники","roommanager.mnuPrivileges":"Привилегии","roommanager.mnuTools":"Инструменты","roommanager.mnuBans":"Баны","roommanager.settings.lblSettings":"Настройки комнаты","roommanager.settings.lblDescription":"Описание:","roommanager.settings.lblRoomMode":"Режим:","roommanager.settings.lblLayers":"Слои: *","roommanager.settings.lblCanvasSize":"Размер холста:","roommanager.settings.lblAnimRows":"Строки (анимация):","roommanager.settings.lblAnimCols":"Столбцы (анимация):","roommanager.settings.lblRoomCapacity":"Вместимость:","roommanager.settings.lblRoomPassword":"Пароль доступа:","roommanager.settings.lblMuteLength":"Длина запрета рисования:","roommanager.settings.lblBanLength":"Стандартная длина бана:","roommanager.settings.lblBackground":"Фон:","roommanager.settings.lblBottomLayer":"Нижний слой:","roommanager.settings.lblUserJoins":"Когда пользователь присоединяется к комнате:","roommanager.settings.lblProxyJoins":"Когда известный прокси присоединяется (игнорирует персонал):","roommanager.settings.lblBlendModes":"* Режимы смешивания доступны только в комнатах с одним слоем.","roommanager.settings.btnApplyChanges":"Применить изменения","roommanager.settings.btnUnregisterRoom":"Отменить регистрацию комнаты","roommanager.settings.lblUsers":"пользователей","roommanager.settings.optRegular":"Обычный","roommanager.settings.optAnimation":"Анимация","roommanager.settings.optSmall":"Маленький","roommanager.settings.optMedium":"Средний","roommanager.settings.optLarge":"Большой","roommanager.settings.optExtraLarge":"Очень большой","roommanager.settings.optDoNothing":"Ничего не делать","roommanager.settings.optMuteNotReg":"Запретить рисовать незарегистрированным пользователям","roommanager.settings.optMuteNotStaff":"Запретить рисовать если не персонал ","roommanager.settings.optMute":"Запретить рисовать","roommanager.settings.optSilence":"Запретить говорить","roommanager.settings.optMuteSilence":"Запретить рисовать и говорить","roommanager.settings.optBlock":"Блокировать соединение","roommanager.settings.optTransparent":"Прозрачный","roommanager.settings.optOpaque":"Непрозрачный","roommanager.settings.optWhite":"Белый","roommanager.settings.optGray":"Серый","roommanager.settings.optBlack":"Черный","roommanager.settings.optPrivateRoom":"частная комната","roommanager.settings.optPublicRoom":"общественная комната","roommanager.staff.lblStaff":"Персонал","roommanager.staff.rowUsername":"Имя пользователя","roommanager.staff.rowRank":"Звание","roommanager.staff.rowPromotedBy":"Повышен членом персонала","roommanager.staff.rowDate":"Дата","roommanager.staff.btnAddUser":"Добавить пользователя","roommanager.staff.btnEditUser":"Редактировать пользователя","roommanager.staff.btnRemoveUser":"Удалить пользователя","roommanager.staff.lblEditStaffMember":"Редактировать члена персонала","roommanager.staff.lblAddStaffMember":"Добавить члена персонала","roommanager.staff.lblUsername":"Имя пользователя:","roommanager.staff.lblRank":"Звание:","roommanager.staff.btnAdd":"Добавить","roommanager.staff.btnCancel":"Отмена","roommanager.staff.btnOkay":"OK","roommanager.privileges.lblPrivileges":"Привилегии","roommanager.privileges.btnApplyChanges":"Применить изменения","roommanager.privileges.btnLoadDefaults":"Загрузить по умолчанию","roommanager.privileges.rowPrivilege":"Привилегия","roommanager.privilege.roommanager":"Редактировать управление комнатой: Настройки","roommanager.privilege.changeprivileges":"Редактировать управление комнатой: Привилегии","roommanager.privilege.roombans":"Редактировать управление комнатой: Баны","roommanager.privilege.rmstaff":"Редактировать управление комнатой: Персонал","roommanager.privilege.addmod":"Повышать или понижать уровень пользователей","roommanager.privilege.mute":"Запрешать пользователям рисовать","roommanager.privilege.kick":"Исключать пользователей","roommanager.privilege.silence":"Запрешать пользователям говорить","roommanager.privilege.ban":"Банить пользователей","roommanager.privilege.unbanothers":"Редактировать баны других членов персонала","roommanager.privilege.changetools":"Редактировать управление комнатой: Инструменты","roommanager.privilege.mergelayer":"Объединять слои","roommanager.privilege.clearlayer":"Очищать слои","roommanager.privilege.fliplayer":"Отражать слои","roommanager.privilege.locklayers":"Блокировать слои","roommanager.privilege.drawlockedlayers":"Рисовать на заблокированных слоях","roommanager.privilege.modmessageuse":"Использовать чат персонала","roommanager.privilege.pload":"Загружать изображения","roommanager.privilege.pundo":"Отменять доску","roommanager.privilege.seehigherips":"Видеть IP пользователей с более высоким уровнем","roommanager.privilege.seelowerips":"Видеть IP пользователей с более низким уровнем","roommanager.privilege.seesameips":"Видеть IP пользователей с тем же уровнем","roommanager.privilege.bypasspwd":"Обходить пароль комнаты","roommanager.privilege.bypassfull":"Входить, когда комната полная","roommanager.privilege.manageframes":"Очищать и клонировать кадры в режиме анимации","roommanager.tools.lblTools":"Инструменты","roommanager.tools.btnApplyChanges":"Применить изменения","roommanager.tools.btnLoadDefaults":"Загрузить по умолчанию","roommanager.tools.rowTool":"Инструмент","roommanager.bans.lblBans":"Баны","roommanager.bans.btnAddBan":"Добавить бан","roommanager.bans.btnEditBan":"Редактировать бан","roommanager.bans.btnRemoveBan":"Удалить бан","roommanager.bans.rowIP":"IP","roommanager.bans.rowBannedBy":"Заблокирован","roommanager.bans.rowLength":"Продолжительность","roommanager.bans.lblAddBan":"Добавить бан","roommanager.bans.lblEditBan":"Редактировать бан","roommanager.bans.lblIPAddress":"IP-адрес:","roommanager.bans.lblUsername":"Имя пользователя:","roommanager.bans.lblLength":"Продолжительность:","roommanager.bans.btnOkay":"OK","roommanager.bans.btnAdd":"Добавить","roommanager.bans.btnCancel":"Отмена","global.lengths.lblPermanent":"Постоянно","global.lengths.lblSecond":"$1 {{PLURAL:$1|секунда|секунды|секунд}}","global.lengths.lblMinute":"$1 {{PLURAL:$1|минута|минуты|минут}}","global.lengths.lblHour":"$1 {{PLURAL:$1|час|часа|часов}}","global.lengths.lblDay":"$1 {{PLURAL:$1|день|дня|дней}}","global.lengths.lblWeek":"$1 {{PLURAL:$1|неделя|недели|недель}}","global.lengths.lblMonth":"$1 {{PLURAL:$1|месяц|месяца|месяцев}}","global.lengths.lblYear":"$1 {{PLURAL:$1|год|года|лет}}","color.title":"Выбор цвета","color.lblHoldTap":"Удерживайте для установки. Нажмите, чтобы загрузить.","color.lblSavedColors":"Сохраненные цвета","color.lblPreview":"Предварительный просмотр:","color.lblHexadecimal":"Шестнадцатеричный:","color.lblRed":"Красный:","color.lblGreen":"Зеленый:","color.lblBlue":"Синий:","color.lblHue":"Оттенок:","color.lblSaturation":"Насыщенность:","color.lblValue":"Значение:","color.btnOkay":"OK","color.lblR":"R:","color.lblG":"G:","color.lblB":"B:","color.lblH":"H:","color.lblS":"S:","color.lblV":"V:","undo.title":"Отменить","undo.mnuPreview":"Предварительный просмотр","undo.mnuSettings":"Настройки","undo.preview.lblUndo":"Отменить","undo.preview.lblOldest":"Старейший","undo.preview.lblNewest":"Самый новый","undo.settings.lblSettings":"Настройки","undo.preview.lblPartialSelection":"Частичное выделение:","undo.preview.lblLayers":"Слои","undo.preview.btnUndoNow":"Отменить сейчас","undo.settings.lblSaveBoardInterval":"Сохранять доску каждые:","undo.settings.lblSaveBoardLimit":"С лимитом:","undo.settings.lblSeconds":"секунд","undo.settings.lblSavedBoards":"сохраненных досок","undo.preview.lblLayer":"Слой $1","undo.settings.btnApplyChanges":"Применить изменения","undo.settings.btnLoadDefaults":"Загрузить по умолчанию","profile.mnuProfile":"Профиль","profile.mnuYourRooms":"Ваши комнаты","profile.mnuYourRanks":"Ваши звания","profile.title":"Профиль","profile.info.lblProfile":"Профиль","profile.info.lblUsername":"Имя пользователя:","profile.info.lblStatus":"Статус:","profile.info.btnChange":"Изменить","profile.info.btnClear":"Очистить","profile.info.btnApplyChanges":"Применить изменения","profile.info.btnOkay":"OK","profile.info.btnCancel":"Отмена","profile.info.lblChangeUsername":"Изменить имя пользователя","profile.info.lblNewUsername":"Новое имя пользователя:","profile.info.lblOptionalPassword":"Пароль (необязательно):","profile.rooms.lblOwnedRooms":"Ваши комнаты","profile.ranks.lblRanks":"Ваши звания","profile.rooms.rowRoom":"Комната","profile.ranks.rowRoom":"Комната","profile.ranks.rowRank":"Звание","system.lblCaptcha":"Капча","system.lblTypeText":"Введите текст:","system.btnConfirm":"Подтвердить","system.btnCancel":"Отмена","save.title":"Сохранить","save.lblBackground":"Фон:","save.lblPartialSelection":"Частичное выделение:","save.btnSaveGallery":"Сохранить в галерее","save.btnSaveHardDisk":"Сохранить на жестком диске","upload.title":"Загрузить","upload.lblDragAndDrop":"ПЕРЕТАЩИТЕ ФАЙЛЫ СЮДА","upload.btnUploadFile":"Или выберите файлы","feedback.title":"Обратная связь","feedback.lblGiveFeedback":"Дайте нам ваш отзыв!","feedback.lblLikeNewFlockMod":"Нравится ли вам этот новый FlockMod?","feedback.lblComments":"Комментарии (идеи, предложения, сообщения об ошибках...):","feedback.btnSendComments":"Отправить комментарии","feedback.lblThankYou":"Спасибо за ваш отзыв!","messenger.title":"Мессенджер","messenger.lblYou":"ВЫ","messenger.btnNewConversation":"Новый","messenger.lblNewConversation":"Новый разговор","messenger.lblUsername":"Имя пользователя:","messenger.lblFMMessenger":"FlockMod Messenger","messenger.lblNoMessages":"Выберите любого пользователя в боковой панели, чтобы возобновить разговор, или нажмите «Новый», чтобы начать новый с кем-то другим.","messenger.lblDeleteConversation":"Вы уверены, что хотите удалить этот разговор? Он останется у собеседника.","messenger.lblDeleteMessage":"Вы уверены, что хотите удалить вашу копию этого сообщения? Оно останется у собеседника.","messenger.btnOkay":"OK","messenger.btnCancel":"Отмена","galleryimage.title":"Изображение галереи","galleryimage.lblDeleteComment":"Вы уверены, что хотите удалить этот комментарий?","galleryimage.lblOwner":"Загружено $1","usergallery.title":"Галерея","usergallery.lblGalleryTitle":"Галерея $1","debug.title":"Отладка","debug.rowParameter":"Параметр","debug.rowValue":"Значение","chat.title":"Чат","chat.room.public":"общий","chat.room.staff":"персонал","chat.btnNewPM":"Личное сообщение","chat.lblSelectUser":"Выберите пользователя","chat.lblUsername":"Имя пользователя:","chat.btnOkay":"OK","chat.btnCancel":"Отмена","messages.btnYes":"Да","messages.btnNo":"Нет","messages.lblUnregisterRoom":"Вы уверены, что хотите отменить регистрацию этой комнаты?","messages.lblLeaveRoom":"Вы уверены, что хотите выйти из комнаты?","events.txtLayer":"Слой $1 был очищен [$2].","events.txtFlipH":"Слой $1 был горизонтально отражен [$2].","events.txtFlipV":"Слой $1 был вертикально отражен [$2].","events.txtLock":"Слой $1 был заблокирован [$2].","events.txtUnlock":"Слой $1 был разблокирован [$2].","events.txtMerge":"Слои $1 и $2 были объединены [$3].","events.txtKick":"Пользователь $1 был исключен [$2].","events.txtBan":"Пользователь $1 был забанен [$2].","events.txtMute":"Пользователю $1 было запрещено рисовать [$2].","events.txtMute2":"Пользователю $1 было запрещено рисовать.","events.txtUnmute":"Пользователю $1 было разрешено рисовать [$2].","events.txtUnmute2":"Пользователю $1 было разрешено рисовать.","events.txtSilence":"Пользователю $1 было запрещено говорить [$2].","events.txtUnsilence":"Пользователю $1 было разрешено говорить[$2].","events.txtRankUpdate":"Ранг пользователя $1 был обновлен [$2].","events.txtUndo":"Доска была отменена $1.","events.txtPartialUndo":"Доска была частично отменена [$1].","events.txtSync":"Доска получена от $1.","events.txtLoad":"Изображение загружено [$1].","events.txtAnimationFrameClear":"Кадр $2 был очищен [$3].","events.txtAnimationFrameClone":"Кадр $2 был клонирован в кадре $3 [$4].","events.txtProxy":"Прокси","events.txtUserInRoom":"$1 $2 $3 в комнате.","events.txtUserEnters":"$1 $2 $3 вошел/вошла в комнату.","events.txtUserLeaves":"$1 $2 $3 покинул/покинула комнату. $4","events.txtNowKnown":"$1 $2 теперь известен/известна как $3 $4.","events.txtYouNowKnown":"Теперь вы известны как $1 $2.","events.txtIgnore":"Вы проигнорировали $1.","events.txtUnignore":"Вы перестали игнорировать $1.","events.txtAutoIgnore":"СПАМ ОБНАРУЖЕН: $1 будет автоматически игнорироваться.","events.txtUnreadMessenger":"У вас $1 непрочитанных {{PLURAL:$1|сообщение|сообщения}} в Мессенджере.","brushgallery.title":"Галерея кистей","brushgallery.lblGallery":"Галерея","brushgallery.btnCancel":"Отмена","brushgallery.btnSelect":"Выбрать","brushgallery.lblBy":"От $1","brushdesigner.title":"Дизайнер кистей","brushdesigner.btnClear":"Очистить","brushdesigner.btnLoad":"Загрузить","brushdesigner.btnSave":"Сохранить","brushdesigner.btnOkay":"ОК","brushdesigner.btnCancel":"Отмена","brushdesigner.lblSize":"Размер:","brushdesigner.lblAlpha":"Непрозрачность:","brushdesigner.lblColor":"Цвет:","brushdesigner.toolDrag":"Перетаскивание","brushdesigner.toolPen":"Перо","brushdesigner.toolEraser":"Ластик","brushdesigner.toolPicker":"Выбор цвета","brushdesigner.lblZoomIn":"Увеличить","brushdesigner.lblZoomOut":"Уменьшить","brushdesigner.lblCenter":"Центр","help.title":"Помощь","alerts.txtFileTypeNotSupported":"Тип файла не поддерживается.","alerts.txtUploadNotAllowed":"Вам запрещено загружать изображения","alerts.txtLayerIsLocked":"Слой заблокирован.","alerts.txtInvalidIP":"Недопустимый IP-адрес.","alerts.txtNoMoreUsers":"Нет больше доступных пользователей.","alerts.txtReservedHotkey":"ОШИБКА: Эта горячая клавиша зарезервирована.","alerts.txtHotkeyInUse":"ОШИБКА: Эта горячая клавиша уже используется.","alerts.txtIncorrectFileType":"ОШИБКА: Неверный тип файла.","alerts.txtSaved":"Сохранено!","alerts.txtSent":"Отправлено!","alerts.txtSuccess":"Успех!","alerts.txtCaptchaFailed":"ОШИБКА: Тест Captcha не пройден.","alerts.txtGallerySaveFailed":"Ошибка при попытке загрузки в галерею.","alerts.txtSelectOneLayer":"Выберите хотя бы один слой.","alerts.txtTooManyConnections":"Слишком много подключений.","alerts.txtNegotiationFailed":"Не удалось провести согласование. Невозможно установить соединение.","alerts.txtOutdatedApp":"Ваше приложение устарело. <br />Нажмите <kbd>CTRL</kbd> + <kbd>F5</kbd> для обновления.","alerts.txtServerDown":"Сервер не работает.<br />Пожалуйста, попробуйте еще раз позже.<br /><a href=\"#\" class=\"btn btn-xs btn-primary mt-2\" name=\"socketReconnect\">Повторить</a>","alerts.txtRoomRegistered":"Комната успешно зарегистрирована.","alerts.txtConnectionLost":"Потеряно соединение.","alerts.btnReconnect":"Подключиться заново","alerts.txtYouHaveBeenBanned":"Вы были забанены","alerts.txtYouHaveBeenKicked":"Вас выгнали","alerts.txtGIFfailed":"Создание файла GIF не удалось","alerts.txtAreaTooBig":"Область слишком большая","alerts.txtYouAreMuted":"Вам запретили рисовать","alerts.txtYouWillBeUnmuted":"Вы скоро опять сможете рисовать","alerts.txtYouWillBeUnmutedIn":"Вы сможете опять рисовать через $1","alerts.roomEnter.txtAccountRestricted":"Ошибка входа. Вы не можете использовать этот аккаунт, пока не введете правильный пароль.","alerts.roomEnter.txtWrongPassword":"Неверный пароль.","alerts.roomEnter.txtYouAreBanned":"Вы не можете войти в эту комнату. Вы забанены.","alerts.roomEnter.txtRoomIsFull":"Вы не можете войти в эту комнату. Комната заполнена.","alerts.roomEnter.txtTooManyConnections":"Вы не можете войти в эту комнату. Слишком много подключений.","alerts.roomEnter.txtUsernameNotValid":"Вы не можете войти в эту комнату. Ваше имя пользователя недействительно.","alerts.roomEnter.txtProxyNotAllowed":"Похоже, вы используете VPN/прокси-сервис. Они не разрешены в этой комнате.","alerts.txtUsernameContainsEmojis":"ОШИБКА: Имя пользователя не должно содержать эмодзи.","alerts.txtPasswordDontMatch":"ОШИБКА: Пароли не совпадают","alerts.txtSecretsMatch":"ОШИБКА: Ваш ответ на секретный вопрос не может совпадать с самим вопросом.","alerts.txtFillSecrets":"ОШИБКА: Заполните секретный вопрос и ответ.","alerts.txtPasswordTooShort":"ОШИБКА: Пароль слишком короткий.","alerts.txtUsernameTooShort":"ОШИБКА: Имя пользователя слишком короткое.","alerts.txtNotAvailableYet":"Эта функция еще не доступна.","alerts.txtSetCustomBrush":"Нажмите 'Галерея' или 'Настроить' в параметрах инструментов, чтобы начать использовать этот инструмент.","notifications.categories.GM":"Глобальное сообщение","notifications.categories.EVENT":"Событие","notifications.categories.PUBLICROOM":"#публичная","notifications.categories.STAFFROOM":"#персонал","notifications.categories.PM":"Приватное","notifications.categories.MOTD":"Комната","cursor.txtNotConnected":"Нет соединения","cursor.txtLoading":"Загрузка...","cursor.txtYouAreMuted":"Вам запретили рисовать","cursor.txtLayerIsLocked":"Слой заблокирован","cursor.txtLayerIsInvisible":"Слой невидим","client.codes.usernotfound":"Пользователь не найден","global.EOF":""}
  };


const embeddedHTML = {
  "forms/app.main.html": `<div id="alertContainer"></div>
<div id="pip"></div>
<div id="tabletMenu"></div>
<div id="confirmationContainer"></div>
<div id="dialogContainer" class="fullscreen"></div>
<div id="warningContainer" class="topWarning"></div>
<div id="statusContainer" class="bottomWarning"></div>
<div class="appMain wrapper">
    <nav id="sidebar" class="active">
        <input type="hidden" class="boardMenu">
        <div class="sidebarTools">
            <div class="toolbar">
                <div class="d-grid">
                    <a id="sidebarCollapse" href="#" class="btn btn-secondary noborder">
                        <i class="fas fa-angle-double-left"></i>
                    </a>
                </div>
                <div id="drawingTools" class="d-grid"></div>
            </div>
        </div>
        <div class="sidebarAdvanced disabled">
            <div class="sidebarBlock"></div>
            <div class="container-fluid p-0 pe-2 m-0">
                <div class="sidebarOptions"></div>
                <div name="sidebarSortable"></div>
                <div name="sidebarComponents">
                    <div id="userlistBox">
                        <table class="table darkTable m-0 p-0">
                            <tbody id="userlist"></tbody>
                        </table>
                    </div>
                    <div id="options"></div>
                    <div id="presetsBox">
                        <div id="presets"></div>
                        <p data-i18n="global.lblHoldTap">Hold to set. Tap to load.</p>
                    </div>
                    <div id="colorWheelBox">
                        <div id="colorBox"></div>
                        <div id="colorWheel" class="colorWheelComponent"></div>
                    </div>
                    <div id="previewList"></div>
                    <div id="animationBox"></div>
                </div>
            </div>
        </div>
    </nav>
    <div id="content" class="active">
        <div id="topbar"></div>
        <div id="DrawingArea" class="mainContentArea">
            <div class="boardContainer"></div>
        </div>
        <div id="bottombar"></div>
        <input type="file" id="uploadFile" class="hidden">
    </div>
</div>
`,

  "forms/config.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div
        class="sidebar h-100 col-3 p-0 pt-3 pb-3"
        data-size="col-xs-1 col-md-2"
      >
        <ul class="sidemenu">
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="config.mnuSettings"
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="settings"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-cogs"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="config.mnuSettings"
                >Settings</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="config.mnuHotkeys"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="shortcuts"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-keyboard"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="config.mnuHotkeys"
                >Hotkeys</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="config.mnuAboutUs"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="aboutus"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-question-circle"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="config.mnuAboutUs"
                >About us</span
              ></a
            >
          </li>
        </ul>
      </div>
      <div
        class="dynamicDialogArea h-100 col-9 p-3"
        data-size="col-xs-11 col-md-10"
      ></div>
    </div>
  </div>
</div>

`,
  "forms/config.settings.html": `
<div class="dialogContentArea" style="height: calc(100% - 46px)">
  <h4 class="sub-title" data-i18n="config.lblSettings">Settings</h4>
  <div class="form-group row">
    <div class="col-12" data-size="col-md-12 col-sm-12">
      <label data-i18n="config.lblLanguage">Language:</label>
      <select class="form-control big-input mb-1" name="language"></select>
    </div>
    <div class="col-6" data-size="col-md-6 col-sm-12">
      <label data-i18n="config.lblTheme">Theme:</label>
      <select class="form-control big-input mb-1" name="theme">
        <option value="dark" data-i18n="config.optThemeDark">Dark</option>
        <option value="light" data-i18n="config.optThemeLight">Light</option>
        <option value="classic" data-i18n="config.optThemeClassic">
          Classic
        </option>
      </select>
    </div>
    <div class="col-6" data-size="col-md-6 col-sm-12">
      <label data-i18n="config.lblVolume">Volume:</label>
      <div name="volume" class="mb-1"></div>
    </div>
    <div class="col-6" data-size="col-md-6 col-sm-12">
      <label data-i18n="config.lblSidebar">Sidebar:</label>
      <div name="sidebar" class="mb-1"></div>
    </div>
    <div class="col-6" data-size="col-md-6 col-sm-12">
      <label data-i18n="config.lblStrokePreviewQuality"
        >Stroke preview quality:</label
      >
      <select class="form-control big-input mb-1" name="strokequality">
        <option value="high" data-i18n="config.optQualityHigh">High</option>
        <option value="normal" data-i18n="config.optQualityNormal">
          Normal
        </option>
      </select>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-6" data-size="col-sm-6 col-xs-12">
      <div class="row">
        <div class="col-12 pt-3">
          <label data-i18n="config.lblLoadingPresetWillChange"
            >Loading a preset will change:</label
          >
          <div
            class="check"
            name="brush"
            data-caption-i18n="config.optBrush"
            data-caption="Brush"
            data-group="presetload"
            data-value="1"
          ></div>
          <div
            class="check"
            name="color"
            data-caption-i18n="config.optColor"
            data-caption="Color"
            data-group="presetload"
            data-value="1"
          ></div>
          <div
            class="check"
            name="size"
            data-caption-i18n="config.optSize"
            data-caption="Size"
            data-group="presetload"
            data-value="1"
          ></div>
          <div
            class="check"
            name="alpha"
            data-caption-i18n="config.optAlpha"
            data-caption="Opacity"
            data-group="presetload"
            data-value="1"
          ></div>
          <div
            class="check"
            name="blur"
            data-caption-i18n="config.optBlur"
            data-caption="Blur"
            data-group="presetload"
            data-value="1"
          ></div>
          <div
            class="check"
            name="smooth"
            data-caption-i18n="config.optSmooth"
            data-caption="Smoothing"
            data-group="presetload"
            data-value="1"
          ></div>
          <div
            class="check"
            name="spacing"
            data-caption-i18n="config.optSpacing"
            data-caption="Spacing"
            data-group="presetload"
            data-value="1"
          ></div>
          <div
            class="check"
            name="mode"
            data-caption-i18n="config.optMode"
            data-caption="Mode"
            data-group="presetload"
            data-value="1"
          ></div>
          <div
            class="check"
            name="rightclick"
            data-caption-i18n="config.optRightClick"
            data-caption="Right click"
            data-group="presetload"
            data-value="1"
          ></div>
          <div
            class="check"
            name="cursor"
            data-caption-i18n="config.optCursor"
            data-caption="Cursor"
            data-group="presetload"
            data-value="1"
          ></div>
        </div>
        <div class="col-12 pt-3">
          <label data-i18n="config.lblGraphics">Graphics:</label>
          <div
            class="check"
            name="showusername"
            data-caption-i18n="config.optShowUsername"
            data-caption="Show own username next to cursor"
            data-group="graphics"
            data-value="1"
          ></div>
          <div
            class="check"
            name="showmouse"
            data-caption-i18n="config.optShowMouse"
            data-caption="Show mouse cursor on the canvas"
            data-group="graphics"
            data-value="0"
          ></div>
          <div
            class="check"
            name="disabletooltips"
            data-caption-i18n="config.optDisableTooltips"
            data-caption="Disable tooltips"
            data-group="graphics"
            data-value="0"
          ></div>
          <div
            class="check"
            name="chatpreviews"
            data-caption-i18n="config.optChatPreviews"
            data-caption="Show image previews on chat"
            data-group="graphics"
            data-value="0"
          ></div>
        </div>
      </div>
    </div>
    <div class="col-6" data-size="col-sm-6 col-xs-12">
      <div class="row">
        <div class="col-12">
          <label data-i18n="config.lblSounds">Sounds:</label>
          <div
            class="check"
            name="chat"
            data-caption-i18n="config.optChatTone"
            data-caption="Chat message tone"
            data-group="sounds"
            data-value="1"
          ></div>
          <div
            class="check"
            name="modchat"
            data-caption-i18n="config.optStaffChatTone"
            data-caption="Staff chat message tone"
            data-group="sounds"
            data-value="1"
          ></div>
          <div
            class="check"
            name="pm"
            data-caption-i18n="config.optPrivateTone"
            data-caption="Private message tone"
            data-group="sounds"
            data-value="1"
          ></div>
          <div
            class="check"
            name="inbox"
            data-caption-i18n="config.optInboxTone"
            data-caption="Inbox message tone"
            data-group="sounds"
            data-value="1"
          ></div>
        </div>
        <div class="col-12 pt-3">
          <label data-i18n="config.lblTools">Tools:</label>
          <div
            class="check"
            name="colorpickerswitch"
            data-caption-i18n="config.optAutoSwitch"
            data-caption="Auto-switch color picker"
            data-group="tools"
            data-value="0"
          ></div>
        </div>
        <div class="col-12 pt-3">
          <label data-i18n="config.lblSyncOptions"
            >Sync these options across tools:</label
          >
          <div
            class="check"
            name="size"
            data-caption-i18n="config.optSize"
            data-caption="Size"
            data-group="syncedoptions"
            data-value="1"
          ></div>
          <div
            class="check"
            name="alpha"
            data-caption-i18n="config.sync.optAlpha"
            data-caption="Opacity"
            data-group="syncedoptions"
            data-value="0"
          ></div>
          <div
            class="check"
            name="blur"
            data-caption-i18n="config.sync.optBlur"
            data-caption="Blur"
            data-group="syncedoptions"
            data-value="0"
          ></div>
          <div
            class="check"
            name="blendmode"
            data-caption-i18n="config.sync.optMode"
            data-caption="Mode"
            data-group="syncedoptions"
            data-value="0"
          ></div>
        </div>
      </div>
    </div>
  </div>
</div>
<input type="file" id="uploadConfig" class="hidden" />
<div class="bottomButtons">
  <a
    id="exportSettings"
    href="#"
    class="btn btn-sm btn-success pull-left me-2"
    data-css="d-xs[noTextButton] d-sm[textButton]"
    ><i class="fas fa-file-export"></i>
    <span data-i18n="config.btnExport">Export</span></a
  >
  <a
    id="importSettings"
    href="#"
    class="btn btn-sm btn-success pull-left"
    data-css="d-xs[noTextButton] d-sm[textButton]"
    ><i class="fas fa-file-import"></i>
    <span data-i18n="config.btnImport">Import</span></a
  >
  <a id="applySettings" href="#" class="btn btn-sm btn-success"
    ><i class="fas fa-check"></i>
    <span data-i18n="config.btnApplyChanges">Apply changes</span></a
  >
</div>

`,
  "forms/config.shortcuts.html": `
<div class="row">
  <div class="col-12">
    <div
      id="configShurtcuts"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
    <div class="bottomButtons">
      <a
        id="editShortcut"
        href="#"
        class="btn btn-sm btn-success pull-right ms-2"
        ><i class="fas fa-pen"></i>
        <span data-i18n="config.btnChangeHotkey">Change hotkey</span></a
      >
      <a id="loadDefaults" href="#" class="btn btn-sm btn-primary pull-left"
        ><i class="fas fa-undo"></i>
        <span data-i18n="config.btnLoadDefaults">Load defaults</span></a
      >
    </div>
  </div>
</div>

`,
  "forms/config.aboutus.html": `
<div class="dialogContentArea" style="height: calc(100% - 46px)">
  <div class="row">
    <div class="col-7">
      <h4 class="sub-title" data-i18n="config.lblAboutUs">About us</h4>
      <p class="text-justify" data-i18n="[html]config.lblAbout">
        <strong>FlockMod</strong> is a collaborative drawing platform, all made
        while keeping artists and communication in mind. FlockMod is founded and
        hosted by <strong class="rankGM">FDT</strong>, and actively developed
        and maintained by <strong class="rankGM">auto</strong>.
      </p>
      <br />
      <h4 class="sub-title" data-i18n="config.lblUsefulLinks">Useful links</h4>
      <div class="d-grid gap-2">
        <a
          href="#"
          name="gallery"
          class="btn btn-primary usefulLink"
          data-i18n="config.btnGallery"
          >Gallery</a
        >
        <a
          href="#"
          name="news"
          class="btn btn-primary usefulLink"
          data-i18n="config.btnNewsUpdates"
          >News and updates</a
        >
        <a
          href="#"
          name="feedback"
          class="btn btn-primary usefulLink"
          data-i18n="config.btnFeedback"
          >Feedback</a
        >
        <a
          href="#"
          name="ideas"
          class="btn btn-primary usefulLink"
          data-i18n="config.btnIdeasPage"
          >Ideas page</a
        >
        <a
          href="#"
          name="help"
          class="btn btn-primary usefulLink"
          data-i18n="config.btnHelp"
          >Help</a
        >
      </div>
      <div name="build" style="position: absolute; bottom: 20px; color: gray">
        Build: 0
      </div>
    </div>
    <div class="col-5">
      <div
        id="specialThanks"
        data-anchortarget=".dynamicDialogArea"
        data-anchorpoints="tb"
        data-anchormargin="15"
      ></div>
    </div>
  </div>
</div>

`,
  "forms/config.modal.editshortcut.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4 class="sub-title" data-i18n="config.lblEditHotkey">Edit hotkey</h4>
        <div class="form-group row">
          <div class="col-12">
            <label data-i18n="config.lblDescription">Description:</label>
            <input
              class="form-control big-input"
              type="text"
              name="description"
              readonly="readonly"
            />
          </div>
        </div>
        <div class="form-group row">
          <div class="col-12">
            <input type="hidden" name="shortcut" />
            <label data-i18n="config.lblPrimaryHotkey">Primary hotkey:</label>
            <div class="input-group">
              <div
                class="form-control big-input fakeInput"
                type="text"
                name="shortcutKeys"
              ></div>
              <a
                id="changeButton"
                href="#"
                class="btn btn-primary"
                data-i18n="config.btnChange"
                >Change</a
              >
              <a
                id="clearButton"
                href="#"
                class="btn btn-primary"
                data-i18n="config.btnClear"
                >Clear</a
              >
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-12">
            <input type="hidden" name="shortcut2" />
            <label data-i18n="config.lblSecondaryHotkey"
              >Secondary hotkey:</label
            >
            <div class="input-group">
              <div
                class="form-control big-input fakeInput"
                type="text"
                name="shortcutKeys2"
              ></div>
              <a
                id="changeButton2"
                href="#"
                class="btn btn-primary"
                data-i18n="config.btnChange"
                >Change</a
              >
              <a
                id="clearButton2"
                href="#"
                class="btn btn-primary"
                data-i18n="config.btnClear"
                >Clear</a
              >
            </div>
          </div>
        </div>
        <div class="bottomButtons">
          <a id="applyShortcut" href="#" class="btn btn-success me-2"
            ><i class="fas fa-check"></i>
            <span data-i18n="config.btnApply">Apply</span></a
          >
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i>
            <span data-i18n="config.btnCancel">Cancel</span></a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/login.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div class="dialogArea h-100 col-12 p-3">
        <div class="row">
          <div class="col-12">
            <input id="loginUsername" type="hidden" />
            <input id="loginPassword" type="hidden" />
            <div style="float: right">
              <a name="accountbutton" href="#" class="btn btn-md btn-success"
                ><i class="fas fa-user"></i> Anonymous</a
              >
            </div>
            <h4 class="sub-title" data-i18n="login.lblJoinRoom">Join a room</h4>
            <p data-i18n="login.lblTypeRoomName">Type a room name:</p>
            <input
              id="loginRoom"
              type="text"
              class="form-control big-input roomName"
              placeholder="Room name"
              maxlength="30"
              data-i18n="[placeholder]login.phRoomName"
            /><br />
            <p data-i18n="login.lblPickRoom">
              Or pick one from the following list of public rooms:
            </p>
            <div>
              <div class="roomThumb">
                <div class="previewThumb"><div class="thumbBox"></div></div>
                <div class="roomBox">
                  <div class="nameBox">&nbsp;</div>
                  <div class="typeBox"></div>
                </div>
                <div
                  class="roomDescription"
                  data-anchortarget=".dialogArea"
                  data-anchorpoints="tb"
                  data-anchormargin="46"
                >
                  <div class="descriptionBox"></div>
                </div>
              </div>
              <div
                id="roomList"
                data-anchortarget=".dialogArea"
                data-anchorpoints="tb"
                data-anchormargin="46"
              ></div>
            </div>
            <div class="bottomButtons text-center m-0">
              <a
                href="#"
                name="refreshbutton"
                class="btn btn-md btn-success me-2"
                data-css="d-xs[noTextButton] d-sm[textButton]"
                ><i class="fas fa-sync-alt"></i>
                <span data-i18n="login.btnRefreshRoomList"
                  >Refresh room list</span
                ></a
              >
              <a href="#" name="loginbutton" class="btn btn-md btn-success"
                ><i class="fas fa-check"></i>
                <span data-i18n="login.btnJoinRoom">Join room</span></a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/login.modal.registeraccount.html": `
<form name="loginForm" method="post">
  <div class="subcontent">
    <div class="container h-100">
      <div class="form-group row">
        <div class="col-12">
          <h4 class="sub-title" data-i18n="login.lblRegisterAccount">
            Register an account
          </h4>
          <div class="form-group row">
            <div class="col-12">
              <label data-i18n="login.lblUsername">Username:</label>
              <div class="input-group mb-1">
                <input
                  type="text"
                  class="form-control big-input usernameAccount"
                  name="registerUsername"
                  placeholder="Anonymous"
                  maxlength="25"
                />
              </div>
            </div>
            <div class="col-6">
              <label data-i18n="login.lblPassword1">Password:</label>
              <div class="input-group mb-1">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-key"></i
                ></span>
                <input
                  type="password"
                  class="form-control big-input"
                  name="registerPassword"
                />
              </div>
            </div>
            <div class="col-6">
              <label data-i18n="login.lblConfirmPassword"
                >Confirm password:</label
              >
              <div class="input-group mb-1">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-key"></i
                ></span>
                <input
                  type="password"
                  class="form-control big-input"
                  name="registerPassword2"
                />
              </div>
            </div>
            <div class="col-12">
              <label data-i18n="login.lblEmailAddress">E-Mail address:</label>
              <div class="input-group mb-1">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-envelope"></i
                ></span>
                <input
                  type="text"
                  class="form-control big-input"
                  name="registerEmail"
                />
              </div>
            </div>
            <div class="col-12">
              <label data-i18n="login.lblSecretQuestion"
                >Secret question:</label
              >
              <div class="input-group mb-1">
                <span class="input-group-text darkInput"
                  ><i class="far fa-question-circle"></i
                ></span>
                <input
                  type="text"
                  class="form-control big-input"
                  name="registerQuestion"
                />
              </div>
            </div>
            <div class="col-12">
              <label data-i18n="login.lblSecretAnswer">Secret answer:</label>
              <div class="input-group mb-1">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-question-circle"></i
                ></span>
                <input
                  type="text"
                  class="form-control big-input"
                  name="registerAnswer"
                />
              </div>
            </div>
          </div>
          <div class="bottomButtons">
            <button name="newaccount" class="btn btn-success me-2">
              <i class="fas fa-check"></i>
              <span data-i18n="login.btnCreate">Create</span>
            </button>
            <button class="btn btn-danger subcloseButton">
              <i class="fas fa-times"></i>
              <span data-i18n="login.btnCancel">Cancel</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

`,
  "forms/login.modal.username.html": `
<form name="loginForm" method="post">
  <div class="subcontent">
    <div class="container h-100">
      <div class="form-group row">
        <div class="col-12">
          <h4 class="sub-title" data-i18n="login.lblPickUsername">
            Pick a username
          </h4>
          <div class="form-group row">
            <div class="col-12">
              <p
                data-i18n="[html]login.lblAccountInfo"
                data-i18n-params="test,hello"
              >
                You don't need an account to use <strong>FlockMod</strong>, just
                type any username and leave the password blank. Although if you
                want extra features, consider
                <a name="accountRegister" href="#" class="inlineLink"
                  >registering an account</a
                >
                for free.
              </p>
              <br /><label data-i18n="login.lblTypeUsername"
                >Type your username:</label
              >
              <div class="input-group mb-1">
                <input
                  type="text"
                  class="form-control big-input usernameAccount"
                  name="loginUsername"
                  placeholder="Anonymous"
                  maxlength="25"
                />
              </div>
            </div>
            <div class="col-12">
              <label data-i18n="login.lblTypePassword"
                >Password (optional):</label
              >
              <div class="input-group mb-1">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-lock"></i
                ></span>
                <input
                  type="password"
                  class="form-control big-input"
                  name="loginPassword"
                />
              </div>
            </div>
            <div class="col-12 p-2 text-end">
              <p>
                <a
                  href="#"
                  name="forgotPassword"
                  class="reverseInlineLink"
                  data-i18n="login.lblForgotPassword"
                  >Forgot your password?</a
                >
              </p>
            </div>
          </div>
          <div class="bottomButtons">
            <button name="okaccount" class="btn btn-success me-2">
              <i class="fas fa-check"></i>
              <span data-i18n="login.btnOkay">OK</span>
            </button>
            <button name="okaccount" class="btn btn-success me-2 joinRoom">
              <i class="fas fa-check"></i>
              <span data-i18n="login.btnJoinRoom">Join room</span>
            </button>
            <button
              name="accountRegister"
              class="btn btn-success pull-left"
              data-css="d-xs[noTextButton] d-sm[textButton]"
            >
              <i class="fas fa-user-plus"></i>
              <span data-i18n="login.btnSignUp">Sign up</span>
            </button>
            <button class="btn btn-danger subcloseButton">
              <i class="fas fa-times"></i>
              <span data-i18n="login.btnCancel">Cancel</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

`,
  "forms/login.modal.roompassword.html": `
<form name="loginForm" method="post">
  <div class="subcontent">
    <div class="container h-100">
      <div class="form-group row">
        <div class="col-12">
          <h4 class="sub-title" data-i18n="login.lblPasswordProtectedRoom">
            Password-protected room
          </h4>
          <div class="form-group row">
            <div class="col-12">
              <label data-i18n="login.lblPassword1">Password:</label>
              <div class="input-group mb-1">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-lock"></i
                ></span>
                <input
                  type="password"
                  class="form-control big-input"
                  name="roompassword"
                />
              </div>
            </div>
          </div>
          <div class="bottomButtons">
            <button name="enterRoom" href="#" class="btn btn-success me-2">
              <i class="fas fa-key"></i>
              <span data-i18n="login.btnOkay">OK</span>
            </button>
            <button href="#" class="btn btn-danger subcloseButton">
              <i class="fas fa-times"></i>
              <span data-i18n="login.btnCancel">Cancel</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

`,
  "forms/login.modal.username.html": `
<form name="loginForm" method="post">
  <div class="subcontent">
    <div class="container h-100">
      <div class="form-group row">
        <div class="col-12">
          <h4 class="sub-title" data-i18n="login.lblPickUsername">
            Pick a username
          </h4>
          <div class="form-group row">
            <div class="col-12">
              <p
                data-i18n="[html]login.lblAccountInfo"
                data-i18n-params="test,hello"
              >
                You don't need an account to use <strong>FlockMod</strong>, just
                type any username and leave the password blank. Although if you
                want extra features, consider
                <a name="accountRegister" href="#" class="inlineLink"
                  >registering an account</a
                >
                for free.
              </p>
              <br /><label data-i18n="login.lblTypeUsername"
                >Type your username:</label
              >
              <div class="input-group mb-1">
                <input
                  type="text"
                  class="form-control big-input usernameAccount"
                  name="loginUsername"
                  placeholder="Anonymous"
                  maxlength="25"
                />
              </div>
            </div>
            <div class="col-12">
              <label data-i18n="login.lblTypePassword"
                >Password (optional):</label
              >
              <div class="input-group mb-1">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-lock"></i
                ></span>
                <input
                  type="password"
                  class="form-control big-input"
                  name="loginPassword"
                />
              </div>
            </div>
            <div class="col-12 p-2 text-end">
              <p>
                <a
                  href="#"
                  name="forgotPassword"
                  class="reverseInlineLink"
                  data-i18n="login.lblForgotPassword"
                  >Forgot your password?</a
                >
              </p>
            </div>
          </div>
          <div class="bottomButtons">
            <button name="okaccount" class="btn btn-success me-2">
              <i class="fas fa-check"></i>
              <span data-i18n="login.btnOkay">OK</span>
            </button>
            <button name="okaccount" class="btn btn-success me-2 joinRoom">
              <i class="fas fa-check"></i>
              <span data-i18n="login.btnJoinRoom">Join room</span>
            </button>
            <button
              name="accountRegister"
              class="btn btn-success pull-left"
              data-css="d-xs[noTextButton] d-sm[textButton]"
            >
              <i class="fas fa-user-plus"></i>
              <span data-i18n="login.btnSignUp">Sign up</span>
            </button>
            <button class="btn btn-danger subcloseButton">
              <i class="fas fa-times"></i>
              <span data-i18n="login.btnCancel">Cancel</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

`,
  "forms/chat.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="emojiContainer"></div>
    <div class="userTagContainer"></div>
    <div class="row h-100">
      <div class="sidebar h-100 col-3 p-0" data-size="col-md-3 col-lg-2">
        <div
          class="chatBar m-0 p-0"
          data-anchortarget=".sidebar"
          data-anchorpoints="tb"
          data-anchormargin="70"
        >
          <div class="sidebarElements"></div>
        </div>
        <div class="chatText2 p-0 d-grid" style="margin: 9px 15px 0px 15px">
          <a href="#" name="newPM" class="btn btn-customlink"
            ><i class="fas fa-plus"></i>
            <span data-display="d-xs-none d-sm-inline" data-i18n="chat.btnNewPM"
              >New PM</span
            ></a
          >
        </div>
      </div>
      <div
        class="dynamicDialogArea h-100 col-9 p-3"
        data-size="col-md-9 col-lg-10"
      >
        <div class="row">
          <div class="col-12 m-0 pt-1">
            <div id="chatTitle">
              <span class="title"></span>
              <div class="chatTitleButton">
                <i class="fas fa-font" style="color: gray"></i>
                <a href="#" class="fontIncrease"
                  ><i class="fas fa-arrow-up"></i
                ></a>
                <a href="#" class="fontDecrease"
                  ><i class="fas fa-arrow-down"></i
                ></a>
              </div>
            </div>
          </div>
          <div name="channelWarnings" class="chatWarning"></div>
        </div>
        <div
          class="chatBox m-0 p-0"
          data-anchortarget=".dynamicDialogArea"
          data-anchorpoints="tb"
          data-anchormargin="60"
        >
          <div class="row h-100">
            <div class="col-12 m-0 pt-0 pb-0 pe-3 ps-3">
              <div
                id="chatArea"
                class="container-fluid"
                style="overflow: hidden"
              >
                <div id="chatMessages"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="chatText m-2 p-2">
          <div class="row">
            <div class="col-12 m-0 p-0">
              <div class="input-group chatTextGroup">
                <button
                  type="button"
                  name="emoji"
                  class="newEmoji darkButton btn btn-success"
                >
                  <i class="fas fa-smile"></i>
                </button>
                <input
                  name="text"
                  type="text"
                  class="form-control big-input"
                  maxlength="250"
                  autocomplete="off"
                />
                <button name="submit" type="button" class="btn btn-success">
                  <i class="fas fa-paper-plane"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/chat.modal.newpm.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4 class="sub-title" data-i18n="chat.lblSelectUser">Select user</h4>
        <div class="form-group row">
          <div class="col-12">
            <label data-i18n="chat.lblUsername">Username:</label>
            <select
              name="userspm"
              class="form-control big-input menuOption2"
            ></select>
          </div>
        </div>
        <div class="bottomButtons">
          <a name="addPM" href="#" class="btn btn-success me-2"
            ><i class="fas fa-plus"></i>
            <span data-i18n="chat.btnOkay">OK</span></a
          >
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i>
            <span data-i18n="chat.btnCancel">Cancel</span></a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/undo.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div
        class="sidebar h-100 col-3 p-0 pt-3 pb-3"
        data-size="col-xs-1 col-md-2"
      >
        <ul class="sidemenu">
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="undo.mnuPreview"
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="preview"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-image"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="undo.mnuPreview"
                >Preview</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="undo.mnuSettings"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="settings"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-cogs"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="undo.mnuSettings"
                >Settings</span
              ></a
            >
          </li>
        </ul>
      </div>
      <div
        class="dynamicDialogArea h-100 col-9 pt-3"
        data-size="col-xs-11 col-md-10"
      ></div>
    </div>
  </div>
</div>

`,
  "forms/undo.preview.html": `
<div class="row">
  <div class="col-12">
    <div class="subheader">
      <label data-i18n="undo.preview.lblPartialSelection"
        >Partial selection:</label
      >
      <div class="fmSmallSwitch pull-right" id="selectionTool"></div>
    </div>
    <h4 class="sub-title" data-i18n="undo.preview.lblUndo">Undo</h4>
    <div
      id="undoContent"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="200"
    >
      <div id="undoBox" class="previewBox">
        <div id="undoPreview" class="previewCanvas"></div>
      </div>
    </div>
    <div class="bottomButtons text-center m-0 pt-1">
      <div class="w-100" style="overflow: auto; font-size: 80%; padding: 5px">
        <div style="float: left" data-i18n="undo.preview.lblOldest">Oldest</div>
        <div style="float: right" data-i18n="undo.preview.lblNewest">
          Newest
        </div>
      </div>
      <div id="undoPosition"></div>
      <fieldset name="layers">
        <legend><span data-i18n="undo.preview.lblLayers">Layers</span></legend>
        <div class="form-group row">
          <div class="col-12"><div id="undoLayers"></div></div>
        </div>
      </fieldset>
      <a id="undoNow" href="#" class="btn btn-sm btn-success ms-2 mt-3"
        ><i class="fas fa-check"></i>
        <span data-i18n="undo.preview.btnUndoNow">Undo now</span></a
      >
    </div>
  </div>
</div>

`,
  "forms/undo.settings.html": `
<div class="row h-100">
  <div class="col-12">
    <div class="dialogContentArea" style="height: calc(100% - 56px)">
      <div class="subheader">
        <div class="fmSmallSwitch pull-right" id="enableUndo"></div>
      </div>
      <h4 class="sub-title" data-i18n="undo.settings.lblSettings">Settings</h4>
      <div class="form-group row">
        <div class="col-12">
          <label data-i18n="undo.settings.lblSaveBoardInterval"
            >Save the board every:</label
          >
          <div name="intervalinput"></div>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-12">
          <label data-i18n="undo.settings.lblSaveBoardLimit"
            >With a limit of:</label
          >
          <div name="maxinput"></div>
        </div>
      </div>
    </div>
    <div class="bottomButtons">
      <a
        id="applyUndoSettings"
        href="#"
        class="btn btn-sm btn-success pull-right"
        ><i class="fas fa-check"></i>
        <span data-i18n="undo.settings.btnApplyChanges">Apply changes</span></a
      >
      <a
        id="defaultUndoSettings"
        href="#"
        class="btn btn-sm btn-primary pull-left"
        ><i class="fas fa-undo"></i>
        <span data-i18n="undo.settings.btnLoadDefaults">Load defaults</span></a
      >
    </div>
  </div>
</div>

`,
  "forms/roommanager.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div
        class="sidebar h-100 col-3 p-0 pt-3 pb-3"
        data-size="col-xs-1 col-md-2"
      >
        <ul class="sidemenu">
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="roommanager.mnuSettings"
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="settings"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-cogs"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="roommanager.mnuSettings"
                >Settings</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="roommanager.mnuStaff"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="staff"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-users"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="roommanager.mnuStaff"
                >Staff</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="roommanager.mnuPrivileges"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="privileges"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-tasks"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="roommanager.mnuPrivileges"
                >Privileges</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="roommanager.mnuTools"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="tools"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-pen-ruler"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="roommanager.mnuTools"
                >Tools</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="roommanager.mnuBans"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="bans"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-ban"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="roommanager.mnuBans"
                >Bans</span
              ></a
            >
          </li>
        </ul>
      </div>
      <div
        class="dynamicDialogArea h-100 col-9 p-3"
        data-size="col-xs-11 col-md-10"
      ></div>
    </div>
  </div>
</div>

`,
  "forms/roommanager.settings.html": `
<div class="dialogContentArea" style="height: calc(100% - 46px)">
  <form method="post">
    <h4 class="sub-title" data-i18n="roommanager.settings.lblSettings">
      Settings
    </h4>
    <div class="form-group row">
      <div class="col-12">
        <div class="pull-right fmSmallSwitch" id="privateRoom"></div>
        <label data-i18n="roommanager.settings.lblDescription"
          >Description:</label
        >
        <p>
          <textarea
            style="min-height: 80px"
            class="form-control big-input w-100"
            name="description"
          ></textarea>
        </p>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-4" data-size="col-md-4 col-sm-12">
        <label data-i18n="roommanager.settings.lblRoomMode">Room mode:</label>
        <select class="form-control big-input" name="roomtype">
          <option value="L" data-i18n="roommanager.settings.optRegular">
            Regular
          </option>
          <option value="A" data-i18n="roommanager.settings.optAnimation">
            Animation
          </option>
        </select>
      </div>
      <div class="col-4" data-size="col-md-4 col-sm-12">
        <div class="form-group row">
          <div class="col-12">
            <label data-i18n="roommanager.settings.lblAnimRows"
              >Rows (animation):</label
            >
            <div name="animrows"></div>
          </div>
        </div>
      </div>
      <div class="col-4" data-size="col-md-4 col-sm-12">
        <div class="form-group row">
          <div class="col-12">
            <label data-i18n="roommanager.settings.lblAnimCols"
              >Columns (animation):</label
            >
            <div name="animcols"></div>
          </div>
        </div>
      </div>
      <div class="col-4" data-size="col-md-4 col-sm-12">
        <div class="form-group row">
          <div class="col-12">
            <label data-i18n="roommanager.settings.lblLayers">Layers: *</label>
            <div name="numlayers"></div>
          </div>
        </div>
      </div>
      <div class="col-8" data-size="col-md-8 col-sm-12">
        <label data-i18n="roommanager.settings.lblCanvasSize"
          >Canvas size:</label
        >
        <select class="form-control big-input" name="canvassize">
          <option value="SM" data-i18n="roommanager.settings.optSmall">
            Small
          </option>
          <option value="MD" data-i18n="roommanager.settings.optMedium">
            Medium
          </option>
          <option value="LG" data-i18n="roommanager.settings.optLarge">
            Large
          </option>
          <option value="XL" data-i18n="roommanager.settings.optExtraLarge">
            Extra Large
          </option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <div class="form-group row">
          <div class="col-12">
            <label data-i18n="roommanager.settings.lblRoomCapacity"
              >Room capacity:</label
            >
            <div name="capacity"></div>
          </div>
        </div>
      </div>
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <label data-i18n="roommanager.settings.lblRoomPassword"
          >Room password:</label
        >
        <div class="input-group">
          <span class="input-group-text darkInput"
            ><i class="fas fa-lock"></i
          ></span>
          <input
            type="password"
            class="form-control big-input"
            name="password"
          />
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <label data-i18n="roommanager.settings.lblMuteLength"
          >Mute length:</label
        >
        <select class="form-control big-input" name="mutetime"></select>
      </div>
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <label data-i18n="roommanager.settings.lblBanLength"
          >Default ban length:</label
        >
        <select class="form-control big-input" name="bantime"></select>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <label data-i18n="roommanager.settings.lblBackground"
          >Background:</label
        >
        <div name="background"></div>
      </div>
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <label data-i18n="roommanager.settings.lblBottomLayer"
          >Bottom layer:</label
        >
        <div name="bottomtransparency"></div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <label data-i18n="roommanager.settings.lblUserJoins"
          >When a user joins the room:</label
        >
        <select class="form-control big-input" name="mute">
          <option value="N" data-i18n="roommanager.settings.optDoNothing">
            Do nothing
          </option>
          <option value="U" data-i18n="roommanager.settings.optMuteNotReg">
            Mute if unregistered
          </option>
          <option value="Y" data-i18n="roommanager.settings.optMuteNotStaff">
            Mute if not staff member
          </option>
        </select>
      </div>
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <label data-i18n="roommanager.settings.lblProxyJoins"
          >When a known proxy joins (ignores staff):</label
        >
        <select class="form-control big-input" name="knownproxy">
          <option value="N" data-i18n="roommanager.settings.optDoNothing">
            Do nothing
          </option>
          <option value="M" data-i18n="roommanager.settings.optMute">
            Mute
          </option>
          <option value="S" data-i18n="roommanager.settings.optSilence">
            Silence
          </option>
          <option value="X" data-i18n="roommanager.settings.optMuteSilence">
            Mute and silence
          </option>
          <option value="B" data-i18n="roommanager.settings.optBlock">
            Block connection
          </option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-12">
        <p data-i18n="roommanager.settings.lblBlendModes">
          * Blend modes are only available on 1 layer rooms.
        </p>
      </div>
    </div>
  </form>
</div>
<div class="bottomButtons">
  <a id="applySettings" href="#" class="btn btn-sm btn-success pull-right"
    ><i class="fas fa-check"></i>
    <span data-i18n="roommanager.settings.btnApplyChanges"
      >Apply changes</span
    ></a
  >
  <a id="unregRoom" href="#" class="btn btn-sm btn-danger pull-left"
    ><i class="fas fa-minus-circle"></i>
    <span data-i18n="roommanager.settings.btnUnregisterRoom"
      >Unregister room</span
    ></a
  >
</div>

`,
  "forms/roommanager.staff.html": `
<div class="row">
  <div class="col-12">
    <div
      id="staffTable"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
    <div class="bottomButtons">
      <a id="addUser" href="#" class="btn btn-sm btn-success pull-right ms-2"
        ><i class="fas fa-plus"></i>
        <span data-i18n="roommanager.staff.btnAddUser">Add user</span></a
      >
      <a id="editUser" href="#" class="btn btn-sm btn-primary pull-right ms-2"
        ><i class="fas fa-pen"></i>
        <span data-i18n="roommanager.staff.btnEditUser">Edit user</span></a
      >
      <a
        id="removeUser"
        href="#"
        class="btn btn-sm btn-danger pull-left me-2"
        data-css="d-xs[noTextButton] d-sm[textButton]"
        ><i class="fas fa-minus-circle"></i>
        <span data-i18n="roommanager.staff.btnRemoveUser">Remove user</span></a
      >
    </div>
  </div>
</div>

`,
  "forms/roommanager.modal.adduser.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4
          class="sub-title"
          data-i18n="roommanager.staff.lblAddStaffMember"
        ></h4>
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label data-i18n="roommanager.staff.lblUsername"></label>
            <input
              name="username"
              class="form-control big-input"
              type="text"
              value=""
            />
          </div>
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label data-i18n="roommanager.staff.lblRank"></label>
            <select
              name="rank"
              class="form-control big-input menuOption2"
            ></select>
          </div>
        </div>
        <div class="bottomButtons">
          <a id="updateStaff" href="#" class="btn btn-success me-2"
            ><i class="fas fa-plus"></i>
            <span data-i18n="roommanager.staff.btnAdd"></span
          ></a>
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i>
            <span data-i18n="roommanager.staff.btnCancel"></span
          ></a>
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/roommanager.modal.edituser.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4 class="sub-title" data-i18n="roommanager.staff.lblEditStaffMember">
          Edit staff member
        </h4>
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label data-i18n="roommanager.staff.lblUsername">Username:</label>
            <input
              name="username"
              readonly="readonly"
              class="form-control big-input"
              type="text"
              value=""
            />
          </div>
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label data-i18n="roommanager.staff.lblRank">Rank:</label>
            <select
              name="rank"
              class="form-control big-input menuOption2"
            ></select>
          </div>
        </div>
        <div class="bottomButtons">
          <a id="updateStaff" href="#" class="btn btn-success me-2"
            ><i class="fas fa-check"></i>
            <span data-i18n="roommanager.staff.btnOkay">OK</span></a
          >
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i>
            <span data-i18n="roommanager.staff.btnCancel">Cancel</span></a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/roommanager.privileges.html": `
<div class="row">
  <div class="col-12">
    <h4 class="sub-title" data-i18n="roommanager.privileges.lblPrivileges">
      Privileges
    </h4>
    <div
      id="privilegeContent"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
    <div class="bottomButtons">
      <a id="applyPrivileges" href="#" class="btn btn-sm btn-success pull-right"
        ><i class="fas fa-check"></i>
        <span data-i18n="roommanager.privileges.btnApplyChanges"
          >Apply changes</span
        ></a
      >
      <a
        id="defaultPrivileges"
        href="#"
        class="btn btn-sm btn-primary pull-left"
        ><i class="fas fa-undo"></i>
        <span data-i18n="roommanager.privileges.btnLoadDefaults"
          >Load defaults</span
        ></a
      >
    </div>
  </div>
</div>

`,
  "forms/roommanager.tools.html": `
<div class="row h-100">
  <div class="col-12 h-100">
    <h4 class="sub-title" data-i18n="roommanager.tools.lblTools">Tools</h4>
    <div
      id="toolsContent"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
    <div class="bottomButtons">
      <a id="applyChanges" href="#" class="btn btn-sm btn-success pull-right"
        ><i class="fas fa-check"></i>
        <span data-i18n="roommanager.tools.btnApplyChanges"
          >Apply changes</span
        ></a
      >
      <a id="defaultTools" href="#" class="btn btn-sm btn-primary pull-left"
        ><i class="fas fa-undo"></i>
        <span data-i18n="roommanager.tools.btnLoadDefaults"
          >Load defaults</span
        ></a
      >
    </div>
  </div>
</div>

`,
  "forms/roommanager.bans.html": `
<div class="row">
  <div class="col-12">
    <div
      id="banContent"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
    <div class="bottomButtons">
      <a id="addBan" href="#" class="btn btn-sm btn-success pull-right ms-2"
        ><i class="fas fa-plus"></i>
        <span data-i18n="roommanager.bans.btnAddBan">Add ban</span></a
      >
      <a id="editBan" href="#" class="btn btn-sm btn-primary pull-right ms-2"
        ><i class="fas fa-pen"></i>
        <span data-i18n="roommanager.bans.btnEditBan">Edit ban</span></a
      >
      <a
        id="removeBan"
        href="#"
        class="btn btn-sm btn-danger pull-left me-2"
        data-css="d-xs[noTextButton] d-sm[textButton]"
        ><i class="fas fa-trash"></i>
        <span data-i18n="roommanager.bans.btnRemoveBan">Remove ban</span></a
      >
    </div>
  </div>
</div>

`,
  "forms/roommanager.modal.addban.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4 class="sub-title" data-i18n="roommanager.bans.lblAddBan">
          Add ban
        </h4>
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label data-i18n="roommanager.bans.lblIPAddress">IP address:</label>
            <input
              class="form-control big-input"
              type="text"
              name="address"
              value=""
            />
          </div>
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label data-i18n="roommanager.bans.lblUsername">Username:</label>
            <input
              class="form-control big-input"
              type="text"
              name="username"
              value=""
            />
          </div>
        </div>
        <div class="form-group row">
          <div class="col-12">
            <label data-i18n="roommanager.bans.lblLength">Length:</label>
            <select class="form-control big-input" name="banLength"></select>
          </div>
        </div>
        <div class="bottomButtons">
          <a id="insertBan" href="#" class="btn btn-success me-2"
            ><i class="fas fa-plus"></i>
            <span data-i18n="roommanager.bans.btnAdd">Add</span></a
          >
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i>
            <span data-i18n="roommanager.bans.btnCancel">Cancel</span></a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/roommanager.modal.editban.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4 class="sub-title" data-i18n="roommanager.bans.lblEditBan">
          Edit ban
        </h4>
        <input type="hidden" name="banid" value="" />
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label data-i18n="roommanager.bans.lblIPAddress">IP address:</label>
            <input
              class="form-control big-input"
              type="text"
              name="address"
              value=""
            />
          </div>
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label data-i18n="roommanager.bans.lblUsername">Username:</label>
            <input
              class="form-control big-input"
              type="text"
              name="username"
              value=""
            />
          </div>
        </div>
        <div class="form-group row">
          <div class="col-12">
            <label data-i18n="roommanager.bans.lblLength">Length:</label>
            <select class="form-control big-input" name="banLength"></select>
          </div>
        </div>
        <div class="bottomButtons">
          <a id="updateBan" href="#" class="btn btn-success me-2"
            ><i class="fas fa-check"></i>
            <span data-i18n="roommanager.bans.btnOkay">OK</span></a
          >
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i>
            <span data-i18n="roommanager.bans.btnCancel">Cancel</span></a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/save.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="dialogArea h-100 row">
      <div class="col-12 p-3 pb-1">
        <div class="w-100">
          <div
            class="subheader chkTransparency"
            data-css="d-xs[w-100] d-sm[pull-left]"
          >
            <label data-i18n="save.lblBackground">Background:</label>
            <div class="fmSmallSwitch pull-right" id="saveBackground"></div>
          </div>
          <div class="subheader pull-right">
            <label data-i18n="save.lblPartialSelection"
              >Partial selection:</label
            >
            <div class="fmSmallSwitch pull-right" id="selectionTool"></div>
          </div>
        </div>
      </div>
      <div class="col-12 p-3 pt-0">
        <div
          id="previewDiv"
          class="w-100"
          data-anchortarget=".dialogArea"
          data-anchorpoints="tb"
          data-anchormargin="112"
        >
          <div id="saveBox" class="previewBox">
            <div id="savePreview" class="previewCanvas transparentBg"></div>
          </div>
        </div>
        <div class="bottomButtons">
          <div class="input-group mb-3">
            <button
              name="visitImage"
              type="button"
              class="btn btn-success"
              data-i18n=""
            >
              <i class="fas fa-share-alt"></i>
            </button>
            <input
              type="text"
              class="form-control big-input"
              name="url"
              readonly="readonly"
            />
          </div>
          <a
            href="#"
            name="saveGallery"
            class="btn btn-sm btn-success pull-right"
            ><i class="fas fa-image"></i>
            <span data-i18n="save.btnSaveGallery">Save to gallery</span></a
          >
          <a
            href="#"
            name="saveFile"
            class="btn btn-sm btn-primary pull-right me-2"
            ><i class="fas fa-save"></i>
            <span data-i18n="save.btnSaveHardDisk">Save to hard disk</span></a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/system.captcha.html": `
<form name="captchaForm" method="post">
  <div class="subcontent">
    <div class="container h-100">
      <div class="form-group row">
        <div class="col-12">
          <h4 class="sub-title" data-i18n="system.lblCaptcha">Captcha</h4>
          <div class="form-group row">
            <div class="col-12 captchaContainer">
              <p
                style="
                  background-color: white;
                  text-align: center;
                  padding-top: 5px;
                "
              ></p>
            </div>
            <div class="col-12">
              <label data-i18n="system.lblTypeText">Type the text:</label>
              <input
                name="code"
                class="form-control big-input text-center text-uppercase"
                type="text"
                value=""
              />
            </div>
          </div>
          <div class="bottomButtons">
            <a id="confirmCaptcha" href="#" class="btn btn-success me-2"
              ><i class="fas fa-check"></i>
              <span data-i18n="system.btnConfirm">Confirm</span></a
            >
            <a href="#" class="btn btn-danger subcloseButton"
              ><i class="fas fa-times"></i>
              <span data-i18n="system.btnCancel">Cancel</span></a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

`,
  "forms/upload.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div class="dialogArea col-12 p-3 h-100">
        <div
          class="col-12 w-100"
          data-anchortarget=".dialogArea"
          data-anchorpoints="tb"
          data-anchormargin="46"
        >
          <div id="dropArea" style="width: 100%; height: 100%">
            <i class="fas fa-image"></i>
            <span data-i18n="upload.lblDragAndDrop">DRAG AND DROP FILES</span>
          </div>
        </div>
        <div class="bottomButtons">
          <a
            href="#"
            name="uploadFile"
            class="btn btn-sm btn-success pull-right"
            ><i class="fas fa-image"></i>
            <span data-i18n="upload.btnUploadFile">Upload a file</span></a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/brushdesigner.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100 p-0">
    <div
      class="row"
      style="float: right; width: 220px; height: 100%; margin: 0px"
    >
      <div
        class="toolbar designerTools"
        style="width: 50px; padding: 0px; margin: 0px"
      >
        <div class="col-12 d-grid">
          <a
            data-tooltipcallback="tooltipText"
            data-tooltipparam="brushdesigner.toolDrag"
            href="#"
            name="drag"
            class="designerBrush btn"
            ><i class="fas fa-hand-paper"></i
          ></a>
          <a
            data-tooltipcallback="tooltipText"
            data-tooltipparam="brushdesigner.toolPen"
            href="#"
            name="pen"
            class="designerBrush btn"
            ><i class="fas fa-paint-brush"></i
          ></a>
          <a
            data-tooltipcallback="tooltipText"
            data-tooltipparam="brushdesigner.toolEraser"
            href="#"
            name="eraser"
            class="designerBrush btn"
            ><i class="fas fa-eraser"></i
          ></a>
          <a
            data-tooltipcallback="tooltipText"
            data-tooltipparam="brushdesigner.toolPicker"
            href="#"
            name="picker"
            class="designerBrush btn"
            ><i class="fas fa-eye-dropper"></i
          ></a>
          <div
            style="
              position: absolute;
              bottom: 0px;
              width: 50px;
              padding: 0px;
              margin: 0px;
              margin-bottom: 5px;
            "
          >
            <div class="col-12 d-grid">
              <a
                data-tooltipcallback="tooltipText"
                data-tooltipparam="brushdesigner.lblZoomIn"
                href="#"
                name="zoomin"
                class="designerOption btn"
                ><i class="fas fa-search-plus"></i
              ></a>
              <a
                data-tooltipcallback="tooltipText"
                data-tooltipparam="brushdesigner.lblZoomOut"
                href="#"
                name="zoomout"
                class="designerOption btn"
                ><i class="fas fa-search-minus"></i
              ></a>
              <a
                data-tooltipcallback="tooltipText"
                data-tooltipparam="brushdesigner.lblCenter"
                href="#"
                name="center"
                class="designerOption btn"
                ><i class="fas fa-bullseye"></i
              ></a>
            </div>
          </div>
        </div>
      </div>
      <div
        style="
          float: left;
          height: 100%;
          width: 170px;
          position: relative;
          margin: 0;
          padding: 0;
        "
      >
        <div class="col-12">
          <div style="padding: 10px; width: 100%">
            <p data-i18n="brushdesigner.lblSize">Size:</p>
            <div id="designerSize" class="fmSmallSwitch"></div>
            <p data-i18n="brushdesigner.lblAlpha">Opacity:</p>
            <div id="designerAlpha" class="fmSmallSwitch"></div>
            <p data-i18n="brushdesigner.lblColor">Color:</p>
            <div id="designerColor" class="fmSmallSwitch"></div>
          </div>
          <div
            class="d-grid gap-2"
            style="position: absolute; bottom: 0px; width: 100%; padding: 10px"
          >
            <a
              href="#"
              name="clear"
              class="designerOption btn btn-block btn-secondary"
              ><i class="fas fa-broom"></i>
              <span data-i18n="brushdesigner.btnClear">Clear</span></a
            >
            <a
              href="#"
              name="load"
              class="designerOption btn btn-block btn-secondary"
              ><i class="fas fa-image"></i>
              <span data-i18n="brushdesigner.btnLoad">Load</span></a
            >
            <a
              href="#"
              name="save"
              class="designerOption btn btn-block btn-secondary"
              ><i class="fas fa-save"></i>
              <span data-i18n="brushdesigner.btnSave">Save</span></a
            >
          </div>
        </div>
      </div>
    </div>
    <div
      class="dialogArea row h-100 p-2 m-0"
      style="float: left; width: calc(100% - 220px)"
    >
      <div class="col-12 p-0 m-0">
        <input type="file" name="uploadBrush" class="hidden" />
        <div class="row p-0 w-0">
          <div class="col-12">
            <div
              name="dropBrush"
              style="
                border: 2px solid transparent;
                overflow: hidden;
                background-color: #666666;
                cursor: none;
              "
            >
              <div
                name="brushDesigner"
                style="margin: 0px; padding: 0px; width: 100%"
                class="brushPreview"
                data-anchortarget=".dialogArea"
                data-anchorpoints="tb"
                data-anchormargin="42"
              ></div>
            </div>
          </div>
        </div>
        <div class="bottomButtons">
          <a
            href="#"
            name="ok"
            class="btn btn-sm btn-success pull-left"
            data-css="d-xs[noTextButton] d-sm[textButton]"
            ><i class="fas fa-check"></i>
            <span data-i18n="brushdesigner.btnOkay">OK</span></a
          >
          <a
            href="#"
            name="cancel"
            class="btn btn-sm btn-primary pull-left ms-2"
            data-css="d-xs[noTextButton] d-sm[textButton]"
            ><i class="fas fa-times"></i>
            <span data-i18n="brushdesigner.btnCancel">Cancel</span></a
          >
          <span name="zoom" class="pull-right" style="font-size: 1.2rem"
            >100%</span
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/brushgallery.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="dialogArea row h-100 p-3">
      <div class="col-12 p-0">
        <form method="post" class="w-100">
          <h4 class="sub-title" data-i18n="brushgallery.lblGallery">Gallery</h4>
          <div
            class="brushGalleryArea"
            name="brushes"
            data-anchortarget=".dialogArea"
            data-anchorpoints="tb"
            data-anchormargin="42"
          ></div>
          <div class="bottomButtons">
            <a href="#" name="cancel" class="btn btn-sm btn-success pull-right"
              ><i class="fas fa-times"></i>
              <span data-i18n="brushgallery.btnCancel">Cancel</span></a
            >
            <a href="#" name="ok" class="btn btn-sm btn-success pull-right me-2"
              ><i class="fas fa-check"></i>
              <span data-i18n="brushgallery.btnSelect">Select</span></a
            >
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

`,
  "forms/debug.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div class="dialogArea h-100 col-12 p-3">
        <div
          id="debugTable"
          data-anchortarget=".dialogArea"
          data-anchorpoints="tb"
          data-anchormargin="10"
          class="selectableText"
        ></div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/usergallery.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div class="dialogArea h-100 col-12 p-3">
        <h4 class="galleryTitle sub-title">Gallery</h4>
        <div
          id="profileGallery"
          data-anchortarget=".dialogArea"
          data-anchorpoints="tb"
          data-anchormargin="46"
        >
          <div name="images" style="text-align: center"></div>
        </div>
        <div id="galleryPages"></div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/profile.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div
        class="sidebar h-100 col-3 p-0 pt-3 pb-3"
        data-size="col-xs-1 col-md-2"
      >
        <ul class="sidemenu">
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="profile.mnuProfile"
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="info"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-id-card"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="profile.mnuProfile"
                >Profile</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="profile.mnuYourRooms"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="rooms"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-flag"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="profile.mnuYourRooms"
                >Your Rooms</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="profile.mnuYourRanks"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="ranks"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-id-badge"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="profile.mnuYourRanks"
                >Your Ranks</span
              ></a
            >
          </li>
        </ul>
      </div>
      <div
        class="dynamicDialogArea h-100 col-9 p-3"
        data-size="col-xs-11 col-md-10"
      ></div>
    </div>
  </div>
</div>

`,
  "forms/profile.info.html": `
<div class="dialogContentArea" style="height: calc(100% - 45px)">
  <h4 class="sub-title" data-i18n="profile.info.lblProfile">Profile</h4>
  <div class="form-group row">
    <div class="col-12">
      <label data-i18n="profile.info.lblUsername">Username:</label>
      <div class="input-group mb-1">
        <input
          name="username"
          type="text"
          class="form-control big-input"
          readonly="readonly"
        />
        <a
          id="changeUsername"
          href="#"
          class="btn btn-primary"
          data-i18n="profile.info.btnChange"
          >Change</a
        >
      </div>
    </div>
    <div class="col-12">
      <label data-i18n="profile.info.lblStatus">Status:</label>
      <div class="input-group mb-1">
        <input
          class="form-control big-input"
          type="text"
          name="status"
          maxlength="20"
        />
        <a
          id="clearStatus"
          href="#"
          class="btn btn-primary"
          data-i18n="profile.info.btnClear"
          >Clear</a
        >
      </div>
    </div>
  </div>
</div>
<div class="bottomButtons">
  <a id="applyProfile" href="#" class="btn btn-sm btn-success pull-right"
    ><i class="fas fa-check"></i>
    <span data-i18n="profile.info.btnApplyChanges">Apply changes</span></a
  >
</div>

`,
  "forms/profile.modal.changeusername.html": `
<form name="loginForm" method="post">
  <div class="subcontent">
    <div class="container h-100">
      <div class="form-group row">
        <div class="col-12">
          <h4 class="sub-title" data-i18n="profile.info.lblChangeUsername">
            Change username
          </h4>
          <div class="form-group row">
            <div class="col-12">
              <label data-i18n="profile.info.lblNewUsername"
                >New username:</label
              >
              <div class="input-group">
                <input
                  type="text"
                  class="form-control big-input usernameAccount"
                  name="newUsername"
                  placeholder="Anonymous"
                  maxlength="25"
                />
              </div>
            </div>
            <div class="col-12">
              <label data-i18n="profile.info.lblOptionalPassword"
                >Password (optional):</label
              >
              <div class="input-group">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-lock"></i
                ></span>
                <input
                  type="password"
                  class="form-control big-input"
                  name="newPassword"
                />
              </div>
            </div>
          </div>
          <div class="bottomButtons">
            <a id="confirmUsername" href="#" class="btn btn-success me-2"
              ><i class="fas fa-check"></i>
              <span data-i18n="profile.info.btnOkay">OK</span></a
            >
            <a href="#" class="btn btn-danger subcloseButton"
              ><i class="fas fa-times"></i>
              <span data-i18n="profile.info.btnCancel">Cancel</span></a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

`,
  "forms/profile.rooms.html": `
<div class="row">
  <div class="col-12">
    <h4 class="sub-title" data-i18n="profile.rooms.lblOwnedRooms">
      Owned rooms
    </h4>
    <div
      id="ownedRoomsContent"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
    ></div>
  </div>
</div>

`,
  "forms/profile.ranks.html": `
<div class="row">
  <div class="col-12">
    <h4 class="sub-title" data-i18n="profile.ranks.lblRanks">Ranks</h4>
    <div
      id="roomRanksContent"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
    ></div>
  </div>
</div>

`,
  "forms/color.main.html": `
<div
  class="modal-body m-0 p-0 h-100"
  data-css="d-sm[withoutSidebar] d-md[withSidebar]"
>
  <div class="leftSide p-3">
    <p style="font-size: 90%; margin-bottom: 5px">
      <i class="fas fa-eye-dropper"></i>
      <span data-i18n="color.lblSavedColors">Saved colors</span>
    </p>
    <div class="colorBubbles"></div>
    <p
      style="
        font-size: 0.7rem;
        text-align: center;
        line-height: 15px;
        clear: both;
      "
      data-i18n="color.lblHoldTap"
    >
      Hold to set. Tap to load.
    </p>
  </div>
  <div class="rightSide dialogArea">
    <div class="container-fluid h-100">
      <div class="row h-100 p-3">
        <div class="col-12">
          <div class="row">
            <div class="col-6" data-size="col-sm-6 col-xs-12">
              <div class="newColorWheel colorWheelComponent"></div>
            </div>
            <div class="col-6" data-size="col-sm-6 col-xs-12">
              <label data-i18n="color.lblPreview">Preview:</label>
              <div
                name="currentColor"
                style="
                  border-radius: 4px;
                  border: 1px solid gray;
                  width: 100%;
                  height: 40px;
                  margin-bottom: 10px;
                "
              ></div>
              <label data-i18n="color.lblHexadecimal">Hexadecimal:</label>
              <div class="input-group mb-3">
                <span class="input-group-text darkInput">#</span>
                <input type="text" class="form-control big-input" name="hex" />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6" data-size="col-sm-6 col-xs-12">
              <div class="row">
                <div class="col-12">
                  <label data-i18n="color.lblRed">Red:</label>
                  <div class="slider" name="cred"></div>
                </div>
                <div class="col-12">
                  <label data-i18n="color.lblGreen">Green:</label>
                  <div class="slider" name="cgreen"></div>
                </div>
                <div class="col-12">
                  <label data-i18n="color.lblBlue">Blue:</label>
                  <div class="slider" name="cblue"></div>
                </div>
              </div>
            </div>
            <div class="col-6" data-size="col-sm-6 col-xs-12">
              <div class="row">
                <div class="col-12">
                  <label data-i18n="color.lblHue">Hue:</label>
                  <div class="slider" name="chue"></div>
                </div>
                <div class="col-12">
                  <label data-i18n="color.lblSaturation">Saturation:</label>
                  <div class="slider" name="csaturation"></div>
                </div>
                <div class="col-12">
                  <label data-i18n="color.lblValue">Value:</label>
                  <div class="slider" name="cvalue"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="bottomButtons text-center m-2 pt-2">
                <a href="#" name="okButton" class="btn btn-sm btn-success"
                  ><i class="fas fa-check"></i>
                  <span data-i18n="color.btnOkay">OK</span></a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/help.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100 p-0">
      <div class="col-12 p-0 m-0"><iframe class="w-100 h-100"></iframe></div>
    </div>
  </div>
</div>

`,
  "forms/feedback.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="dialogArea row h-100 p-3">
      <div class="col-12 p-0">
        <form method="post" class="w-100">
          <h4 class="sub-title" data-i18n="feedback.lblGiveFeedback">
            Give us feedback!
          </h4>
          <div class="form-group row">
            <label data-i18n="feedback.lblComments"
              >Comments (suggestions, bug reports, ideas...):</label
            >
            <p>
              <textarea
                class="form-control big-input w-100"
                name="comments"
                data-anchortarget=".dialogArea"
                data-anchorpoints="tb"
                data-anchormargin="60"
              ></textarea>
            </p>
          </div>
          <div class="bottomButtons">
            <a href="#" name="send" class="btn btn-sm btn-success pull-right"
              ><i class="fas fa-paper-plane"></i>
              <span data-i18n="feedback.btnSendComments">Send comments</span></a
            >
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

`,
  "forms/animation.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div
        class="sidebar h-100 col-3 p-0 pt-3 pb-3"
        data-size="col-xs-1 col-md-2"
      >
        <ul class="sidemenu">
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="animation.mnuPlay"
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="play"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-play"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="animation.mnuPlay"
                >Play</span
              ></a
            >
          </li>
          <li>
            <a
              data-tooltipcallback="tooltipText"
              data-tooltipparam="animation.mnuFrames"
              href="#"
              class="subcontentOption menuIcon"
              data-subcontent="frames"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-image"></i>
              <span
                data-display="d-sm-none d-md-inline"
                data-i18n="animation.mnuFrames"
                >Frames</span
              ></a
            >
          </li>
        </ul>
      </div>
      <div
        class="dynamicDialogArea h-100 col-9 pt-3 pb-3"
        data-size="col-xs-11 col-md-10"
      ></div>
    </div>
  </div>
</div>

`,
  "forms/animation.play.html": `
<div class="row">
  <div class="col-12">
    <div class="subheader pull-right">
      <label data-i18n="animation.play.lblSpeed">Speed:</label>
      <div name="speed" class="fmSmallSwitch pull-right"></div>
    </div>
  </div>
  <div
    class="col-12"
    id="previewDiv"
    data-anchortarget=".dynamicDialogArea"
    data-anchorpoints="tb"
    data-anchormargin="49"
  >
    <div id="frameBox" class="previewBox"><div id="framePreview"></div></div>
  </div>
  <div class="col-12">
    <div class="bottomButtons text-center m-0 pt-2">
      <a href="#" name="nextFrame" class="btn btn-md btn-success pull-right m-1"
        ><i class="fas fa-forward"></i
      ></a>
      <a href="#" name="stopFrame" class="btn btn-md btn-success pull-right m-1"
        ><i class="fas fa-stop"></i
      ></a>
      <a
        href="#"
        name="playPauseFrame"
        class="btn btn-md btn-success pull-right m-1"
        ><i class="fas fa-play"></i
      ></a>
      <a
        href="#"
        name="previousFrame"
        class="btn btn-md btn-success pull-right m-1"
        ><i class="fas fa-backward"></i
      ></a>
      <a href="#" name="generate" class="btn btn-md btn-success pull-left m-1"
        ><i class="fas fa-save"></i>
        <span data-i18n="animation.play.btnSave">Save</span></a
      >
    </div>
  </div>
</div>

`,
  "forms/animation.frames.html": `
<div class="dialogContentArea" style="height: calc(100% - 46px)">
  <div class="subheader">
    <div class="fmSmallSwitch pull-right" id="enableUndo"></div>
  </div>
  <h4 class="sub-title" data-i18n="animation.frames.lblFrames">Frames</h4>
  <div class="form-group row">
    <div class="col-12 mb-1">
      <label data-i18n="animation.frames.lblFrame">Frame:</label>
      <select class="form-control big-input" name="frameSelector"></select>
      <div class="input-group mb-1"><div name="currentFrameImage"></div></div>
    </div>
    <div class="col-12 mb-1">
      <label data-i18n="animation.frames.lblAction">Action:</label>
      <div name="action" class="mb-1"></div>
    </div>
  </div>
  <fieldset name="layers" style="">
    <legend><span data-i18n="animation.frames.lblLayers">Layers</span></legend>
    <div id="animationLayers"></div>
  </fieldset>
  <fieldset name="cloning">
    <legend>
      <span data-i18n="animation.frames.lblCloning">Cloning</span>
    </legend>
    <div class="form-group mb-1 row">
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <label data-i18n="animation.frames.lblFrameTarget">Destination:</label>
        <select class="form-control big-input" name="frameSelector2"></select>
      </div>
      <div class="col-6" data-size="col-md-6 col-sm-12">
        <label data-i18n="animation.frames.lblOpacity">Opacity:</label>
        <div name="opacity"></div>
      </div>
    </div>
  </fieldset>
</div>
<div class="bottomButtons">
  <a
    name="applyChangesFrames"
    href="#"
    class="btn btn-sm btn-success pull-right"
    ><i class="fas fa-check"></i>
    <span data-i18n="animation.frames.btnApplyChanges">Apply changes</span></a
  >
</div>

`,
  "forms/messenger.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="emojiContainer"></div>
    <div class="row h-100">
      <div class="sidebar h-100 col-3 p-0" data-size="col-md-3 col-lg-2">
        <div
          class="messengerSideBar m-0 p-0"
          data-anchortarget=".sidebar"
          data-anchorpoints="tb"
          data-anchormargin="70"
        >
          <div class="sidebarElements"></div>
        </div>
        <div class="d-grid p-0" style="margin: 9px 15px 0px 15px">
          <a href="#" name="newConversation" class="btn btn-customlink"
            ><i class="fas fa-plus"></i>
            <span
              data-display="d-xs-none d-sm-inline"
              data-i18n="messenger.btnNewConversation"
              >New</span
            ></a
          >
        </div>
      </div>
      <div
        class="dynamicDialogArea h-100 col-9 p-3"
        data-size="col-md-9 col-lg-10"
      >
        <div class="row">
          <div class="col-12 m-0 pt-1">
            <div id="conversationTitle">
              <a href="#" class="btn btn-success btn-xs me-2" name="options"
                ><i class="fas fa-bars"></i
              ></a>
              <span class="title"></span>
              <div class="chatTitleButton">
                <i class="fas fa-font" style="color: gray"></i>
                <a href="#" class="fontIncrease"
                  ><i class="fas fa-arrow-up"></i
                ></a>
                <a href="#" class="fontDecrease"
                  ><i class="fas fa-arrow-down"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
        <div
          class="conversationBox m-0 p-0"
          data-anchortarget=".dynamicDialogArea"
          data-anchorpoints="tb"
          data-anchormargin="60"
        >
          <div class="row h-100">
            <div class="col-12 m-0 pt-0 pb-0 pe-3 ps-3">
              <div class="container-fluid" style="overflow: hidden">
                <div id="messengerConversation"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="m-2 p-2">
          <div class="row">
            <div class="col-12 m-0 p-0">
              <div class="input-group">
                <button
                  type="button"
                  name="emoji"
                  class="newEmoji darkButton btn btn-success"
                >
                  <i class="fas fa-smile"></i>
                </button>
                <input
                  name="text"
                  type="text"
                  class="form-control big-input"
                  maxlength="250"
                  autocomplete="off"
                />
                <button name="submit" type="button" class="btn btn-success">
                  <i class="fas fa-paper-plane"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/messenger.modal.newconversation.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4 class="sub-title" data-i18n="messenger.lblNewConversation">
          New conversation
        </h4>
        <div class="form-group row">
          <div class="col-12">
            <label data-i18n="messenger.lblUsername">Username:</label>
            <input
              type="text"
              name="findUsername"
              class="form-control big-input"
            />
          </div>
        </div>
        <div class="bottomButtons">
          <a name="addConversation" href="#" class="btn btn-success me-2"
            ><i class="fas fa-plus"></i>
            <span data-i18n="messenger.btnOkay">OK</span></a
          >
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i>
            <span data-i18n="messenger.btnCancel">Cancel</span></a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/galleryimage.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div
      class="dialogArea h-100 row"
      data-css="d-sm[withoutComments] d-md[withComments]"
    >
      <div class="imageMainArea">
        <div class="col-12 p-3">
          <div class="input-group mb-3">
            <button
              name="visitImage"
              type="button"
              class="btn btn-success"
              data-i18n=""
            >
              <i class="fas fa-share-alt"></i>
            </button>
            <input
              type="text"
              class="form-control big-input"
              name="url"
              readonly="readonly"
            />
            <a href="#" name="download" class="btn btn-success pull-right"
              ><i class="fas fa-save"></i
            ></a>
          </div>
          <div
            id="previewDiv"
            class="w-100"
            data-anchortarget=".dialogArea"
            data-anchorpoints="tb"
            data-anchormargin="85"
            style="background-color: white; padding: 5px"
          >
            <div
              id="saveBox"
              class="previewBox transparentBg"
              style="outline: 2px solid #d2d2d2"
            >
              <div
                id="savePreview"
                class="previewCanvas"
                style="cursor: auto"
              ></div>
            </div>
          </div>
          <div class="bottomButtons">
            <div
              class="imageTags w-100 pb-1"
              style="text-align: left; height: 24px; overflow: hidden"
            ></div>
            <span
              id="imageOwner"
              class="pull-right"
              style="font-size: 80%"
            ></span>
            <span name="score" class="textLabel pull-left" style="width: 45px"
              >0</span
            >
            <a
              href="#"
              name="voteup"
              class="likeButton btn btn-primary pull-left me-2"
              ><i class="fas fa-thumbs-up"></i> <span data-i18n=""></span
            ></a>
            <a
              href="#"
              name="votedown"
              class="dislikeButton btn btn-primary pull-left me-2"
              ><i class="fas fa-thumbs-down"></i> <span data-i18n=""></span
            ></a>
            <a
              href="#"
              name="favorite"
              class="favoriteButton btn btn-primary pull-left me-2"
              ><i class="fas fa-heart"></i> <span data-i18n=""></span
            ></a>
          </div>
        </div>
      </div>
      <div class="commentSidebar">
        <div
          class="commentSection container-fluid p-0 m-0"
          style="overflow: hidden"
          data-anchortarget=".dialogArea"
          data-anchorpoints="tb"
          data-anchormargin="60"
        >
          <h4 class="sub-title p-2">Comments</h4>
          <div class="commentArea"></div>
        </div>
        <div class="bottomButtons">
          <div id="commentBar" class="input-group">
            <input
              name="commentText"
              type="text"
              class="form-control"
              maxlength="250"
              autocomplete="off"
            />
            <button
              name="submitComment"
              type="button"
              class="btn btn-success"
              data-i18n=""
            >
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/adminconsole.main.html": `
<div class="modal-body m-0 p-0 h-100">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div
        class="sidebar h-100 col-3 p-0 pt-3 pb-3"
        data-size="col-xs-1 col-md-2"
      >
        <ul class="sidemenu">
          <li>
            <a
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="summary"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-align-left"></i>
              <span data-display="d-sm-none d-md-inline">Summary</span></a
            >
          </li>
          <li>
            <a
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="system"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-chart-bar"></i>
              <span data-display="d-sm-none d-md-inline">System</span></a
            >
          </li>
          <li>
            <a
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="clients"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-users"></i>
              <span data-display="d-sm-none d-md-inline">Clients</span></a
            >
          </li>
          <li>
            <a
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="rooms"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-flag"></i>
              <span data-display="d-sm-none d-md-inline">Rooms</span></a
            >
          </li>
          <li>
            <a
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="users"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-id-badge"></i>
              <span data-display="d-sm-none d-md-inline">Accounts</span></a
            >
          </li>
          <li>
            <a
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="bans"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-ban"></i>
              <span data-display="d-sm-none d-md-inline">Bans</span></a
            >
          </li>
          <li>
            <a
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="events"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-calendar-alt"></i>
              <span data-display="d-sm-none d-md-inline">Events</span></a
            >
          </li>
          <li>
            <a
              href="#"
              class="subcontentOption menuIcon selected"
              data-subcontent="feedback"
              data-css="d-sm[shortMenu] d-md[text-start]"
              ><i class="fas fa-comment"></i>
              <span data-display="d-sm-none d-md-inline">Feedback</span></a
            >
          </li>
        </ul>
      </div>
      <div
        class="dynamicDialogArea h-100 col-9 p-3"
        data-size="col-xs-11 col-md-10"
      ></div>
    </div>
  </div>
</div>

`,
  "forms/adminconsole.rooms.html": `
<div class="row">
  <div class="col-12">
    <div
      id="adminRoomsTable"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
    ></div>
  </div>
</div>

`,
  "forms/adminconsole.users.html": `
<div class="row">
  <div class="col-12">
    <h4 class="sub-title">Accounts</h4>
    <div class="input-group mb-2">
      <span class="input-group-text darkInput"
        ><i class="fas fa-search"></i
      ></span>
      <input
        type="text"
        class="form-control big-input"
        name="search"
        placeholder="Username"
      />
      <a id="searchButton" href="#" class="btn btn-success">Search</a>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-8">
    <div
      id="adminAccountsTable"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
  </div>
  <div class="col-4 pl-0">
    <div
      id="adminAccountsRoomsTable"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
  </div>
</div>
<div class="row">
  <div class="col-12">
    <div class="bottomButtons">
      <a
        name="changePass"
        href="#"
        class="btn btn-sm btn-primary pull-left me-2"
        ><i class="fas fa-key"></i> Change password</a
      >
      <a
        name="toggleEnable"
        href="#"
        class="btn btn-sm btn-primary pull-left me-2"
        ><i class="fas fa-lock"></i> Enable / Disable</a
      >
    </div>
  </div>
</div>

`,
  "forms/adminconsole.modal.changepassword.html": `
<form name="loginForm" method="post">
  <div class="subcontent">
    <div class="container h-100">
      <div class="form-group row">
        <div class="col-12">
          <h4 class="sub-title">Change user password</h4>
          <div class="form-group row">
            <div class="col-12">
              <label>Password:</label>
              <div class="input-group">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-lock"></i
                ></span>
                <input
                  type="password"
                  class="form-control big-input"
                  name="newpassword"
                />
              </div>
            </div>
          </div>
          <div class="bottomButtons">
            <a name="applyChange" href="#" class="btn btn-success me-2"
              ><i class="fas fa-key"></i> Apply</a
            >
            <a href="#" class="btn btn-danger subcloseButton"
              ><i class="fas fa-times"></i> Cancel</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

`,
  "forms/adminconsole.clients.html": `
<div class="row">
  <div class="col-12">
    <div
      id="adminClientsTable"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
    <div class="bottomButtons">
      <a
        name="disconnectAddress"
        href="#"
        class="btn btn-sm btn-primary pull-left me-2"
        ><i class="fas fa-ban"></i> Disconnect IP</a
      >
      <a
        name="closeConnection"
        href="#"
        class="btn btn-sm btn-primary pull-left me-2"
        ><i class="fas fa-link"></i> Close connection</a
      >
      <a
        name="moveClient"
        href="#"
        class="btn btn-sm btn-primary pull-left me-2"
        data-css="d-xs[noTextButton] d-sm[textButton]"
        ><i class="fas fa-plane"></i> Move</a
      >
    </div>
  </div>
</div>

`,
  "forms/adminconsole.modal.moveclient.html": `
<form name="moveForm" method="post">
  <div class="subcontent">
    <div class="container h-100">
      <div class="form-group row">
        <div class="col-12">
          <h4 class="sub-title">Move client</h4>
          <div class="form-group row">
            <div class="col-12">
              <label>Room:</label>
              <div class="input-group">
                <input
                  type="text"
                  class="form-control big-input roomName"
                  name="roommove"
                  maxlength="25"
                />
              </div>
            </div>
            <div class="col-12">
              <label>Room password (optional):</label>
              <div class="input-group">
                <span class="input-group-text darkInput"
                  ><i class="fas fa-lock"></i
                ></span>
                <input
                  type="password"
                  class="form-control big-input"
                  name="roommovepass"
                />
              </div>
            </div>
          </div>
          <div class="bottomButtons">
            <a name="confirmMoveClient" href="#" class="btn btn-success me-2"
              ><i class="fas fa-plane"></i> Move</a
            >
            <a href="#" class="btn btn-danger subcloseButton"
              ><i class="fas fa-times"></i> Cancel</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

`,
  "forms/adminconsole.bans.html": `
<div class="row">
  <div class="col-12">
    <div
      id="adminBansTable"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
    <div class="bottomButtons">
      <a
        name="addServerBan"
        href="#"
        class="btn btn-sm btn-success pull-right ms-2"
        ><i class="fas fa-plus"></i> Add ban</a
      >
      <a
        name="removeServerBan"
        href="#"
        class="btn btn-sm btn-danger pull-left me-2"
        ><i class="fas fa-trash"></i> Remove ban</a
      >
    </div>
  </div>
</div>

`,
  "forms/adminconsole.modal.addban.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4 class="sub-title">Add ban</h4>
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>IP address:</label>
            <input
              class="form-control big-input"
              type="text"
              name="address"
              value=""
            />
          </div>
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>Comment:</label>
            <input
              class="form-control big-input"
              type="text"
              name="comment"
              value=""
            />
          </div>
        </div>
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>Type:</label>
            <div name="banType"></div>
          </div>
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>Length:</label>
            <select class="form-control big-input" name="banLength"></select>
          </div>
        </div>
        <div class="bottomButtons">
          <a id="insertBan" href="#" class="btn btn-success me-2"
            ><i class="fas fa-plus"></i> Add</a
          >
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i> Cancel</a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/adminconsole.events.html": `
<div class="row">
  <div class="col-12">
    <div
      id="adminEventsTable"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
    <div class="bottomButtons">
      <a
        name="addServerEvent"
        href="#"
        class="btn btn-sm btn-success pull-right ms-2"
        ><i class="fas fa-plus"></i> Add event</a
      >
      <a
        name="editServerEvent"
        href="#"
        class="btn btn-sm btn-primary pull-right ms-2"
        ><i class="fas fa-pen"></i> Edit event</a
      >
      <a
        name="removeServerEvent"
        href="#"
        class="btn btn-sm btn-danger pull-left me-2"
        data-css="d-xs[noTextButton] d-sm[textButton]"
        ><i class="fas fa-trash"></i> Remove event</a
      >
    </div>
  </div>
</div>

`,
  "forms/adminconsole.modal.addevent.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4 class="sub-title">Add event</h4>
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>Description:</label>
            <input
              class="form-control big-input"
              name="description"
              type="text"
              value=""
            />
          </div>
          <div class="col-4" data-size="col-md-4 col-sm-12">
            <label>Event:</label>
            <select class="form-control big-input" name="eventType"></select>
          </div>
          <div class="col-2" data-size="col-md-2 col-sm-12">
            <label>Enabled:</label>
            <select class="form-control big-input" name="enabled">
              <option value="1">Yes</option>
              <option value="0">No</option>
            </select>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>Condition:</label>
            <textarea
              class="form-control big-input w-100"
              name="condition"
            ></textarea>
          </div>
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>Action:</label>
            <textarea
              class="form-control big-input w-100"
              name="action"
            ></textarea>
          </div>
        </div>
        <div class="bottomButtons">
          <a id="insertEvent" href="#" class="btn btn-success me-2"
            ><i class="fas fa-plus"></i> Add</a
          >
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i> Cancel</a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/adminconsole.modal.editevent.html": `
<div class="subcontent">
  <div class="container h-100">
    <div class="form-group row">
      <div class="col-12">
        <h4 class="sub-title">Edit event</h4>
        <input type="hidden" name="eventid" value="" />
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>Description:</label>
            <input
              class="form-control big-input"
              name="description"
              type="text"
              value=""
            />
          </div>
          <div class="col-4" data-size="col-md-4 col-sm-12">
            <label>Event:</label>
            <select class="form-control big-input" name="eventType"></select>
          </div>
          <div class="col-2" data-size="col-md-2 col-sm-12">
            <label>Enabled:</label>
            <select class="form-control big-input" name="enabled">
              <option value="1">Yes</option>
              <option value="0">No</option>
            </select>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>Condition:</label>
            <textarea
              class="form-control big-input w-100"
              name="condition"
            ></textarea>
          </div>
          <div class="col-6" data-size="col-md-6 col-sm-12">
            <label>Action:</label>
            <textarea
              class="form-control big-input w-100"
              name="action"
            ></textarea>
          </div>
        </div>
        <div class="bottomButtons">
          <a id="editEvent" href="#" class="btn btn-success me-2"
            ><i class="fas fa-check"></i> Apply</a
          >
          <a href="#" class="btn btn-danger subcloseButton"
            ><i class="fas fa-times"></i> Cancel</a
          >
        </div>
      </div>
    </div>
  </div>
</div>

`,
  "forms/adminconsole.feedback.html": `
<div class="row">
  <div class="col-12">
    <div
      id="adminFeedbackTable"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
      data-anchormargin="46"
    ></div>
    <div class="bottomButtons">
      <a
        name="readFeedback"
        href="#"
        class="btn btn-sm btn-primary pull-left me-2"
        ><i class="fas fa-comment"></i> Read</a
      >
    </div>
  </div>
</div>

`,
  "forms/adminconsole.modal.readfeedback.html": `
<form name="moveForm" method="post">
  <div class="subcontent">
    <div class="container h-100">
      <div class="form-group row">
        <div class="col-12">
          <h4 class="sub-title">Feedback</h4>
          <div class="form-group row">
            <div class="col-6">
              <label>Version:</label>
              <div class="input-group">
                <input
                  type="text"
                  class="form-control big-input"
                  name="fbversion"
                  maxlength="25"
                />
              </div>
            </div>
            <div class="col-6">
              <label>From:</label>
              <div class="input-group">
                <input
                  type="text"
                  class="form-control big-input"
                  name="fbfrom"
                  maxlength="25"
                />
              </div>
            </div>
            <div class="col-12">
              <label>Date:</label>
              <div class="input-group">
                <input
                  type="text"
                  class="form-control big-input"
                  name="fbdate"
                  maxlength="25"
                />
              </div>
            </div>
            <div class="col-12">
              <label>Comments:</label>
              <div class="input-group">
                <textarea
                  class="form-control big-input"
                  name="fbcomments"
                ></textarea>
              </div>
            </div>
          </div>
          <div class="bottomButtons">
            <a href="#" class="btn btn-danger subcloseButton"
              ><i class="fas fa-times"></i> Close</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

`,
  "forms/adminconsole.system.html": `
<div class="row">
  <div class="col-12">
    <h3 class="sub-title">System information</h3>
    <div class="row pb-3 text-center">
      <div class="col-4" data-size="col-md-4 col-sm-12">
        <h1 name="platform">0</h1>
        platform
      </div>
      <div class="col-4" data-size="col-md-4 col-sm-6">
        <h1 name="cpucount">0</h1>
        cpu count
      </div>
      <div class="col-4" data-size="col-md-4 col-sm-6">
        <h1 name="uptime">0</h1>
        uptime (minutes)
      </div>
    </div>
    <div
      id="systemInfoArea"
      data-anchortarget=".dynamicDialogArea"
      data-anchorpoints="tb"
    >
      <canvas id="systemChart" style="width: 100%; height: 300px"></canvas>
    </div>
  </div>
</div>

`,
  "forms/adminconsole.summary.html": `
<div class="dialogContentArea" style="height: calc(100% - 46px)">
  <div class="row">
    <div class="col-12">
      <h3 class="sub-title">Summary</h3>
      <div class="row pb-3 text-center">
        <div class="col-3" data-size="col-md-3 col-sm-6">
          <h1 name="activeClients">0</h1>
          clients
        </div>
        <div class="col-3" data-size="col-md-3 col-sm-6">
          <h1 name="activeRooms">0</h1>
          rooms
        </div>
        <div class="col-3" data-size="col-md-3 col-sm-6">
          <h1 name="users">0</h1>
          registered accounts
        </div>
        <div class="col-3" data-size="col-md-3 col-sm-6">
          <h1 name="rooms">0</h1>
          registered rooms
        </div>
      </div>
      <div class="form-group row pt-3">
        <div class="col-12">
          <label>Send a global message:</label>
          <div class="input-group">
            <input name="textGM" type="text" class="form-control big-input" />
            <a name="sendGM" href="#" class="btn btn-primary"
              >Announce <i class="fas fa-bullhorn"></i
            ></a>
          </div>
        </div>
      </div>
      <h3 class="sub-title pt-3">Settings</h3>
      <div class="form-group row">
        <div class="col-6" data-size="col-md-6 col-sm-12">
          <label>Allow IPv4 connections:</label>
          <div name="allowIPv4"></div>
        </div>
        <div class="col-6" data-size="col-md-6 col-sm-12">
          <label>Allow IPv6 connections:</label>
          <div name="allowIPv6"></div>
        </div>
        <div class="col-6" data-size="col-md-6 col-sm-12">
          <label>Allow known proxies:</label>
          <div name="allowProxy"></div>
        </div>
        <div class="col-6" data-size="col-md-6 col-sm-12">
          <label>Allow new accounts:</label>
          <div name="newUsers"></div>
        </div>
        <div class="col-6" data-size="col-md-6 col-sm-12">
          <label>Allow new rooms:</label>
          <div name="newRooms"></div>
        </div>
        <div class="col-6" data-size="col-md-6 col-sm-12">
          <label>Console output:</label>
          <div name="consoleOutput"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="bottomButtons">
  <a name="applySettings" href="#" class="btn btn-sm btn-success pull-right"
    ><i class="fas fa-check"></i> Apply changes</a
  >
</div>

`
};